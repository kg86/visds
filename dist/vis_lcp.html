<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Visualization of LCP Array</title>

    <script src="./vue.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.26/vue.min.js"></script> -->

    <link rel="stylesheet" type="text/css" href="vis_sa.css" />
    <link rel="stylesheet" type="text/css" href="./my.css" />
  </head>
  <body>
    <h2>Visualization of LCP Array</h2>
    <div id="input_str">
      <input
        id="str"
        type="text"
        v-model="str"
        placeholder="insert a string"
        style="font-size:32px;"
      />
      <table style="font-size: 150%;">
        <tr>
          <td v-for="i in str.length" class="idx">{{ i }}</td>
        </tr>

        <tr>
          <td
            v-for="i in str.length"
            class="char"
            v-bind:class="{'reducible': ctype[i]==='reducible', 'irreducible':ctype[i]==='irreducible'}"
          >
            {{ str[i] }}
          </td>
        </tr>
      </table>

      red: reducible lcp, blue: irreducible lcp

      <hr />
      <table class="char">
        <tr>
          <th>i</th>
          <th>SA[i]</th>
          <th>LCP[i]</th>
          <th>suffix SA[i]</th>
        </tr>
        <tr v-for="i in str.length">
          <td>{{i}}</td>
          <td>{{sa[i]}}</td>
          <td>{{lcpa[i]}}</td>
          <td class="str">
            <span
              v-if="lcpa[i]>0"
              v-bind:class="{'reducible':ctype[sa[i]]==='reducible', 'irreducible':ctype[sa[i]]==='irreducible'}"
              >{{str[sa[i]]}}</span
            ><span v-if="lcpa[i]>0" style="color: red;"
              >{{str.substr(sa[i]+1,lcpa[i]-1)}}</span
            ><span style="color: black;">{{str.substr(sa[i]+lcpa[i])}}</span
            ><span style="color: lightgray;">{{str.substr(0,sa[i])}}</span>
          </td>
        </tr>
      </table>
    </div>

    <div style="width: 600px; margin: auto;">
      <h2>Links</h2>
      <ul style="list-style-type: disc; text-align: left;">
        <li>
          <a href="https://en.wikipedia.org/wiki/Suffix_array"
            >(Wikipedia) Suffix Array</a
          >
        </li>
        <li>
          <a href="https://en.wikipedia.org/wiki/LCP_array"
            >(Wikipedia) LCP Array</a
          >
        </li>
        <li>
          <a
            href="https://link.springer.com/chapter/10.1007/978-3-642-02441-2_17"
            >(Paper) Permuted Longest Common Prefix Array</a
          >
        </li>
        <li>
          <a href="https://tudocomp.github.io/arrays/index.html"
            >Quick Arrays</a
          >
        </li>
        <li>
          <a href="https://kg86.github.io/visds/">Data Structure Visualizer</a>
        </li>
      </ul>
    </div>
    <script src="vis_lcp.js"></script>
  </body>
</html>
