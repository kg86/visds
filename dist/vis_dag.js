/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/dag.ts":
/*!********************!*\
  !*** ./src/dag.ts ***!
  \********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parse_rules = void 0;
class DAG {
    constructor() {
        this.rules = new Map();
        this.root = "";
        this.height = new Map();
        this.is_finalize = false;
    }
    add(rule) {
        console.assert(!this.is_finalize);
        // this.rules[rule[0]] = rule.slice(1)
        this.rules.set(rule[0], rule.slice(1));
    }
    is_leaf(id) {
        return this.rules.get(id) === undefined;
    }
    calcheight() {
        const rec = (id) => {
            if (!this.height.has(id)) {
                if (this.is_leaf(id)) {
                    this.height.set(id, 1);
                }
                else {
                    const rule = this.rules.get(id);
                    this.height.set(id, 1 + Math.max(...rule.map(rec)));
                }
            }
            return this.height.get(id);
        };
        rec(this.root);
    }
    make_leaf_rules() {
        Array.from(this.rules.keys()).forEach((node_id) => {
            if (this.rules.get(node_id).length == 1) {
                const child_id = this.rules.get(node_id)[0];
                this.rules.set(child_id, []);
            }
        });
    }
    finalize() {
        console.log("finalize values", this.rules.values());
        this.root =
            "" + Math.max(...Array.from(this.rules.keys()).map((x) => parseInt(x)));
        this.calcheight();
        this.make_leaf_rules();
        this.is_finalize = true;
    }
    get json_tree() {
        if (!this.is_finalize)
            this.finalize();
        const nodes = [];
        const edges = [];
        const rec = (node_id, child_idx, parent) => {
            const id = parent.id.substr(0, parent.id.length - 1) +
                (node_id == this.root ? "" : "-") +
                node_id +
                "(c" +
                child_idx +
                ")" +
                "]";
            const node = {
                id: id,
                level: parent.level + 1,
                label: node_id,
            };
            nodes.push(node);
            const rule = this.rules.get(node_id);
            for (let child_idx = 0; 
            // child_idx < this.rules.get(node_id).length;
            child_idx < rule.length; child_idx++) {
                const child = rec(rule[child_idx], child_idx, node);
                const edge = {
                    from: node.id,
                    to: child.id,
                    id: `${node.id}-${child.id}`,
                    //, label: child.to_edge_label
                    font: { align: "top" },
                };
                edges.push(edge);
            }
            return node;
        };
        const dummy_parent = {
            id: "n[]",
            level: 0,
            label: "dummy",
        };
        rec(this.root, 0, dummy_parent);
        return { nodes: nodes, edges: edges };
    }
    get json() {
        if (!this.is_finalize)
            this.finalize();
        const nodes = [];
        const edges = [];
        Array.from(this.rules.entries()).forEach(([parent, children]) => {
            // internal node
            const node = {
                id: parent,
                level: this.height.get(parent),
                label: parent,
            };
            nodes.push(node);
            // edge
            children.forEach((child) => {
                const edge = {
                    from: parent,
                    to: child,
                    id: `${parent}-${child}`,
                    //, label: child.to_edge_label
                    font: { align: "top" },
                };
                edges.push(edge);
            });
        });
        return { nodes: nodes, edges: edges };
    }
}
const parse_rules = (text) => {
    // function parse_rules(text) {
    const lines = text.split(/\r\n|\r|\n/);
    const dag = new DAG();
    lines.forEach((line) => {
        line = line.trim().replace(/[=,\s]+/g, ",");
        const tokens = line.split(/[,]/);
        if (tokens.length >= 2) {
            console.log(tokens);
            dag.add(tokens);
        }
        // assert(rules[tokens[0]] === undefined)
        // tokens.forEach((token) => {
        //   assert(token.match(/^\d+$/) !== null)
        // })
        // rules[tokens[0]] = tokens.slice(1)
    });
    dag.finalize();
    return dag;
};
exports.parse_rules = parse_rules;
function main() {
    const text = "1, a\n2, b\n3, 1, 1\n";
    const dag = (0, exports.parse_rules)(text);
    console.log(dag);
    console.log(dag.json_tree);
}
main();


/***/ }),

/***/ "./src/visjs_default_options.ts":
/*!**************************************!*\
  !*** ./src/visjs_default_options.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.options = void 0;
exports.options = {
    height: "100%",
    layout: {
        hierarchical: {
            // enabled: true
            // direction: 'UD',
            direction: "LR",
            // sortMethod: 'directed',
            treeSpacing: 185,
            levelSeparation: 95,
            nodeSpacing: 40,
        },
    },
    nodes: {
        size: 10,
    },
    edges: {
        arrows: {
            to: {
                enabled: true,
                scaleFactor: 0.5,
            },
        },
        // edge label is not displayed at the center of the edge
        // if `smooth` is specified
        smooth: {
            enabled: true,
            // type: 'dynamic',
            type: "vertical",
            // type: 'horizontal', // This is better for UD
            // type: 'continuous',
            // type: 'curvedCCW',
            // type: 'straightCross',
            roundness: 1.0,
        },
    },
    interaction: {
        hover: true,
        navigationButtons: true,
    },
    physics: false,
};


/***/ }),

/***/ "./node_modules/vis-data/peer/umd/vis-data.js":
/*!****************************************************!*\
  !*** ./node_modules/vis-data/peer/umd/vis-data.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.4
 * @date    2022-03-15T15:23:59.245Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */

(function (global, factory) {
   true ? factory(exports) :
  0;
})(this, (function (exports) {
  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : typeof self !== 'undefined' ? self : {};

  var defineProperty$e = {exports: {}};

  var check = function (it) {
    return it && it.Math == Math && it;
  }; // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028


  var global$M = // eslint-disable-next-line es/no-global-this -- safe
  check(typeof globalThis == 'object' && globalThis) || check(typeof window == 'object' && window) || // eslint-disable-next-line no-restricted-globals -- safe
  check(typeof self == 'object' && self) || check(typeof commonjsGlobal == 'object' && commonjsGlobal) || // eslint-disable-next-line no-new-func -- fallback
  function () {
    return this;
  }() || Function('return this')();

  var fails$r = function (exec) {
    try {
      return !!exec();
    } catch (error) {
      return true;
    }
  };

  var fails$q = fails$r;
  var functionBindNative = !fails$q(function () {
    var test = function () {
      /* empty */
    }.bind(); // eslint-disable-next-line no-prototype-builtins -- safe


    return typeof test != 'function' || test.hasOwnProperty('prototype');
  });

  var NATIVE_BIND$4 = functionBindNative;
  var FunctionPrototype$3 = Function.prototype;
  var apply$6 = FunctionPrototype$3.apply;
  var call$c = FunctionPrototype$3.call; // eslint-disable-next-line es/no-reflect -- safe

  var functionApply = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND$4 ? call$c.bind(apply$6) : function () {
    return call$c.apply(apply$6, arguments);
  });

  var NATIVE_BIND$3 = functionBindNative;
  var FunctionPrototype$2 = Function.prototype;
  var bind$d = FunctionPrototype$2.bind;
  var call$b = FunctionPrototype$2.call;
  var uncurryThis$t = NATIVE_BIND$3 && bind$d.bind(call$b, call$b);
  var functionUncurryThis = NATIVE_BIND$3 ? function (fn) {
    return fn && uncurryThis$t(fn);
  } : function (fn) {
    return fn && function () {
      return call$b.apply(fn, arguments);
    };
  };

  // https://tc39.es/ecma262/#sec-iscallable

  var isCallable$h = function (argument) {
    return typeof argument == 'function';
  };

  var objectGetOwnPropertyDescriptor = {};

  var fails$p = fails$r; // Detect IE8's incomplete defineProperty implementation

  var descriptors = !fails$p(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty({}, 1, {
      get: function () {
        return 7;
      }
    })[1] != 7;
  });

  var NATIVE_BIND$2 = functionBindNative;
  var call$a = Function.prototype.call;
  var functionCall = NATIVE_BIND$2 ? call$a.bind(call$a) : function () {
    return call$a.apply(call$a, arguments);
  };

  var objectPropertyIsEnumerable = {};

  var $propertyIsEnumerable$2 = {}.propertyIsEnumerable; // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe

  var getOwnPropertyDescriptor$5 = Object.getOwnPropertyDescriptor; // Nashorn ~ JDK8 bug

  var NASHORN_BUG = getOwnPropertyDescriptor$5 && !$propertyIsEnumerable$2.call({
    1: 2
  }, 1); // `Object.prototype.propertyIsEnumerable` method implementation
  // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable

  objectPropertyIsEnumerable.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
    var descriptor = getOwnPropertyDescriptor$5(this, V);
    return !!descriptor && descriptor.enumerable;
  } : $propertyIsEnumerable$2;

  var createPropertyDescriptor$5 = function (bitmap, value) {
    return {
      enumerable: !(bitmap & 1),
      configurable: !(bitmap & 2),
      writable: !(bitmap & 4),
      value: value
    };
  };

  var uncurryThis$s = functionUncurryThis;
  var toString$9 = uncurryThis$s({}.toString);
  var stringSlice$1 = uncurryThis$s(''.slice);

  var classofRaw$1 = function (it) {
    return stringSlice$1(toString$9(it), 8, -1);
  };

  var global$L = global$M;
  var uncurryThis$r = functionUncurryThis;
  var fails$o = fails$r;
  var classof$f = classofRaw$1;
  var Object$9 = global$L.Object;
  var split = uncurryThis$r(''.split); // fallback for non-array-like ES3 and non-enumerable old V8 strings

  var indexedObject = fails$o(function () {
    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
    // eslint-disable-next-line no-prototype-builtins -- safe
    return !Object$9('z').propertyIsEnumerable(0);
  }) ? function (it) {
    return classof$f(it) == 'String' ? split(it, '') : Object$9(it);
  } : Object$9;

  var global$K = global$M;
  var TypeError$j = global$K.TypeError; // `RequireObjectCoercible` abstract operation
  // https://tc39.es/ecma262/#sec-requireobjectcoercible

  var requireObjectCoercible$5 = function (it) {
    if (it == undefined) throw TypeError$j("Can't call method on " + it);
    return it;
  };

  var IndexedObject$3 = indexedObject;
  var requireObjectCoercible$4 = requireObjectCoercible$5;

  var toIndexedObject$b = function (it) {
    return IndexedObject$3(requireObjectCoercible$4(it));
  };

  var isCallable$g = isCallable$h;

  var isObject$f = function (it) {
    return typeof it == 'object' ? it !== null : isCallable$g(it);
  };

  var path$q = {};

  var path$p = path$q;
  var global$J = global$M;
  var isCallable$f = isCallable$h;

  var aFunction = function (variable) {
    return isCallable$f(variable) ? variable : undefined;
  };

  var getBuiltIn$9 = function (namespace, method) {
    return arguments.length < 2 ? aFunction(path$p[namespace]) || aFunction(global$J[namespace]) : path$p[namespace] && path$p[namespace][method] || global$J[namespace] && global$J[namespace][method];
  };

  var uncurryThis$q = functionUncurryThis;
  var objectIsPrototypeOf = uncurryThis$q({}.isPrototypeOf);

  var getBuiltIn$8 = getBuiltIn$9;
  var engineUserAgent = getBuiltIn$8('navigator', 'userAgent') || '';

  var global$I = global$M;
  var userAgent$3 = engineUserAgent;
  var process = global$I.process;
  var Deno = global$I.Deno;
  var versions = process && process.versions || Deno && Deno.version;
  var v8 = versions && versions.v8;
  var match, version;

  if (v8) {
    match = v8.split('.'); // in old Chrome, versions of V8 isn't V8 = Chrome / 10
    // but their correct versions are not interesting for us

    version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
  } // BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
  // so check `userAgent` even if `.v8` exists, but 0


  if (!version && userAgent$3) {
    match = userAgent$3.match(/Edge\/(\d+)/);

    if (!match || match[1] >= 74) {
      match = userAgent$3.match(/Chrome\/(\d+)/);
      if (match) version = +match[1];
    }
  }

  var engineV8Version = version;

  /* eslint-disable es/no-symbol -- required for testing */
  var V8_VERSION$2 = engineV8Version;
  var fails$n = fails$r; // eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing

  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails$n(function () {
    var symbol = Symbol(); // Chrome 38 Symbol has incorrect toString conversion
    // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances

    return !String(symbol) || !(Object(symbol) instanceof Symbol) || // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
    !Symbol.sham && V8_VERSION$2 && V8_VERSION$2 < 41;
  });

  /* eslint-disable es/no-symbol -- required for testing */
  var NATIVE_SYMBOL$2 = nativeSymbol;
  var useSymbolAsUid = NATIVE_SYMBOL$2 && !Symbol.sham && typeof Symbol.iterator == 'symbol';

  var global$H = global$M;
  var getBuiltIn$7 = getBuiltIn$9;
  var isCallable$e = isCallable$h;
  var isPrototypeOf$i = objectIsPrototypeOf;
  var USE_SYMBOL_AS_UID$1 = useSymbolAsUid;
  var Object$8 = global$H.Object;
  var isSymbol$3 = USE_SYMBOL_AS_UID$1 ? function (it) {
    return typeof it == 'symbol';
  } : function (it) {
    var $Symbol = getBuiltIn$7('Symbol');
    return isCallable$e($Symbol) && isPrototypeOf$i($Symbol.prototype, Object$8(it));
  };

  var global$G = global$M;
  var String$4 = global$G.String;

  var tryToString$4 = function (argument) {
    try {
      return String$4(argument);
    } catch (error) {
      return 'Object';
    }
  };

  var global$F = global$M;
  var isCallable$d = isCallable$h;
  var tryToString$3 = tryToString$4;
  var TypeError$i = global$F.TypeError; // `Assert: IsCallable(argument) is true`

  var aCallable$7 = function (argument) {
    if (isCallable$d(argument)) return argument;
    throw TypeError$i(tryToString$3(argument) + ' is not a function');
  };

  var aCallable$6 = aCallable$7; // `GetMethod` abstract operation
  // https://tc39.es/ecma262/#sec-getmethod

  var getMethod$3 = function (V, P) {
    var func = V[P];
    return func == null ? undefined : aCallable$6(func);
  };

  var global$E = global$M;
  var call$9 = functionCall;
  var isCallable$c = isCallable$h;
  var isObject$e = isObject$f;
  var TypeError$h = global$E.TypeError; // `OrdinaryToPrimitive` abstract operation
  // https://tc39.es/ecma262/#sec-ordinarytoprimitive

  var ordinaryToPrimitive$1 = function (input, pref) {
    var fn, val;
    if (pref === 'string' && isCallable$c(fn = input.toString) && !isObject$e(val = call$9(fn, input))) return val;
    if (isCallable$c(fn = input.valueOf) && !isObject$e(val = call$9(fn, input))) return val;
    if (pref !== 'string' && isCallable$c(fn = input.toString) && !isObject$e(val = call$9(fn, input))) return val;
    throw TypeError$h("Can't convert object to primitive value");
  };

  var shared$4 = {exports: {}};

  var global$D = global$M; // eslint-disable-next-line es/no-object-defineproperty -- safe

  var defineProperty$d = Object.defineProperty;

  var setGlobal$1 = function (key, value) {
    try {
      defineProperty$d(global$D, key, {
        value: value,
        configurable: true,
        writable: true
      });
    } catch (error) {
      global$D[key] = value;
    }

    return value;
  };

  var global$C = global$M;
  var setGlobal = setGlobal$1;
  var SHARED = '__core-js_shared__';
  var store$3 = global$C[SHARED] || setGlobal(SHARED, {});
  var sharedStore = store$3;

  var store$2 = sharedStore;
  (shared$4.exports = function (key, value) {
    return store$2[key] || (store$2[key] = value !== undefined ? value : {});
  })('versions', []).push({
    version: '3.21.1',
    mode: 'pure' ,
    copyright: '© 2014-2022 Denis Pushkarev (zloirock.ru)',
    license: 'https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE',
    source: 'https://github.com/zloirock/core-js'
  });

  var global$B = global$M;
  var requireObjectCoercible$3 = requireObjectCoercible$5;
  var Object$7 = global$B.Object; // `ToObject` abstract operation
  // https://tc39.es/ecma262/#sec-toobject

  var toObject$e = function (argument) {
    return Object$7(requireObjectCoercible$3(argument));
  };

  var uncurryThis$p = functionUncurryThis;
  var toObject$d = toObject$e;
  var hasOwnProperty = uncurryThis$p({}.hasOwnProperty); // `HasOwnProperty` abstract operation
  // https://tc39.es/ecma262/#sec-hasownproperty

  var hasOwnProperty_1 = Object.hasOwn || function hasOwn(it, key) {
    return hasOwnProperty(toObject$d(it), key);
  };

  var uncurryThis$o = functionUncurryThis;
  var id$1 = 0;
  var postfix = Math.random();
  var toString$8 = uncurryThis$o(1.0.toString);

  var uid$4 = function (key) {
    return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString$8(++id$1 + postfix, 36);
  };

  var global$A = global$M;
  var shared$3 = shared$4.exports;
  var hasOwn$f = hasOwnProperty_1;
  var uid$3 = uid$4;
  var NATIVE_SYMBOL$1 = nativeSymbol;
  var USE_SYMBOL_AS_UID = useSymbolAsUid;
  var WellKnownSymbolsStore$1 = shared$3('wks');
  var Symbol$2 = global$A.Symbol;
  var symbolFor = Symbol$2 && Symbol$2['for'];
  var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol$2 : Symbol$2 && Symbol$2.withoutSetter || uid$3;

  var wellKnownSymbol$j = function (name) {
    if (!hasOwn$f(WellKnownSymbolsStore$1, name) || !(NATIVE_SYMBOL$1 || typeof WellKnownSymbolsStore$1[name] == 'string')) {
      var description = 'Symbol.' + name;

      if (NATIVE_SYMBOL$1 && hasOwn$f(Symbol$2, name)) {
        WellKnownSymbolsStore$1[name] = Symbol$2[name];
      } else if (USE_SYMBOL_AS_UID && symbolFor) {
        WellKnownSymbolsStore$1[name] = symbolFor(description);
      } else {
        WellKnownSymbolsStore$1[name] = createWellKnownSymbol(description);
      }
    }

    return WellKnownSymbolsStore$1[name];
  };

  var global$z = global$M;
  var call$8 = functionCall;
  var isObject$d = isObject$f;
  var isSymbol$2 = isSymbol$3;
  var getMethod$2 = getMethod$3;
  var ordinaryToPrimitive = ordinaryToPrimitive$1;
  var wellKnownSymbol$i = wellKnownSymbol$j;
  var TypeError$g = global$z.TypeError;
  var TO_PRIMITIVE$1 = wellKnownSymbol$i('toPrimitive'); // `ToPrimitive` abstract operation
  // https://tc39.es/ecma262/#sec-toprimitive

  var toPrimitive$1 = function (input, pref) {
    if (!isObject$d(input) || isSymbol$2(input)) return input;
    var exoticToPrim = getMethod$2(input, TO_PRIMITIVE$1);
    var result;

    if (exoticToPrim) {
      if (pref === undefined) pref = 'default';
      result = call$8(exoticToPrim, input, pref);
      if (!isObject$d(result) || isSymbol$2(result)) return result;
      throw TypeError$g("Can't convert object to primitive value");
    }

    if (pref === undefined) pref = 'number';
    return ordinaryToPrimitive(input, pref);
  };

  var toPrimitive = toPrimitive$1;
  var isSymbol$1 = isSymbol$3; // `ToPropertyKey` abstract operation
  // https://tc39.es/ecma262/#sec-topropertykey

  var toPropertyKey$4 = function (argument) {
    var key = toPrimitive(argument, 'string');
    return isSymbol$1(key) ? key : key + '';
  };

  var global$y = global$M;
  var isObject$c = isObject$f;
  var document$1 = global$y.document; // typeof document.createElement is 'object' in old IE

  var EXISTS$1 = isObject$c(document$1) && isObject$c(document$1.createElement);

  var documentCreateElement$1 = function (it) {
    return EXISTS$1 ? document$1.createElement(it) : {};
  };

  var DESCRIPTORS$h = descriptors;
  var fails$m = fails$r;
  var createElement = documentCreateElement$1; // Thanks to IE8 for its funny defineProperty

  var ie8DomDefine = !DESCRIPTORS$h && !fails$m(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty(createElement('div'), 'a', {
      get: function () {
        return 7;
      }
    }).a != 7;
  });

  var DESCRIPTORS$g = descriptors;
  var call$7 = functionCall;
  var propertyIsEnumerableModule$2 = objectPropertyIsEnumerable;
  var createPropertyDescriptor$4 = createPropertyDescriptor$5;
  var toIndexedObject$a = toIndexedObject$b;
  var toPropertyKey$3 = toPropertyKey$4;
  var hasOwn$e = hasOwnProperty_1;
  var IE8_DOM_DEFINE$1 = ie8DomDefine; // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe

  var $getOwnPropertyDescriptor$2 = Object.getOwnPropertyDescriptor; // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor

  objectGetOwnPropertyDescriptor.f = DESCRIPTORS$g ? $getOwnPropertyDescriptor$2 : function getOwnPropertyDescriptor(O, P) {
    O = toIndexedObject$a(O);
    P = toPropertyKey$3(P);
    if (IE8_DOM_DEFINE$1) try {
      return $getOwnPropertyDescriptor$2(O, P);
    } catch (error) {
      /* empty */
    }
    if (hasOwn$e(O, P)) return createPropertyDescriptor$4(!call$7(propertyIsEnumerableModule$2.f, O, P), O[P]);
  };

  var fails$l = fails$r;
  var isCallable$b = isCallable$h;
  var replacement = /#|\.prototype\./;

  var isForced$1 = function (feature, detection) {
    var value = data[normalize(feature)];
    return value == POLYFILL ? true : value == NATIVE ? false : isCallable$b(detection) ? fails$l(detection) : !!detection;
  };

  var normalize = isForced$1.normalize = function (string) {
    return String(string).replace(replacement, '.').toLowerCase();
  };

  var data = isForced$1.data = {};
  var NATIVE = isForced$1.NATIVE = 'N';
  var POLYFILL = isForced$1.POLYFILL = 'P';
  var isForced_1 = isForced$1;

  var uncurryThis$n = functionUncurryThis;
  var aCallable$5 = aCallable$7;
  var NATIVE_BIND$1 = functionBindNative;
  var bind$c = uncurryThis$n(uncurryThis$n.bind); // optional / simple context binding

  var functionBindContext = function (fn, that) {
    aCallable$5(fn);
    return that === undefined ? fn : NATIVE_BIND$1 ? bind$c(fn, that) : function
      /* ...args */
    () {
      return fn.apply(that, arguments);
    };
  };

  var objectDefineProperty = {};

  var DESCRIPTORS$f = descriptors;
  var fails$k = fails$r; // V8 ~ Chrome 36-
  // https://bugs.chromium.org/p/v8/issues/detail?id=3334

  var v8PrototypeDefineBug = DESCRIPTORS$f && fails$k(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty(function () {
      /* empty */
    }, 'prototype', {
      value: 42,
      writable: false
    }).prototype != 42;
  });

  var global$x = global$M;
  var isObject$b = isObject$f;
  var String$3 = global$x.String;
  var TypeError$f = global$x.TypeError; // `Assert: Type(argument) is Object`

  var anObject$b = function (argument) {
    if (isObject$b(argument)) return argument;
    throw TypeError$f(String$3(argument) + ' is not an object');
  };

  var global$w = global$M;
  var DESCRIPTORS$e = descriptors;
  var IE8_DOM_DEFINE = ie8DomDefine;
  var V8_PROTOTYPE_DEFINE_BUG$1 = v8PrototypeDefineBug;
  var anObject$a = anObject$b;
  var toPropertyKey$2 = toPropertyKey$4;
  var TypeError$e = global$w.TypeError; // eslint-disable-next-line es/no-object-defineproperty -- safe

  var $defineProperty$1 = Object.defineProperty; // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe

  var $getOwnPropertyDescriptor$1 = Object.getOwnPropertyDescriptor;
  var ENUMERABLE = 'enumerable';
  var CONFIGURABLE$1 = 'configurable';
  var WRITABLE = 'writable'; // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty

  objectDefineProperty.f = DESCRIPTORS$e ? V8_PROTOTYPE_DEFINE_BUG$1 ? function defineProperty(O, P, Attributes) {
    anObject$a(O);
    P = toPropertyKey$2(P);
    anObject$a(Attributes);

    if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
      var current = $getOwnPropertyDescriptor$1(O, P);

      if (current && current[WRITABLE]) {
        O[P] = Attributes.value;
        Attributes = {
          configurable: CONFIGURABLE$1 in Attributes ? Attributes[CONFIGURABLE$1] : current[CONFIGURABLE$1],
          enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
          writable: false
        };
      }
    }

    return $defineProperty$1(O, P, Attributes);
  } : $defineProperty$1 : function defineProperty(O, P, Attributes) {
    anObject$a(O);
    P = toPropertyKey$2(P);
    anObject$a(Attributes);
    if (IE8_DOM_DEFINE) try {
      return $defineProperty$1(O, P, Attributes);
    } catch (error) {
      /* empty */
    }
    if ('get' in Attributes || 'set' in Attributes) throw TypeError$e('Accessors not supported');
    if ('value' in Attributes) O[P] = Attributes.value;
    return O;
  };

  var DESCRIPTORS$d = descriptors;
  var definePropertyModule$4 = objectDefineProperty;
  var createPropertyDescriptor$3 = createPropertyDescriptor$5;
  var createNonEnumerableProperty$6 = DESCRIPTORS$d ? function (object, key, value) {
    return definePropertyModule$4.f(object, key, createPropertyDescriptor$3(1, value));
  } : function (object, key, value) {
    object[key] = value;
    return object;
  };

  var global$v = global$M;
  var apply$5 = functionApply;
  var uncurryThis$m = functionUncurryThis;
  var isCallable$a = isCallable$h;
  var getOwnPropertyDescriptor$4 = objectGetOwnPropertyDescriptor.f;
  var isForced = isForced_1;
  var path$o = path$q;
  var bind$b = functionBindContext;
  var createNonEnumerableProperty$5 = createNonEnumerableProperty$6;
  var hasOwn$d = hasOwnProperty_1;

  var wrapConstructor = function (NativeConstructor) {
    var Wrapper = function (a, b, c) {
      if (this instanceof Wrapper) {
        switch (arguments.length) {
          case 0:
            return new NativeConstructor();

          case 1:
            return new NativeConstructor(a);

          case 2:
            return new NativeConstructor(a, b);
        }

        return new NativeConstructor(a, b, c);
      }

      return apply$5(NativeConstructor, this, arguments);
    };

    Wrapper.prototype = NativeConstructor.prototype;
    return Wrapper;
  };
  /*
    options.target      - name of the target object
    options.global      - target is the global object
    options.stat        - export as static methods of target
    options.proto       - export as prototype methods of target
    options.real        - real prototype method for the `pure` version
    options.forced      - export even if the native feature is available
    options.bind        - bind methods to the target, required for the `pure` version
    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version
    options.unsafe      - use the simple assignment of property instead of delete + defineProperty
    options.sham        - add a flag to not completely full polyfills
    options.enumerable  - export as enumerable property
    options.noTargetGet - prevent calling a getter on target
    options.name        - the .name of the function if it does not match the key
  */


  var _export = function (options, source) {
    var TARGET = options.target;
    var GLOBAL = options.global;
    var STATIC = options.stat;
    var PROTO = options.proto;
    var nativeSource = GLOBAL ? global$v : STATIC ? global$v[TARGET] : (global$v[TARGET] || {}).prototype;
    var target = GLOBAL ? path$o : path$o[TARGET] || createNonEnumerableProperty$5(path$o, TARGET, {})[TARGET];
    var targetPrototype = target.prototype;
    var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;
    var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;

    for (key in source) {
      FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced); // contains in native

      USE_NATIVE = !FORCED && nativeSource && hasOwn$d(nativeSource, key);
      targetProperty = target[key];
      if (USE_NATIVE) if (options.noTargetGet) {
        descriptor = getOwnPropertyDescriptor$4(nativeSource, key);
        nativeProperty = descriptor && descriptor.value;
      } else nativeProperty = nativeSource[key]; // export native or implementation

      sourceProperty = USE_NATIVE && nativeProperty ? nativeProperty : source[key];
      if (USE_NATIVE && typeof targetProperty == typeof sourceProperty) continue; // bind timers to global for call from export context

      if (options.bind && USE_NATIVE) resultProperty = bind$b(sourceProperty, global$v); // wrap global constructors for prevent changs in this version
      else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty); // make static versions for prototype methods
      else if (PROTO && isCallable$a(sourceProperty)) resultProperty = uncurryThis$m(sourceProperty); // default case
      else resultProperty = sourceProperty; // add a flag to not completely full polyfills

      if (options.sham || sourceProperty && sourceProperty.sham || targetProperty && targetProperty.sham) {
        createNonEnumerableProperty$5(resultProperty, 'sham', true);
      }

      createNonEnumerableProperty$5(target, key, resultProperty);

      if (PROTO) {
        VIRTUAL_PROTOTYPE = TARGET + 'Prototype';

        if (!hasOwn$d(path$o, VIRTUAL_PROTOTYPE)) {
          createNonEnumerableProperty$5(path$o, VIRTUAL_PROTOTYPE, {});
        } // export virtual prototype methods


        createNonEnumerableProperty$5(path$o[VIRTUAL_PROTOTYPE], key, sourceProperty); // export real prototype methods

        if (options.real && targetPrototype && !targetPrototype[key]) {
          createNonEnumerableProperty$5(targetPrototype, key, sourceProperty);
        }
      }
    }
  };

  var $$C = _export;
  var DESCRIPTORS$c = descriptors;
  var defineProperty$c = objectDefineProperty.f; // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  // eslint-disable-next-line es/no-object-defineproperty -- safe

  $$C({
    target: 'Object',
    stat: true,
    forced: Object.defineProperty !== defineProperty$c,
    sham: !DESCRIPTORS$c
  }, {
    defineProperty: defineProperty$c
  });

  var path$n = path$q;
  var Object$6 = path$n.Object;

  var defineProperty$b = defineProperty$e.exports = function defineProperty(it, key, desc) {
    return Object$6.defineProperty(it, key, desc);
  };

  if (Object$6.defineProperty.sham) defineProperty$b.sham = true;

  var parent$V = defineProperty$e.exports;
  var defineProperty$a = parent$V;

  var parent$U = defineProperty$a;
  var defineProperty$9 = parent$U;

  var parent$T = defineProperty$9;
  var defineProperty$8 = parent$T;

  var defineProperty$7 = defineProperty$8;

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;

      defineProperty$7(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);

    defineProperty$7(Constructor, "prototype", {
      writable: false
    });

    return Constructor;
  }

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      defineProperty$7(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  var uncurryThis$l = functionUncurryThis;
  var arraySlice$5 = uncurryThis$l([].slice);

  var global$u = global$M;
  var uncurryThis$k = functionUncurryThis;
  var aCallable$4 = aCallable$7;
  var isObject$a = isObject$f;
  var hasOwn$c = hasOwnProperty_1;
  var arraySlice$4 = arraySlice$5;
  var NATIVE_BIND = functionBindNative;
  var Function$2 = global$u.Function;
  var concat$6 = uncurryThis$k([].concat);
  var join = uncurryThis$k([].join);
  var factories = {};

  var construct$4 = function (C, argsLength, args) {
    if (!hasOwn$c(factories, argsLength)) {
      for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';

      factories[argsLength] = Function$2('C,a', 'return new C(' + join(list, ',') + ')');
    }

    return factories[argsLength](C, args);
  }; // `Function.prototype.bind` method implementation
  // https://tc39.es/ecma262/#sec-function.prototype.bind


  var functionBind = NATIVE_BIND ? Function$2.bind : function bind(that
  /* , ...args */
  ) {
    var F = aCallable$4(this);
    var Prototype = F.prototype;
    var partArgs = arraySlice$4(arguments, 1);

    var boundFunction = function
      /* args... */
    bound() {
      var args = concat$6(partArgs, arraySlice$4(arguments));
      return this instanceof boundFunction ? construct$4(F, args.length, args) : F.apply(that, args);
    };

    if (isObject$a(Prototype)) boundFunction.prototype = Prototype;
    return boundFunction;
  };

  var $$B = _export;
  var bind$a = functionBind; // `Function.prototype.bind` method
  // https://tc39.es/ecma262/#sec-function.prototype.bind

  $$B({
    target: 'Function',
    proto: true,
    forced: Function.bind !== bind$a
  }, {
    bind: bind$a
  });

  var path$m = path$q;

  var entryVirtual$k = function (CONSTRUCTOR) {
    return path$m[CONSTRUCTOR + 'Prototype'];
  };

  var entryVirtual$j = entryVirtual$k;
  var bind$9 = entryVirtual$j('Function').bind;

  var isPrototypeOf$h = objectIsPrototypeOf;
  var method$e = bind$9;
  var FunctionPrototype$1 = Function.prototype;

  var bind$8 = function (it) {
    var own = it.bind;
    return it === FunctionPrototype$1 || isPrototypeOf$h(FunctionPrototype$1, it) && own === FunctionPrototype$1.bind ? method$e : own;
  };

  var parent$S = bind$8;
  var bind$7 = parent$S;

  var bind$6 = bind$7;

  var ceil = Math.ceil;
  var floor$1 = Math.floor; // `ToIntegerOrInfinity` abstract operation
  // https://tc39.es/ecma262/#sec-tointegerorinfinity

  var toIntegerOrInfinity$4 = function (argument) {
    var number = +argument; // eslint-disable-next-line no-self-compare -- safe

    return number !== number || number === 0 ? 0 : (number > 0 ? floor$1 : ceil)(number);
  };

  var toIntegerOrInfinity$3 = toIntegerOrInfinity$4;
  var min$2 = Math.min; // `ToLength` abstract operation
  // https://tc39.es/ecma262/#sec-tolength

  var toLength$1 = function (argument) {
    return argument > 0 ? min$2(toIntegerOrInfinity$3(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
  };

  var toLength = toLength$1; // `LengthOfArrayLike` abstract operation
  // https://tc39.es/ecma262/#sec-lengthofarraylike

  var lengthOfArrayLike$d = function (obj) {
    return toLength(obj.length);
  };

  var global$t = global$M;
  var aCallable$3 = aCallable$7;
  var toObject$c = toObject$e;
  var IndexedObject$2 = indexedObject;
  var lengthOfArrayLike$c = lengthOfArrayLike$d;
  var TypeError$d = global$t.TypeError; // `Array.prototype.{ reduce, reduceRight }` methods implementation

  var createMethod$5 = function (IS_RIGHT) {
    return function (that, callbackfn, argumentsLength, memo) {
      aCallable$3(callbackfn);
      var O = toObject$c(that);
      var self = IndexedObject$2(O);
      var length = lengthOfArrayLike$c(O);
      var index = IS_RIGHT ? length - 1 : 0;
      var i = IS_RIGHT ? -1 : 1;
      if (argumentsLength < 2) while (true) {
        if (index in self) {
          memo = self[index];
          index += i;
          break;
        }

        index += i;

        if (IS_RIGHT ? index < 0 : length <= index) {
          throw TypeError$d('Reduce of empty array with no initial value');
        }
      }

      for (; IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {
        memo = callbackfn(memo, self[index], index, O);
      }

      return memo;
    };
  };

  var arrayReduce = {
    // `Array.prototype.reduce` method
    // https://tc39.es/ecma262/#sec-array.prototype.reduce
    left: createMethod$5(false),
    // `Array.prototype.reduceRight` method
    // https://tc39.es/ecma262/#sec-array.prototype.reduceright
    right: createMethod$5(true)
  };

  var fails$j = fails$r;

  var arrayMethodIsStrict$5 = function (METHOD_NAME, argument) {
    var method = [][METHOD_NAME];
    return !!method && fails$j(function () {
      // eslint-disable-next-line no-useless-call -- required for testing
      method.call(null, argument || function () {
        return 1;
      }, 1);
    });
  };

  var classof$e = classofRaw$1;
  var global$s = global$M;
  var engineIsNode = classof$e(global$s.process) == 'process';

  var $$A = _export;
  var $reduce = arrayReduce.left;
  var arrayMethodIsStrict$4 = arrayMethodIsStrict$5;
  var CHROME_VERSION = engineV8Version;
  var IS_NODE = engineIsNode;
  var STRICT_METHOD$4 = arrayMethodIsStrict$4('reduce'); // Chrome 80-82 has a critical bug
  // https://bugs.chromium.org/p/chromium/issues/detail?id=1049982

  var CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83; // `Array.prototype.reduce` method
  // https://tc39.es/ecma262/#sec-array.prototype.reduce

  $$A({
    target: 'Array',
    proto: true,
    forced: !STRICT_METHOD$4 || CHROME_BUG
  }, {
    reduce: function reduce(callbackfn
    /* , initialValue */
    ) {
      var length = arguments.length;
      return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);
    }
  });

  var entryVirtual$i = entryVirtual$k;
  var reduce$3 = entryVirtual$i('Array').reduce;

  var isPrototypeOf$g = objectIsPrototypeOf;
  var method$d = reduce$3;
  var ArrayPrototype$e = Array.prototype;

  var reduce$2 = function (it) {
    var own = it.reduce;
    return it === ArrayPrototype$e || isPrototypeOf$g(ArrayPrototype$e, it) && own === ArrayPrototype$e.reduce ? method$d : own;
  };

  var parent$R = reduce$2;
  var reduce$1 = parent$R;

  var reduce = reduce$1;

  var classof$d = classofRaw$1; // `IsArray` abstract operation
  // https://tc39.es/ecma262/#sec-isarray
  // eslint-disable-next-line es/no-array-isarray -- safe

  var isArray$d = Array.isArray || function isArray(argument) {
    return classof$d(argument) == 'Array';
  };

  var wellKnownSymbol$h = wellKnownSymbol$j;
  var TO_STRING_TAG$3 = wellKnownSymbol$h('toStringTag');
  var test$2 = {};
  test$2[TO_STRING_TAG$3] = 'z';
  var toStringTagSupport = String(test$2) === '[object z]';

  var global$r = global$M;
  var TO_STRING_TAG_SUPPORT$2 = toStringTagSupport;
  var isCallable$9 = isCallable$h;
  var classofRaw = classofRaw$1;
  var wellKnownSymbol$g = wellKnownSymbol$j;
  var TO_STRING_TAG$2 = wellKnownSymbol$g('toStringTag');
  var Object$5 = global$r.Object; // ES3 wrong here

  var CORRECT_ARGUMENTS = classofRaw(function () {
    return arguments;
  }()) == 'Arguments'; // fallback for IE11 Script Access Denied error

  var tryGet = function (it, key) {
    try {
      return it[key];
    } catch (error) {
      /* empty */
    }
  }; // getting tag from ES6+ `Object.prototype.toString`


  var classof$c = TO_STRING_TAG_SUPPORT$2 ? classofRaw : function (it) {
    var O, tag, result;
    return it === undefined ? 'Undefined' : it === null ? 'Null' // @@toStringTag case
    : typeof (tag = tryGet(O = Object$5(it), TO_STRING_TAG$2)) == 'string' ? tag // builtinTag case
    : CORRECT_ARGUMENTS ? classofRaw(O) // ES3 arguments fallback
    : (result = classofRaw(O)) == 'Object' && isCallable$9(O.callee) ? 'Arguments' : result;
  };

  var uncurryThis$j = functionUncurryThis;
  var isCallable$8 = isCallable$h;
  var store$1 = sharedStore;
  var functionToString = uncurryThis$j(Function.toString); // this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper

  if (!isCallable$8(store$1.inspectSource)) {
    store$1.inspectSource = function (it) {
      return functionToString(it);
    };
  }

  var inspectSource$2 = store$1.inspectSource;

  var uncurryThis$i = functionUncurryThis;
  var fails$i = fails$r;
  var isCallable$7 = isCallable$h;
  var classof$b = classof$c;
  var getBuiltIn$6 = getBuiltIn$9;
  var inspectSource$1 = inspectSource$2;

  var noop = function () {
    /* empty */
  };

  var empty = [];
  var construct$3 = getBuiltIn$6('Reflect', 'construct');
  var constructorRegExp = /^\s*(?:class|function)\b/;
  var exec$2 = uncurryThis$i(constructorRegExp.exec);
  var INCORRECT_TO_STRING = !constructorRegExp.exec(noop);

  var isConstructorModern = function isConstructor(argument) {
    if (!isCallable$7(argument)) return false;

    try {
      construct$3(noop, empty, argument);
      return true;
    } catch (error) {
      return false;
    }
  };

  var isConstructorLegacy = function isConstructor(argument) {
    if (!isCallable$7(argument)) return false;

    switch (classof$b(argument)) {
      case 'AsyncFunction':
      case 'GeneratorFunction':
      case 'AsyncGeneratorFunction':
        return false;
    }

    try {
      // we can't check .prototype since constructors produced by .bind haven't it
      // `Function#toString` throws on some built-it function in some legacy engines
      // (for example, `DOMQuad` and similar in FF41-)
      return INCORRECT_TO_STRING || !!exec$2(constructorRegExp, inspectSource$1(argument));
    } catch (error) {
      return true;
    }
  };

  isConstructorLegacy.sham = true; // `IsConstructor` abstract operation
  // https://tc39.es/ecma262/#sec-isconstructor

  var isConstructor$4 = !construct$3 || fails$i(function () {
    var called;
    return isConstructorModern(isConstructorModern.call) || !isConstructorModern(Object) || !isConstructorModern(function () {
      called = true;
    }) || called;
  }) ? isConstructorLegacy : isConstructorModern;

  var global$q = global$M;
  var isArray$c = isArray$d;
  var isConstructor$3 = isConstructor$4;
  var isObject$9 = isObject$f;
  var wellKnownSymbol$f = wellKnownSymbol$j;
  var SPECIES$3 = wellKnownSymbol$f('species');
  var Array$5 = global$q.Array; // a part of `ArraySpeciesCreate` abstract operation
  // https://tc39.es/ecma262/#sec-arrayspeciescreate

  var arraySpeciesConstructor$1 = function (originalArray) {
    var C;

    if (isArray$c(originalArray)) {
      C = originalArray.constructor; // cross-realm fallback

      if (isConstructor$3(C) && (C === Array$5 || isArray$c(C.prototype))) C = undefined;else if (isObject$9(C)) {
        C = C[SPECIES$3];
        if (C === null) C = undefined;
      }
    }

    return C === undefined ? Array$5 : C;
  };

  var arraySpeciesConstructor = arraySpeciesConstructor$1; // `ArraySpeciesCreate` abstract operation
  // https://tc39.es/ecma262/#sec-arrayspeciescreate

  var arraySpeciesCreate$4 = function (originalArray, length) {
    return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
  };

  var bind$5 = functionBindContext;
  var uncurryThis$h = functionUncurryThis;
  var IndexedObject$1 = indexedObject;
  var toObject$b = toObject$e;
  var lengthOfArrayLike$b = lengthOfArrayLike$d;
  var arraySpeciesCreate$3 = arraySpeciesCreate$4;
  var push$5 = uncurryThis$h([].push); // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation

  var createMethod$4 = function (TYPE) {
    var IS_MAP = TYPE == 1;
    var IS_FILTER = TYPE == 2;
    var IS_SOME = TYPE == 3;
    var IS_EVERY = TYPE == 4;
    var IS_FIND_INDEX = TYPE == 6;
    var IS_FILTER_REJECT = TYPE == 7;
    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
    return function ($this, callbackfn, that, specificCreate) {
      var O = toObject$b($this);
      var self = IndexedObject$1(O);
      var boundFunction = bind$5(callbackfn, that);
      var length = lengthOfArrayLike$b(self);
      var index = 0;
      var create = specificCreate || arraySpeciesCreate$3;
      var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;
      var value, result;

      for (; length > index; index++) if (NO_HOLES || index in self) {
        value = self[index];
        result = boundFunction(value, index, O);

        if (TYPE) {
          if (IS_MAP) target[index] = result; // map
          else if (result) switch (TYPE) {
            case 3:
              return true;
            // some

            case 5:
              return value;
            // find

            case 6:
              return index;
            // findIndex

            case 2:
              push$5(target, value);
            // filter
          } else switch (TYPE) {
            case 4:
              return false;
            // every

            case 7:
              push$5(target, value);
            // filterReject
          }
        }
      }

      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
    };
  };

  var arrayIteration = {
    // `Array.prototype.forEach` method
    // https://tc39.es/ecma262/#sec-array.prototype.foreach
    forEach: createMethod$4(0),
    // `Array.prototype.map` method
    // https://tc39.es/ecma262/#sec-array.prototype.map
    map: createMethod$4(1),
    // `Array.prototype.filter` method
    // https://tc39.es/ecma262/#sec-array.prototype.filter
    filter: createMethod$4(2),
    // `Array.prototype.some` method
    // https://tc39.es/ecma262/#sec-array.prototype.some
    some: createMethod$4(3),
    // `Array.prototype.every` method
    // https://tc39.es/ecma262/#sec-array.prototype.every
    every: createMethod$4(4),
    // `Array.prototype.find` method
    // https://tc39.es/ecma262/#sec-array.prototype.find
    find: createMethod$4(5),
    // `Array.prototype.findIndex` method
    // https://tc39.es/ecma262/#sec-array.prototype.findIndex
    findIndex: createMethod$4(6),
    // `Array.prototype.filterReject` method
    // https://github.com/tc39/proposal-array-filtering
    filterReject: createMethod$4(7)
  };

  var fails$h = fails$r;
  var wellKnownSymbol$e = wellKnownSymbol$j;
  var V8_VERSION$1 = engineV8Version;
  var SPECIES$2 = wellKnownSymbol$e('species');

  var arrayMethodHasSpeciesSupport$5 = function (METHOD_NAME) {
    // We can't use this feature detection in V8 since it causes
    // deoptimization and serious performance degradation
    // https://github.com/zloirock/core-js/issues/677
    return V8_VERSION$1 >= 51 || !fails$h(function () {
      var array = [];
      var constructor = array.constructor = {};

      constructor[SPECIES$2] = function () {
        return {
          foo: 1
        };
      };

      return array[METHOD_NAME](Boolean).foo !== 1;
    });
  };

  var $$z = _export;
  var $filter = arrayIteration.filter;
  var arrayMethodHasSpeciesSupport$4 = arrayMethodHasSpeciesSupport$5;
  var HAS_SPECIES_SUPPORT$3 = arrayMethodHasSpeciesSupport$4('filter'); // `Array.prototype.filter` method
  // https://tc39.es/ecma262/#sec-array.prototype.filter
  // with adding support of @@species

  $$z({
    target: 'Array',
    proto: true,
    forced: !HAS_SPECIES_SUPPORT$3
  }, {
    filter: function filter(callbackfn
    /* , thisArg */
    ) {
      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  var entryVirtual$h = entryVirtual$k;
  var filter$3 = entryVirtual$h('Array').filter;

  var isPrototypeOf$f = objectIsPrototypeOf;
  var method$c = filter$3;
  var ArrayPrototype$d = Array.prototype;

  var filter$2 = function (it) {
    var own = it.filter;
    return it === ArrayPrototype$d || isPrototypeOf$f(ArrayPrototype$d, it) && own === ArrayPrototype$d.filter ? method$c : own;
  };

  var parent$Q = filter$2;
  var filter$1 = parent$Q;

  var filter = filter$1;

  var $$y = _export;
  var $map = arrayIteration.map;
  var arrayMethodHasSpeciesSupport$3 = arrayMethodHasSpeciesSupport$5;
  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport$3('map'); // `Array.prototype.map` method
  // https://tc39.es/ecma262/#sec-array.prototype.map
  // with adding support of @@species

  $$y({
    target: 'Array',
    proto: true,
    forced: !HAS_SPECIES_SUPPORT$2
  }, {
    map: function map(callbackfn
    /* , thisArg */
    ) {
      return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  var entryVirtual$g = entryVirtual$k;
  var map$6 = entryVirtual$g('Array').map;

  var isPrototypeOf$e = objectIsPrototypeOf;
  var method$b = map$6;
  var ArrayPrototype$c = Array.prototype;

  var map$5 = function (it) {
    var own = it.map;
    return it === ArrayPrototype$c || isPrototypeOf$e(ArrayPrototype$c, it) && own === ArrayPrototype$c.map ? method$b : own;
  };

  var parent$P = map$5;
  var map$4 = parent$P;

  var map$3 = map$4;

  var global$p = global$M;
  var isArray$b = isArray$d;
  var lengthOfArrayLike$a = lengthOfArrayLike$d;
  var bind$4 = functionBindContext;
  var TypeError$c = global$p.TypeError; // `FlattenIntoArray` abstract operation
  // https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray

  var flattenIntoArray$1 = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {
    var targetIndex = start;
    var sourceIndex = 0;
    var mapFn = mapper ? bind$4(mapper, thisArg) : false;
    var element, elementLen;

    while (sourceIndex < sourceLen) {
      if (sourceIndex in source) {
        element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];

        if (depth > 0 && isArray$b(element)) {
          elementLen = lengthOfArrayLike$a(element);
          targetIndex = flattenIntoArray$1(target, original, element, elementLen, targetIndex, depth - 1) - 1;
        } else {
          if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError$c('Exceed the acceptable array length');
          target[targetIndex] = element;
        }

        targetIndex++;
      }

      sourceIndex++;
    }

    return targetIndex;
  };

  var flattenIntoArray_1 = flattenIntoArray$1;

  var $$x = _export;
  var flattenIntoArray = flattenIntoArray_1;
  var aCallable$2 = aCallable$7;
  var toObject$a = toObject$e;
  var lengthOfArrayLike$9 = lengthOfArrayLike$d;
  var arraySpeciesCreate$2 = arraySpeciesCreate$4; // `Array.prototype.flatMap` method
  // https://tc39.es/ecma262/#sec-array.prototype.flatmap

  $$x({
    target: 'Array',
    proto: true
  }, {
    flatMap: function flatMap(callbackfn
    /* , thisArg */
    ) {
      var O = toObject$a(this);
      var sourceLen = lengthOfArrayLike$9(O);
      var A;
      aCallable$2(callbackfn);
      A = arraySpeciesCreate$2(O, 0);
      A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
      return A;
    }
  });

  var entryVirtual$f = entryVirtual$k;
  var flatMap$3 = entryVirtual$f('Array').flatMap;

  var isPrototypeOf$d = objectIsPrototypeOf;
  var method$a = flatMap$3;
  var ArrayPrototype$b = Array.prototype;

  var flatMap$2 = function (it) {
    var own = it.flatMap;
    return it === ArrayPrototype$b || isPrototypeOf$d(ArrayPrototype$b, it) && own === ArrayPrototype$b.flatMap ? method$a : own;
  };

  var parent$O = flatMap$2;
  var flatMap$1 = parent$O;

  var flatMap = flatMap$1;

  /**
   * Create new data pipe.
   *
   * @param from - The source data set or data view.
   * @remarks
   * Example usage:
   * ```typescript
   * interface AppItem {
   *   whoami: string;
   *   appData: unknown;
   *   visData: VisItem;
   * }
   * interface VisItem {
   *   id: number;
   *   label: string;
   *   color: string;
   *   x: number;
   *   y: number;
   * }
   *
   * const ds1 = new DataSet<AppItem, "whoami">([], { fieldId: "whoami" });
   * const ds2 = new DataSet<VisItem, "id">();
   *
   * const pipe = createNewDataPipeFrom(ds1)
   *   .filter((item): boolean => item.enabled === true)
   *   .map<VisItem, "id">((item): VisItem => item.visData)
   *   .to(ds2);
   *
   * pipe.start();
   * ```
   * @returns A factory whose methods can be used to configure the pipe.
   */
  function createNewDataPipeFrom(from) {
    return new DataPipeUnderConstruction(from);
  }
  /**
   * Internal implementation of the pipe. This should be accessible only through
   * `createNewDataPipeFrom` from the outside.
   *
   * @typeParam SI - Source item type.
   * @typeParam SP - Source item type's id property name.
   * @typeParam TI - Target item type.
   * @typeParam TP - Target item type's id property name.
   */

  var SimpleDataPipe = /*#__PURE__*/function () {
    /**
     * Bound listeners for use with `DataInterface['on' | 'off']`.
     */

    /**
     * Create a new data pipe.
     *
     * @param _source - The data set or data view that will be observed.
     * @param _transformers - An array of transforming functions to be used to
     * filter or transform the items in the pipe.
     * @param _target - The data set or data view that will receive the items.
     */
    function SimpleDataPipe(_source, _transformers, _target) {
      var _context, _context2, _context3;

      _classCallCheck(this, SimpleDataPipe);

      _defineProperty(this, "_source", void 0);

      _defineProperty(this, "_transformers", void 0);

      _defineProperty(this, "_target", void 0);

      _defineProperty(this, "_listeners", {
        add: bind$6(_context = this._add).call(_context, this),
        remove: bind$6(_context2 = this._remove).call(_context2, this),
        update: bind$6(_context3 = this._update).call(_context3, this)
      });

      this._source = _source;
      this._transformers = _transformers;
      this._target = _target;
    }
    /** @inheritDoc */


    _createClass(SimpleDataPipe, [{
      key: "all",
      value: function all() {
        this._target.update(this._transformItems(this._source.get()));

        return this;
      }
      /** @inheritDoc */

    }, {
      key: "start",
      value: function start() {
        this._source.on("add", this._listeners.add);

        this._source.on("remove", this._listeners.remove);

        this._source.on("update", this._listeners.update);

        return this;
      }
      /** @inheritDoc */

    }, {
      key: "stop",
      value: function stop() {
        this._source.off("add", this._listeners.add);

        this._source.off("remove", this._listeners.remove);

        this._source.off("update", this._listeners.update);

        return this;
      }
      /**
       * Apply the transformers to the items.
       *
       * @param items - The items to be transformed.
       * @returns The transformed items.
       */

    }, {
      key: "_transformItems",
      value: function _transformItems(items) {
        var _context4;

        return reduce(_context4 = this._transformers).call(_context4, function (items, transform) {
          return transform(items);
        }, items);
      }
      /**
       * Handle an add event.
       *
       * @param _name - Ignored.
       * @param payload - The payload containing the ids of the added items.
       */

    }, {
      key: "_add",
      value: function _add(_name, payload) {
        if (payload == null) {
          return;
        }

        this._target.add(this._transformItems(this._source.get(payload.items)));
      }
      /**
       * Handle an update event.
       *
       * @param _name - Ignored.
       * @param payload - The payload containing the ids of the updated items.
       */

    }, {
      key: "_update",
      value: function _update(_name, payload) {
        if (payload == null) {
          return;
        }

        this._target.update(this._transformItems(this._source.get(payload.items)));
      }
      /**
       * Handle a remove event.
       *
       * @param _name - Ignored.
       * @param payload - The payload containing the data of the removed items.
       */

    }, {
      key: "_remove",
      value: function _remove(_name, payload) {
        if (payload == null) {
          return;
        }

        this._target.remove(this._transformItems(payload.oldData));
      }
    }]);

    return SimpleDataPipe;
  }();
  /**
   * Internal implementation of the pipe factory. This should be accessible
   * only through `createNewDataPipeFrom` from the outside.
   *
   * @typeParam TI - Target item type.
   * @typeParam TP - Target item type's id property name.
   */


  var DataPipeUnderConstruction = /*#__PURE__*/function () {
    /**
     * Array transformers used to transform items within the pipe. This is typed
     * as any for the sake of simplicity.
     */

    /**
     * Create a new data pipe factory. This is an internal constructor that
     * should never be called from outside of this file.
     *
     * @param _source - The source data set or data view for this pipe.
     */
    function DataPipeUnderConstruction(_source) {
      _classCallCheck(this, DataPipeUnderConstruction);

      _defineProperty(this, "_source", void 0);

      _defineProperty(this, "_transformers", []);

      this._source = _source;
    }
    /**
     * Filter the items.
     *
     * @param callback - A filtering function that returns true if given item
     * should be piped and false if not.
     * @returns This factory for further configuration.
     */


    _createClass(DataPipeUnderConstruction, [{
      key: "filter",
      value: function filter$1(callback) {
        this._transformers.push(function (input) {
          return filter(input).call(input, callback);
        });

        return this;
      }
      /**
       * Map each source item to a new type.
       *
       * @param callback - A mapping function that takes a source item and returns
       * corresponding mapped item.
       * @typeParam TI - Target item type.
       * @typeParam TP - Target item type's id property name.
       * @returns This factory for further configuration.
       */

    }, {
      key: "map",
      value: function map(callback) {
        this._transformers.push(function (input) {
          return map$3(input).call(input, callback);
        });

        return this;
      }
      /**
       * Map each source item to zero or more items of a new type.
       *
       * @param callback - A mapping function that takes a source item and returns
       * an array of corresponding mapped items.
       * @typeParam TI - Target item type.
       * @typeParam TP - Target item type's id property name.
       * @returns This factory for further configuration.
       */

    }, {
      key: "flatMap",
      value: function flatMap$1(callback) {
        this._transformers.push(function (input) {
          return flatMap(input).call(input, callback);
        });

        return this;
      }
      /**
       * Connect this pipe to given data set.
       *
       * @param target - The data set that will receive the items from this pipe.
       * @returns The pipe connected between given data sets and performing
       * configured transformation on the processed items.
       */

    }, {
      key: "to",
      value: function to(target) {
        return new SimpleDataPipe(this._source, this._transformers, target);
      }
    }]);

    return DataPipeUnderConstruction;
  }();

  var global$o = global$M;
  var classof$a = classof$c;
  var String$2 = global$o.String;

  var toString$7 = function (argument) {
    if (classof$a(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');
    return String$2(argument);
  };

  var uncurryThis$g = functionUncurryThis;
  var toIntegerOrInfinity$2 = toIntegerOrInfinity$4;
  var toString$6 = toString$7;
  var requireObjectCoercible$2 = requireObjectCoercible$5;
  var charAt$2 = uncurryThis$g(''.charAt);
  var charCodeAt$1 = uncurryThis$g(''.charCodeAt);
  var stringSlice = uncurryThis$g(''.slice);

  var createMethod$3 = function (CONVERT_TO_STRING) {
    return function ($this, pos) {
      var S = toString$6(requireObjectCoercible$2($this));
      var position = toIntegerOrInfinity$2(pos);
      var size = S.length;
      var first, second;
      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;
      first = charCodeAt$1(S, position);
      return first < 0xD800 || first > 0xDBFF || position + 1 === size || (second = charCodeAt$1(S, position + 1)) < 0xDC00 || second > 0xDFFF ? CONVERT_TO_STRING ? charAt$2(S, position) : first : CONVERT_TO_STRING ? stringSlice(S, position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;
    };
  };

  var stringMultibyte = {
    // `String.prototype.codePointAt` method
    // https://tc39.es/ecma262/#sec-string.prototype.codepointat
    codeAt: createMethod$3(false),
    // `String.prototype.at` method
    // https://github.com/mathiasbynens/String.prototype.at
    charAt: createMethod$3(true)
  };

  var global$n = global$M;
  var isCallable$6 = isCallable$h;
  var inspectSource = inspectSource$2;
  var WeakMap$1 = global$n.WeakMap;
  var nativeWeakMap = isCallable$6(WeakMap$1) && /native code/.test(inspectSource(WeakMap$1));

  var shared$2 = shared$4.exports;
  var uid$2 = uid$4;
  var keys$7 = shared$2('keys');

  var sharedKey$4 = function (key) {
    return keys$7[key] || (keys$7[key] = uid$2(key));
  };

  var hiddenKeys$6 = {};

  var NATIVE_WEAK_MAP = nativeWeakMap;
  var global$m = global$M;
  var uncurryThis$f = functionUncurryThis;
  var isObject$8 = isObject$f;
  var createNonEnumerableProperty$4 = createNonEnumerableProperty$6;
  var hasOwn$b = hasOwnProperty_1;
  var shared$1 = sharedStore;
  var sharedKey$3 = sharedKey$4;
  var hiddenKeys$5 = hiddenKeys$6;
  var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
  var TypeError$b = global$m.TypeError;
  var WeakMap = global$m.WeakMap;
  var set$3, get, has;

  var enforce = function (it) {
    return has(it) ? get(it) : set$3(it, {});
  };

  var getterFor = function (TYPE) {
    return function (it) {
      var state;

      if (!isObject$8(it) || (state = get(it)).type !== TYPE) {
        throw TypeError$b('Incompatible receiver, ' + TYPE + ' required');
      }

      return state;
    };
  };

  if (NATIVE_WEAK_MAP || shared$1.state) {
    var store = shared$1.state || (shared$1.state = new WeakMap());
    var wmget = uncurryThis$f(store.get);
    var wmhas = uncurryThis$f(store.has);
    var wmset = uncurryThis$f(store.set);

    set$3 = function (it, metadata) {
      if (wmhas(store, it)) throw new TypeError$b(OBJECT_ALREADY_INITIALIZED);
      metadata.facade = it;
      wmset(store, it, metadata);
      return metadata;
    };

    get = function (it) {
      return wmget(store, it) || {};
    };

    has = function (it) {
      return wmhas(store, it);
    };
  } else {
    var STATE = sharedKey$3('state');
    hiddenKeys$5[STATE] = true;

    set$3 = function (it, metadata) {
      if (hasOwn$b(it, STATE)) throw new TypeError$b(OBJECT_ALREADY_INITIALIZED);
      metadata.facade = it;
      createNonEnumerableProperty$4(it, STATE, metadata);
      return metadata;
    };

    get = function (it) {
      return hasOwn$b(it, STATE) ? it[STATE] : {};
    };

    has = function (it) {
      return hasOwn$b(it, STATE);
    };
  }

  var internalState = {
    set: set$3,
    get: get,
    has: has,
    enforce: enforce,
    getterFor: getterFor
  };

  var DESCRIPTORS$b = descriptors;
  var hasOwn$a = hasOwnProperty_1;
  var FunctionPrototype = Function.prototype; // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe

  var getDescriptor = DESCRIPTORS$b && Object.getOwnPropertyDescriptor;
  var EXISTS = hasOwn$a(FunctionPrototype, 'name'); // additional protection from minified / mangled / dropped function names

  var PROPER = EXISTS && function something() {
    /* empty */
  }.name === 'something';

  var CONFIGURABLE = EXISTS && (!DESCRIPTORS$b || DESCRIPTORS$b && getDescriptor(FunctionPrototype, 'name').configurable);
  var functionName = {
    EXISTS: EXISTS,
    PROPER: PROPER,
    CONFIGURABLE: CONFIGURABLE
  };

  var objectDefineProperties = {};

  var toIntegerOrInfinity$1 = toIntegerOrInfinity$4;
  var max$3 = Math.max;
  var min$1 = Math.min; // Helper for a popular repeating case of the spec:
  // Let integer be ? ToInteger(index).
  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).

  var toAbsoluteIndex$5 = function (index, length) {
    var integer = toIntegerOrInfinity$1(index);
    return integer < 0 ? max$3(integer + length, 0) : min$1(integer, length);
  };

  var toIndexedObject$9 = toIndexedObject$b;
  var toAbsoluteIndex$4 = toAbsoluteIndex$5;
  var lengthOfArrayLike$8 = lengthOfArrayLike$d; // `Array.prototype.{ indexOf, includes }` methods implementation

  var createMethod$2 = function (IS_INCLUDES) {
    return function ($this, el, fromIndex) {
      var O = toIndexedObject$9($this);
      var length = lengthOfArrayLike$8(O);
      var index = toAbsoluteIndex$4(fromIndex, length);
      var value; // Array#includes uses SameValueZero equality algorithm
      // eslint-disable-next-line no-self-compare -- NaN check

      if (IS_INCLUDES && el != el) while (length > index) {
        value = O[index++]; // eslint-disable-next-line no-self-compare -- NaN check

        if (value != value) return true; // Array#indexOf ignores holes, Array#includes - not
      } else for (; length > index; index++) {
        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
      }
      return !IS_INCLUDES && -1;
    };
  };

  var arrayIncludes = {
    // `Array.prototype.includes` method
    // https://tc39.es/ecma262/#sec-array.prototype.includes
    includes: createMethod$2(true),
    // `Array.prototype.indexOf` method
    // https://tc39.es/ecma262/#sec-array.prototype.indexof
    indexOf: createMethod$2(false)
  };

  var uncurryThis$e = functionUncurryThis;
  var hasOwn$9 = hasOwnProperty_1;
  var toIndexedObject$8 = toIndexedObject$b;
  var indexOf = arrayIncludes.indexOf;
  var hiddenKeys$4 = hiddenKeys$6;
  var push$4 = uncurryThis$e([].push);

  var objectKeysInternal = function (object, names) {
    var O = toIndexedObject$8(object);
    var i = 0;
    var result = [];
    var key;

    for (key in O) !hasOwn$9(hiddenKeys$4, key) && hasOwn$9(O, key) && push$4(result, key); // Don't enum bug & hidden keys


    while (names.length > i) if (hasOwn$9(O, key = names[i++])) {
      ~indexOf(result, key) || push$4(result, key);
    }

    return result;
  };

  var enumBugKeys$3 = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'];

  var internalObjectKeys$1 = objectKeysInternal;
  var enumBugKeys$2 = enumBugKeys$3; // `Object.keys` method
  // https://tc39.es/ecma262/#sec-object.keys
  // eslint-disable-next-line es/no-object-keys -- safe

  var objectKeys$4 = Object.keys || function keys(O) {
    return internalObjectKeys$1(O, enumBugKeys$2);
  };

  var DESCRIPTORS$a = descriptors;
  var V8_PROTOTYPE_DEFINE_BUG = v8PrototypeDefineBug;
  var definePropertyModule$3 = objectDefineProperty;
  var anObject$9 = anObject$b;
  var toIndexedObject$7 = toIndexedObject$b;
  var objectKeys$3 = objectKeys$4; // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  // eslint-disable-next-line es/no-object-defineproperties -- safe

  objectDefineProperties.f = DESCRIPTORS$a && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
    anObject$9(O);
    var props = toIndexedObject$7(Properties);
    var keys = objectKeys$3(Properties);
    var length = keys.length;
    var index = 0;
    var key;

    while (length > index) definePropertyModule$3.f(O, key = keys[index++], props[key]);

    return O;
  };

  var getBuiltIn$5 = getBuiltIn$9;
  var html$1 = getBuiltIn$5('document', 'documentElement');

  /* global ActiveXObject -- old IE, WSH */
  var anObject$8 = anObject$b;
  var definePropertiesModule$1 = objectDefineProperties;
  var enumBugKeys$1 = enumBugKeys$3;
  var hiddenKeys$3 = hiddenKeys$6;
  var html = html$1;
  var documentCreateElement = documentCreateElement$1;
  var sharedKey$2 = sharedKey$4;
  var GT = '>';
  var LT = '<';
  var PROTOTYPE$1 = 'prototype';
  var SCRIPT = 'script';
  var IE_PROTO$1 = sharedKey$2('IE_PROTO');

  var EmptyConstructor = function () {
    /* empty */
  };

  var scriptTag = function (content) {
    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
  }; // Create object with fake `null` prototype: use ActiveX Object with cleared prototype


  var NullProtoObjectViaActiveX = function (activeXDocument) {
    activeXDocument.write(scriptTag(''));
    activeXDocument.close();
    var temp = activeXDocument.parentWindow.Object;
    activeXDocument = null; // avoid memory leak

    return temp;
  }; // Create object with fake `null` prototype: use iframe Object with cleared prototype


  var NullProtoObjectViaIFrame = function () {
    // Thrash, waste and sodomy: IE GC bug
    var iframe = documentCreateElement('iframe');
    var JS = 'java' + SCRIPT + ':';
    var iframeDocument;
    iframe.style.display = 'none';
    html.appendChild(iframe); // https://github.com/zloirock/core-js/issues/475

    iframe.src = String(JS);
    iframeDocument = iframe.contentWindow.document;
    iframeDocument.open();
    iframeDocument.write(scriptTag('document.F=Object'));
    iframeDocument.close();
    return iframeDocument.F;
  }; // Check for document.domain and active x support
  // No need to use active x approach when document.domain is not set
  // see https://github.com/es-shims/es5-shim/issues/150
  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
  // avoid IE GC bug


  var activeXDocument;

  var NullProtoObject = function () {
    try {
      activeXDocument = new ActiveXObject('htmlfile');
    } catch (error) {
      /* ignore */
    }

    NullProtoObject = typeof document != 'undefined' ? document.domain && activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) // old IE
    : NullProtoObjectViaIFrame() : NullProtoObjectViaActiveX(activeXDocument); // WSH

    var length = enumBugKeys$1.length;

    while (length--) delete NullProtoObject[PROTOTYPE$1][enumBugKeys$1[length]];

    return NullProtoObject();
  };

  hiddenKeys$3[IE_PROTO$1] = true; // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create

  var objectCreate = Object.create || function create(O, Properties) {
    var result;

    if (O !== null) {
      EmptyConstructor[PROTOTYPE$1] = anObject$8(O);
      result = new EmptyConstructor();
      EmptyConstructor[PROTOTYPE$1] = null; // add "__proto__" for Object.getPrototypeOf polyfill

      result[IE_PROTO$1] = O;
    } else result = NullProtoObject();

    return Properties === undefined ? result : definePropertiesModule$1.f(result, Properties);
  };

  var fails$g = fails$r;
  var correctPrototypeGetter = !fails$g(function () {
    function F() {
      /* empty */
    }

    F.prototype.constructor = null; // eslint-disable-next-line es/no-object-getprototypeof -- required for testing

    return Object.getPrototypeOf(new F()) !== F.prototype;
  });

  var global$l = global$M;
  var hasOwn$8 = hasOwnProperty_1;
  var isCallable$5 = isCallable$h;
  var toObject$9 = toObject$e;
  var sharedKey$1 = sharedKey$4;
  var CORRECT_PROTOTYPE_GETTER$1 = correctPrototypeGetter;
  var IE_PROTO = sharedKey$1('IE_PROTO');
  var Object$4 = global$l.Object;
  var ObjectPrototype$2 = Object$4.prototype; // `Object.getPrototypeOf` method
  // https://tc39.es/ecma262/#sec-object.getprototypeof

  var objectGetPrototypeOf = CORRECT_PROTOTYPE_GETTER$1 ? Object$4.getPrototypeOf : function (O) {
    var object = toObject$9(O);
    if (hasOwn$8(object, IE_PROTO)) return object[IE_PROTO];
    var constructor = object.constructor;

    if (isCallable$5(constructor) && object instanceof constructor) {
      return constructor.prototype;
    }

    return object instanceof Object$4 ? ObjectPrototype$2 : null;
  };

  var createNonEnumerableProperty$3 = createNonEnumerableProperty$6;

  var redefine$4 = function (target, key, value, options) {
    if (options && options.enumerable) target[key] = value;else createNonEnumerableProperty$3(target, key, value);
  };

  var fails$f = fails$r;
  var isCallable$4 = isCallable$h;
  var create$a = objectCreate;
  var getPrototypeOf$6 = objectGetPrototypeOf;
  var redefine$3 = redefine$4;
  var wellKnownSymbol$d = wellKnownSymbol$j;
  var ITERATOR$5 = wellKnownSymbol$d('iterator');
  var BUGGY_SAFARI_ITERATORS$1 = false; // `%IteratorPrototype%` object
  // https://tc39.es/ecma262/#sec-%iteratorprototype%-object

  var IteratorPrototype$1, PrototypeOfArrayIteratorPrototype, arrayIterator;
  /* eslint-disable es/no-array-prototype-keys -- safe */

  if ([].keys) {
    arrayIterator = [].keys(); // Safari 8 has buggy iterators w/o `next`

    if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS$1 = true;else {
      PrototypeOfArrayIteratorPrototype = getPrototypeOf$6(getPrototypeOf$6(arrayIterator));
      if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype$1 = PrototypeOfArrayIteratorPrototype;
    }
  }

  var NEW_ITERATOR_PROTOTYPE = IteratorPrototype$1 == undefined || fails$f(function () {
    var test = {}; // FF44- legacy iterators case

    return IteratorPrototype$1[ITERATOR$5].call(test) !== test;
  });
  if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype$1 = {};else IteratorPrototype$1 = create$a(IteratorPrototype$1); // `%IteratorPrototype%[@@iterator]()` method
  // https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator

  if (!isCallable$4(IteratorPrototype$1[ITERATOR$5])) {
    redefine$3(IteratorPrototype$1, ITERATOR$5, function () {
      return this;
    });
  }

  var iteratorsCore = {
    IteratorPrototype: IteratorPrototype$1,
    BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS$1
  };

  var TO_STRING_TAG_SUPPORT$1 = toStringTagSupport;
  var classof$9 = classof$c; // `Object.prototype.toString` method implementation
  // https://tc39.es/ecma262/#sec-object.prototype.tostring

  var objectToString = TO_STRING_TAG_SUPPORT$1 ? {}.toString : function toString() {
    return '[object ' + classof$9(this) + ']';
  };

  var TO_STRING_TAG_SUPPORT = toStringTagSupport;
  var defineProperty$6 = objectDefineProperty.f;
  var createNonEnumerableProperty$2 = createNonEnumerableProperty$6;
  var hasOwn$7 = hasOwnProperty_1;
  var toString$5 = objectToString;
  var wellKnownSymbol$c = wellKnownSymbol$j;
  var TO_STRING_TAG$1 = wellKnownSymbol$c('toStringTag');

  var setToStringTag$5 = function (it, TAG, STATIC, SET_METHOD) {
    if (it) {
      var target = STATIC ? it : it.prototype;

      if (!hasOwn$7(target, TO_STRING_TAG$1)) {
        defineProperty$6(target, TO_STRING_TAG$1, {
          configurable: true,
          value: TAG
        });
      }

      if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {
        createNonEnumerableProperty$2(target, 'toString', toString$5);
      }
    }
  };

  var iterators = {};

  var IteratorPrototype = iteratorsCore.IteratorPrototype;
  var create$9 = objectCreate;
  var createPropertyDescriptor$2 = createPropertyDescriptor$5;
  var setToStringTag$4 = setToStringTag$5;
  var Iterators$5 = iterators;

  var returnThis$1 = function () {
    return this;
  };

  var createIteratorConstructor$1 = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {
    var TO_STRING_TAG = NAME + ' Iterator';
    IteratorConstructor.prototype = create$9(IteratorPrototype, {
      next: createPropertyDescriptor$2(+!ENUMERABLE_NEXT, next)
    });
    setToStringTag$4(IteratorConstructor, TO_STRING_TAG, false, true);
    Iterators$5[TO_STRING_TAG] = returnThis$1;
    return IteratorConstructor;
  };

  var global$k = global$M;
  var isCallable$3 = isCallable$h;
  var String$1 = global$k.String;
  var TypeError$a = global$k.TypeError;

  var aPossiblePrototype$1 = function (argument) {
    if (typeof argument == 'object' || isCallable$3(argument)) return argument;
    throw TypeError$a("Can't set " + String$1(argument) + ' as a prototype');
  };

  /* eslint-disable no-proto -- safe */
  var uncurryThis$d = functionUncurryThis;
  var anObject$7 = anObject$b;
  var aPossiblePrototype = aPossiblePrototype$1; // `Object.setPrototypeOf` method
  // https://tc39.es/ecma262/#sec-object.setprototypeof
  // Works with __proto__ only. Old v8 can't work with null proto objects.
  // eslint-disable-next-line es/no-object-setprototypeof -- safe

  var objectSetPrototypeOf = Object.setPrototypeOf || ('__proto__' in {} ? function () {
    var CORRECT_SETTER = false;
    var test = {};
    var setter;

    try {
      // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
      setter = uncurryThis$d(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);
      setter(test, []);
      CORRECT_SETTER = test instanceof Array;
    } catch (error) {
      /* empty */
    }

    return function setPrototypeOf(O, proto) {
      anObject$7(O);
      aPossiblePrototype(proto);
      if (CORRECT_SETTER) setter(O, proto);else O.__proto__ = proto;
      return O;
    };
  }() : undefined);

  var $$w = _export;
  var call$6 = functionCall;
  var FunctionName = functionName;
  var createIteratorConstructor = createIteratorConstructor$1;
  var getPrototypeOf$5 = objectGetPrototypeOf;
  var setToStringTag$3 = setToStringTag$5;
  var redefine$2 = redefine$4;
  var wellKnownSymbol$b = wellKnownSymbol$j;
  var Iterators$4 = iterators;
  var IteratorsCore = iteratorsCore;
  var PROPER_FUNCTION_NAME$1 = FunctionName.PROPER;
  var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
  var ITERATOR$4 = wellKnownSymbol$b('iterator');
  var KEYS = 'keys';
  var VALUES = 'values';
  var ENTRIES = 'entries';

  var returnThis = function () {
    return this;
  };

  var defineIterator$3 = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
    createIteratorConstructor(IteratorConstructor, NAME, next);

    var getIterationMethod = function (KIND) {
      if (KIND === DEFAULT && defaultIterator) return defaultIterator;
      if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];

      switch (KIND) {
        case KEYS:
          return function keys() {
            return new IteratorConstructor(this, KIND);
          };

        case VALUES:
          return function values() {
            return new IteratorConstructor(this, KIND);
          };

        case ENTRIES:
          return function entries() {
            return new IteratorConstructor(this, KIND);
          };
      }

      return function () {
        return new IteratorConstructor(this);
      };
    };

    var TO_STRING_TAG = NAME + ' Iterator';
    var INCORRECT_VALUES_NAME = false;
    var IterablePrototype = Iterable.prototype;
    var nativeIterator = IterablePrototype[ITERATOR$4] || IterablePrototype['@@iterator'] || DEFAULT && IterablePrototype[DEFAULT];
    var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
    var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;
    var CurrentIteratorPrototype, methods, KEY; // fix native

    if (anyNativeIterator) {
      CurrentIteratorPrototype = getPrototypeOf$5(anyNativeIterator.call(new Iterable()));

      if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {


        setToStringTag$3(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
        Iterators$4[TO_STRING_TAG] = returnThis;
      }
    } // fix Array.prototype.{ values, @@iterator }.name in V8 / FF


    if (PROPER_FUNCTION_NAME$1 && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
      {
        INCORRECT_VALUES_NAME = true;

        defaultIterator = function values() {
          return call$6(nativeIterator, this);
        };
      }
    } // export additional methods


    if (DEFAULT) {
      methods = {
        values: getIterationMethod(VALUES),
        keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
        entries: getIterationMethod(ENTRIES)
      };
      if (FORCED) for (KEY in methods) {
        if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
          redefine$2(IterablePrototype, KEY, methods[KEY]);
        }
      } else $$w({
        target: NAME,
        proto: true,
        forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME
      }, methods);
    } // define iterator


    if ((FORCED) && IterablePrototype[ITERATOR$4] !== defaultIterator) {
      redefine$2(IterablePrototype, ITERATOR$4, defaultIterator, {
        name: DEFAULT
      });
    }

    Iterators$4[NAME] = defaultIterator;
    return methods;
  };

  var charAt$1 = stringMultibyte.charAt;
  var toString$4 = toString$7;
  var InternalStateModule$4 = internalState;
  var defineIterator$2 = defineIterator$3;
  var STRING_ITERATOR = 'String Iterator';
  var setInternalState$4 = InternalStateModule$4.set;
  var getInternalState$2 = InternalStateModule$4.getterFor(STRING_ITERATOR); // `String.prototype[@@iterator]` method
  // https://tc39.es/ecma262/#sec-string.prototype-@@iterator

  defineIterator$2(String, 'String', function (iterated) {
    setInternalState$4(this, {
      type: STRING_ITERATOR,
      string: toString$4(iterated),
      index: 0
    }); // `%StringIteratorPrototype%.next` method
    // https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next
  }, function next() {
    var state = getInternalState$2(this);
    var string = state.string;
    var index = state.index;
    var point;
    if (index >= string.length) return {
      value: undefined,
      done: true
    };
    point = charAt$1(string, index);
    state.index += point.length;
    return {
      value: point,
      done: false
    };
  });

  var call$5 = functionCall;
  var anObject$6 = anObject$b;
  var getMethod$1 = getMethod$3;

  var iteratorClose$2 = function (iterator, kind, value) {
    var innerResult, innerError;
    anObject$6(iterator);

    try {
      innerResult = getMethod$1(iterator, 'return');

      if (!innerResult) {
        if (kind === 'throw') throw value;
        return value;
      }

      innerResult = call$5(innerResult, iterator);
    } catch (error) {
      innerError = true;
      innerResult = error;
    }

    if (kind === 'throw') throw value;
    if (innerError) throw innerResult;
    anObject$6(innerResult);
    return value;
  };

  var anObject$5 = anObject$b;
  var iteratorClose$1 = iteratorClose$2; // call something on iterator step with safe closing on error

  var callWithSafeIterationClosing$1 = function (iterator, fn, value, ENTRIES) {
    try {
      return ENTRIES ? fn(anObject$5(value)[0], value[1]) : fn(value);
    } catch (error) {
      iteratorClose$1(iterator, 'throw', error);
    }
  };

  var wellKnownSymbol$a = wellKnownSymbol$j;
  var Iterators$3 = iterators;
  var ITERATOR$3 = wellKnownSymbol$a('iterator');
  var ArrayPrototype$a = Array.prototype; // check on default Array iterator

  var isArrayIteratorMethod$2 = function (it) {
    return it !== undefined && (Iterators$3.Array === it || ArrayPrototype$a[ITERATOR$3] === it);
  };

  var toPropertyKey$1 = toPropertyKey$4;
  var definePropertyModule$2 = objectDefineProperty;
  var createPropertyDescriptor$1 = createPropertyDescriptor$5;

  var createProperty$6 = function (object, key, value) {
    var propertyKey = toPropertyKey$1(key);
    if (propertyKey in object) definePropertyModule$2.f(object, propertyKey, createPropertyDescriptor$1(0, value));else object[propertyKey] = value;
  };

  var classof$8 = classof$c;
  var getMethod = getMethod$3;
  var Iterators$2 = iterators;
  var wellKnownSymbol$9 = wellKnownSymbol$j;
  var ITERATOR$2 = wellKnownSymbol$9('iterator');

  var getIteratorMethod$8 = function (it) {
    if (it != undefined) return getMethod(it, ITERATOR$2) || getMethod(it, '@@iterator') || Iterators$2[classof$8(it)];
  };

  var global$j = global$M;
  var call$4 = functionCall;
  var aCallable$1 = aCallable$7;
  var anObject$4 = anObject$b;
  var tryToString$2 = tryToString$4;
  var getIteratorMethod$7 = getIteratorMethod$8;
  var TypeError$9 = global$j.TypeError;

  var getIterator$7 = function (argument, usingIterator) {
    var iteratorMethod = arguments.length < 2 ? getIteratorMethod$7(argument) : usingIterator;
    if (aCallable$1(iteratorMethod)) return anObject$4(call$4(iteratorMethod, argument));
    throw TypeError$9(tryToString$2(argument) + ' is not iterable');
  };

  var global$i = global$M;
  var bind$3 = functionBindContext;
  var call$3 = functionCall;
  var toObject$8 = toObject$e;
  var callWithSafeIterationClosing = callWithSafeIterationClosing$1;
  var isArrayIteratorMethod$1 = isArrayIteratorMethod$2;
  var isConstructor$2 = isConstructor$4;
  var lengthOfArrayLike$7 = lengthOfArrayLike$d;
  var createProperty$5 = createProperty$6;
  var getIterator$6 = getIterator$7;
  var getIteratorMethod$6 = getIteratorMethod$8;
  var Array$4 = global$i.Array; // `Array.from` method implementation
  // https://tc39.es/ecma262/#sec-array.from

  var arrayFrom = function from(arrayLike
  /* , mapfn = undefined, thisArg = undefined */
  ) {
    var O = toObject$8(arrayLike);
    var IS_CONSTRUCTOR = isConstructor$2(this);
    var argumentsLength = arguments.length;
    var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    if (mapping) mapfn = bind$3(mapfn, argumentsLength > 2 ? arguments[2] : undefined);
    var iteratorMethod = getIteratorMethod$6(O);
    var index = 0;
    var length, result, step, iterator, next, value; // if the target is not iterable or it's an array with the default iterator - use a simple case

    if (iteratorMethod && !(this == Array$4 && isArrayIteratorMethod$1(iteratorMethod))) {
      iterator = getIterator$6(O, iteratorMethod);
      next = iterator.next;
      result = IS_CONSTRUCTOR ? new this() : [];

      for (; !(step = call$3(next, iterator)).done; index++) {
        value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;
        createProperty$5(result, index, value);
      }
    } else {
      length = lengthOfArrayLike$7(O);
      result = IS_CONSTRUCTOR ? new this(length) : Array$4(length);

      for (; length > index; index++) {
        value = mapping ? mapfn(O[index], index) : O[index];
        createProperty$5(result, index, value);
      }
    }

    result.length = index;
    return result;
  };

  var wellKnownSymbol$8 = wellKnownSymbol$j;
  var ITERATOR$1 = wellKnownSymbol$8('iterator');
  var SAFE_CLOSING = false;

  try {
    var called = 0;
    var iteratorWithReturn = {
      next: function () {
        return {
          done: !!called++
        };
      },
      'return': function () {
        SAFE_CLOSING = true;
      }
    };

    iteratorWithReturn[ITERATOR$1] = function () {
      return this;
    }; // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing


    Array.from(iteratorWithReturn, function () {
      throw 2;
    });
  } catch (error) {
    /* empty */
  }

  var checkCorrectnessOfIteration$1 = function (exec, SKIP_CLOSING) {
    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;
    var ITERATION_SUPPORT = false;

    try {
      var object = {};

      object[ITERATOR$1] = function () {
        return {
          next: function () {
            return {
              done: ITERATION_SUPPORT = true
            };
          }
        };
      };

      exec(object);
    } catch (error) {
      /* empty */
    }

    return ITERATION_SUPPORT;
  };

  var $$v = _export;
  var from$6 = arrayFrom;
  var checkCorrectnessOfIteration = checkCorrectnessOfIteration$1;
  var INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {
    // eslint-disable-next-line es/no-array-from -- required for testing
    Array.from(iterable);
  }); // `Array.from` method
  // https://tc39.es/ecma262/#sec-array.from

  $$v({
    target: 'Array',
    stat: true,
    forced: INCORRECT_ITERATION
  }, {
    from: from$6
  });

  var path$l = path$q;
  var from$5 = path$l.Array.from;

  var parent$N = from$5;
  var from$4 = parent$N;

  var from$3 = from$4;

  var toIndexedObject$6 = toIndexedObject$b;
  var Iterators$1 = iterators;
  var InternalStateModule$3 = internalState;
  objectDefineProperty.f;
  var defineIterator$1 = defineIterator$3;
  var ARRAY_ITERATOR = 'Array Iterator';
  var setInternalState$3 = InternalStateModule$3.set;
  var getInternalState$1 = InternalStateModule$3.getterFor(ARRAY_ITERATOR); // `Array.prototype.entries` method
  // https://tc39.es/ecma262/#sec-array.prototype.entries
  // `Array.prototype.keys` method
  // https://tc39.es/ecma262/#sec-array.prototype.keys
  // `Array.prototype.values` method
  // https://tc39.es/ecma262/#sec-array.prototype.values
  // `Array.prototype[@@iterator]` method
  // https://tc39.es/ecma262/#sec-array.prototype-@@iterator
  // `CreateArrayIterator` internal method
  // https://tc39.es/ecma262/#sec-createarrayiterator

  defineIterator$1(Array, 'Array', function (iterated, kind) {
    setInternalState$3(this, {
      type: ARRAY_ITERATOR,
      target: toIndexedObject$6(iterated),
      // target
      index: 0,
      // next index
      kind: kind // kind

    }); // `%ArrayIteratorPrototype%.next` method
    // https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next
  }, function () {
    var state = getInternalState$1(this);
    var target = state.target;
    var kind = state.kind;
    var index = state.index++;

    if (!target || index >= target.length) {
      state.target = undefined;
      return {
        value: undefined,
        done: true
      };
    }

    if (kind == 'keys') return {
      value: index,
      done: false
    };
    if (kind == 'values') return {
      value: target[index],
      done: false
    };
    return {
      value: [index, target[index]],
      done: false
    };
  }, 'values'); // argumentsList[@@iterator] is %ArrayProto_values%
  // https://tc39.es/ecma262/#sec-createunmappedargumentsobject
  // https://tc39.es/ecma262/#sec-createmappedargumentsobject

  Iterators$1.Arguments = Iterators$1.Array; // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables

  var getIteratorMethod$5 = getIteratorMethod$8;
  var getIteratorMethod_1 = getIteratorMethod$5;

  // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods

  var domIterables = {
    CSSRuleList: 0,
    CSSStyleDeclaration: 0,
    CSSValueList: 0,
    ClientRectList: 0,
    DOMRectList: 0,
    DOMStringList: 0,
    DOMTokenList: 1,
    DataTransferItemList: 0,
    FileList: 0,
    HTMLAllCollection: 0,
    HTMLCollection: 0,
    HTMLFormElement: 0,
    HTMLSelectElement: 0,
    MediaList: 0,
    MimeTypeArray: 0,
    NamedNodeMap: 0,
    NodeList: 1,
    PaintRequestList: 0,
    Plugin: 0,
    PluginArray: 0,
    SVGLengthList: 0,
    SVGNumberList: 0,
    SVGPathSegList: 0,
    SVGPointList: 0,
    SVGStringList: 0,
    SVGTransformList: 0,
    SourceBufferList: 0,
    StyleSheetList: 0,
    TextTrackCueList: 0,
    TextTrackList: 0,
    TouchList: 0
  };

  var DOMIterables$4 = domIterables;
  var global$h = global$M;
  var classof$7 = classof$c;
  var createNonEnumerableProperty$1 = createNonEnumerableProperty$6;
  var Iterators = iterators;
  var wellKnownSymbol$7 = wellKnownSymbol$j;
  var TO_STRING_TAG = wellKnownSymbol$7('toStringTag');

  for (var COLLECTION_NAME in DOMIterables$4) {
    var Collection = global$h[COLLECTION_NAME];
    var CollectionPrototype = Collection && Collection.prototype;

    if (CollectionPrototype && classof$7(CollectionPrototype) !== TO_STRING_TAG) {
      createNonEnumerableProperty$1(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);
    }

    Iterators[COLLECTION_NAME] = Iterators.Array;
  }

  var parent$M = getIteratorMethod_1;
  var getIteratorMethod$4 = parent$M;

  var parent$L = getIteratorMethod$4;
  var getIteratorMethod$3 = parent$L;

  var parent$K = getIteratorMethod$3;
  var getIteratorMethod$2 = parent$K;

  var getIteratorMethod$1 = getIteratorMethod$2;

  var objectGetOwnPropertyNames = {};

  var internalObjectKeys = objectKeysInternal;
  var enumBugKeys = enumBugKeys$3;
  var hiddenKeys$2 = enumBugKeys.concat('length', 'prototype'); // `Object.getOwnPropertyNames` method
  // https://tc39.es/ecma262/#sec-object.getownpropertynames
  // eslint-disable-next-line es/no-object-getownpropertynames -- safe

  objectGetOwnPropertyNames.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
    return internalObjectKeys(O, hiddenKeys$2);
  };

  var objectGetOwnPropertyNamesExternal = {};

  var global$g = global$M;
  var toAbsoluteIndex$3 = toAbsoluteIndex$5;
  var lengthOfArrayLike$6 = lengthOfArrayLike$d;
  var createProperty$4 = createProperty$6;
  var Array$3 = global$g.Array;
  var max$2 = Math.max;

  var arraySliceSimple = function (O, start, end) {
    var length = lengthOfArrayLike$6(O);
    var k = toAbsoluteIndex$3(start, length);
    var fin = toAbsoluteIndex$3(end === undefined ? length : end, length);
    var result = Array$3(max$2(fin - k, 0));

    for (var n = 0; k < fin; k++, n++) createProperty$4(result, n, O[k]);

    result.length = n;
    return result;
  };

  /* eslint-disable es/no-object-getownpropertynames -- safe */
  var classof$6 = classofRaw$1;
  var toIndexedObject$5 = toIndexedObject$b;
  var $getOwnPropertyNames$1 = objectGetOwnPropertyNames.f;
  var arraySlice$3 = arraySliceSimple;
  var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];

  var getWindowNames = function (it) {
    try {
      return $getOwnPropertyNames$1(it);
    } catch (error) {
      return arraySlice$3(windowNames);
    }
  }; // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window


  objectGetOwnPropertyNamesExternal.f = function getOwnPropertyNames(it) {
    return windowNames && classof$6(it) == 'Window' ? getWindowNames(it) : $getOwnPropertyNames$1(toIndexedObject$5(it));
  };

  var objectGetOwnPropertySymbols = {};

  objectGetOwnPropertySymbols.f = Object.getOwnPropertySymbols;

  var wellKnownSymbolWrapped = {};

  var wellKnownSymbol$6 = wellKnownSymbol$j;
  wellKnownSymbolWrapped.f = wellKnownSymbol$6;

  var path$k = path$q;
  var hasOwn$6 = hasOwnProperty_1;
  var wrappedWellKnownSymbolModule$1 = wellKnownSymbolWrapped;
  var defineProperty$5 = objectDefineProperty.f;

  var defineWellKnownSymbol$l = function (NAME) {
    var Symbol = path$k.Symbol || (path$k.Symbol = {});
    if (!hasOwn$6(Symbol, NAME)) defineProperty$5(Symbol, NAME, {
      value: wrappedWellKnownSymbolModule$1.f(NAME)
    });
  };

  var $$u = _export;
  var global$f = global$M;
  var getBuiltIn$4 = getBuiltIn$9;
  var apply$4 = functionApply;
  var call$2 = functionCall;
  var uncurryThis$c = functionUncurryThis;
  var DESCRIPTORS$9 = descriptors;
  var NATIVE_SYMBOL = nativeSymbol;
  var fails$e = fails$r;
  var hasOwn$5 = hasOwnProperty_1;
  var isArray$a = isArray$d;
  var isCallable$2 = isCallable$h;
  var isObject$7 = isObject$f;
  var isPrototypeOf$c = objectIsPrototypeOf;
  var isSymbol = isSymbol$3;
  var anObject$3 = anObject$b;
  var toObject$7 = toObject$e;
  var toIndexedObject$4 = toIndexedObject$b;
  var toPropertyKey = toPropertyKey$4;
  var $toString = toString$7;
  var createPropertyDescriptor = createPropertyDescriptor$5;
  var nativeObjectCreate = objectCreate;
  var objectKeys$2 = objectKeys$4;
  var getOwnPropertyNamesModule$2 = objectGetOwnPropertyNames;
  var getOwnPropertyNamesExternal = objectGetOwnPropertyNamesExternal;
  var getOwnPropertySymbolsModule$2 = objectGetOwnPropertySymbols;
  var getOwnPropertyDescriptorModule$1 = objectGetOwnPropertyDescriptor;
  var definePropertyModule$1 = objectDefineProperty;
  var definePropertiesModule = objectDefineProperties;
  var propertyIsEnumerableModule$1 = objectPropertyIsEnumerable;
  var arraySlice$2 = arraySlice$5;
  var redefine$1 = redefine$4;
  var shared = shared$4.exports;
  var sharedKey = sharedKey$4;
  var hiddenKeys$1 = hiddenKeys$6;
  var uid$1 = uid$4;
  var wellKnownSymbol$5 = wellKnownSymbol$j;
  var wrappedWellKnownSymbolModule = wellKnownSymbolWrapped;
  var defineWellKnownSymbol$k = defineWellKnownSymbol$l;
  var setToStringTag$2 = setToStringTag$5;
  var InternalStateModule$2 = internalState;
  var $forEach$1 = arrayIteration.forEach;
  var HIDDEN = sharedKey('hidden');
  var SYMBOL = 'Symbol';
  var PROTOTYPE = 'prototype';
  var TO_PRIMITIVE = wellKnownSymbol$5('toPrimitive');
  var setInternalState$2 = InternalStateModule$2.set;
  var getInternalState = InternalStateModule$2.getterFor(SYMBOL);
  var ObjectPrototype$1 = Object[PROTOTYPE];
  var $Symbol = global$f.Symbol;
  var SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];
  var TypeError$8 = global$f.TypeError;
  var QObject = global$f.QObject;
  var $stringify$1 = getBuiltIn$4('JSON', 'stringify');
  var nativeGetOwnPropertyDescriptor$1 = getOwnPropertyDescriptorModule$1.f;
  var nativeDefineProperty = definePropertyModule$1.f;
  var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
  var nativePropertyIsEnumerable = propertyIsEnumerableModule$1.f;
  var push$3 = uncurryThis$c([].push);
  var AllSymbols = shared('symbols');
  var ObjectPrototypeSymbols = shared('op-symbols');
  var StringToSymbolRegistry = shared('string-to-symbol-registry');
  var SymbolToStringRegistry = shared('symbol-to-string-registry');
  var WellKnownSymbolsStore = shared('wks'); // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173

  var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild; // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687

  var setSymbolDescriptor = DESCRIPTORS$9 && fails$e(function () {
    return nativeObjectCreate(nativeDefineProperty({}, 'a', {
      get: function () {
        return nativeDefineProperty(this, 'a', {
          value: 7
        }).a;
      }
    })).a != 7;
  }) ? function (O, P, Attributes) {
    var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor$1(ObjectPrototype$1, P);
    if (ObjectPrototypeDescriptor) delete ObjectPrototype$1[P];
    nativeDefineProperty(O, P, Attributes);

    if (ObjectPrototypeDescriptor && O !== ObjectPrototype$1) {
      nativeDefineProperty(ObjectPrototype$1, P, ObjectPrototypeDescriptor);
    }
  } : nativeDefineProperty;

  var wrap$1 = function (tag, description) {
    var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);
    setInternalState$2(symbol, {
      type: SYMBOL,
      tag: tag,
      description: description
    });
    if (!DESCRIPTORS$9) symbol.description = description;
    return symbol;
  };

  var $defineProperty = function defineProperty(O, P, Attributes) {
    if (O === ObjectPrototype$1) $defineProperty(ObjectPrototypeSymbols, P, Attributes);
    anObject$3(O);
    var key = toPropertyKey(P);
    anObject$3(Attributes);

    if (hasOwn$5(AllSymbols, key)) {
      if (!Attributes.enumerable) {
        if (!hasOwn$5(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));
        O[HIDDEN][key] = true;
      } else {
        if (hasOwn$5(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;
        Attributes = nativeObjectCreate(Attributes, {
          enumerable: createPropertyDescriptor(0, false)
        });
      }

      return setSymbolDescriptor(O, key, Attributes);
    }

    return nativeDefineProperty(O, key, Attributes);
  };

  var $defineProperties = function defineProperties(O, Properties) {
    anObject$3(O);
    var properties = toIndexedObject$4(Properties);
    var keys = objectKeys$2(properties).concat($getOwnPropertySymbols(properties));
    $forEach$1(keys, function (key) {
      if (!DESCRIPTORS$9 || call$2($propertyIsEnumerable$1, properties, key)) $defineProperty(O, key, properties[key]);
    });
    return O;
  };

  var $create = function create(O, Properties) {
    return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);
  };

  var $propertyIsEnumerable$1 = function propertyIsEnumerable(V) {
    var P = toPropertyKey(V);
    var enumerable = call$2(nativePropertyIsEnumerable, this, P);
    if (this === ObjectPrototype$1 && hasOwn$5(AllSymbols, P) && !hasOwn$5(ObjectPrototypeSymbols, P)) return false;
    return enumerable || !hasOwn$5(this, P) || !hasOwn$5(AllSymbols, P) || hasOwn$5(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;
  };

  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
    var it = toIndexedObject$4(O);
    var key = toPropertyKey(P);
    if (it === ObjectPrototype$1 && hasOwn$5(AllSymbols, key) && !hasOwn$5(ObjectPrototypeSymbols, key)) return;
    var descriptor = nativeGetOwnPropertyDescriptor$1(it, key);

    if (descriptor && hasOwn$5(AllSymbols, key) && !(hasOwn$5(it, HIDDEN) && it[HIDDEN][key])) {
      descriptor.enumerable = true;
    }

    return descriptor;
  };

  var $getOwnPropertyNames = function getOwnPropertyNames(O) {
    var names = nativeGetOwnPropertyNames(toIndexedObject$4(O));
    var result = [];
    $forEach$1(names, function (key) {
      if (!hasOwn$5(AllSymbols, key) && !hasOwn$5(hiddenKeys$1, key)) push$3(result, key);
    });
    return result;
  };

  var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {
    var IS_OBJECT_PROTOTYPE = O === ObjectPrototype$1;
    var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject$4(O));
    var result = [];
    $forEach$1(names, function (key) {
      if (hasOwn$5(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn$5(ObjectPrototype$1, key))) {
        push$3(result, AllSymbols[key]);
      }
    });
    return result;
  }; // `Symbol` constructor
  // https://tc39.es/ecma262/#sec-symbol-constructor


  if (!NATIVE_SYMBOL) {
    $Symbol = function Symbol() {
      if (isPrototypeOf$c(SymbolPrototype, this)) throw TypeError$8('Symbol is not a constructor');
      var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);
      var tag = uid$1(description);

      var setter = function (value) {
        if (this === ObjectPrototype$1) call$2(setter, ObjectPrototypeSymbols, value);
        if (hasOwn$5(this, HIDDEN) && hasOwn$5(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
        setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));
      };

      if (DESCRIPTORS$9 && USE_SETTER) setSymbolDescriptor(ObjectPrototype$1, tag, {
        configurable: true,
        set: setter
      });
      return wrap$1(tag, description);
    };

    SymbolPrototype = $Symbol[PROTOTYPE];
    redefine$1(SymbolPrototype, 'toString', function toString() {
      return getInternalState(this).tag;
    });
    redefine$1($Symbol, 'withoutSetter', function (description) {
      return wrap$1(uid$1(description), description);
    });
    propertyIsEnumerableModule$1.f = $propertyIsEnumerable$1;
    definePropertyModule$1.f = $defineProperty;
    definePropertiesModule.f = $defineProperties;
    getOwnPropertyDescriptorModule$1.f = $getOwnPropertyDescriptor;
    getOwnPropertyNamesModule$2.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
    getOwnPropertySymbolsModule$2.f = $getOwnPropertySymbols;

    wrappedWellKnownSymbolModule.f = function (name) {
      return wrap$1(wellKnownSymbol$5(name), name);
    };

    if (DESCRIPTORS$9) {
      // https://github.com/tc39/proposal-Symbol-description
      nativeDefineProperty(SymbolPrototype, 'description', {
        configurable: true,
        get: function description() {
          return getInternalState(this).description;
        }
      });
    }
  }

  $$u({
    global: true,
    wrap: true,
    forced: !NATIVE_SYMBOL,
    sham: !NATIVE_SYMBOL
  }, {
    Symbol: $Symbol
  });
  $forEach$1(objectKeys$2(WellKnownSymbolsStore), function (name) {
    defineWellKnownSymbol$k(name);
  });
  $$u({
    target: SYMBOL,
    stat: true,
    forced: !NATIVE_SYMBOL
  }, {
    // `Symbol.for` method
    // https://tc39.es/ecma262/#sec-symbol.for
    'for': function (key) {
      var string = $toString(key);
      if (hasOwn$5(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];
      var symbol = $Symbol(string);
      StringToSymbolRegistry[string] = symbol;
      SymbolToStringRegistry[symbol] = string;
      return symbol;
    },
    // `Symbol.keyFor` method
    // https://tc39.es/ecma262/#sec-symbol.keyfor
    keyFor: function keyFor(sym) {
      if (!isSymbol(sym)) throw TypeError$8(sym + ' is not a symbol');
      if (hasOwn$5(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];
    },
    useSetter: function () {
      USE_SETTER = true;
    },
    useSimple: function () {
      USE_SETTER = false;
    }
  });
  $$u({
    target: 'Object',
    stat: true,
    forced: !NATIVE_SYMBOL,
    sham: !DESCRIPTORS$9
  }, {
    // `Object.create` method
    // https://tc39.es/ecma262/#sec-object.create
    create: $create,
    // `Object.defineProperty` method
    // https://tc39.es/ecma262/#sec-object.defineproperty
    defineProperty: $defineProperty,
    // `Object.defineProperties` method
    // https://tc39.es/ecma262/#sec-object.defineproperties
    defineProperties: $defineProperties,
    // `Object.getOwnPropertyDescriptor` method
    // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
    getOwnPropertyDescriptor: $getOwnPropertyDescriptor
  });
  $$u({
    target: 'Object',
    stat: true,
    forced: !NATIVE_SYMBOL
  }, {
    // `Object.getOwnPropertyNames` method
    // https://tc39.es/ecma262/#sec-object.getownpropertynames
    getOwnPropertyNames: $getOwnPropertyNames,
    // `Object.getOwnPropertySymbols` method
    // https://tc39.es/ecma262/#sec-object.getownpropertysymbols
    getOwnPropertySymbols: $getOwnPropertySymbols
  }); // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
  // https://bugs.chromium.org/p/v8/issues/detail?id=3443

  $$u({
    target: 'Object',
    stat: true,
    forced: fails$e(function () {
      getOwnPropertySymbolsModule$2.f(1);
    })
  }, {
    getOwnPropertySymbols: function getOwnPropertySymbols(it) {
      return getOwnPropertySymbolsModule$2.f(toObject$7(it));
    }
  }); // `JSON.stringify` method behavior with symbols
  // https://tc39.es/ecma262/#sec-json.stringify

  if ($stringify$1) {
    var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails$e(function () {
      var symbol = $Symbol(); // MS Edge converts symbol values to JSON as {}

      return $stringify$1([symbol]) != '[null]' // WebKit converts symbol values to JSON as null
      || $stringify$1({
        a: symbol
      }) != '{}' // V8 throws on boxed symbols
      || $stringify$1(Object(symbol)) != '{}';
    });
    $$u({
      target: 'JSON',
      stat: true,
      forced: FORCED_JSON_STRINGIFY
    }, {
      // eslint-disable-next-line no-unused-vars -- required for `.length`
      stringify: function stringify(it, replacer, space) {
        var args = arraySlice$2(arguments);
        var $replacer = replacer;
        if (!isObject$7(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined

        if (!isArray$a(replacer)) replacer = function (key, value) {
          if (isCallable$2($replacer)) value = call$2($replacer, this, key, value);
          if (!isSymbol(value)) return value;
        };
        args[1] = replacer;
        return apply$4($stringify$1, null, args);
      }
    });
  } // `Symbol.prototype[@@toPrimitive]` method
  // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive


  if (!SymbolPrototype[TO_PRIMITIVE]) {
    var valueOf = SymbolPrototype.valueOf; // eslint-disable-next-line no-unused-vars -- required for .length

    redefine$1(SymbolPrototype, TO_PRIMITIVE, function (hint) {
      // TODO: improve hint logic
      return call$2(valueOf, this);
    });
  } // `Symbol.prototype[@@toStringTag]` property
  // https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag


  setToStringTag$2($Symbol, SYMBOL);
  hiddenKeys$1[HIDDEN] = true;

  var path$j = path$q;
  var getOwnPropertySymbols$2 = path$j.Object.getOwnPropertySymbols;

  var parent$J = getOwnPropertySymbols$2;
  var getOwnPropertySymbols$1 = parent$J;

  var getOwnPropertySymbols = getOwnPropertySymbols$1;

  var getOwnPropertyDescriptor$3 = {exports: {}};

  var $$t = _export;
  var fails$d = fails$r;
  var toIndexedObject$3 = toIndexedObject$b;
  var nativeGetOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;
  var DESCRIPTORS$8 = descriptors;
  var FAILS_ON_PRIMITIVES$3 = fails$d(function () {
    nativeGetOwnPropertyDescriptor(1);
  });
  var FORCED$5 = !DESCRIPTORS$8 || FAILS_ON_PRIMITIVES$3; // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor

  $$t({
    target: 'Object',
    stat: true,
    forced: FORCED$5,
    sham: !DESCRIPTORS$8
  }, {
    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {
      return nativeGetOwnPropertyDescriptor(toIndexedObject$3(it), key);
    }
  });

  var path$i = path$q;
  var Object$3 = path$i.Object;

  var getOwnPropertyDescriptor$2 = getOwnPropertyDescriptor$3.exports = function getOwnPropertyDescriptor(it, key) {
    return Object$3.getOwnPropertyDescriptor(it, key);
  };

  if (Object$3.getOwnPropertyDescriptor.sham) getOwnPropertyDescriptor$2.sham = true;

  var parent$I = getOwnPropertyDescriptor$3.exports;
  var getOwnPropertyDescriptor$1 = parent$I;

  var getOwnPropertyDescriptor = getOwnPropertyDescriptor$1;

  var getBuiltIn$3 = getBuiltIn$9;
  var uncurryThis$b = functionUncurryThis;
  var getOwnPropertyNamesModule$1 = objectGetOwnPropertyNames;
  var getOwnPropertySymbolsModule$1 = objectGetOwnPropertySymbols;
  var anObject$2 = anObject$b;
  var concat$5 = uncurryThis$b([].concat); // all object keys, includes non-enumerable and symbols

  var ownKeys$6 = getBuiltIn$3('Reflect', 'ownKeys') || function ownKeys(it) {
    var keys = getOwnPropertyNamesModule$1.f(anObject$2(it));
    var getOwnPropertySymbols = getOwnPropertySymbolsModule$1.f;
    return getOwnPropertySymbols ? concat$5(keys, getOwnPropertySymbols(it)) : keys;
  };

  var $$s = _export;
  var DESCRIPTORS$7 = descriptors;
  var ownKeys$5 = ownKeys$6;
  var toIndexedObject$2 = toIndexedObject$b;
  var getOwnPropertyDescriptorModule = objectGetOwnPropertyDescriptor;
  var createProperty$3 = createProperty$6; // `Object.getOwnPropertyDescriptors` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors

  $$s({
    target: 'Object',
    stat: true,
    sham: !DESCRIPTORS$7
  }, {
    getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
      var O = toIndexedObject$2(object);
      var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
      var keys = ownKeys$5(O);
      var result = {};
      var index = 0;
      var key, descriptor;

      while (keys.length > index) {
        descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);
        if (descriptor !== undefined) createProperty$3(result, key, descriptor);
      }

      return result;
    }
  });

  var path$h = path$q;
  var getOwnPropertyDescriptors$2 = path$h.Object.getOwnPropertyDescriptors;

  var parent$H = getOwnPropertyDescriptors$2;
  var getOwnPropertyDescriptors$1 = parent$H;

  var getOwnPropertyDescriptors = getOwnPropertyDescriptors$1;

  var defineProperties$4 = {exports: {}};

  var $$r = _export;
  var DESCRIPTORS$6 = descriptors;
  var defineProperties$3 = objectDefineProperties.f; // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  // eslint-disable-next-line es/no-object-defineproperties -- safe

  $$r({
    target: 'Object',
    stat: true,
    forced: Object.defineProperties !== defineProperties$3,
    sham: !DESCRIPTORS$6
  }, {
    defineProperties: defineProperties$3
  });

  var path$g = path$q;
  var Object$2 = path$g.Object;

  var defineProperties$2 = defineProperties$4.exports = function defineProperties(T, D) {
    return Object$2.defineProperties(T, D);
  };

  if (Object$2.defineProperties.sham) defineProperties$2.sham = true;

  var parent$G = defineProperties$4.exports;
  var defineProperties$1 = parent$G;

  var defineProperties = defineProperties$1;

  var defineProperty$4 = defineProperty$a;

  var $$q = _export;
  var isArray$9 = isArray$d; // `Array.isArray` method
  // https://tc39.es/ecma262/#sec-array.isarray

  $$q({
    target: 'Array',
    stat: true
  }, {
    isArray: isArray$9
  });

  var path$f = path$q;
  var isArray$8 = path$f.Array.isArray;

  var parent$F = isArray$8;
  var isArray$7 = parent$F;

  var parent$E = isArray$7;
  var isArray$6 = parent$E;

  var parent$D = isArray$6;
  var isArray$5 = parent$D;

  var isArray$4 = isArray$5;

  function _arrayWithHoles(arr) {
    if (isArray$4(arr)) return arr;
  }

  var $$p = _export;
  var global$e = global$M;
  var fails$c = fails$r;
  var isArray$3 = isArray$d;
  var isObject$6 = isObject$f;
  var toObject$6 = toObject$e;
  var lengthOfArrayLike$5 = lengthOfArrayLike$d;
  var createProperty$2 = createProperty$6;
  var arraySpeciesCreate$1 = arraySpeciesCreate$4;
  var arrayMethodHasSpeciesSupport$2 = arrayMethodHasSpeciesSupport$5;
  var wellKnownSymbol$4 = wellKnownSymbol$j;
  var V8_VERSION = engineV8Version;
  var IS_CONCAT_SPREADABLE = wellKnownSymbol$4('isConcatSpreadable');
  var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;
  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';
  var TypeError$7 = global$e.TypeError; // We can't use this feature detection in V8 since it causes
  // deoptimization and serious performance degradation
  // https://github.com/zloirock/core-js/issues/679

  var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails$c(function () {
    var array = [];
    array[IS_CONCAT_SPREADABLE] = false;
    return array.concat()[0] !== array;
  });
  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport$2('concat');

  var isConcatSpreadable = function (O) {
    if (!isObject$6(O)) return false;
    var spreadable = O[IS_CONCAT_SPREADABLE];
    return spreadable !== undefined ? !!spreadable : isArray$3(O);
  };

  var FORCED$4 = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT; // `Array.prototype.concat` method
  // https://tc39.es/ecma262/#sec-array.prototype.concat
  // with adding support of @@isConcatSpreadable and @@species

  $$p({
    target: 'Array',
    proto: true,
    forced: FORCED$4
  }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    concat: function concat(arg) {
      var O = toObject$6(this);
      var A = arraySpeciesCreate$1(O, 0);
      var n = 0;
      var i, k, length, len, E;

      for (i = -1, length = arguments.length; i < length; i++) {
        E = i === -1 ? O : arguments[i];

        if (isConcatSpreadable(E)) {
          len = lengthOfArrayLike$5(E);
          if (n + len > MAX_SAFE_INTEGER$1) throw TypeError$7(MAXIMUM_ALLOWED_INDEX_EXCEEDED);

          for (k = 0; k < len; k++, n++) if (k in E) createProperty$2(A, n, E[k]);
        } else {
          if (n >= MAX_SAFE_INTEGER$1) throw TypeError$7(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
          createProperty$2(A, n++, E);
        }
      }

      A.length = n;
      return A;
    }
  });

  var defineWellKnownSymbol$j = defineWellKnownSymbol$l; // `Symbol.asyncIterator` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.asynciterator

  defineWellKnownSymbol$j('asyncIterator');

  var defineWellKnownSymbol$i = defineWellKnownSymbol$l; // `Symbol.hasInstance` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.hasinstance

  defineWellKnownSymbol$i('hasInstance');

  var defineWellKnownSymbol$h = defineWellKnownSymbol$l; // `Symbol.isConcatSpreadable` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.isconcatspreadable

  defineWellKnownSymbol$h('isConcatSpreadable');

  var defineWellKnownSymbol$g = defineWellKnownSymbol$l; // `Symbol.iterator` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.iterator

  defineWellKnownSymbol$g('iterator');

  var defineWellKnownSymbol$f = defineWellKnownSymbol$l; // `Symbol.match` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.match

  defineWellKnownSymbol$f('match');

  var defineWellKnownSymbol$e = defineWellKnownSymbol$l; // `Symbol.matchAll` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.matchall

  defineWellKnownSymbol$e('matchAll');

  var defineWellKnownSymbol$d = defineWellKnownSymbol$l; // `Symbol.replace` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.replace

  defineWellKnownSymbol$d('replace');

  var defineWellKnownSymbol$c = defineWellKnownSymbol$l; // `Symbol.search` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.search

  defineWellKnownSymbol$c('search');

  var defineWellKnownSymbol$b = defineWellKnownSymbol$l; // `Symbol.species` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.species

  defineWellKnownSymbol$b('species');

  var defineWellKnownSymbol$a = defineWellKnownSymbol$l; // `Symbol.split` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.split

  defineWellKnownSymbol$a('split');

  var defineWellKnownSymbol$9 = defineWellKnownSymbol$l; // `Symbol.toPrimitive` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.toprimitive

  defineWellKnownSymbol$9('toPrimitive');

  var defineWellKnownSymbol$8 = defineWellKnownSymbol$l; // `Symbol.toStringTag` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.tostringtag

  defineWellKnownSymbol$8('toStringTag');

  var defineWellKnownSymbol$7 = defineWellKnownSymbol$l; // `Symbol.unscopables` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.unscopables

  defineWellKnownSymbol$7('unscopables');

  var global$d = global$M;
  var setToStringTag$1 = setToStringTag$5; // JSON[@@toStringTag] property
  // https://tc39.es/ecma262/#sec-json-@@tostringtag

  setToStringTag$1(global$d.JSON, 'JSON', true);

  var path$e = path$q;
  var symbol$5 = path$e.Symbol;

  var parent$C = symbol$5;
  var symbol$4 = parent$C;

  var parent$B = symbol$4;
  var symbol$3 = parent$B;

  var defineWellKnownSymbol$6 = defineWellKnownSymbol$l; // `Symbol.asyncDispose` well-known symbol
  // https://github.com/tc39/proposal-using-statement

  defineWellKnownSymbol$6('asyncDispose');

  var defineWellKnownSymbol$5 = defineWellKnownSymbol$l; // `Symbol.dispose` well-known symbol
  // https://github.com/tc39/proposal-using-statement

  defineWellKnownSymbol$5('dispose');

  var defineWellKnownSymbol$4 = defineWellKnownSymbol$l; // `Symbol.matcher` well-known symbol
  // https://github.com/tc39/proposal-pattern-matching

  defineWellKnownSymbol$4('matcher');

  var defineWellKnownSymbol$3 = defineWellKnownSymbol$l; // `Symbol.metadata` well-known symbol
  // https://github.com/tc39/proposal-decorators

  defineWellKnownSymbol$3('metadata');

  var defineWellKnownSymbol$2 = defineWellKnownSymbol$l; // `Symbol.observable` well-known symbol
  // https://github.com/tc39/proposal-observable

  defineWellKnownSymbol$2('observable');

  var defineWellKnownSymbol$1 = defineWellKnownSymbol$l; // `Symbol.patternMatch` well-known symbol
  // https://github.com/tc39/proposal-pattern-matching

  defineWellKnownSymbol$1('patternMatch');

  var defineWellKnownSymbol = defineWellKnownSymbol$l;
  defineWellKnownSymbol('replaceAll');

  var parent$A = symbol$3; // TODO: Remove from `core-js@4`
  // TODO: Remove from `core-js@4`

  var symbol$2 = parent$A;

  var symbol$1 = symbol$2;

  function _iterableToArrayLimit(arr, i) {
    var _i = arr == null ? null : typeof symbol$1 !== "undefined" && getIteratorMethod$1(arr) || arr["@@iterator"];

    if (_i == null) return;
    var _arr = [];
    var _n = true;
    var _d = false;

    var _s, _e;

    try {
      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"] != null) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  var $$o = _export;
  var global$c = global$M;
  var isArray$2 = isArray$d;
  var isConstructor$1 = isConstructor$4;
  var isObject$5 = isObject$f;
  var toAbsoluteIndex$2 = toAbsoluteIndex$5;
  var lengthOfArrayLike$4 = lengthOfArrayLike$d;
  var toIndexedObject$1 = toIndexedObject$b;
  var createProperty$1 = createProperty$6;
  var wellKnownSymbol$3 = wellKnownSymbol$j;
  var arrayMethodHasSpeciesSupport$1 = arrayMethodHasSpeciesSupport$5;
  var un$Slice = arraySlice$5;
  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport$1('slice');
  var SPECIES$1 = wellKnownSymbol$3('species');
  var Array$2 = global$c.Array;
  var max$1 = Math.max; // `Array.prototype.slice` method
  // https://tc39.es/ecma262/#sec-array.prototype.slice
  // fallback for not array-like ES3 strings and DOM objects

  $$o({
    target: 'Array',
    proto: true,
    forced: !HAS_SPECIES_SUPPORT$1
  }, {
    slice: function slice(start, end) {
      var O = toIndexedObject$1(this);
      var length = lengthOfArrayLike$4(O);
      var k = toAbsoluteIndex$2(start, length);
      var fin = toAbsoluteIndex$2(end === undefined ? length : end, length); // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible

      var Constructor, result, n;

      if (isArray$2(O)) {
        Constructor = O.constructor; // cross-realm fallback

        if (isConstructor$1(Constructor) && (Constructor === Array$2 || isArray$2(Constructor.prototype))) {
          Constructor = undefined;
        } else if (isObject$5(Constructor)) {
          Constructor = Constructor[SPECIES$1];
          if (Constructor === null) Constructor = undefined;
        }

        if (Constructor === Array$2 || Constructor === undefined) {
          return un$Slice(O, k, fin);
        }
      }

      result = new (Constructor === undefined ? Array$2 : Constructor)(max$1(fin - k, 0));

      for (n = 0; k < fin; k++, n++) if (k in O) createProperty$1(result, n, O[k]);

      result.length = n;
      return result;
    }
  });

  var entryVirtual$e = entryVirtual$k;
  var slice$6 = entryVirtual$e('Array').slice;

  var isPrototypeOf$b = objectIsPrototypeOf;
  var method$9 = slice$6;
  var ArrayPrototype$9 = Array.prototype;

  var slice$5 = function (it) {
    var own = it.slice;
    return it === ArrayPrototype$9 || isPrototypeOf$b(ArrayPrototype$9, it) && own === ArrayPrototype$9.slice ? method$9 : own;
  };

  var parent$z = slice$5;
  var slice$4 = parent$z;

  var parent$y = slice$4;
  var slice$3 = parent$y;

  var parent$x = slice$3;
  var slice$2 = parent$x;

  var slice$1 = slice$2;

  var parent$w = from$4;
  var from$2 = parent$w;

  var parent$v = from$2;
  var from$1 = parent$v;

  var from = from$1;

  function _arrayLikeToArray$4(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  }

  function _unsupportedIterableToArray$4(o, minLen) {
    var _context;

    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray$4(o, minLen);

    var n = slice$1(_context = Object.prototype.toString.call(o)).call(_context, 8, -1);

    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen);
  }

  function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  function _slicedToArray(arr, i) {
    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$4(arr, i) || _nonIterableRest();
  }

  var WrappedWellKnownSymbolModule = wellKnownSymbolWrapped;
  var iterator$5 = WrappedWellKnownSymbolModule.f('iterator');

  var parent$u = iterator$5;
  var iterator$4 = parent$u;

  var parent$t = iterator$4;
  var iterator$3 = parent$t;

  var parent$s = iterator$3;
  var iterator$2 = parent$s;

  var iterator$1 = iterator$2;

  function _typeof(obj) {
    "@babel/helpers - typeof";

    return _typeof = "function" == typeof symbol$1 && "symbol" == typeof iterator$1 ? function (obj) {
      return typeof obj;
    } : function (obj) {
      return obj && "function" == typeof symbol$1 && obj.constructor === symbol$1 && obj !== symbol$1.prototype ? "symbol" : typeof obj;
    }, _typeof(obj);
  }

  function _arrayWithoutHoles(arr) {
    if (isArray$4(arr)) return _arrayLikeToArray$4(arr);
  }

  function _iterableToArray(iter) {
    if (typeof symbol$1 !== "undefined" && getIteratorMethod$1(iter) != null || iter["@@iterator"] != null) return from(iter);
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$4(arr) || _nonIterableSpread();
  }

  var symbol = symbol$4;

  var entryVirtual$d = entryVirtual$k;
  var concat$4 = entryVirtual$d('Array').concat;

  var isPrototypeOf$a = objectIsPrototypeOf;
  var method$8 = concat$4;
  var ArrayPrototype$8 = Array.prototype;

  var concat$3 = function (it) {
    var own = it.concat;
    return it === ArrayPrototype$8 || isPrototypeOf$a(ArrayPrototype$8, it) && own === ArrayPrototype$8.concat ? method$8 : own;
  };

  var parent$r = concat$3;
  var concat$2 = parent$r;

  var concat$1 = concat$2;

  var slice = slice$4;

  var $$n = _export;
  var ownKeys$4 = ownKeys$6; // `Reflect.ownKeys` method
  // https://tc39.es/ecma262/#sec-reflect.ownkeys

  $$n({
    target: 'Reflect',
    stat: true
  }, {
    ownKeys: ownKeys$4
  });

  var path$d = path$q;
  var ownKeys$3 = path$d.Reflect.ownKeys;

  var parent$q = ownKeys$3;
  var ownKeys$2 = parent$q;

  var ownKeys$1 = ownKeys$2;

  var isArray$1 = isArray$7;

  var $$m = _export;
  var toObject$5 = toObject$e;
  var nativeKeys = objectKeys$4;
  var fails$b = fails$r;
  var FAILS_ON_PRIMITIVES$2 = fails$b(function () {
    nativeKeys(1);
  }); // `Object.keys` method
  // https://tc39.es/ecma262/#sec-object.keys

  $$m({
    target: 'Object',
    stat: true,
    forced: FAILS_ON_PRIMITIVES$2
  }, {
    keys: function keys(it) {
      return nativeKeys(toObject$5(it));
    }
  });

  var path$c = path$q;
  var keys$6 = path$c.Object.keys;

  var parent$p = keys$6;
  var keys$5 = parent$p;

  var keys$4 = keys$5;

  var $$l = _export;
  var global$b = global$M;
  var uncurryThis$a = functionUncurryThis;
  var Date$1 = global$b.Date;
  var getTime = uncurryThis$a(Date$1.prototype.getTime); // `Date.now` method
  // https://tc39.es/ecma262/#sec-date.now

  $$l({
    target: 'Date',
    stat: true
  }, {
    now: function now() {
      return getTime(new Date$1());
    }
  });

  var path$b = path$q;
  path$b.Date.now;

  var $forEach = arrayIteration.forEach;
  var arrayMethodIsStrict$3 = arrayMethodIsStrict$5;
  var STRICT_METHOD$3 = arrayMethodIsStrict$3('forEach'); // `Array.prototype.forEach` method implementation
  // https://tc39.es/ecma262/#sec-array.prototype.foreach

  var arrayForEach = !STRICT_METHOD$3 ? function forEach(callbackfn
  /* , thisArg */
  ) {
    return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined); // eslint-disable-next-line es/no-array-prototype-foreach -- safe
  } : [].forEach;

  var $$k = _export;
  var forEach$5 = arrayForEach; // `Array.prototype.forEach` method
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  // eslint-disable-next-line es/no-array-prototype-foreach -- safe

  $$k({
    target: 'Array',
    proto: true,
    forced: [].forEach != forEach$5
  }, {
    forEach: forEach$5
  });

  var entryVirtual$c = entryVirtual$k;
  var forEach$4 = entryVirtual$c('Array').forEach;

  var parent$o = forEach$4;
  var forEach$3 = parent$o;

  var classof$5 = classof$c;
  var hasOwn$4 = hasOwnProperty_1;
  var isPrototypeOf$9 = objectIsPrototypeOf;
  var method$7 = forEach$3;
  var ArrayPrototype$7 = Array.prototype;
  var DOMIterables$3 = {
    DOMTokenList: true,
    NodeList: true
  };

  var forEach$2 = function (it) {
    var own = it.forEach;
    return it === ArrayPrototype$7 || isPrototypeOf$9(ArrayPrototype$7, it) && own === ArrayPrototype$7.forEach || hasOwn$4(DOMIterables$3, classof$5(it)) ? method$7 : own;
  };

  var forEach$1 = forEach$2;

  var $$j = _export;
  var uncurryThis$9 = functionUncurryThis;
  var isArray = isArray$d;
  var un$Reverse = uncurryThis$9([].reverse);
  var test$1 = [1, 2]; // `Array.prototype.reverse` method
  // https://tc39.es/ecma262/#sec-array.prototype.reverse
  // fix for Safari 12.0 bug
  // https://bugs.webkit.org/show_bug.cgi?id=188794

  $$j({
    target: 'Array',
    proto: true,
    forced: String(test$1) === String(test$1.reverse())
  }, {
    reverse: function reverse() {
      // eslint-disable-next-line no-self-assign -- dirty hack
      if (isArray(this)) this.length = this.length;
      return un$Reverse(this);
    }
  });

  var entryVirtual$b = entryVirtual$k;
  var reverse$3 = entryVirtual$b('Array').reverse;

  var isPrototypeOf$8 = objectIsPrototypeOf;
  var method$6 = reverse$3;
  var ArrayPrototype$6 = Array.prototype;

  var reverse$2 = function (it) {
    var own = it.reverse;
    return it === ArrayPrototype$6 || isPrototypeOf$8(ArrayPrototype$6, it) && own === ArrayPrototype$6.reverse ? method$6 : own;
  };

  var parent$n = reverse$2;
  var reverse$1 = parent$n;

  var reverse = reverse$1;

  var $$i = _export;
  var global$a = global$M;
  var toAbsoluteIndex$1 = toAbsoluteIndex$5;
  var toIntegerOrInfinity = toIntegerOrInfinity$4;
  var lengthOfArrayLike$3 = lengthOfArrayLike$d;
  var toObject$4 = toObject$e;
  var arraySpeciesCreate = arraySpeciesCreate$4;
  var createProperty = createProperty$6;
  var arrayMethodHasSpeciesSupport = arrayMethodHasSpeciesSupport$5;
  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');
  var TypeError$6 = global$a.TypeError;
  var max = Math.max;
  var min = Math.min;
  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;
  var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded'; // `Array.prototype.splice` method
  // https://tc39.es/ecma262/#sec-array.prototype.splice
  // with adding support of @@species

  $$i({
    target: 'Array',
    proto: true,
    forced: !HAS_SPECIES_SUPPORT
  }, {
    splice: function splice(start, deleteCount
    /* , ...items */
    ) {
      var O = toObject$4(this);
      var len = lengthOfArrayLike$3(O);
      var actualStart = toAbsoluteIndex$1(start, len);
      var argumentsLength = arguments.length;
      var insertCount, actualDeleteCount, A, k, from, to;

      if (argumentsLength === 0) {
        insertCount = actualDeleteCount = 0;
      } else if (argumentsLength === 1) {
        insertCount = 0;
        actualDeleteCount = len - actualStart;
      } else {
        insertCount = argumentsLength - 2;
        actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);
      }

      if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {
        throw TypeError$6(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);
      }

      A = arraySpeciesCreate(O, actualDeleteCount);

      for (k = 0; k < actualDeleteCount; k++) {
        from = actualStart + k;
        if (from in O) createProperty(A, k, O[from]);
      }

      A.length = actualDeleteCount;

      if (insertCount < actualDeleteCount) {
        for (k = actualStart; k < len - actualDeleteCount; k++) {
          from = k + actualDeleteCount;
          to = k + insertCount;
          if (from in O) O[to] = O[from];else delete O[to];
        }

        for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];
      } else if (insertCount > actualDeleteCount) {
        for (k = len - actualDeleteCount; k > actualStart; k--) {
          from = k + actualDeleteCount - 1;
          to = k + insertCount - 1;
          if (from in O) O[to] = O[from];else delete O[to];
        }
      }

      for (k = 0; k < insertCount; k++) {
        O[k + actualStart] = arguments[k + 2];
      }

      O.length = len - actualDeleteCount + insertCount;
      return A;
    }
  });

  var entryVirtual$a = entryVirtual$k;
  var splice$3 = entryVirtual$a('Array').splice;

  var isPrototypeOf$7 = objectIsPrototypeOf;
  var method$5 = splice$3;
  var ArrayPrototype$5 = Array.prototype;

  var splice$2 = function (it) {
    var own = it.splice;
    return it === ArrayPrototype$5 || isPrototypeOf$7(ArrayPrototype$5, it) && own === ArrayPrototype$5.splice ? method$5 : own;
  };

  var parent$m = splice$2;
  var splice$1 = parent$m;

  var splice = splice$1;

  var DESCRIPTORS$5 = descriptors;
  var uncurryThis$8 = functionUncurryThis;
  var call$1 = functionCall;
  var fails$a = fails$r;
  var objectKeys$1 = objectKeys$4;
  var getOwnPropertySymbolsModule = objectGetOwnPropertySymbols;
  var propertyIsEnumerableModule = objectPropertyIsEnumerable;
  var toObject$3 = toObject$e;
  var IndexedObject = indexedObject; // eslint-disable-next-line es/no-object-assign -- safe

  var $assign = Object.assign; // eslint-disable-next-line es/no-object-defineproperty -- required for testing

  var defineProperty$3 = Object.defineProperty;
  var concat = uncurryThis$8([].concat); // `Object.assign` method
  // https://tc39.es/ecma262/#sec-object.assign

  var objectAssign = !$assign || fails$a(function () {
    // should have correct order of operations (Edge bug)
    if (DESCRIPTORS$5 && $assign({
      b: 1
    }, $assign(defineProperty$3({}, 'a', {
      enumerable: true,
      get: function () {
        defineProperty$3(this, 'b', {
          value: 3,
          enumerable: false
        });
      }
    }), {
      b: 2
    })).b !== 1) return true; // should work with symbols and should have deterministic property order (V8 bug)

    var A = {};
    var B = {}; // eslint-disable-next-line es/no-symbol -- safe

    var symbol = Symbol();
    var alphabet = 'abcdefghijklmnopqrst';
    A[symbol] = 7;
    alphabet.split('').forEach(function (chr) {
      B[chr] = chr;
    });
    return $assign({}, A)[symbol] != 7 || objectKeys$1($assign({}, B)).join('') != alphabet;
  }) ? function assign(target, source) {
    // eslint-disable-line no-unused-vars -- required for `.length`
    var T = toObject$3(target);
    var argumentsLength = arguments.length;
    var index = 1;
    var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
    var propertyIsEnumerable = propertyIsEnumerableModule.f;

    while (argumentsLength > index) {
      var S = IndexedObject(arguments[index++]);
      var keys = getOwnPropertySymbols ? concat(objectKeys$1(S), getOwnPropertySymbols(S)) : objectKeys$1(S);
      var length = keys.length;
      var j = 0;
      var key;

      while (length > j) {
        key = keys[j++];
        if (!DESCRIPTORS$5 || call$1(propertyIsEnumerable, S, key)) T[key] = S[key];
      }
    }

    return T;
  } : $assign;

  var $$h = _export;
  var assign$5 = objectAssign; // `Object.assign` method
  // https://tc39.es/ecma262/#sec-object.assign
  // eslint-disable-next-line es/no-object-assign -- required for testing

  $$h({
    target: 'Object',
    stat: true,
    forced: Object.assign !== assign$5
  }, {
    assign: assign$5
  });

  var path$a = path$q;
  var assign$4 = path$a.Object.assign;

  var parent$l = assign$4;
  var assign$3 = parent$l;

  var assign$2 = assign$3;

  var $$g = _export;
  var $includes = arrayIncludes.includes;
  // https://tc39.es/ecma262/#sec-array.prototype.includes

  $$g({
    target: 'Array',
    proto: true
  }, {
    includes: function includes(el
    /* , fromIndex = 0 */
    ) {
      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
    }
  }); // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables

  var entryVirtual$9 = entryVirtual$k;
  entryVirtual$9('Array').includes;

  var isObject$4 = isObject$f;
  var classof$4 = classofRaw$1;
  var wellKnownSymbol$2 = wellKnownSymbol$j;
  var MATCH$1 = wellKnownSymbol$2('match'); // `IsRegExp` abstract operation
  // https://tc39.es/ecma262/#sec-isregexp

  var isRegexp = function (it) {
    var isRegExp;
    return isObject$4(it) && ((isRegExp = it[MATCH$1]) !== undefined ? !!isRegExp : classof$4(it) == 'RegExp');
  };

  var global$9 = global$M;
  var isRegExp = isRegexp;
  var TypeError$5 = global$9.TypeError;

  var notARegexp = function (it) {
    if (isRegExp(it)) {
      throw TypeError$5("The method doesn't accept regular expressions");
    }

    return it;
  };

  var wellKnownSymbol$1 = wellKnownSymbol$j;
  var MATCH = wellKnownSymbol$1('match');

  var correctIsRegexpLogic = function (METHOD_NAME) {
    var regexp = /./;

    try {
      '/./'[METHOD_NAME](regexp);
    } catch (error1) {
      try {
        regexp[MATCH] = false;
        return '/./'[METHOD_NAME](regexp);
      } catch (error2) {
        /* empty */
      }
    }

    return false;
  };

  var $$f = _export;
  var uncurryThis$7 = functionUncurryThis;
  var notARegExp = notARegexp;
  var requireObjectCoercible$1 = requireObjectCoercible$5;
  var toString$3 = toString$7;
  var correctIsRegExpLogic = correctIsRegexpLogic;
  var stringIndexOf = uncurryThis$7(''.indexOf); // `String.prototype.includes` method
  // https://tc39.es/ecma262/#sec-string.prototype.includes

  $$f({
    target: 'String',
    proto: true,
    forced: !correctIsRegExpLogic('includes')
  }, {
    includes: function includes(searchString
    /* , position = 0 */
    ) {
      return !!~stringIndexOf(toString$3(requireObjectCoercible$1(this)), toString$3(notARegExp(searchString)), arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  var entryVirtual$8 = entryVirtual$k;
  entryVirtual$8('String').includes;

  var $$e = _export;
  var fails$9 = fails$r;
  var toObject$2 = toObject$e;
  var nativeGetPrototypeOf = objectGetPrototypeOf;
  var CORRECT_PROTOTYPE_GETTER = correctPrototypeGetter;
  var FAILS_ON_PRIMITIVES$1 = fails$9(function () {
    nativeGetPrototypeOf(1);
  }); // `Object.getPrototypeOf` method
  // https://tc39.es/ecma262/#sec-object.getprototypeof

  $$e({
    target: 'Object',
    stat: true,
    forced: FAILS_ON_PRIMITIVES$1,
    sham: !CORRECT_PROTOTYPE_GETTER
  }, {
    getPrototypeOf: function getPrototypeOf(it) {
      return nativeGetPrototypeOf(toObject$2(it));
    }
  });

  var path$9 = path$q;
  var getPrototypeOf$4 = path$9.Object.getPrototypeOf;

  var parent$k = getPrototypeOf$4;
  var getPrototypeOf$3 = parent$k;

  var DESCRIPTORS$4 = descriptors;
  var uncurryThis$6 = functionUncurryThis;
  var objectKeys = objectKeys$4;
  var toIndexedObject = toIndexedObject$b;
  var $propertyIsEnumerable = objectPropertyIsEnumerable.f;
  var propertyIsEnumerable = uncurryThis$6($propertyIsEnumerable);
  var push$2 = uncurryThis$6([].push); // `Object.{ entries, values }` methods implementation

  var createMethod$1 = function (TO_ENTRIES) {
    return function (it) {
      var O = toIndexedObject(it);
      var keys = objectKeys(O);
      var length = keys.length;
      var i = 0;
      var result = [];
      var key;

      while (length > i) {
        key = keys[i++];

        if (!DESCRIPTORS$4 || propertyIsEnumerable(O, key)) {
          push$2(result, TO_ENTRIES ? [key, O[key]] : O[key]);
        }
      }

      return result;
    };
  };

  var objectToArray = {
    // `Object.entries` method
    // https://tc39.es/ecma262/#sec-object.entries
    entries: createMethod$1(true),
    // `Object.values` method
    // https://tc39.es/ecma262/#sec-object.values
    values: createMethod$1(false)
  };

  var $$d = _export;
  var $values = objectToArray.values; // `Object.values` method
  // https://tc39.es/ecma262/#sec-object.values

  $$d({
    target: 'Object',
    stat: true
  }, {
    values: function values(O) {
      return $values(O);
    }
  });

  var path$8 = path$q;
  path$8.Object.values;

  var whitespaces$3 = '\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u2000\u2001\u2002' + '\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';

  var uncurryThis$5 = functionUncurryThis;
  var requireObjectCoercible = requireObjectCoercible$5;
  var toString$2 = toString$7;
  var whitespaces$2 = whitespaces$3;
  var replace$1 = uncurryThis$5(''.replace);
  var whitespace = '[' + whitespaces$2 + ']';
  var ltrim = RegExp('^' + whitespace + whitespace + '*');
  var rtrim = RegExp(whitespace + whitespace + '*$'); // `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation

  var createMethod = function (TYPE) {
    return function ($this) {
      var string = toString$2(requireObjectCoercible($this));
      if (TYPE & 1) string = replace$1(string, ltrim, '');
      if (TYPE & 2) string = replace$1(string, rtrim, '');
      return string;
    };
  };

  var stringTrim = {
    // `String.prototype.{ trimLeft, trimStart }` methods
    // https://tc39.es/ecma262/#sec-string.prototype.trimstart
    start: createMethod(1),
    // `String.prototype.{ trimRight, trimEnd }` methods
    // https://tc39.es/ecma262/#sec-string.prototype.trimend
    end: createMethod(2),
    // `String.prototype.trim` method
    // https://tc39.es/ecma262/#sec-string.prototype.trim
    trim: createMethod(3)
  };

  var global$8 = global$M;
  var fails$8 = fails$r;
  var uncurryThis$4 = functionUncurryThis;
  var toString$1 = toString$7;
  var trim = stringTrim.trim;
  var whitespaces$1 = whitespaces$3;
  var $parseInt$1 = global$8.parseInt;
  var Symbol$1 = global$8.Symbol;
  var ITERATOR = Symbol$1 && Symbol$1.iterator;
  var hex = /^[+-]?0x/i;
  var exec$1 = uncurryThis$4(hex.exec);
  var FORCED$3 = $parseInt$1(whitespaces$1 + '08') !== 8 || $parseInt$1(whitespaces$1 + '0x16') !== 22 // MS Edge 18- broken with boxed symbols
  || ITERATOR && !fails$8(function () {
    $parseInt$1(Object(ITERATOR));
  }); // `parseInt` method
  // https://tc39.es/ecma262/#sec-parseint-string-radix

  var numberParseInt = FORCED$3 ? function parseInt(string, radix) {
    var S = trim(toString$1(string));
    return $parseInt$1(S, radix >>> 0 || (exec$1(hex, S) ? 16 : 10));
  } : $parseInt$1;

  var $$c = _export;
  var $parseInt = numberParseInt; // `parseInt` method
  // https://tc39.es/ecma262/#sec-parseint-string-radix

  $$c({
    global: true,
    forced: parseInt != $parseInt
  }, {
    parseInt: $parseInt
  });

  var path$7 = path$q;
  path$7.parseInt;

  /* eslint-disable es/no-array-prototype-indexof -- required for testing */


  var $$b = _export;
  var uncurryThis$3 = functionUncurryThis;
  var $IndexOf = arrayIncludes.indexOf;
  var arrayMethodIsStrict$2 = arrayMethodIsStrict$5;
  var un$IndexOf = uncurryThis$3([].indexOf);
  var NEGATIVE_ZERO = !!un$IndexOf && 1 / un$IndexOf([1], 1, -0) < 0;
  var STRICT_METHOD$2 = arrayMethodIsStrict$2('indexOf'); // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof

  $$b({
    target: 'Array',
    proto: true,
    forced: NEGATIVE_ZERO || !STRICT_METHOD$2
  }, {
    indexOf: function indexOf(searchElement
    /* , fromIndex = 0 */
    ) {
      var fromIndex = arguments.length > 1 ? arguments[1] : undefined;
      return NEGATIVE_ZERO // convert -0 to +0
      ? un$IndexOf(this, searchElement, fromIndex) || 0 : $IndexOf(this, searchElement, fromIndex);
    }
  });

  var entryVirtual$7 = entryVirtual$k;
  entryVirtual$7('Array').indexOf;

  var PROPER_FUNCTION_NAME = functionName.PROPER;
  var fails$7 = fails$r;
  var whitespaces = whitespaces$3;
  var non = '\u200B\u0085\u180E'; // check that a method works with the correct list
  // of whitespaces and has a correct name

  var stringTrimForced = function (METHOD_NAME) {
    return fails$7(function () {
      return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() !== non || PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME;
    });
  };

  var $$a = _export;
  var $trim = stringTrim.trim;
  var forcedStringTrimMethod = stringTrimForced; // `String.prototype.trim` method
  // https://tc39.es/ecma262/#sec-string.prototype.trim

  $$a({
    target: 'String',
    proto: true,
    forced: forcedStringTrimMethod('trim')
  }, {
    trim: function trim() {
      return $trim(this);
    }
  });

  var entryVirtual$6 = entryVirtual$k;
  entryVirtual$6('String').trim;

  var $$9 = _export;
  var DESCRIPTORS$3 = descriptors;
  var create$8 = objectCreate; // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create

  $$9({
    target: 'Object',
    stat: true,
    sham: !DESCRIPTORS$3
  }, {
    create: create$8
  });

  var path$6 = path$q;
  var Object$1 = path$6.Object;

  var create$7 = function create(P, D) {
    return Object$1.create(P, D);
  };

  var parent$j = create$7;
  var create$6 = parent$j;

  var create$5 = create$6;

  var $$8 = _export;
  var global$7 = global$M;
  var getBuiltIn$2 = getBuiltIn$9;
  var apply$3 = functionApply;
  var uncurryThis$2 = functionUncurryThis;
  var fails$6 = fails$r;
  var Array$1 = global$7.Array;
  var $stringify = getBuiltIn$2('JSON', 'stringify');
  var exec = uncurryThis$2(/./.exec);
  var charAt = uncurryThis$2(''.charAt);
  var charCodeAt = uncurryThis$2(''.charCodeAt);
  var replace = uncurryThis$2(''.replace);
  var numberToString = uncurryThis$2(1.0.toString);
  var tester = /[\uD800-\uDFFF]/g;
  var low = /^[\uD800-\uDBFF]$/;
  var hi = /^[\uDC00-\uDFFF]$/;

  var fix = function (match, offset, string) {
    var prev = charAt(string, offset - 1);
    var next = charAt(string, offset + 1);

    if (exec(low, match) && !exec(hi, next) || exec(hi, match) && !exec(low, prev)) {
      return '\\u' + numberToString(charCodeAt(match, 0), 16);
    }

    return match;
  };

  var FORCED$2 = fails$6(function () {
    return $stringify('\uDF06\uD834') !== '"\\udf06\\ud834"' || $stringify('\uDEAD') !== '"\\udead"';
  });

  if ($stringify) {
    // `JSON.stringify` method
    // https://tc39.es/ecma262/#sec-json.stringify
    // https://github.com/tc39/proposal-well-formed-stringify
    $$8({
      target: 'JSON',
      stat: true,
      forced: FORCED$2
    }, {
      // eslint-disable-next-line no-unused-vars -- required for `.length`
      stringify: function stringify(it, replacer, space) {
        for (var i = 0, l = arguments.length, args = Array$1(l); i < l; i++) args[i] = arguments[i];

        var result = apply$3($stringify, null, args);
        return typeof result == 'string' ? replace(result, tester, fix) : result;
      }
    });
  }

  var path$5 = path$q;
  var apply$2 = functionApply; // eslint-disable-next-line es/no-json -- safe

  if (!path$5.JSON) path$5.JSON = {
    stringify: JSON.stringify
  }; // eslint-disable-next-line no-unused-vars -- required for `.length`

  var stringify$3 = function stringify(it, replacer, space) {
    return apply$2(path$5.JSON.stringify, null, arguments);
  };

  var parent$i = stringify$3;
  var stringify$2 = parent$i;

  var stringify$1 = stringify$2;

  var global$6 = global$M;
  var TypeError$4 = global$6.TypeError;

  var validateArgumentsLength$1 = function (passed, required) {
    if (passed < required) throw TypeError$4('Not enough arguments');
    return passed;
  };

  var $$7 = _export;
  var global$5 = global$M;
  var apply$1 = functionApply;
  var isCallable$1 = isCallable$h;
  var userAgent$2 = engineUserAgent;
  var arraySlice$1 = arraySlice$5;
  var validateArgumentsLength = validateArgumentsLength$1;
  var MSIE = /MSIE .\./.test(userAgent$2); // <- dirty ie9- check

  var Function$1 = global$5.Function;

  var wrap = function (scheduler) {
    return function (handler, timeout
    /* , ...arguments */
    ) {
      var boundArgs = validateArgumentsLength(arguments.length, 1) > 2;
      var fn = isCallable$1(handler) ? handler : Function$1(handler);
      var args = boundArgs ? arraySlice$1(arguments, 2) : undefined;
      return scheduler(boundArgs ? function () {
        apply$1(fn, this, args);
      } : fn, timeout);
    };
  }; // ie9- setTimeout & setInterval additional parameters fix
  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers


  $$7({
    global: true,
    bind: true,
    forced: MSIE
  }, {
    // `setTimeout` method
    // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout
    setTimeout: wrap(global$5.setTimeout),
    // `setInterval` method
    // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval
    setInterval: wrap(global$5.setInterval)
  });

  var path$4 = path$q;
  var setTimeout$2 = path$4.setTimeout;

  var setTimeout$1 = setTimeout$2;

  var toObject$1 = toObject$e;
  var toAbsoluteIndex = toAbsoluteIndex$5;
  var lengthOfArrayLike$2 = lengthOfArrayLike$d; // `Array.prototype.fill` method implementation
  // https://tc39.es/ecma262/#sec-array.prototype.fill

  var arrayFill = function fill(value
  /* , start = 0, end = @length */
  ) {
    var O = toObject$1(this);
    var length = lengthOfArrayLike$2(O);
    var argumentsLength = arguments.length;
    var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);
    var end = argumentsLength > 2 ? arguments[2] : undefined;
    var endPos = end === undefined ? length : toAbsoluteIndex(end, length);

    while (endPos > index) O[index++] = value;

    return O;
  };

  var $$6 = _export;
  var fill = arrayFill;
  // https://tc39.es/ecma262/#sec-array.prototype.fill

  $$6({
    target: 'Array',
    proto: true
  }, {
    fill: fill
  }); // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables

  var entryVirtual$5 = entryVirtual$k;
  entryVirtual$5('Array').fill;

  var componentEmitter = {exports: {}};

  (function (module) {
    /**
     * Expose `Emitter`.
     */
    {
      module.exports = Emitter;
    }
    /**
     * Initialize a new `Emitter`.
     *
     * @api public
     */


    function Emitter(obj) {
      if (obj) return mixin(obj);
    }
    /**
     * Mixin the emitter properties.
     *
     * @param {Object} obj
     * @return {Object}
     * @api private
     */

    function mixin(obj) {
      for (var key in Emitter.prototype) {
        obj[key] = Emitter.prototype[key];
      }

      return obj;
    }
    /**
     * Listen on the given `event` with `fn`.
     *
     * @param {String} event
     * @param {Function} fn
     * @return {Emitter}
     * @api public
     */


    Emitter.prototype.on = Emitter.prototype.addEventListener = function (event, fn) {
      this._callbacks = this._callbacks || {};
      (this._callbacks['$' + event] = this._callbacks['$' + event] || []).push(fn);
      return this;
    };
    /**
     * Adds an `event` listener that will be invoked a single
     * time then automatically removed.
     *
     * @param {String} event
     * @param {Function} fn
     * @return {Emitter}
     * @api public
     */


    Emitter.prototype.once = function (event, fn) {
      function on() {
        this.off(event, on);
        fn.apply(this, arguments);
      }

      on.fn = fn;
      this.on(event, on);
      return this;
    };
    /**
     * Remove the given callback for `event` or all
     * registered callbacks.
     *
     * @param {String} event
     * @param {Function} fn
     * @return {Emitter}
     * @api public
     */


    Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function (event, fn) {
      this._callbacks = this._callbacks || {}; // all

      if (0 == arguments.length) {
        this._callbacks = {};
        return this;
      } // specific event


      var callbacks = this._callbacks['$' + event];
      if (!callbacks) return this; // remove all handlers

      if (1 == arguments.length) {
        delete this._callbacks['$' + event];
        return this;
      } // remove specific handler


      var cb;

      for (var i = 0; i < callbacks.length; i++) {
        cb = callbacks[i];

        if (cb === fn || cb.fn === fn) {
          callbacks.splice(i, 1);
          break;
        }
      } // Remove event specific arrays for event types that no
      // one is subscribed for to avoid memory leak.


      if (callbacks.length === 0) {
        delete this._callbacks['$' + event];
      }

      return this;
    };
    /**
     * Emit `event` with the given args.
     *
     * @param {String} event
     * @param {Mixed} ...
     * @return {Emitter}
     */


    Emitter.prototype.emit = function (event) {
      this._callbacks = this._callbacks || {};
      var args = new Array(arguments.length - 1),
          callbacks = this._callbacks['$' + event];

      for (var i = 1; i < arguments.length; i++) {
        args[i - 1] = arguments[i];
      }

      if (callbacks) {
        callbacks = callbacks.slice(0);

        for (var i = 0, len = callbacks.length; i < len; ++i) {
          callbacks[i].apply(this, args);
        }
      }

      return this;
    };
    /**
     * Return array of callbacks for `event`.
     *
     * @param {String} event
     * @return {Array}
     * @api public
     */


    Emitter.prototype.listeners = function (event) {
      this._callbacks = this._callbacks || {};
      return this._callbacks['$' + event] || [];
    };
    /**
     * Check if this emitter has `event` handlers.
     *
     * @param {String} event
     * @return {Boolean}
     * @api public
     */


    Emitter.prototype.hasListeners = function (event) {
      return !!this.listeners(event).length;
    };
  })(componentEmitter);

  var Emitter = componentEmitter.exports;

  /*! Hammer.JS - v2.0.17-rc - 2019-12-16
   * http://naver.github.io/egjs
   *
   * Forked By Naver egjs
   * Copyright (c) hammerjs
   * Licensed under the MIT license */
  function _extends() {
    _extends = Object.assign || function (target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];

        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }

      return target;
    };

    return _extends.apply(this, arguments);
  }

  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    subClass.__proto__ = superClass;
  }

  function _assertThisInitialized$1(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  }
  /**
   * @private
   * extend object.
   * means that properties in dest will be overwritten by the ones in src.
   * @param {Object} target
   * @param {...Object} objects_to_assign
   * @returns {Object} target
   */


  var assign;

  if (typeof Object.assign !== 'function') {
    assign = function assign(target) {
      if (target === undefined || target === null) {
        throw new TypeError('Cannot convert undefined or null to object');
      }

      var output = Object(target);

      for (var index = 1; index < arguments.length; index++) {
        var source = arguments[index];

        if (source !== undefined && source !== null) {
          for (var nextKey in source) {
            if (source.hasOwnProperty(nextKey)) {
              output[nextKey] = source[nextKey];
            }
          }
        }
      }

      return output;
    };
  } else {
    assign = Object.assign;
  }

  var assign$1 = assign;
  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];
  var TEST_ELEMENT = typeof document === "undefined" ? {
    style: {}
  } : document.createElement('div');
  var TYPE_FUNCTION = 'function';
  var round = Math.round,
      abs = Math.abs;
  var now = Date.now;
  /**
   * @private
   * get the prefixed property
   * @param {Object} obj
   * @param {String} property
   * @returns {String|Undefined} prefixed
   */

  function prefixed(obj, property) {
    var prefix;
    var prop;
    var camelProp = property[0].toUpperCase() + property.slice(1);
    var i = 0;

    while (i < VENDOR_PREFIXES.length) {
      prefix = VENDOR_PREFIXES[i];
      prop = prefix ? prefix + camelProp : property;

      if (prop in obj) {
        return prop;
      }

      i++;
    }

    return undefined;
  }
  /* eslint-disable no-new-func, no-nested-ternary */


  var win;

  if (typeof window === "undefined") {
    // window is undefined in node.js
    win = {};
  } else {
    win = window;
  }

  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');
  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;

  function getTouchActionProps() {
    if (!NATIVE_TOUCH_ACTION) {
      return false;
    }

    var touchMap = {};
    var cssSupports = win.CSS && win.CSS.supports;
    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {
      // If css.supports is not supported but there is native touch-action assume it supports
      // all values. This is the case for IE 10 and 11.
      return touchMap[val] = cssSupports ? win.CSS.supports('touch-action', val) : true;
    });
    return touchMap;
  }

  var TOUCH_ACTION_COMPUTE = 'compute';
  var TOUCH_ACTION_AUTO = 'auto';
  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented

  var TOUCH_ACTION_NONE = 'none';
  var TOUCH_ACTION_PAN_X = 'pan-x';
  var TOUCH_ACTION_PAN_Y = 'pan-y';
  var TOUCH_ACTION_MAP = getTouchActionProps();
  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;
  var SUPPORT_TOUCH = ('ontouchstart' in win);
  var SUPPORT_POINTER_EVENTS = prefixed(win, 'PointerEvent') !== undefined;
  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);
  var INPUT_TYPE_TOUCH = 'touch';
  var INPUT_TYPE_PEN = 'pen';
  var INPUT_TYPE_MOUSE = 'mouse';
  var INPUT_TYPE_KINECT = 'kinect';
  var COMPUTE_INTERVAL = 25;
  var INPUT_START = 1;
  var INPUT_MOVE = 2;
  var INPUT_END = 4;
  var INPUT_CANCEL = 8;
  var DIRECTION_NONE = 1;
  var DIRECTION_LEFT = 2;
  var DIRECTION_RIGHT = 4;
  var DIRECTION_UP = 8;
  var DIRECTION_DOWN = 16;
  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;
  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;
  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;
  var PROPS_XY = ['x', 'y'];
  var PROPS_CLIENT_XY = ['clientX', 'clientY'];
  /**
   * @private
   * walk objects and arrays
   * @param {Object} obj
   * @param {Function} iterator
   * @param {Object} context
   */

  function each(obj, iterator, context) {
    var i;

    if (!obj) {
      return;
    }

    if (obj.forEach) {
      obj.forEach(iterator, context);
    } else if (obj.length !== undefined) {
      i = 0;

      while (i < obj.length) {
        iterator.call(context, obj[i], i, obj);
        i++;
      }
    } else {
      for (i in obj) {
        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);
      }
    }
  }
  /**
   * @private
   * let a boolean value also be a function that must return a boolean
   * this first item in args will be used as the context
   * @param {Boolean|Function} val
   * @param {Array} [args]
   * @returns {Boolean}
   */


  function boolOrFn(val, args) {
    if (typeof val === TYPE_FUNCTION) {
      return val.apply(args ? args[0] || undefined : undefined, args);
    }

    return val;
  }
  /**
   * @private
   * small indexOf wrapper
   * @param {String} str
   * @param {String} find
   * @returns {Boolean} found
   */


  function inStr(str, find) {
    return str.indexOf(find) > -1;
  }
  /**
   * @private
   * when the touchActions are collected they are not a valid value, so we need to clean things up. *
   * @param {String} actions
   * @returns {*}
   */


  function cleanTouchActions(actions) {
    // none
    if (inStr(actions, TOUCH_ACTION_NONE)) {
      return TOUCH_ACTION_NONE;
    }

    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);
    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers
    // for different directions, e.g. horizontal pan but vertical swipe?)
    // we need none (as otherwise with pan-x pan-y combined none of these
    // recognizers will work, since the browser would handle all panning

    if (hasPanX && hasPanY) {
      return TOUCH_ACTION_NONE;
    } // pan-x OR pan-y


    if (hasPanX || hasPanY) {
      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;
    } // manipulation


    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {
      return TOUCH_ACTION_MANIPULATION;
    }

    return TOUCH_ACTION_AUTO;
  }
  /**
   * @private
   * Touch Action
   * sets the touchAction property or uses the js alternative
   * @param {Manager} manager
   * @param {String} value
   * @constructor
   */


  var TouchAction = /*#__PURE__*/function () {
    function TouchAction(manager, value) {
      this.manager = manager;
      this.set(value);
    }
    /**
     * @private
     * set the touchAction value on the element or enable the polyfill
     * @param {String} value
     */


    var _proto = TouchAction.prototype;

    _proto.set = function set(value) {
      // find out the touch-action by the event handlers
      if (value === TOUCH_ACTION_COMPUTE) {
        value = this.compute();
      }

      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {
        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;
      }

      this.actions = value.toLowerCase().trim();
    };
    /**
     * @private
     * just re-set the touchAction value
     */


    _proto.update = function update() {
      this.set(this.manager.options.touchAction);
    };
    /**
     * @private
     * compute the value for the touchAction property based on the recognizer's settings
     * @returns {String} value
     */


    _proto.compute = function compute() {
      var actions = [];
      each(this.manager.recognizers, function (recognizer) {
        if (boolOrFn(recognizer.options.enable, [recognizer])) {
          actions = actions.concat(recognizer.getTouchAction());
        }
      });
      return cleanTouchActions(actions.join(' '));
    };
    /**
     * @private
     * this method is called on each input cycle and provides the preventing of the browser behavior
     * @param {Object} input
     */


    _proto.preventDefaults = function preventDefaults(input) {
      var srcEvent = input.srcEvent;
      var direction = input.offsetDirection; // if the touch action did prevented once this session

      if (this.manager.session.prevented) {
        srcEvent.preventDefault();
        return;
      }

      var actions = this.actions;
      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];
      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];
      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];

      if (hasNone) {
        // do not prevent defaults if this is a tap gesture
        var isTapPointer = input.pointers.length === 1;
        var isTapMovement = input.distance < 2;
        var isTapTouchTime = input.deltaTime < 250;

        if (isTapPointer && isTapMovement && isTapTouchTime) {
          return;
        }
      }

      if (hasPanX && hasPanY) {
        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent
        return;
      }

      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {
        return this.preventSrc(srcEvent);
      }
    };
    /**
     * @private
     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)
     * @param {Object} srcEvent
     */


    _proto.preventSrc = function preventSrc(srcEvent) {
      this.manager.session.prevented = true;
      srcEvent.preventDefault();
    };

    return TouchAction;
  }();
  /**
   * @private
   * find if a node is in the given parent
   * @method hasParent
   * @param {HTMLElement} node
   * @param {HTMLElement} parent
   * @return {Boolean} found
   */


  function hasParent(node, parent) {
    while (node) {
      if (node === parent) {
        return true;
      }

      node = node.parentNode;
    }

    return false;
  }
  /**
   * @private
   * get the center of all the pointers
   * @param {Array} pointers
   * @return {Object} center contains `x` and `y` properties
   */


  function getCenter(pointers) {
    var pointersLength = pointers.length; // no need to loop when only one touch

    if (pointersLength === 1) {
      return {
        x: round(pointers[0].clientX),
        y: round(pointers[0].clientY)
      };
    }

    var x = 0;
    var y = 0;
    var i = 0;

    while (i < pointersLength) {
      x += pointers[i].clientX;
      y += pointers[i].clientY;
      i++;
    }

    return {
      x: round(x / pointersLength),
      y: round(y / pointersLength)
    };
  }
  /**
   * @private
   * create a simple clone from the input used for storage of firstInput and firstMultiple
   * @param {Object} input
   * @returns {Object} clonedInputData
   */


  function simpleCloneInputData(input) {
    // make a simple copy of the pointers because we will get a reference if we don't
    // we only need clientXY for the calculations
    var pointers = [];
    var i = 0;

    while (i < input.pointers.length) {
      pointers[i] = {
        clientX: round(input.pointers[i].clientX),
        clientY: round(input.pointers[i].clientY)
      };
      i++;
    }

    return {
      timeStamp: now(),
      pointers: pointers,
      center: getCenter(pointers),
      deltaX: input.deltaX,
      deltaY: input.deltaY
    };
  }
  /**
   * @private
   * calculate the absolute distance between two points
   * @param {Object} p1 {x, y}
   * @param {Object} p2 {x, y}
   * @param {Array} [props] containing x and y keys
   * @return {Number} distance
   */


  function getDistance(p1, p2, props) {
    if (!props) {
      props = PROPS_XY;
    }

    var x = p2[props[0]] - p1[props[0]];
    var y = p2[props[1]] - p1[props[1]];
    return Math.sqrt(x * x + y * y);
  }
  /**
   * @private
   * calculate the angle between two coordinates
   * @param {Object} p1
   * @param {Object} p2
   * @param {Array} [props] containing x and y keys
   * @return {Number} angle
   */


  function getAngle(p1, p2, props) {
    if (!props) {
      props = PROPS_XY;
    }

    var x = p2[props[0]] - p1[props[0]];
    var y = p2[props[1]] - p1[props[1]];
    return Math.atan2(y, x) * 180 / Math.PI;
  }
  /**
   * @private
   * get the direction between two points
   * @param {Number} x
   * @param {Number} y
   * @return {Number} direction
   */


  function getDirection(x, y) {
    if (x === y) {
      return DIRECTION_NONE;
    }

    if (abs(x) >= abs(y)) {
      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;
    }

    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;
  }

  function computeDeltaXY(session, input) {
    var center = input.center; // let { offsetDelta:offset = {}, prevDelta = {}, prevInput = {} } = session;
    // jscs throwing error on defalut destructured values and without defaults tests fail

    var offset = session.offsetDelta || {};
    var prevDelta = session.prevDelta || {};
    var prevInput = session.prevInput || {};

    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {
      prevDelta = session.prevDelta = {
        x: prevInput.deltaX || 0,
        y: prevInput.deltaY || 0
      };
      offset = session.offsetDelta = {
        x: center.x,
        y: center.y
      };
    }

    input.deltaX = prevDelta.x + (center.x - offset.x);
    input.deltaY = prevDelta.y + (center.y - offset.y);
  }
  /**
   * @private
   * calculate the velocity between two points. unit is in px per ms.
   * @param {Number} deltaTime
   * @param {Number} x
   * @param {Number} y
   * @return {Object} velocity `x` and `y`
   */


  function getVelocity(deltaTime, x, y) {
    return {
      x: x / deltaTime || 0,
      y: y / deltaTime || 0
    };
  }
  /**
   * @private
   * calculate the scale factor between two pointersets
   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out
   * @param {Array} start array of pointers
   * @param {Array} end array of pointers
   * @return {Number} scale
   */


  function getScale(start, end) {
    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);
  }
  /**
   * @private
   * calculate the rotation degrees between two pointersets
   * @param {Array} start array of pointers
   * @param {Array} end array of pointers
   * @return {Number} rotation
   */


  function getRotation(start, end) {
    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);
  }
  /**
   * @private
   * velocity is calculated every x ms
   * @param {Object} session
   * @param {Object} input
   */


  function computeIntervalInputData(session, input) {
    var last = session.lastInterval || input;
    var deltaTime = input.timeStamp - last.timeStamp;
    var velocity;
    var velocityX;
    var velocityY;
    var direction;

    if (input.eventType !== INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {
      var deltaX = input.deltaX - last.deltaX;
      var deltaY = input.deltaY - last.deltaY;
      var v = getVelocity(deltaTime, deltaX, deltaY);
      velocityX = v.x;
      velocityY = v.y;
      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;
      direction = getDirection(deltaX, deltaY);
      session.lastInterval = input;
    } else {
      // use latest velocity info if it doesn't overtake a minimum period
      velocity = last.velocity;
      velocityX = last.velocityX;
      velocityY = last.velocityY;
      direction = last.direction;
    }

    input.velocity = velocity;
    input.velocityX = velocityX;
    input.velocityY = velocityY;
    input.direction = direction;
  }
  /**
  * @private
   * extend the data with some usable properties like scale, rotate, velocity etc
   * @param {Object} manager
   * @param {Object} input
   */


  function computeInputData(manager, input) {
    var session = manager.session;
    var pointers = input.pointers;
    var pointersLength = pointers.length; // store the first input to calculate the distance and direction

    if (!session.firstInput) {
      session.firstInput = simpleCloneInputData(input);
    } // to compute scale and rotation we need to store the multiple touches


    if (pointersLength > 1 && !session.firstMultiple) {
      session.firstMultiple = simpleCloneInputData(input);
    } else if (pointersLength === 1) {
      session.firstMultiple = false;
    }

    var firstInput = session.firstInput,
        firstMultiple = session.firstMultiple;
    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;
    var center = input.center = getCenter(pointers);
    input.timeStamp = now();
    input.deltaTime = input.timeStamp - firstInput.timeStamp;
    input.angle = getAngle(offsetCenter, center);
    input.distance = getDistance(offsetCenter, center);
    computeDeltaXY(session, input);
    input.offsetDirection = getDirection(input.deltaX, input.deltaY);
    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);
    input.overallVelocityX = overallVelocity.x;
    input.overallVelocityY = overallVelocity.y;
    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;
    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;
    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;
    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;
    computeIntervalInputData(session, input); // find the correct target

    var target = manager.element;
    var srcEvent = input.srcEvent;
    var srcEventTarget;

    if (srcEvent.composedPath) {
      srcEventTarget = srcEvent.composedPath()[0];
    } else if (srcEvent.path) {
      srcEventTarget = srcEvent.path[0];
    } else {
      srcEventTarget = srcEvent.target;
    }

    if (hasParent(srcEventTarget, target)) {
      target = srcEventTarget;
    }

    input.target = target;
  }
  /**
   * @private
   * handle input events
   * @param {Manager} manager
   * @param {String} eventType
   * @param {Object} input
   */


  function inputHandler(manager, eventType, input) {
    var pointersLen = input.pointers.length;
    var changedPointersLen = input.changedPointers.length;
    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;
    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;
    input.isFirst = !!isFirst;
    input.isFinal = !!isFinal;

    if (isFirst) {
      manager.session = {};
    } // source event is the normalized value of the domEvents
    // like 'touchstart, mouseup, pointerdown'


    input.eventType = eventType; // compute scale, rotation etc

    computeInputData(manager, input); // emit secret event

    manager.emit('hammer.input', input);
    manager.recognize(input);
    manager.session.prevInput = input;
  }
  /**
   * @private
   * split string on whitespace
   * @param {String} str
   * @returns {Array} words
   */


  function splitStr(str) {
    return str.trim().split(/\s+/g);
  }
  /**
   * @private
   * addEventListener with multiple events at once
   * @param {EventTarget} target
   * @param {String} types
   * @param {Function} handler
   */


  function addEventListeners(target, types, handler) {
    each(splitStr(types), function (type) {
      target.addEventListener(type, handler, false);
    });
  }
  /**
   * @private
   * removeEventListener with multiple events at once
   * @param {EventTarget} target
   * @param {String} types
   * @param {Function} handler
   */


  function removeEventListeners(target, types, handler) {
    each(splitStr(types), function (type) {
      target.removeEventListener(type, handler, false);
    });
  }
  /**
   * @private
   * get the window object of an element
   * @param {HTMLElement} element
   * @returns {DocumentView|Window}
   */


  function getWindowForElement(element) {
    var doc = element.ownerDocument || element;
    return doc.defaultView || doc.parentWindow || window;
  }
  /**
   * @private
   * create new input type manager
   * @param {Manager} manager
   * @param {Function} callback
   * @returns {Input}
   * @constructor
   */


  var Input = /*#__PURE__*/function () {
    function Input(manager, callback) {
      var self = this;
      this.manager = manager;
      this.callback = callback;
      this.element = manager.element;
      this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,
      // so when disabled the input events are completely bypassed.

      this.domHandler = function (ev) {
        if (boolOrFn(manager.options.enable, [manager])) {
          self.handler(ev);
        }
      };

      this.init();
    }
    /**
     * @private
     * should handle the inputEvent data and trigger the callback
     * @virtual
     */


    var _proto = Input.prototype;

    _proto.handler = function handler() {};
    /**
     * @private
     * bind the events
     */


    _proto.init = function init() {
      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);
      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);
      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
    };
    /**
     * @private
     * unbind the events
     */


    _proto.destroy = function destroy() {
      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);
      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);
      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
    };

    return Input;
  }();
  /**
   * @private
   * find if a array contains the object using indexOf or a simple polyFill
   * @param {Array} src
   * @param {String} find
   * @param {String} [findByKey]
   * @return {Boolean|Number} false when not found, or the index
   */


  function inArray(src, find, findByKey) {
    if (src.indexOf && !findByKey) {
      return src.indexOf(find);
    } else {
      var i = 0;

      while (i < src.length) {
        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {
          // do not use === here, test fails
          return i;
        }

        i++;
      }

      return -1;
    }
  }

  var POINTER_INPUT_MAP = {
    pointerdown: INPUT_START,
    pointermove: INPUT_MOVE,
    pointerup: INPUT_END,
    pointercancel: INPUT_CANCEL,
    pointerout: INPUT_CANCEL
  }; // in IE10 the pointer types is defined as an enum

  var IE10_POINTER_TYPE_ENUM = {
    2: INPUT_TYPE_TOUCH,
    3: INPUT_TYPE_PEN,
    4: INPUT_TYPE_MOUSE,
    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816

  };
  var POINTER_ELEMENT_EVENTS = 'pointerdown';
  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive

  if (win.MSPointerEvent && !win.PointerEvent) {
    POINTER_ELEMENT_EVENTS = 'MSPointerDown';
    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';
  }
  /**
   * @private
   * Pointer events input
   * @constructor
   * @extends Input
   */


  var PointerEventInput = /*#__PURE__*/function (_Input) {
    _inheritsLoose(PointerEventInput, _Input);

    function PointerEventInput() {
      var _this;

      var proto = PointerEventInput.prototype;
      proto.evEl = POINTER_ELEMENT_EVENTS;
      proto.evWin = POINTER_WINDOW_EVENTS;
      _this = _Input.apply(this, arguments) || this;
      _this.store = _this.manager.session.pointerEvents = [];
      return _this;
    }
    /**
     * @private
     * handle mouse events
     * @param {Object} ev
     */


    var _proto = PointerEventInput.prototype;

    _proto.handler = function handler(ev) {
      var store = this.store;
      var removePointer = false;
      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');
      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];
      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;
      var isTouch = pointerType === INPUT_TYPE_TOUCH; // get index of the event in the store

      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down

      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {
        if (storeIndex < 0) {
          store.push(ev);
          storeIndex = store.length - 1;
        }
      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {
        removePointer = true;
      } // it not found, so the pointer hasn't been down (so it's probably a hover)


      if (storeIndex < 0) {
        return;
      } // update the event in the store


      store[storeIndex] = ev;
      this.callback(this.manager, eventType, {
        pointers: store,
        changedPointers: [ev],
        pointerType: pointerType,
        srcEvent: ev
      });

      if (removePointer) {
        // remove from the store
        store.splice(storeIndex, 1);
      }
    };

    return PointerEventInput;
  }(Input);
  /**
   * @private
   * convert array-like objects to real arrays
   * @param {Object} obj
   * @returns {Array}
   */


  function toArray(obj) {
    return Array.prototype.slice.call(obj, 0);
  }
  /**
   * @private
   * unique array with objects based on a key (like 'id') or just by the array's value
   * @param {Array} src [{id:1},{id:2},{id:1}]
   * @param {String} [key]
   * @param {Boolean} [sort=False]
   * @returns {Array} [{id:1},{id:2}]
   */


  function uniqueArray(src, key, sort) {
    var results = [];
    var values = [];
    var i = 0;

    while (i < src.length) {
      var val = key ? src[i][key] : src[i];

      if (inArray(values, val) < 0) {
        results.push(src[i]);
      }

      values[i] = val;
      i++;
    }

    if (sort) {
      if (!key) {
        results = results.sort();
      } else {
        results = results.sort(function (a, b) {
          return a[key] > b[key];
        });
      }
    }

    return results;
  }

  var TOUCH_INPUT_MAP = {
    touchstart: INPUT_START,
    touchmove: INPUT_MOVE,
    touchend: INPUT_END,
    touchcancel: INPUT_CANCEL
  };
  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';
  /**
   * @private
   * Multi-user touch events input
   * @constructor
   * @extends Input
   */

  var TouchInput = /*#__PURE__*/function (_Input) {
    _inheritsLoose(TouchInput, _Input);

    function TouchInput() {
      var _this;

      TouchInput.prototype.evTarget = TOUCH_TARGET_EVENTS;
      _this = _Input.apply(this, arguments) || this;
      _this.targetIds = {}; // this.evTarget = TOUCH_TARGET_EVENTS;

      return _this;
    }

    var _proto = TouchInput.prototype;

    _proto.handler = function handler(ev) {
      var type = TOUCH_INPUT_MAP[ev.type];
      var touches = getTouches.call(this, ev, type);

      if (!touches) {
        return;
      }

      this.callback(this.manager, type, {
        pointers: touches[0],
        changedPointers: touches[1],
        pointerType: INPUT_TYPE_TOUCH,
        srcEvent: ev
      });
    };

    return TouchInput;
  }(Input);

  function getTouches(ev, type) {
    var allTouches = toArray(ev.touches);
    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified

    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {
      targetIds[allTouches[0].identifier] = true;
      return [allTouches, allTouches];
    }

    var i;
    var targetTouches;
    var changedTouches = toArray(ev.changedTouches);
    var changedTargetTouches = [];
    var target = this.target; // get target touches from touches

    targetTouches = allTouches.filter(function (touch) {
      return hasParent(touch.target, target);
    }); // collect touches

    if (type === INPUT_START) {
      i = 0;

      while (i < targetTouches.length) {
        targetIds[targetTouches[i].identifier] = true;
        i++;
      }
    } // filter changed touches to only contain touches that exist in the collected target ids


    i = 0;

    while (i < changedTouches.length) {
      if (targetIds[changedTouches[i].identifier]) {
        changedTargetTouches.push(changedTouches[i]);
      } // cleanup removed touches


      if (type & (INPUT_END | INPUT_CANCEL)) {
        delete targetIds[changedTouches[i].identifier];
      }

      i++;
    }

    if (!changedTargetTouches.length) {
      return;
    }

    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'
    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];
  }

  var MOUSE_INPUT_MAP = {
    mousedown: INPUT_START,
    mousemove: INPUT_MOVE,
    mouseup: INPUT_END
  };
  var MOUSE_ELEMENT_EVENTS = 'mousedown';
  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';
  /**
   * @private
   * Mouse events input
   * @constructor
   * @extends Input
   */

  var MouseInput = /*#__PURE__*/function (_Input) {
    _inheritsLoose(MouseInput, _Input);

    function MouseInput() {
      var _this;

      var proto = MouseInput.prototype;
      proto.evEl = MOUSE_ELEMENT_EVENTS;
      proto.evWin = MOUSE_WINDOW_EVENTS;
      _this = _Input.apply(this, arguments) || this;
      _this.pressed = false; // mousedown state

      return _this;
    }
    /**
     * @private
     * handle mouse events
     * @param {Object} ev
     */


    var _proto = MouseInput.prototype;

    _proto.handler = function handler(ev) {
      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down

      if (eventType & INPUT_START && ev.button === 0) {
        this.pressed = true;
      }

      if (eventType & INPUT_MOVE && ev.which !== 1) {
        eventType = INPUT_END;
      } // mouse must be down


      if (!this.pressed) {
        return;
      }

      if (eventType & INPUT_END) {
        this.pressed = false;
      }

      this.callback(this.manager, eventType, {
        pointers: [ev],
        changedPointers: [ev],
        pointerType: INPUT_TYPE_MOUSE,
        srcEvent: ev
      });
    };

    return MouseInput;
  }(Input);
  /**
   * @private
   * Combined touch and mouse input
   *
   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.
   * This because touch devices also emit mouse events while doing a touch.
   *
   * @constructor
   * @extends Input
   */


  var DEDUP_TIMEOUT = 2500;
  var DEDUP_DISTANCE = 25;

  function setLastTouch(eventData) {
    var _eventData$changedPoi = eventData.changedPointers,
        touch = _eventData$changedPoi[0];

    if (touch.identifier === this.primaryTouch) {
      var lastTouch = {
        x: touch.clientX,
        y: touch.clientY
      };
      var lts = this.lastTouches;
      this.lastTouches.push(lastTouch);

      var removeLastTouch = function removeLastTouch() {
        var i = lts.indexOf(lastTouch);

        if (i > -1) {
          lts.splice(i, 1);
        }
      };

      setTimeout(removeLastTouch, DEDUP_TIMEOUT);
    }
  }

  function recordTouches(eventType, eventData) {
    if (eventType & INPUT_START) {
      this.primaryTouch = eventData.changedPointers[0].identifier;
      setLastTouch.call(this, eventData);
    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {
      setLastTouch.call(this, eventData);
    }
  }

  function isSyntheticEvent(eventData) {
    var x = eventData.srcEvent.clientX;
    var y = eventData.srcEvent.clientY;

    for (var i = 0; i < this.lastTouches.length; i++) {
      var t = this.lastTouches[i];
      var dx = Math.abs(x - t.x);
      var dy = Math.abs(y - t.y);

      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {
        return true;
      }
    }

    return false;
  }

  var TouchMouseInput = /*#__PURE__*/function () {
    var TouchMouseInput = /*#__PURE__*/function (_Input) {
      _inheritsLoose(TouchMouseInput, _Input);

      function TouchMouseInput(_manager, callback) {
        var _this;

        _this = _Input.call(this, _manager, callback) || this;

        _this.handler = function (manager, inputEvent, inputData) {
          var isTouch = inputData.pointerType === INPUT_TYPE_TOUCH;
          var isMouse = inputData.pointerType === INPUT_TYPE_MOUSE;

          if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {
            return;
          } // when we're in a touch event, record touches to  de-dupe synthetic mouse event


          if (isTouch) {
            recordTouches.call(_assertThisInitialized$1(_assertThisInitialized$1(_this)), inputEvent, inputData);
          } else if (isMouse && isSyntheticEvent.call(_assertThisInitialized$1(_assertThisInitialized$1(_this)), inputData)) {
            return;
          }

          _this.callback(manager, inputEvent, inputData);
        };

        _this.touch = new TouchInput(_this.manager, _this.handler);
        _this.mouse = new MouseInput(_this.manager, _this.handler);
        _this.primaryTouch = null;
        _this.lastTouches = [];
        return _this;
      }
      /**
       * @private
       * handle mouse and touch events
       * @param {Hammer} manager
       * @param {String} inputEvent
       * @param {Object} inputData
       */


      var _proto = TouchMouseInput.prototype;
      /**
       * @private
       * remove the event listeners
       */

      _proto.destroy = function destroy() {
        this.touch.destroy();
        this.mouse.destroy();
      };

      return TouchMouseInput;
    }(Input);

    return TouchMouseInput;
  }();
  /**
   * @private
   * create new input type manager
   * called by the Manager constructor
   * @param {Hammer} manager
   * @returns {Input}
   */


  function createInputInstance(manager) {
    var Type; // let inputClass = manager.options.inputClass;

    var inputClass = manager.options.inputClass;

    if (inputClass) {
      Type = inputClass;
    } else if (SUPPORT_POINTER_EVENTS) {
      Type = PointerEventInput;
    } else if (SUPPORT_ONLY_TOUCH) {
      Type = TouchInput;
    } else if (!SUPPORT_TOUCH) {
      Type = MouseInput;
    } else {
      Type = TouchMouseInput;
    }

    return new Type(manager, inputHandler);
  }
  /**
   * @private
   * if the argument is an array, we want to execute the fn on each entry
   * if it aint an array we don't want to do a thing.
   * this is used by all the methods that accept a single and array argument.
   * @param {*|Array} arg
   * @param {String} fn
   * @param {Object} [context]
   * @returns {Boolean}
   */


  function invokeArrayArg(arg, fn, context) {
    if (Array.isArray(arg)) {
      each(arg, context[fn], context);
      return true;
    }

    return false;
  }

  var STATE_POSSIBLE = 1;
  var STATE_BEGAN = 2;
  var STATE_CHANGED = 4;
  var STATE_ENDED = 8;
  var STATE_RECOGNIZED = STATE_ENDED;
  var STATE_CANCELLED = 16;
  var STATE_FAILED = 32;
  /**
   * @private
   * get a unique id
   * @returns {number} uniqueId
   */

  var _uniqueId = 1;

  function uniqueId() {
    return _uniqueId++;
  }
  /**
   * @private
   * get a recognizer by name if it is bound to a manager
   * @param {Recognizer|String} otherRecognizer
   * @param {Recognizer} recognizer
   * @returns {Recognizer}
   */


  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {
    var manager = recognizer.manager;

    if (manager) {
      return manager.get(otherRecognizer);
    }

    return otherRecognizer;
  }
  /**
   * @private
   * get a usable string, used as event postfix
   * @param {constant} state
   * @returns {String} state
   */


  function stateStr(state) {
    if (state & STATE_CANCELLED) {
      return 'cancel';
    } else if (state & STATE_ENDED) {
      return 'end';
    } else if (state & STATE_CHANGED) {
      return 'move';
    } else if (state & STATE_BEGAN) {
      return 'start';
    }

    return '';
  }
  /**
   * @private
   * Recognizer flow explained; *
   * All recognizers have the initial state of POSSIBLE when a input session starts.
   * The definition of a input session is from the first input until the last input, with all it's movement in it. *
   * Example session for mouse-input: mousedown -> mousemove -> mouseup
   *
   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed
   * which determines with state it should be.
   *
   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to
   * POSSIBLE to give it another change on the next cycle.
   *
   *               Possible
   *                  |
   *            +-----+---------------+
   *            |                     |
   *      +-----+-----+               |
   *      |           |               |
   *   Failed      Cancelled          |
   *                          +-------+------+
   *                          |              |
   *                      Recognized       Began
   *                                         |
   *                                      Changed
   *                                         |
   *                                  Ended/Recognized
   */

  /**
   * @private
   * Recognizer
   * Every recognizer needs to extend from this class.
   * @constructor
   * @param {Object} options
   */


  var Recognizer = /*#__PURE__*/function () {
    function Recognizer(options) {
      if (options === void 0) {
        options = {};
      }

      this.options = _extends({
        enable: true
      }, options);
      this.id = uniqueId();
      this.manager = null; // default is enable true

      this.state = STATE_POSSIBLE;
      this.simultaneous = {};
      this.requireFail = [];
    }
    /**
     * @private
     * set options
     * @param {Object} options
     * @return {Recognizer}
     */


    var _proto = Recognizer.prototype;

    _proto.set = function set(options) {
      assign$1(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state

      this.manager && this.manager.touchAction.update();
      return this;
    };
    /**
     * @private
     * recognize simultaneous with an other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */


    _proto.recognizeWith = function recognizeWith(otherRecognizer) {
      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {
        return this;
      }

      var simultaneous = this.simultaneous;
      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);

      if (!simultaneous[otherRecognizer.id]) {
        simultaneous[otherRecognizer.id] = otherRecognizer;
        otherRecognizer.recognizeWith(this);
      }

      return this;
    };
    /**
     * @private
     * drop the simultaneous link. it doesnt remove the link on the other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */


    _proto.dropRecognizeWith = function dropRecognizeWith(otherRecognizer) {
      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {
        return this;
      }

      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
      delete this.simultaneous[otherRecognizer.id];
      return this;
    };
    /**
     * @private
     * recognizer can only run when an other is failing
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */


    _proto.requireFailure = function requireFailure(otherRecognizer) {
      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {
        return this;
      }

      var requireFail = this.requireFail;
      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);

      if (inArray(requireFail, otherRecognizer) === -1) {
        requireFail.push(otherRecognizer);
        otherRecognizer.requireFailure(this);
      }

      return this;
    };
    /**
     * @private
     * drop the requireFailure link. it does not remove the link on the other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */


    _proto.dropRequireFailure = function dropRequireFailure(otherRecognizer) {
      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {
        return this;
      }

      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
      var index = inArray(this.requireFail, otherRecognizer);

      if (index > -1) {
        this.requireFail.splice(index, 1);
      }

      return this;
    };
    /**
     * @private
     * has require failures boolean
     * @returns {boolean}
     */


    _proto.hasRequireFailures = function hasRequireFailures() {
      return this.requireFail.length > 0;
    };
    /**
     * @private
     * if the recognizer can recognize simultaneous with an other recognizer
     * @param {Recognizer} otherRecognizer
     * @returns {Boolean}
     */


    _proto.canRecognizeWith = function canRecognizeWith(otherRecognizer) {
      return !!this.simultaneous[otherRecognizer.id];
    };
    /**
     * @private
     * You should use `tryEmit` instead of `emit` directly to check
     * that all the needed recognizers has failed before emitting.
     * @param {Object} input
     */


    _proto.emit = function emit(input) {
      var self = this;
      var state = this.state;

      function emit(event) {
        self.manager.emit(event, input);
      } // 'panstart' and 'panmove'


      if (state < STATE_ENDED) {
        emit(self.options.event + stateStr(state));
      }

      emit(self.options.event); // simple 'eventName' events

      if (input.additionalEvent) {
        // additional event(panleft, panright, pinchin, pinchout...)
        emit(input.additionalEvent);
      } // panend and pancancel


      if (state >= STATE_ENDED) {
        emit(self.options.event + stateStr(state));
      }
    };
    /**
     * @private
     * Check that all the require failure recognizers has failed,
     * if true, it emits a gesture event,
     * otherwise, setup the state to FAILED.
     * @param {Object} input
     */


    _proto.tryEmit = function tryEmit(input) {
      if (this.canEmit()) {
        return this.emit(input);
      } // it's failing anyway


      this.state = STATE_FAILED;
    };
    /**
     * @private
     * can we emit?
     * @returns {boolean}
     */


    _proto.canEmit = function canEmit() {
      var i = 0;

      while (i < this.requireFail.length) {
        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {
          return false;
        }

        i++;
      }

      return true;
    };
    /**
     * @private
     * update the recognizer
     * @param {Object} inputData
     */


    _proto.recognize = function recognize(inputData) {
      // make a new copy of the inputData
      // so we can change the inputData without messing up the other recognizers
      var inputDataClone = assign$1({}, inputData); // is is enabled and allow recognizing?

      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {
        this.reset();
        this.state = STATE_FAILED;
        return;
      } // reset when we've reached the end


      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {
        this.state = STATE_POSSIBLE;
      }

      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture
      // so trigger an event

      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {
        this.tryEmit(inputDataClone);
      }
    };
    /**
     * @private
     * return the state of the recognizer
     * the actual recognizing happens in this method
     * @virtual
     * @param {Object} inputData
     * @returns {constant} STATE
     */

    /* jshint ignore:start */


    _proto.process = function process(inputData) {};
    /* jshint ignore:end */

    /**
     * @private
     * return the preferred touch-action
     * @virtual
     * @returns {Array}
     */


    _proto.getTouchAction = function getTouchAction() {};
    /**
     * @private
     * called when the gesture isn't allowed to recognize
     * like when another is being recognized or it is disabled
     * @virtual
     */


    _proto.reset = function reset() {};

    return Recognizer;
  }();
  /**
   * @private
   * A tap is recognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur
   * between the given interval and position. The delay option can be used to recognize multi-taps without firing
   * a single tap.
   *
   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of
   * multi-taps being recognized.
   * @constructor
   * @extends Recognizer
   */


  var TapRecognizer = /*#__PURE__*/function (_Recognizer) {
    _inheritsLoose(TapRecognizer, _Recognizer);

    function TapRecognizer(options) {
      var _this;

      if (options === void 0) {
        options = {};
      }

      _this = _Recognizer.call(this, _extends({
        event: 'tap',
        pointers: 1,
        taps: 1,
        interval: 300,
        // max time between the multi-tap taps
        time: 250,
        // max time of the pointer to be down (like finger on the screen)
        threshold: 9,
        // a minimal movement is ok, but keep it low
        posThreshold: 10
      }, options)) || this; // previous time and center,
      // used for tap counting

      _this.pTime = false;
      _this.pCenter = false;
      _this._timer = null;
      _this._input = null;
      _this.count = 0;
      return _this;
    }

    var _proto = TapRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return [TOUCH_ACTION_MANIPULATION];
    };

    _proto.process = function process(input) {
      var _this2 = this;

      var options = this.options;
      var validPointers = input.pointers.length === options.pointers;
      var validMovement = input.distance < options.threshold;
      var validTouchTime = input.deltaTime < options.time;
      this.reset();

      if (input.eventType & INPUT_START && this.count === 0) {
        return this.failTimeout();
      } // we only allow little movement
      // and we've reached an end event, so a tap is possible


      if (validMovement && validTouchTime && validPointers) {
        if (input.eventType !== INPUT_END) {
          return this.failTimeout();
        }

        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;
        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;
        this.pTime = input.timeStamp;
        this.pCenter = input.center;

        if (!validMultiTap || !validInterval) {
          this.count = 1;
        } else {
          this.count += 1;
        }

        this._input = input; // if tap count matches we have recognized it,
        // else it has began recognizing...

        var tapCount = this.count % options.taps;

        if (tapCount === 0) {
          // no failing requirements, immediately trigger the tap event
          // or wait as long as the multitap interval to trigger
          if (!this.hasRequireFailures()) {
            return STATE_RECOGNIZED;
          } else {
            this._timer = setTimeout(function () {
              _this2.state = STATE_RECOGNIZED;

              _this2.tryEmit();
            }, options.interval);
            return STATE_BEGAN;
          }
        }
      }

      return STATE_FAILED;
    };

    _proto.failTimeout = function failTimeout() {
      var _this3 = this;

      this._timer = setTimeout(function () {
        _this3.state = STATE_FAILED;
      }, this.options.interval);
      return STATE_FAILED;
    };

    _proto.reset = function reset() {
      clearTimeout(this._timer);
    };

    _proto.emit = function emit() {
      if (this.state === STATE_RECOGNIZED) {
        this._input.tapCount = this.count;
        this.manager.emit(this.options.event, this._input);
      }
    };

    return TapRecognizer;
  }(Recognizer);
  /**
   * @private
   * This recognizer is just used as a base for the simple attribute recognizers.
   * @constructor
   * @extends Recognizer
   */


  var AttrRecognizer = /*#__PURE__*/function (_Recognizer) {
    _inheritsLoose(AttrRecognizer, _Recognizer);

    function AttrRecognizer(options) {
      if (options === void 0) {
        options = {};
      }

      return _Recognizer.call(this, _extends({
        pointers: 1
      }, options)) || this;
    }
    /**
     * @private
     * Used to check if it the recognizer receives valid input, like input.distance > 10.
     * @memberof AttrRecognizer
     * @param {Object} input
     * @returns {Boolean} recognized
     */


    var _proto = AttrRecognizer.prototype;

    _proto.attrTest = function attrTest(input) {
      var optionPointers = this.options.pointers;
      return optionPointers === 0 || input.pointers.length === optionPointers;
    };
    /**
     * @private
     * Process the input and return the state for the recognizer
     * @memberof AttrRecognizer
     * @param {Object} input
     * @returns {*} State
     */


    _proto.process = function process(input) {
      var state = this.state;
      var eventType = input.eventType;
      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);
      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED

      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {
        return state | STATE_CANCELLED;
      } else if (isRecognized || isValid) {
        if (eventType & INPUT_END) {
          return state | STATE_ENDED;
        } else if (!(state & STATE_BEGAN)) {
          return STATE_BEGAN;
        }

        return state | STATE_CHANGED;
      }

      return STATE_FAILED;
    };

    return AttrRecognizer;
  }(Recognizer);
  /**
   * @private
   * direction cons to string
   * @param {constant} direction
   * @returns {String}
   */


  function directionStr(direction) {
    if (direction === DIRECTION_DOWN) {
      return 'down';
    } else if (direction === DIRECTION_UP) {
      return 'up';
    } else if (direction === DIRECTION_LEFT) {
      return 'left';
    } else if (direction === DIRECTION_RIGHT) {
      return 'right';
    }

    return '';
  }
  /**
   * @private
   * Pan
   * Recognized when the pointer is down and moved in the allowed direction.
   * @constructor
   * @extends AttrRecognizer
   */


  var PanRecognizer = /*#__PURE__*/function (_AttrRecognizer) {
    _inheritsLoose(PanRecognizer, _AttrRecognizer);

    function PanRecognizer(options) {
      var _this;

      if (options === void 0) {
        options = {};
      }

      _this = _AttrRecognizer.call(this, _extends({
        event: 'pan',
        threshold: 10,
        pointers: 1,
        direction: DIRECTION_ALL
      }, options)) || this;
      _this.pX = null;
      _this.pY = null;
      return _this;
    }

    var _proto = PanRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      var direction = this.options.direction;
      var actions = [];

      if (direction & DIRECTION_HORIZONTAL) {
        actions.push(TOUCH_ACTION_PAN_Y);
      }

      if (direction & DIRECTION_VERTICAL) {
        actions.push(TOUCH_ACTION_PAN_X);
      }

      return actions;
    };

    _proto.directionTest = function directionTest(input) {
      var options = this.options;
      var hasMoved = true;
      var distance = input.distance;
      var direction = input.direction;
      var x = input.deltaX;
      var y = input.deltaY; // lock to axis?

      if (!(direction & options.direction)) {
        if (options.direction & DIRECTION_HORIZONTAL) {
          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;
          hasMoved = x !== this.pX;
          distance = Math.abs(input.deltaX);
        } else {
          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;
          hasMoved = y !== this.pY;
          distance = Math.abs(input.deltaY);
        }
      }

      input.direction = direction;
      return hasMoved && distance > options.threshold && direction & options.direction;
    };

    _proto.attrTest = function attrTest(input) {
      return AttrRecognizer.prototype.attrTest.call(this, input) && ( // replace with a super call
      this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));
    };

    _proto.emit = function emit(input) {
      this.pX = input.deltaX;
      this.pY = input.deltaY;
      var direction = directionStr(input.direction);

      if (direction) {
        input.additionalEvent = this.options.event + direction;
      }

      _AttrRecognizer.prototype.emit.call(this, input);
    };

    return PanRecognizer;
  }(AttrRecognizer);
  /**
   * @private
   * Swipe
   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.
   * @constructor
   * @extends AttrRecognizer
   */


  var SwipeRecognizer = /*#__PURE__*/function (_AttrRecognizer) {
    _inheritsLoose(SwipeRecognizer, _AttrRecognizer);

    function SwipeRecognizer(options) {
      if (options === void 0) {
        options = {};
      }

      return _AttrRecognizer.call(this, _extends({
        event: 'swipe',
        threshold: 10,
        velocity: 0.3,
        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,
        pointers: 1
      }, options)) || this;
    }

    var _proto = SwipeRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return PanRecognizer.prototype.getTouchAction.call(this);
    };

    _proto.attrTest = function attrTest(input) {
      var direction = this.options.direction;
      var velocity;

      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {
        velocity = input.overallVelocity;
      } else if (direction & DIRECTION_HORIZONTAL) {
        velocity = input.overallVelocityX;
      } else if (direction & DIRECTION_VERTICAL) {
        velocity = input.overallVelocityY;
      }

      return _AttrRecognizer.prototype.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers === this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;
    };

    _proto.emit = function emit(input) {
      var direction = directionStr(input.offsetDirection);

      if (direction) {
        this.manager.emit(this.options.event + direction, input);
      }

      this.manager.emit(this.options.event, input);
    };

    return SwipeRecognizer;
  }(AttrRecognizer);
  /**
   * @private
   * Pinch
   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).
   * @constructor
   * @extends AttrRecognizer
   */


  var PinchRecognizer = /*#__PURE__*/function (_AttrRecognizer) {
    _inheritsLoose(PinchRecognizer, _AttrRecognizer);

    function PinchRecognizer(options) {
      if (options === void 0) {
        options = {};
      }

      return _AttrRecognizer.call(this, _extends({
        event: 'pinch',
        threshold: 0,
        pointers: 2
      }, options)) || this;
    }

    var _proto = PinchRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return [TOUCH_ACTION_NONE];
    };

    _proto.attrTest = function attrTest(input) {
      return _AttrRecognizer.prototype.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);
    };

    _proto.emit = function emit(input) {
      if (input.scale !== 1) {
        var inOut = input.scale < 1 ? 'in' : 'out';
        input.additionalEvent = this.options.event + inOut;
      }

      _AttrRecognizer.prototype.emit.call(this, input);
    };

    return PinchRecognizer;
  }(AttrRecognizer);
  /**
   * @private
   * Rotate
   * Recognized when two or more pointer are moving in a circular motion.
   * @constructor
   * @extends AttrRecognizer
   */


  var RotateRecognizer = /*#__PURE__*/function (_AttrRecognizer) {
    _inheritsLoose(RotateRecognizer, _AttrRecognizer);

    function RotateRecognizer(options) {
      if (options === void 0) {
        options = {};
      }

      return _AttrRecognizer.call(this, _extends({
        event: 'rotate',
        threshold: 0,
        pointers: 2
      }, options)) || this;
    }

    var _proto = RotateRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return [TOUCH_ACTION_NONE];
    };

    _proto.attrTest = function attrTest(input) {
      return _AttrRecognizer.prototype.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);
    };

    return RotateRecognizer;
  }(AttrRecognizer);
  /**
   * @private
   * Press
   * Recognized when the pointer is down for x ms without any movement.
   * @constructor
   * @extends Recognizer
   */


  var PressRecognizer = /*#__PURE__*/function (_Recognizer) {
    _inheritsLoose(PressRecognizer, _Recognizer);

    function PressRecognizer(options) {
      var _this;

      if (options === void 0) {
        options = {};
      }

      _this = _Recognizer.call(this, _extends({
        event: 'press',
        pointers: 1,
        time: 251,
        // minimal time of the pointer to be pressed
        threshold: 9
      }, options)) || this;
      _this._timer = null;
      _this._input = null;
      return _this;
    }

    var _proto = PressRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return [TOUCH_ACTION_AUTO];
    };

    _proto.process = function process(input) {
      var _this2 = this;

      var options = this.options;
      var validPointers = input.pointers.length === options.pointers;
      var validMovement = input.distance < options.threshold;
      var validTime = input.deltaTime > options.time;
      this._input = input; // we only allow little movement
      // and we've reached an end event, so a tap is possible

      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {
        this.reset();
      } else if (input.eventType & INPUT_START) {
        this.reset();
        this._timer = setTimeout(function () {
          _this2.state = STATE_RECOGNIZED;

          _this2.tryEmit();
        }, options.time);
      } else if (input.eventType & INPUT_END) {
        return STATE_RECOGNIZED;
      }

      return STATE_FAILED;
    };

    _proto.reset = function reset() {
      clearTimeout(this._timer);
    };

    _proto.emit = function emit(input) {
      if (this.state !== STATE_RECOGNIZED) {
        return;
      }

      if (input && input.eventType & INPUT_END) {
        this.manager.emit(this.options.event + "up", input);
      } else {
        this._input.timeStamp = now();
        this.manager.emit(this.options.event, this._input);
      }
    };

    return PressRecognizer;
  }(Recognizer);

  var defaults = {
    /**
     * @private
     * set if DOM events are being triggered.
     * But this is slower and unused by simple implementations, so disabled by default.
     * @type {Boolean}
     * @default false
     */
    domEvents: false,

    /**
     * @private
     * The value for the touchAction property/fallback.
     * When set to `compute` it will magically set the correct value based on the added recognizers.
     * @type {String}
     * @default compute
     */
    touchAction: TOUCH_ACTION_COMPUTE,

    /**
     * @private
     * @type {Boolean}
     * @default true
     */
    enable: true,

    /**
     * @private
     * EXPERIMENTAL FEATURE -- can be removed/changed
     * Change the parent input target element.
     * If Null, then it is being set the to main element.
     * @type {Null|EventTarget}
     * @default null
     */
    inputTarget: null,

    /**
     * @private
     * force an input class
     * @type {Null|Function}
     * @default null
     */
    inputClass: null,

    /**
     * @private
     * Some CSS properties can be used to improve the working of Hammer.
     * Add them to this method and they will be set when creating a new Manager.
     * @namespace
     */
    cssProps: {
      /**
       * @private
       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.
       * @type {String}
       * @default 'none'
       */
      userSelect: "none",

      /**
       * @private
       * Disable the Windows Phone grippers when pressing an element.
       * @type {String}
       * @default 'none'
       */
      touchSelect: "none",

      /**
       * @private
       * Disables the default callout shown when you touch and hold a touch target.
       * On iOS, when you touch and hold a touch target such as a link, Safari displays
       * a callout containing information about the link. This property allows you to disable that callout.
       * @type {String}
       * @default 'none'
       */
      touchCallout: "none",

      /**
       * @private
       * Specifies whether zooming is enabled. Used by IE10>
       * @type {String}
       * @default 'none'
       */
      contentZooming: "none",

      /**
       * @private
       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.
       * @type {String}
       * @default 'none'
       */
      userDrag: "none",

      /**
       * @private
       * Overrides the highlight color shown when the user taps a link or a JavaScript
       * clickable element in iOS. This property obeys the alpha value, if specified.
       * @type {String}
       * @default 'rgba(0,0,0,0)'
       */
      tapHighlightColor: "rgba(0,0,0,0)"
    }
  };
  /**
   * @private
   * Default recognizer setup when calling `Hammer()`
   * When creating a new Manager these will be skipped.
   * This is separated with other defaults because of tree-shaking.
   * @type {Array}
   */

  var preset = [[RotateRecognizer, {
    enable: false
  }], [PinchRecognizer, {
    enable: false
  }, ['rotate']], [SwipeRecognizer, {
    direction: DIRECTION_HORIZONTAL
  }], [PanRecognizer, {
    direction: DIRECTION_HORIZONTAL
  }, ['swipe']], [TapRecognizer], [TapRecognizer, {
    event: 'doubletap',
    taps: 2
  }, ['tap']], [PressRecognizer]];
  var STOP = 1;
  var FORCED_STOP = 2;
  /**
   * @private
   * add/remove the css properties as defined in manager.options.cssProps
   * @param {Manager} manager
   * @param {Boolean} add
   */

  function toggleCssProps(manager, add) {
    var element = manager.element;

    if (!element.style) {
      return;
    }

    var prop;
    each(manager.options.cssProps, function (value, name) {
      prop = prefixed(element.style, name);

      if (add) {
        manager.oldCssProps[prop] = element.style[prop];
        element.style[prop] = value;
      } else {
        element.style[prop] = manager.oldCssProps[prop] || "";
      }
    });

    if (!add) {
      manager.oldCssProps = {};
    }
  }
  /**
   * @private
   * trigger dom event
   * @param {String} event
   * @param {Object} data
   */


  function triggerDomEvent(event, data) {
    var gestureEvent = document.createEvent("Event");
    gestureEvent.initEvent(event, true, true);
    gestureEvent.gesture = data;
    data.target.dispatchEvent(gestureEvent);
  }
  /**
  * @private
   * Manager
   * @param {HTMLElement} element
   * @param {Object} [options]
   * @constructor
   */


  var Manager = /*#__PURE__*/function () {
    function Manager(element, options) {
      var _this = this;

      this.options = assign$1({}, defaults, options || {});
      this.options.inputTarget = this.options.inputTarget || element;
      this.handlers = {};
      this.session = {};
      this.recognizers = [];
      this.oldCssProps = {};
      this.element = element;
      this.input = createInputInstance(this);
      this.touchAction = new TouchAction(this, this.options.touchAction);
      toggleCssProps(this, true);
      each(this.options.recognizers, function (item) {
        var recognizer = _this.add(new item[0](item[1]));

        item[2] && recognizer.recognizeWith(item[2]);
        item[3] && recognizer.requireFailure(item[3]);
      }, this);
    }
    /**
     * @private
     * set options
     * @param {Object} options
     * @returns {Manager}
     */


    var _proto = Manager.prototype;

    _proto.set = function set(options) {
      assign$1(this.options, options); // Options that need a little more setup

      if (options.touchAction) {
        this.touchAction.update();
      }

      if (options.inputTarget) {
        // Clean up existing event listeners and reinitialize
        this.input.destroy();
        this.input.target = options.inputTarget;
        this.input.init();
      }

      return this;
    };
    /**
     * @private
     * stop recognizing for this session.
     * This session will be discarded, when a new [input]start event is fired.
     * When forced, the recognizer cycle is stopped immediately.
     * @param {Boolean} [force]
     */


    _proto.stop = function stop(force) {
      this.session.stopped = force ? FORCED_STOP : STOP;
    };
    /**
     * @private
     * run the recognizers!
     * called by the inputHandler function on every movement of the pointers (touches)
     * it walks through all the recognizers and tries to detect the gesture that is being made
     * @param {Object} inputData
     */


    _proto.recognize = function recognize(inputData) {
      var session = this.session;

      if (session.stopped) {
        return;
      } // run the touch-action polyfill


      this.touchAction.preventDefaults(inputData);
      var recognizer;
      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.
      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED
      // if no recognizer is detecting a thing, it is set to `null`

      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized
      // or when we're in a new session

      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {
        session.curRecognizer = null;
        curRecognizer = null;
      }

      var i = 0;

      while (i < recognizers.length) {
        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.
        // 1.   allow if the session is NOT forced stopped (see the .stop() method)
        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one
        //      that is being recognized.
        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.
        //      this can be setup with the `recognizeWith()` method on the recognizer.

        if (session.stopped !== FORCED_STOP && ( // 1
        !curRecognizer || recognizer === curRecognizer || // 2
        recognizer.canRecognizeWith(curRecognizer))) {
          // 3
          recognizer.recognize(inputData);
        } else {
          recognizer.reset();
        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the
        // current active recognizer. but only if we don't already have an active recognizer


        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {
          session.curRecognizer = recognizer;
          curRecognizer = recognizer;
        }

        i++;
      }
    };
    /**
     * @private
     * get a recognizer by its event name.
     * @param {Recognizer|String} recognizer
     * @returns {Recognizer|Null}
     */


    _proto.get = function get(recognizer) {
      if (recognizer instanceof Recognizer) {
        return recognizer;
      }

      var recognizers = this.recognizers;

      for (var i = 0; i < recognizers.length; i++) {
        if (recognizers[i].options.event === recognizer) {
          return recognizers[i];
        }
      }

      return null;
    };
    /**
     * @private add a recognizer to the manager
     * existing recognizers with the same event name will be removed
     * @param {Recognizer} recognizer
     * @returns {Recognizer|Manager}
     */


    _proto.add = function add(recognizer) {
      if (invokeArrayArg(recognizer, "add", this)) {
        return this;
      } // remove existing


      var existing = this.get(recognizer.options.event);

      if (existing) {
        this.remove(existing);
      }

      this.recognizers.push(recognizer);
      recognizer.manager = this;
      this.touchAction.update();
      return recognizer;
    };
    /**
     * @private
     * remove a recognizer by name or instance
     * @param {Recognizer|String} recognizer
     * @returns {Manager}
     */


    _proto.remove = function remove(recognizer) {
      if (invokeArrayArg(recognizer, "remove", this)) {
        return this;
      }

      var targetRecognizer = this.get(recognizer); // let's make sure this recognizer exists

      if (recognizer) {
        var recognizers = this.recognizers;
        var index = inArray(recognizers, targetRecognizer);

        if (index !== -1) {
          recognizers.splice(index, 1);
          this.touchAction.update();
        }
      }

      return this;
    };
    /**
     * @private
     * bind event
     * @param {String} events
     * @param {Function} handler
     * @returns {EventEmitter} this
     */


    _proto.on = function on(events, handler) {
      if (events === undefined || handler === undefined) {
        return this;
      }

      var handlers = this.handlers;
      each(splitStr(events), function (event) {
        handlers[event] = handlers[event] || [];
        handlers[event].push(handler);
      });
      return this;
    };
    /**
     * @private unbind event, leave emit blank to remove all handlers
     * @param {String} events
     * @param {Function} [handler]
     * @returns {EventEmitter} this
     */


    _proto.off = function off(events, handler) {
      if (events === undefined) {
        return this;
      }

      var handlers = this.handlers;
      each(splitStr(events), function (event) {
        if (!handler) {
          delete handlers[event];
        } else {
          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);
        }
      });
      return this;
    };
    /**
     * @private emit event to the listeners
     * @param {String} event
     * @param {Object} data
     */


    _proto.emit = function emit(event, data) {
      // we also want to trigger dom events
      if (this.options.domEvents) {
        triggerDomEvent(event, data);
      } // no handlers, so skip it all


      var handlers = this.handlers[event] && this.handlers[event].slice();

      if (!handlers || !handlers.length) {
        return;
      }

      data.type = event;

      data.preventDefault = function () {
        data.srcEvent.preventDefault();
      };

      var i = 0;

      while (i < handlers.length) {
        handlers[i](data);
        i++;
      }
    };
    /**
     * @private
     * destroy the manager and unbinds all events
     * it doesn't unbind dom events, that is the user own responsibility
     */


    _proto.destroy = function destroy() {
      this.element && toggleCssProps(this, false);
      this.handlers = {};
      this.session = {};
      this.input.destroy();
      this.element = null;
    };

    return Manager;
  }();

  var SINGLE_TOUCH_INPUT_MAP = {
    touchstart: INPUT_START,
    touchmove: INPUT_MOVE,
    touchend: INPUT_END,
    touchcancel: INPUT_CANCEL
  };
  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';
  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';
  /**
   * @private
   * Touch events input
   * @constructor
   * @extends Input
   */

  var SingleTouchInput = /*#__PURE__*/function (_Input) {
    _inheritsLoose(SingleTouchInput, _Input);

    function SingleTouchInput() {
      var _this;

      var proto = SingleTouchInput.prototype;
      proto.evTarget = SINGLE_TOUCH_TARGET_EVENTS;
      proto.evWin = SINGLE_TOUCH_WINDOW_EVENTS;
      _this = _Input.apply(this, arguments) || this;
      _this.started = false;
      return _this;
    }

    var _proto = SingleTouchInput.prototype;

    _proto.handler = function handler(ev) {
      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?

      if (type === INPUT_START) {
        this.started = true;
      }

      if (!this.started) {
        return;
      }

      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state

      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {
        this.started = false;
      }

      this.callback(this.manager, type, {
        pointers: touches[0],
        changedPointers: touches[1],
        pointerType: INPUT_TYPE_TOUCH,
        srcEvent: ev
      });
    };

    return SingleTouchInput;
  }(Input);

  function normalizeSingleTouches(ev, type) {
    var all = toArray(ev.touches);
    var changed = toArray(ev.changedTouches);

    if (type & (INPUT_END | INPUT_CANCEL)) {
      all = uniqueArray(all.concat(changed), 'identifier', true);
    }

    return [all, changed];
  }
  /**
   * @private
   * wrap a method with a deprecation warning and stack trace
   * @param {Function} method
   * @param {String} name
   * @param {String} message
   * @returns {Function} A new function wrapping the supplied method.
   */


  function deprecate(method, name, message) {
    var deprecationMessage = "DEPRECATED METHOD: " + name + "\n" + message + " AT \n";
    return function () {
      var e = new Error('get-stack-trace');
      var stack = e && e.stack ? e.stack.replace(/^[^\(]+?[\n$]/gm, '').replace(/^\s+at\s+/gm, '').replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';
      var log = window.console && (window.console.warn || window.console.log);

      if (log) {
        log.call(window.console, deprecationMessage, stack);
      }

      return method.apply(this, arguments);
    };
  }
  /**
   * @private
   * extend object.
   * means that properties in dest will be overwritten by the ones in src.
   * @param {Object} dest
   * @param {Object} src
   * @param {Boolean} [merge=false]
   * @returns {Object} dest
   */


  var extend = deprecate(function (dest, src, merge) {
    var keys = Object.keys(src);
    var i = 0;

    while (i < keys.length) {
      if (!merge || merge && dest[keys[i]] === undefined) {
        dest[keys[i]] = src[keys[i]];
      }

      i++;
    }

    return dest;
  }, 'extend', 'Use `assign`.');
  /**
   * @private
   * merge the values from src in the dest.
   * means that properties that exist in dest will not be overwritten by src
   * @param {Object} dest
   * @param {Object} src
   * @returns {Object} dest
   */

  var merge$1 = deprecate(function (dest, src) {
    return extend(dest, src, true);
  }, 'merge', 'Use `assign`.');
  /**
   * @private
   * simple class inheritance
   * @param {Function} child
   * @param {Function} base
   * @param {Object} [properties]
   */

  function inherit(child, base, properties) {
    var baseP = base.prototype;
    var childP;
    childP = child.prototype = Object.create(baseP);
    childP.constructor = child;
    childP._super = baseP;

    if (properties) {
      assign$1(childP, properties);
    }
  }
  /**
   * @private
   * simple function bind
   * @param {Function} fn
   * @param {Object} context
   * @returns {Function}
   */


  function bindFn(fn, context) {
    return function boundFn() {
      return fn.apply(context, arguments);
    };
  }
  /**
   * @private
   * Simple way to create a manager with a default set of recognizers.
   * @param {HTMLElement} element
   * @param {Object} [options]
   * @constructor
   */


  var Hammer = /*#__PURE__*/function () {
    var Hammer =
    /**
      * @private
      * @const {string}
      */
    function Hammer(element, options) {
      if (options === void 0) {
        options = {};
      }

      return new Manager(element, _extends({
        recognizers: preset.concat()
      }, options));
    };

    Hammer.VERSION = "2.0.17-rc";
    Hammer.DIRECTION_ALL = DIRECTION_ALL;
    Hammer.DIRECTION_DOWN = DIRECTION_DOWN;
    Hammer.DIRECTION_LEFT = DIRECTION_LEFT;
    Hammer.DIRECTION_RIGHT = DIRECTION_RIGHT;
    Hammer.DIRECTION_UP = DIRECTION_UP;
    Hammer.DIRECTION_HORIZONTAL = DIRECTION_HORIZONTAL;
    Hammer.DIRECTION_VERTICAL = DIRECTION_VERTICAL;
    Hammer.DIRECTION_NONE = DIRECTION_NONE;
    Hammer.DIRECTION_DOWN = DIRECTION_DOWN;
    Hammer.INPUT_START = INPUT_START;
    Hammer.INPUT_MOVE = INPUT_MOVE;
    Hammer.INPUT_END = INPUT_END;
    Hammer.INPUT_CANCEL = INPUT_CANCEL;
    Hammer.STATE_POSSIBLE = STATE_POSSIBLE;
    Hammer.STATE_BEGAN = STATE_BEGAN;
    Hammer.STATE_CHANGED = STATE_CHANGED;
    Hammer.STATE_ENDED = STATE_ENDED;
    Hammer.STATE_RECOGNIZED = STATE_RECOGNIZED;
    Hammer.STATE_CANCELLED = STATE_CANCELLED;
    Hammer.STATE_FAILED = STATE_FAILED;
    Hammer.Manager = Manager;
    Hammer.Input = Input;
    Hammer.TouchAction = TouchAction;
    Hammer.TouchInput = TouchInput;
    Hammer.MouseInput = MouseInput;
    Hammer.PointerEventInput = PointerEventInput;
    Hammer.TouchMouseInput = TouchMouseInput;
    Hammer.SingleTouchInput = SingleTouchInput;
    Hammer.Recognizer = Recognizer;
    Hammer.AttrRecognizer = AttrRecognizer;
    Hammer.Tap = TapRecognizer;
    Hammer.Pan = PanRecognizer;
    Hammer.Swipe = SwipeRecognizer;
    Hammer.Pinch = PinchRecognizer;
    Hammer.Rotate = RotateRecognizer;
    Hammer.Press = PressRecognizer;
    Hammer.on = addEventListeners;
    Hammer.off = removeEventListeners;
    Hammer.each = each;
    Hammer.merge = merge$1;
    Hammer.extend = extend;
    Hammer.bindFn = bindFn;
    Hammer.assign = assign$1;
    Hammer.inherit = inherit;
    Hammer.bindFn = bindFn;
    Hammer.prefixed = prefixed;
    Hammer.toArray = toArray;
    Hammer.inArray = inArray;
    Hammer.uniqueArray = uniqueArray;
    Hammer.splitStr = splitStr;
    Hammer.boolOrFn = boolOrFn;
    Hammer.hasParent = hasParent;
    Hammer.addEventListeners = addEventListeners;
    Hammer.removeEventListeners = removeEventListeners;
    Hammer.defaults = assign$1({}, defaults, {
      preset: preset
    });
    return Hammer;
  }(); //  style loader but by script tag, not by the loader.
  var RealHammer = Hammer;

  function _createForOfIteratorHelper$3(o, allowArrayLike) { var it = typeof symbol !== "undefined" && getIteratorMethod$1(o) || o["@@iterator"]; if (!it) { if (isArray$1(o) || (it = _unsupportedIterableToArray$3(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray$3(o, minLen) { var _context21; if (!o) return; if (typeof o === "string") return _arrayLikeToArray$3(o, minLen); var n = slice(_context21 = Object.prototype.toString.call(o)).call(_context21, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return from$3(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen); }

  function _arrayLikeToArray$3(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
  /**
   * Use this symbol to delete properies in deepObjectAssign.
   */

  var DELETE = symbol("DELETE");
  /**
   * Pure version of deepObjectAssign, it doesn't modify any of it's arguments.
   *
   * @param base - The base object that fullfils the whole interface T.
   * @param updates - Updates that may change or delete props.
   * @returns A brand new instance with all the supplied objects deeply merged.
   */


  function pureDeepObjectAssign(base) {
    var _context;

    for (var _len = arguments.length, updates = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      updates[_key - 1] = arguments[_key];
    }

    return deepObjectAssign.apply(void 0, concat$1(_context = [{}, base]).call(_context, updates));
  }
  /**
   * Deep version of object assign with additional deleting by the DELETE symbol.
   *
   * @param values - Objects to be deeply merged.
   * @returns The first object from values.
   */


  function deepObjectAssign() {
    var merged = deepObjectAssignNonentry.apply(void 0, arguments);
    stripDelete(merged);
    return merged;
  }
  /**
   * Deep version of object assign with additional deleting by the DELETE symbol.
   *
   * @remarks
   * This doesn't strip the DELETE symbols so they may end up in the final object.
   * @param values - Objects to be deeply merged.
   * @returns The first object from values.
   */


  function deepObjectAssignNonentry() {
    for (var _len2 = arguments.length, values = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      values[_key2] = arguments[_key2];
    }

    if (values.length < 2) {
      return values[0];
    } else if (values.length > 2) {
      var _context2;

      return deepObjectAssignNonentry.apply(void 0, concat$1(_context2 = [deepObjectAssign(values[0], values[1])]).call(_context2, _toConsumableArray(slice(values).call(values, 2))));
    }

    var a = values[0];
    var b = values[1];

    var _iterator = _createForOfIteratorHelper$3(ownKeys$1(b)),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var prop = _step.value;
        if (!Object.prototype.propertyIsEnumerable.call(b, prop)) ;else if (b[prop] === DELETE) {
          delete a[prop];
        } else if (a[prop] !== null && b[prop] !== null && _typeof(a[prop]) === "object" && _typeof(b[prop]) === "object" && !isArray$1(a[prop]) && !isArray$1(b[prop])) {
          a[prop] = deepObjectAssignNonentry(a[prop], b[prop]);
        } else {
          a[prop] = clone(b[prop]);
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }

    return a;
  }
  /**
   * Deep clone given object or array. In case of primitive simply return.
   *
   * @param a - Anything.
   * @returns Deep cloned object/array or unchanged a.
   */


  function clone(a) {
    if (isArray$1(a)) {
      return map$3(a).call(a, function (value) {
        return clone(value);
      });
    } else if (_typeof(a) === "object" && a !== null) {
      return deepObjectAssignNonentry({}, a);
    } else {
      return a;
    }
  }
  /**
   * Strip DELETE from given object.
   *
   * @param a - Object which may contain DELETE but won't after this is executed.
   */


  function stripDelete(a) {
    for (var _i = 0, _Object$keys = keys$4(a); _i < _Object$keys.length; _i++) {
      var prop = _Object$keys[_i];

      if (a[prop] === DELETE) {
        delete a[prop];
      } else if (_typeof(a[prop]) === "object" && a[prop] !== null) {
        stripDelete(a[prop]);
      }
    }
  }
  /**
   * Setup a mock hammer.js object, for unit testing.
   *
   * Inspiration: https://github.com/uber/deck.gl/pull/658
   *
   * @returns {{on: noop, off: noop, destroy: noop, emit: noop, get: get}}
   */


  function hammerMock() {
    var noop = function noop() {};

    return {
      on: noop,
      off: noop,
      destroy: noop,
      emit: noop,
      get: function get() {
        return {
          set: noop
        };
      }
    };
  }

  var Hammer$1 = typeof window !== "undefined" ? window.Hammer || RealHammer : function () {
    // hammer.js is only available in a browser, not in node.js. Replacing it with a mock object.
    return hammerMock();
  };
  /**
   * Turn an element into an clickToUse element.
   * When not active, the element has a transparent overlay. When the overlay is
   * clicked, the mode is changed to active.
   * When active, the element is displayed with a blue border around it, and
   * the interactive contents of the element can be used. When clicked outside
   * the element, the elements mode is changed to inactive.
   *
   * @param {Element} container
   * @class Activator
   */

  function Activator$1(container) {
    var _this = this,
        _context3;

    this._cleanupQueue = [];
    this.active = false;
    this._dom = {
      container: container,
      overlay: document.createElement("div")
    };

    this._dom.overlay.classList.add("vis-overlay");

    this._dom.container.appendChild(this._dom.overlay);

    this._cleanupQueue.push(function () {
      _this._dom.overlay.parentNode.removeChild(_this._dom.overlay);
    });

    var hammer = Hammer$1(this._dom.overlay);
    hammer.on("tap", bind$6(_context3 = this._onTapOverlay).call(_context3, this));

    this._cleanupQueue.push(function () {
      hammer.destroy(); // FIXME: cleaning up hammer instances doesn't work (Timeline not removed
      // from memory)
    }); // block all touch events (except tap)


    var events = ["tap", "doubletap", "press", "pinch", "pan", "panstart", "panmove", "panend"];

    forEach$1(events).call(events, function (event) {
      hammer.on(event, function (event) {
        event.srcEvent.stopPropagation();
      });
    }); // attach a click event to the window, in order to deactivate when clicking outside the timeline


    if (document && document.body) {
      this._onClick = function (event) {
        if (!_hasParent(event.target, container)) {
          _this.deactivate();
        }
      };

      document.body.addEventListener("click", this._onClick);

      this._cleanupQueue.push(function () {
        document.body.removeEventListener("click", _this._onClick);
      });
    } // prepare escape key listener for deactivating when active


    this._escListener = function (event) {
      if ("key" in event ? event.key === "Escape" : event.keyCode === 27
      /* the keyCode is for IE11 */
      ) {
        _this.deactivate();
      }
    };
  } // turn into an event emitter


  Emitter(Activator$1.prototype); // The currently active activator

  Activator$1.current = null;
  /**
   * Destroy the activator. Cleans up all created DOM and event listeners
   */

  Activator$1.prototype.destroy = function () {
    var _context4, _context5;

    this.deactivate();

    var _iterator2 = _createForOfIteratorHelper$3(reverse(_context4 = splice(_context5 = this._cleanupQueue).call(_context5, 0)).call(_context4)),
        _step2;

    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var callback = _step2.value;
        callback();
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
  };
  /**
   * Activate the element
   * Overlay is hidden, element is decorated with a blue shadow border
   */


  Activator$1.prototype.activate = function () {
    // we allow only one active activator at a time
    if (Activator$1.current) {
      Activator$1.current.deactivate();
    }

    Activator$1.current = this;
    this.active = true;
    this._dom.overlay.style.display = "none";

    this._dom.container.classList.add("vis-active");

    this.emit("change");
    this.emit("activate"); // ugly hack: bind ESC after emitting the events, as the Network rebinds all
    // keyboard events on a 'change' event

    document.body.addEventListener("keydown", this._escListener);
  };
  /**
   * Deactivate the element
   * Overlay is displayed on top of the element
   */


  Activator$1.prototype.deactivate = function () {
    this.active = false;
    this._dom.overlay.style.display = "block";

    this._dom.container.classList.remove("vis-active");

    document.body.removeEventListener("keydown", this._escListener);
    this.emit("change");
    this.emit("deactivate");
  };
  /**
   * Handle a tap event: activate the container
   *
   * @param {Event}  event   The event
   * @private
   */


  Activator$1.prototype._onTapOverlay = function (event) {
    // activate the container
    this.activate();
    event.srcEvent.stopPropagation();
  };
  /**
   * Test whether the element has the requested parent element somewhere in
   * its chain of parent nodes.
   *
   * @param {HTMLElement} element
   * @param {HTMLElement} parent
   * @returns {boolean} Returns true when the parent is found somewhere in the
   *                    chain of parent nodes.
   * @private
   */


  function _hasParent(element, parent) {
    while (element) {
      if (element === parent) {
        return true;
      }

      element = element.parentNode;
    }

    return false;
  } // utility functions

  var global$4 = global$M;
  var isConstructor = isConstructor$4;
  var tryToString$1 = tryToString$4;
  var TypeError$3 = global$4.TypeError; // `Assert: IsConstructor(argument) is true`

  var aConstructor$1 = function (argument) {
    if (isConstructor(argument)) return argument;
    throw TypeError$3(tryToString$1(argument) + ' is not a constructor');
  };

  var $$5 = _export;
  var getBuiltIn$1 = getBuiltIn$9;
  var apply = functionApply;
  var bind$2 = functionBind;
  var aConstructor = aConstructor$1;
  var anObject$1 = anObject$b;
  var isObject$3 = isObject$f;
  var create$4 = objectCreate;
  var fails$5 = fails$r;
  var nativeConstruct = getBuiltIn$1('Reflect', 'construct');
  var ObjectPrototype = Object.prototype;
  var push$1 = [].push; // `Reflect.construct` method
  // https://tc39.es/ecma262/#sec-reflect.construct
  // MS Edge supports only 2 arguments and argumentsList argument is optional
  // FF Nightly sets third argument as `new.target`, but does not create `this` from it

  var NEW_TARGET_BUG = fails$5(function () {
    function F() {
      /* empty */
    }

    return !(nativeConstruct(function () {
      /* empty */
    }, [], F) instanceof F);
  });
  var ARGS_BUG = !fails$5(function () {
    nativeConstruct(function () {
      /* empty */
    });
  });
  var FORCED$1 = NEW_TARGET_BUG || ARGS_BUG;
  $$5({
    target: 'Reflect',
    stat: true,
    forced: FORCED$1,
    sham: FORCED$1
  }, {
    construct: function construct(Target, args
    /* , newTarget */
    ) {
      aConstructor(Target);
      anObject$1(args);
      var newTarget = arguments.length < 3 ? Target : aConstructor(arguments[2]);
      if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);

      if (Target == newTarget) {
        // w/o altered newTarget, optimization for 0-4 arguments
        switch (args.length) {
          case 0:
            return new Target();

          case 1:
            return new Target(args[0]);

          case 2:
            return new Target(args[0], args[1]);

          case 3:
            return new Target(args[0], args[1], args[2]);

          case 4:
            return new Target(args[0], args[1], args[2], args[3]);
        } // w/o altered newTarget, lot of arguments case


        var $args = [null];
        apply(push$1, $args, args);
        return new (apply(bind$2, Target, $args))();
      } // with altered newTarget, not support built-in constructors


      var proto = newTarget.prototype;
      var instance = create$4(isObject$3(proto) ? proto : ObjectPrototype);
      var result = apply(Target, instance, args);
      return isObject$3(result) ? result : instance;
    }
  });

  var path$3 = path$q;
  var construct$2 = path$3.Reflect.construct;

  var parent$h = construct$2;
  var construct$1 = parent$h;

  var construct = construct$1;

  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  }

  var parent$g = create$6;
  var create$3 = parent$g;

  var parent$f = create$3;
  var create$2 = parent$f;

  var create$1 = create$2;

  var $$4 = _export;
  var setPrototypeOf$5 = objectSetPrototypeOf; // `Object.setPrototypeOf` method
  // https://tc39.es/ecma262/#sec-object.setprototypeof

  $$4({
    target: 'Object',
    stat: true
  }, {
    setPrototypeOf: setPrototypeOf$5
  });

  var path$2 = path$q;
  var setPrototypeOf$4 = path$2.Object.setPrototypeOf;

  var parent$e = setPrototypeOf$4;
  var setPrototypeOf$3 = parent$e;

  var parent$d = setPrototypeOf$3;
  var setPrototypeOf$2 = parent$d;

  var parent$c = setPrototypeOf$2;
  var setPrototypeOf$1 = parent$c;

  var setPrototypeOf = setPrototypeOf$1;

  function _setPrototypeOf(o, p) {
    _setPrototypeOf = setPrototypeOf || function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };

    return _setPrototypeOf(o, p);
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }

    subClass.prototype = create$1(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });

    defineProperty$7(subClass, "prototype", {
      writable: false
    });

    if (superClass) _setPrototypeOf(subClass, superClass);
  }

  function _possibleConstructorReturn(self, call) {
    if (call && (_typeof(call) === "object" || typeof call === "function")) {
      return call;
    } else if (call !== void 0) {
      throw new TypeError("Derived constructors may only return object or undefined");
    }

    return _assertThisInitialized(self);
  }

  var parent$b = getPrototypeOf$3;
  var getPrototypeOf$2 = parent$b;

  var parent$a = getPrototypeOf$2;
  var getPrototypeOf$1 = parent$a;

  var getPrototypeOf = getPrototypeOf$1;

  function _getPrototypeOf(o) {
    _getPrototypeOf = setPrototypeOf ? getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
  }

  var runtime = {exports: {}};

  /**
   * Copyright (c) 2014-present, Facebook, Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */

  (function (module) {
    var runtime = function (exports) {

      var Op = Object.prototype;
      var hasOwn = Op.hasOwnProperty;
      var undefined$1; // More compressible than void 0.

      var $Symbol = typeof Symbol === "function" ? Symbol : {};
      var iteratorSymbol = $Symbol.iterator || "@@iterator";
      var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
      var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

      function define(obj, key, value) {
        Object.defineProperty(obj, key, {
          value: value,
          enumerable: true,
          configurable: true,
          writable: true
        });
        return obj[key];
      }

      try {
        // IE 8 has a broken Object.defineProperty that only works on DOM objects.
        define({}, "");
      } catch (err) {
        define = function (obj, key, value) {
          return obj[key] = value;
        };
      }

      function wrap(innerFn, outerFn, self, tryLocsList) {
        // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
        var generator = Object.create(protoGenerator.prototype);
        var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,
        // .throw, and .return methods.

        generator._invoke = makeInvokeMethod(innerFn, self, context);
        return generator;
      }

      exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion
      // record like context.tryEntries[i].completion. This interface could
      // have been (and was previously) designed to take a closure to be
      // invoked without arguments, but in all the cases we care about we
      // already have an existing method we want to call, so there's no need
      // to create a new function object. We can even get away with assuming
      // the method takes exactly one argument, since that happens to be true
      // in every case, so we don't have to touch the arguments object. The
      // only additional allocation required is the completion record, which
      // has a stable shape and so hopefully should be cheap to allocate.

      function tryCatch(fn, obj, arg) {
        try {
          return {
            type: "normal",
            arg: fn.call(obj, arg)
          };
        } catch (err) {
          return {
            type: "throw",
            arg: err
          };
        }
      }

      var GenStateSuspendedStart = "suspendedStart";
      var GenStateSuspendedYield = "suspendedYield";
      var GenStateExecuting = "executing";
      var GenStateCompleted = "completed"; // Returning this object from the innerFn has the same effect as
      // breaking out of the dispatch switch statement.

      var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and
      // .constructor.prototype properties for functions that return Generator
      // objects. For full spec compliance, you may wish to configure your
      // minifier not to mangle the names of these two functions.

      function Generator() {}

      function GeneratorFunction() {}

      function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that
      // don't natively support it.


      var IteratorPrototype = {};
      define(IteratorPrototype, iteratorSymbol, function () {
        return this;
      });
      var getProto = Object.getPrototypeOf;
      var NativeIteratorPrototype = getProto && getProto(getProto(values([])));

      if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
        // This environment has a native %IteratorPrototype%; use it instead
        // of the polyfill.
        IteratorPrototype = NativeIteratorPrototype;
      }

      var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
      GeneratorFunction.prototype = GeneratorFunctionPrototype;
      define(Gp, "constructor", GeneratorFunctionPrototype);
      define(GeneratorFunctionPrototype, "constructor", GeneratorFunction);
      GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"); // Helper for defining the .next, .throw, and .return methods of the
      // Iterator interface in terms of a single ._invoke method.

      function defineIteratorMethods(prototype) {
        ["next", "throw", "return"].forEach(function (method) {
          define(prototype, method, function (arg) {
            return this._invoke(method, arg);
          });
        });
      }

      exports.isGeneratorFunction = function (genFun) {
        var ctor = typeof genFun === "function" && genFun.constructor;
        return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction" : false;
      };

      exports.mark = function (genFun) {
        if (Object.setPrototypeOf) {
          Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
        } else {
          genFun.__proto__ = GeneratorFunctionPrototype;
          define(genFun, toStringTagSymbol, "GeneratorFunction");
        }

        genFun.prototype = Object.create(Gp);
        return genFun;
      }; // Within the body of any async function, `await x` is transformed to
      // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
      // `hasOwn.call(value, "__await")` to determine if the yielded value is
      // meant to be awaited.


      exports.awrap = function (arg) {
        return {
          __await: arg
        };
      };

      function AsyncIterator(generator, PromiseImpl) {
        function invoke(method, arg, resolve, reject) {
          var record = tryCatch(generator[method], generator, arg);

          if (record.type === "throw") {
            reject(record.arg);
          } else {
            var result = record.arg;
            var value = result.value;

            if (value && typeof value === "object" && hasOwn.call(value, "__await")) {
              return PromiseImpl.resolve(value.__await).then(function (value) {
                invoke("next", value, resolve, reject);
              }, function (err) {
                invoke("throw", err, resolve, reject);
              });
            }

            return PromiseImpl.resolve(value).then(function (unwrapped) {
              // When a yielded Promise is resolved, its final value becomes
              // the .value of the Promise<{value,done}> result for the
              // current iteration.
              result.value = unwrapped;
              resolve(result);
            }, function (error) {
              // If a rejected Promise was yielded, throw the rejection back
              // into the async generator function so it can be handled there.
              return invoke("throw", error, resolve, reject);
            });
          }
        }

        var previousPromise;

        function enqueue(method, arg) {
          function callInvokeWithMethodAndArg() {
            return new PromiseImpl(function (resolve, reject) {
              invoke(method, arg, resolve, reject);
            });
          }

          return previousPromise = // If enqueue has been called before, then we want to wait until
          // all previous Promises have been resolved before calling invoke,
          // so that results are always delivered in the correct order. If
          // enqueue has not been called before, then it is important to
          // call invoke immediately, without waiting on a callback to fire,
          // so that the async generator function has the opportunity to do
          // any necessary setup in a predictable way. This predictability
          // is why the Promise constructor synchronously invokes its
          // executor callback, and why async functions synchronously
          // execute code before the first await. Since we implement simple
          // async functions in terms of async generators, it is especially
          // important to get this right, even though it requires care.
          previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
        } // Define the unified helper method that is used to implement .next,
        // .throw, and .return (see defineIteratorMethods).


        this._invoke = enqueue;
      }

      defineIteratorMethods(AsyncIterator.prototype);
      define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
        return this;
      });
      exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of
      // AsyncIterator objects; they just return a Promise for the value of
      // the final result produced by the iterator.

      exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {
        if (PromiseImpl === void 0) PromiseImpl = Promise;
        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
        return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.
        : iter.next().then(function (result) {
          return result.done ? result.value : iter.next();
        });
      };

      function makeInvokeMethod(innerFn, self, context) {
        var state = GenStateSuspendedStart;
        return function invoke(method, arg) {
          if (state === GenStateExecuting) {
            throw new Error("Generator is already running");
          }

          if (state === GenStateCompleted) {
            if (method === "throw") {
              throw arg;
            } // Be forgiving, per 25.3.3.3.3 of the spec:
            // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume


            return doneResult();
          }

          context.method = method;
          context.arg = arg;

          while (true) {
            var delegate = context.delegate;

            if (delegate) {
              var delegateResult = maybeInvokeDelegate(delegate, context);

              if (delegateResult) {
                if (delegateResult === ContinueSentinel) continue;
                return delegateResult;
              }
            }

            if (context.method === "next") {
              // Setting context._sent for legacy support of Babel's
              // function.sent implementation.
              context.sent = context._sent = context.arg;
            } else if (context.method === "throw") {
              if (state === GenStateSuspendedStart) {
                state = GenStateCompleted;
                throw context.arg;
              }

              context.dispatchException(context.arg);
            } else if (context.method === "return") {
              context.abrupt("return", context.arg);
            }

            state = GenStateExecuting;
            var record = tryCatch(innerFn, self, context);

            if (record.type === "normal") {
              // If an exception is thrown from innerFn, we leave state ===
              // GenStateExecuting and loop back for another invocation.
              state = context.done ? GenStateCompleted : GenStateSuspendedYield;

              if (record.arg === ContinueSentinel) {
                continue;
              }

              return {
                value: record.arg,
                done: context.done
              };
            } else if (record.type === "throw") {
              state = GenStateCompleted; // Dispatch the exception by looping back around to the
              // context.dispatchException(context.arg) call above.

              context.method = "throw";
              context.arg = record.arg;
            }
          }
        };
      } // Call delegate.iterator[context.method](context.arg) and handle the
      // result, either by returning a { value, done } result from the
      // delegate iterator, or by modifying context.method and context.arg,
      // setting context.delegate to null, and returning the ContinueSentinel.


      function maybeInvokeDelegate(delegate, context) {
        var method = delegate.iterator[context.method];

        if (method === undefined$1) {
          // A .throw or .return when the delegate iterator has no .throw
          // method always terminates the yield* loop.
          context.delegate = null;

          if (context.method === "throw") {
            // Note: ["return"] must be used for ES3 parsing compatibility.
            if (delegate.iterator["return"]) {
              // If the delegate iterator has a return method, give it a
              // chance to clean up.
              context.method = "return";
              context.arg = undefined$1;
              maybeInvokeDelegate(delegate, context);

              if (context.method === "throw") {
                // If maybeInvokeDelegate(context) changed context.method from
                // "return" to "throw", let that override the TypeError below.
                return ContinueSentinel;
              }
            }

            context.method = "throw";
            context.arg = new TypeError("The iterator does not provide a 'throw' method");
          }

          return ContinueSentinel;
        }

        var record = tryCatch(method, delegate.iterator, context.arg);

        if (record.type === "throw") {
          context.method = "throw";
          context.arg = record.arg;
          context.delegate = null;
          return ContinueSentinel;
        }

        var info = record.arg;

        if (!info) {
          context.method = "throw";
          context.arg = new TypeError("iterator result is not an object");
          context.delegate = null;
          return ContinueSentinel;
        }

        if (info.done) {
          // Assign the result of the finished delegate to the temporary
          // variable specified by delegate.resultName (see delegateYield).
          context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).

          context.next = delegate.nextLoc; // If context.method was "throw" but the delegate handled the
          // exception, let the outer generator proceed normally. If
          // context.method was "next", forget context.arg since it has been
          // "consumed" by the delegate iterator. If context.method was
          // "return", allow the original .return call to continue in the
          // outer generator.

          if (context.method !== "return") {
            context.method = "next";
            context.arg = undefined$1;
          }
        } else {
          // Re-yield the result returned by the delegate method.
          return info;
        } // The delegate iterator is finished, so forget it and continue with
        // the outer generator.


        context.delegate = null;
        return ContinueSentinel;
      } // Define Generator.prototype.{next,throw,return} in terms of the
      // unified ._invoke helper method.


      defineIteratorMethods(Gp);
      define(Gp, toStringTagSymbol, "Generator"); // A Generator should always return itself as the iterator object when the
      // @@iterator function is called on it. Some browsers' implementations of the
      // iterator prototype chain incorrectly implement this, causing the Generator
      // object to not be returned from this call. This ensures that doesn't happen.
      // See https://github.com/facebook/regenerator/issues/274 for more details.

      define(Gp, iteratorSymbol, function () {
        return this;
      });
      define(Gp, "toString", function () {
        return "[object Generator]";
      });

      function pushTryEntry(locs) {
        var entry = {
          tryLoc: locs[0]
        };

        if (1 in locs) {
          entry.catchLoc = locs[1];
        }

        if (2 in locs) {
          entry.finallyLoc = locs[2];
          entry.afterLoc = locs[3];
        }

        this.tryEntries.push(entry);
      }

      function resetTryEntry(entry) {
        var record = entry.completion || {};
        record.type = "normal";
        delete record.arg;
        entry.completion = record;
      }

      function Context(tryLocsList) {
        // The root entry object (effectively a try statement without a catch
        // or a finally block) gives us a place to store values thrown from
        // locations where there is no enclosing try statement.
        this.tryEntries = [{
          tryLoc: "root"
        }];
        tryLocsList.forEach(pushTryEntry, this);
        this.reset(true);
      }

      exports.keys = function (object) {
        var keys = [];

        for (var key in object) {
          keys.push(key);
        }

        keys.reverse(); // Rather than returning an object with a next method, we keep
        // things simple and return the next function itself.

        return function next() {
          while (keys.length) {
            var key = keys.pop();

            if (key in object) {
              next.value = key;
              next.done = false;
              return next;
            }
          } // To avoid creating an additional object, we just hang the .value
          // and .done properties off the next function object itself. This
          // also ensures that the minifier will not anonymize the function.


          next.done = true;
          return next;
        };
      };

      function values(iterable) {
        if (iterable) {
          var iteratorMethod = iterable[iteratorSymbol];

          if (iteratorMethod) {
            return iteratorMethod.call(iterable);
          }

          if (typeof iterable.next === "function") {
            return iterable;
          }

          if (!isNaN(iterable.length)) {
            var i = -1,
                next = function next() {
              while (++i < iterable.length) {
                if (hasOwn.call(iterable, i)) {
                  next.value = iterable[i];
                  next.done = false;
                  return next;
                }
              }

              next.value = undefined$1;
              next.done = true;
              return next;
            };

            return next.next = next;
          }
        } // Return an iterator with no values.


        return {
          next: doneResult
        };
      }

      exports.values = values;

      function doneResult() {
        return {
          value: undefined$1,
          done: true
        };
      }

      Context.prototype = {
        constructor: Context,
        reset: function (skipTempReset) {
          this.prev = 0;
          this.next = 0; // Resetting context._sent for legacy support of Babel's
          // function.sent implementation.

          this.sent = this._sent = undefined$1;
          this.done = false;
          this.delegate = null;
          this.method = "next";
          this.arg = undefined$1;
          this.tryEntries.forEach(resetTryEntry);

          if (!skipTempReset) {
            for (var name in this) {
              // Not sure about the optimal order of these conditions:
              if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {
                this[name] = undefined$1;
              }
            }
          }
        },
        stop: function () {
          this.done = true;
          var rootEntry = this.tryEntries[0];
          var rootRecord = rootEntry.completion;

          if (rootRecord.type === "throw") {
            throw rootRecord.arg;
          }

          return this.rval;
        },
        dispatchException: function (exception) {
          if (this.done) {
            throw exception;
          }

          var context = this;

          function handle(loc, caught) {
            record.type = "throw";
            record.arg = exception;
            context.next = loc;

            if (caught) {
              // If the dispatched exception was caught by a catch block,
              // then let that catch block handle the exception normally.
              context.method = "next";
              context.arg = undefined$1;
            }

            return !!caught;
          }

          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];
            var record = entry.completion;

            if (entry.tryLoc === "root") {
              // Exception thrown outside of any try block that could handle
              // it, so set the completion value of the entire function to
              // throw the exception.
              return handle("end");
            }

            if (entry.tryLoc <= this.prev) {
              var hasCatch = hasOwn.call(entry, "catchLoc");
              var hasFinally = hasOwn.call(entry, "finallyLoc");

              if (hasCatch && hasFinally) {
                if (this.prev < entry.catchLoc) {
                  return handle(entry.catchLoc, true);
                } else if (this.prev < entry.finallyLoc) {
                  return handle(entry.finallyLoc);
                }
              } else if (hasCatch) {
                if (this.prev < entry.catchLoc) {
                  return handle(entry.catchLoc, true);
                }
              } else if (hasFinally) {
                if (this.prev < entry.finallyLoc) {
                  return handle(entry.finallyLoc);
                }
              } else {
                throw new Error("try statement without catch or finally");
              }
            }
          }
        },
        abrupt: function (type, arg) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];

            if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
              var finallyEntry = entry;
              break;
            }
          }

          if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {
            // Ignore the finally entry if control is not jumping to a
            // location outside the try/catch block.
            finallyEntry = null;
          }

          var record = finallyEntry ? finallyEntry.completion : {};
          record.type = type;
          record.arg = arg;

          if (finallyEntry) {
            this.method = "next";
            this.next = finallyEntry.finallyLoc;
            return ContinueSentinel;
          }

          return this.complete(record);
        },
        complete: function (record, afterLoc) {
          if (record.type === "throw") {
            throw record.arg;
          }

          if (record.type === "break" || record.type === "continue") {
            this.next = record.arg;
          } else if (record.type === "return") {
            this.rval = this.arg = record.arg;
            this.method = "return";
            this.next = "end";
          } else if (record.type === "normal" && afterLoc) {
            this.next = afterLoc;
          }

          return ContinueSentinel;
        },
        finish: function (finallyLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];

            if (entry.finallyLoc === finallyLoc) {
              this.complete(entry.completion, entry.afterLoc);
              resetTryEntry(entry);
              return ContinueSentinel;
            }
          }
        },
        "catch": function (tryLoc) {
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var entry = this.tryEntries[i];

            if (entry.tryLoc === tryLoc) {
              var record = entry.completion;

              if (record.type === "throw") {
                var thrown = record.arg;
                resetTryEntry(entry);
              }

              return thrown;
            }
          } // The context.catch method must only be called with a location
          // argument that corresponds to a known catch block.


          throw new Error("illegal catch attempt");
        },
        delegateYield: function (iterable, resultName, nextLoc) {
          this.delegate = {
            iterator: values(iterable),
            resultName: resultName,
            nextLoc: nextLoc
          };

          if (this.method === "next") {
            // Deliberately forget the last sent value so that we don't
            // accidentally pass it on to the delegate.
            this.arg = undefined$1;
          }

          return ContinueSentinel;
        }
      }; // Regardless of whether this script is executing as a CommonJS module
      // or not, return the runtime object so that we can declare the variable
      // regeneratorRuntime in the outer scope, which allows this module to be
      // injected easily by `bin/regenerator --include-runtime script.js`.

      return exports;
    }( // If this script is executing as a CommonJS module, use module.exports
    // as the regeneratorRuntime namespace. Otherwise create a new empty
    // object. Either way, the resulting object will be used to initialize
    // the regeneratorRuntime variable at the top of this file.
    module.exports );

    try {
      regeneratorRuntime = runtime;
    } catch (accidentalStrictMode) {
      // This module should not be running in strict mode, so the above
      // assignment should always work unless something is misconfigured. Just
      // in case runtime.js accidentally runs in strict mode, in modern engines
      // we can explicitly access globalThis. In older engines we can escape
      // strict mode using a global Function call. This could conceivably fail
      // if a Content Security Policy forbids using Function, but in that case
      // the proper solution is to fix the accidental strict mode problem. If
      // you've misconfigured your bundler to force strict mode and applied a
      // CSP to forbid Function, and you're not willing to fix either of those
      // problems, please detail your unique predicament in a GitHub issue.
      if (typeof globalThis === "object") {
        globalThis.regeneratorRuntime = runtime;
      } else {
        Function("r", "regeneratorRuntime = r")(runtime);
      }
    }
  })(runtime);

  var regenerator = runtime.exports;

  var internalMetadata = {exports: {}};

  var fails$4 = fails$r;
  var arrayBufferNonExtensible = fails$4(function () {
    if (typeof ArrayBuffer == 'function') {
      var buffer = new ArrayBuffer(8); // eslint-disable-next-line es/no-object-isextensible, es/no-object-defineproperty -- safe

      if (Object.isExtensible(buffer)) Object.defineProperty(buffer, 'a', {
        value: 8
      });
    }
  });

  var fails$3 = fails$r;
  var isObject$2 = isObject$f;
  var classof$3 = classofRaw$1;
  var ARRAY_BUFFER_NON_EXTENSIBLE = arrayBufferNonExtensible; // eslint-disable-next-line es/no-object-isextensible -- safe

  var $isExtensible = Object.isExtensible;
  var FAILS_ON_PRIMITIVES = fails$3(function () {
    $isExtensible(1);
  }); // `Object.isExtensible` method
  // https://tc39.es/ecma262/#sec-object.isextensible

  var objectIsExtensible = FAILS_ON_PRIMITIVES || ARRAY_BUFFER_NON_EXTENSIBLE ? function isExtensible(it) {
    if (!isObject$2(it)) return false;
    if (ARRAY_BUFFER_NON_EXTENSIBLE && classof$3(it) == 'ArrayBuffer') return false;
    return $isExtensible ? $isExtensible(it) : true;
  } : $isExtensible;

  var fails$2 = fails$r;
  var freezing = !fails$2(function () {
    // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing
    return Object.isExtensible(Object.preventExtensions({}));
  });

  var $$3 = _export;
  var uncurryThis$1 = functionUncurryThis;
  var hiddenKeys = hiddenKeys$6;
  var isObject$1 = isObject$f;
  var hasOwn$3 = hasOwnProperty_1;
  var defineProperty$2 = objectDefineProperty.f;
  var getOwnPropertyNamesModule = objectGetOwnPropertyNames;
  var getOwnPropertyNamesExternalModule = objectGetOwnPropertyNamesExternal;
  var isExtensible = objectIsExtensible;
  var uid = uid$4;
  var FREEZING = freezing;
  var REQUIRED = false;
  var METADATA = uid('meta');
  var id = 0;

  var setMetadata = function (it) {
    defineProperty$2(it, METADATA, {
      value: {
        objectID: 'O' + id++,
        // object ID
        weakData: {} // weak collections IDs

      }
    });
  };

  var fastKey$1 = function (it, create) {
    // return a primitive with prefix
    if (!isObject$1(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;

    if (!hasOwn$3(it, METADATA)) {
      // can't set metadata to uncaught frozen object
      if (!isExtensible(it)) return 'F'; // not necessary to add metadata

      if (!create) return 'E'; // add missing metadata

      setMetadata(it); // return object ID
    }

    return it[METADATA].objectID;
  };

  var getWeakData = function (it, create) {
    if (!hasOwn$3(it, METADATA)) {
      // can't set metadata to uncaught frozen object
      if (!isExtensible(it)) return true; // not necessary to add metadata

      if (!create) return false; // add missing metadata

      setMetadata(it); // return the store of weak collections IDs
    }

    return it[METADATA].weakData;
  }; // add metadata on freeze-family methods calling


  var onFreeze = function (it) {
    if (FREEZING && REQUIRED && isExtensible(it) && !hasOwn$3(it, METADATA)) setMetadata(it);
    return it;
  };

  var enable = function () {
    meta.enable = function () {
      /* empty */
    };

    REQUIRED = true;
    var getOwnPropertyNames = getOwnPropertyNamesModule.f;
    var splice = uncurryThis$1([].splice);
    var test = {};
    test[METADATA] = 1; // prevent exposing of metadata key

    if (getOwnPropertyNames(test).length) {
      getOwnPropertyNamesModule.f = function (it) {
        var result = getOwnPropertyNames(it);

        for (var i = 0, length = result.length; i < length; i++) {
          if (result[i] === METADATA) {
            splice(result, i, 1);
            break;
          }
        }

        return result;
      };

      $$3({
        target: 'Object',
        stat: true,
        forced: true
      }, {
        getOwnPropertyNames: getOwnPropertyNamesExternalModule.f
      });
    }
  };

  var meta = internalMetadata.exports = {
    enable: enable,
    fastKey: fastKey$1,
    getWeakData: getWeakData,
    onFreeze: onFreeze
  };
  hiddenKeys[METADATA] = true;

  var global$3 = global$M;
  var bind$1 = functionBindContext;
  var call = functionCall;
  var anObject = anObject$b;
  var tryToString = tryToString$4;
  var isArrayIteratorMethod = isArrayIteratorMethod$2;
  var lengthOfArrayLike$1 = lengthOfArrayLike$d;
  var isPrototypeOf$6 = objectIsPrototypeOf;
  var getIterator$5 = getIterator$7;
  var getIteratorMethod = getIteratorMethod$8;
  var iteratorClose = iteratorClose$2;
  var TypeError$2 = global$3.TypeError;

  var Result = function (stopped, result) {
    this.stopped = stopped;
    this.result = result;
  };

  var ResultPrototype = Result.prototype;

  var iterate$2 = function (iterable, unboundFunction, options) {
    var that = options && options.that;
    var AS_ENTRIES = !!(options && options.AS_ENTRIES);
    var IS_ITERATOR = !!(options && options.IS_ITERATOR);
    var INTERRUPTED = !!(options && options.INTERRUPTED);
    var fn = bind$1(unboundFunction, that);
    var iterator, iterFn, index, length, result, next, step;

    var stop = function (condition) {
      if (iterator) iteratorClose(iterator, 'normal', condition);
      return new Result(true, condition);
    };

    var callFn = function (value) {
      if (AS_ENTRIES) {
        anObject(value);
        return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
      }

      return INTERRUPTED ? fn(value, stop) : fn(value);
    };

    if (IS_ITERATOR) {
      iterator = iterable;
    } else {
      iterFn = getIteratorMethod(iterable);
      if (!iterFn) throw TypeError$2(tryToString(iterable) + ' is not iterable'); // optimisation for array iterators

      if (isArrayIteratorMethod(iterFn)) {
        for (index = 0, length = lengthOfArrayLike$1(iterable); length > index; index++) {
          result = callFn(iterable[index]);
          if (result && isPrototypeOf$6(ResultPrototype, result)) return result;
        }

        return new Result(false);
      }

      iterator = getIterator$5(iterable, iterFn);
    }

    next = iterator.next;

    while (!(step = call(next, iterator)).done) {
      try {
        result = callFn(step.value);
      } catch (error) {
        iteratorClose(iterator, 'throw', error);
      }

      if (typeof result == 'object' && result && isPrototypeOf$6(ResultPrototype, result)) return result;
    }

    return new Result(false);
  };

  var global$2 = global$M;
  var isPrototypeOf$5 = objectIsPrototypeOf;
  var TypeError$1 = global$2.TypeError;

  var anInstance$2 = function (it, Prototype) {
    if (isPrototypeOf$5(Prototype, it)) return it;
    throw TypeError$1('Incorrect invocation');
  };

  var $$2 = _export;
  var global$1 = global$M;
  var InternalMetadataModule = internalMetadata.exports;
  var fails$1 = fails$r;
  var createNonEnumerableProperty = createNonEnumerableProperty$6;
  var iterate$1 = iterate$2;
  var anInstance$1 = anInstance$2;
  var isCallable = isCallable$h;
  var isObject = isObject$f;
  var setToStringTag = setToStringTag$5;
  var defineProperty$1 = objectDefineProperty.f;
  var forEach = arrayIteration.forEach;
  var DESCRIPTORS$2 = descriptors;
  var InternalStateModule$1 = internalState;
  var setInternalState$1 = InternalStateModule$1.set;
  var internalStateGetterFor$1 = InternalStateModule$1.getterFor;

  var collection$2 = function (CONSTRUCTOR_NAME, wrapper, common) {
    var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;
    var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;
    var ADDER = IS_MAP ? 'set' : 'add';
    var NativeConstructor = global$1[CONSTRUCTOR_NAME];
    var NativePrototype = NativeConstructor && NativeConstructor.prototype;
    var exported = {};
    var Constructor;

    if (!DESCRIPTORS$2 || !isCallable(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails$1(function () {
      new NativeConstructor().entries().next();
    }))) {
      // create collection constructor
      Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
      InternalMetadataModule.enable();
    } else {
      Constructor = wrapper(function (target, iterable) {
        setInternalState$1(anInstance$1(target, Prototype), {
          type: CONSTRUCTOR_NAME,
          collection: new NativeConstructor()
        });
        if (iterable != undefined) iterate$1(iterable, target[ADDER], {
          that: target,
          AS_ENTRIES: IS_MAP
        });
      });
      var Prototype = Constructor.prototype;
      var getInternalState = internalStateGetterFor$1(CONSTRUCTOR_NAME);
      forEach(['add', 'clear', 'delete', 'forEach', 'get', 'has', 'set', 'keys', 'values', 'entries'], function (KEY) {
        var IS_ADDER = KEY == 'add' || KEY == 'set';

        if (KEY in NativePrototype && !(IS_WEAK && KEY == 'clear')) {
          createNonEnumerableProperty(Prototype, KEY, function (a, b) {
            var collection = getInternalState(this).collection;
            if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;
            var result = collection[KEY](a === 0 ? 0 : a, b);
            return IS_ADDER ? this : result;
          });
        }
      });
      IS_WEAK || defineProperty$1(Prototype, 'size', {
        configurable: true,
        get: function () {
          return getInternalState(this).collection.size;
        }
      });
    }

    setToStringTag(Constructor, CONSTRUCTOR_NAME, false, true);
    exported[CONSTRUCTOR_NAME] = Constructor;
    $$2({
      global: true,
      forced: true
    }, exported);
    if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);
    return Constructor;
  };

  var redefine = redefine$4;

  var redefineAll$1 = function (target, src, options) {
    for (var key in src) {
      if (options && options.unsafe && target[key]) target[key] = src[key];else redefine(target, key, src[key], options);
    }

    return target;
  };

  var getBuiltIn = getBuiltIn$9;
  var definePropertyModule = objectDefineProperty;
  var wellKnownSymbol = wellKnownSymbol$j;
  var DESCRIPTORS$1 = descriptors;
  var SPECIES = wellKnownSymbol('species');

  var setSpecies$1 = function (CONSTRUCTOR_NAME) {
    var Constructor = getBuiltIn(CONSTRUCTOR_NAME);
    var defineProperty = definePropertyModule.f;

    if (DESCRIPTORS$1 && Constructor && !Constructor[SPECIES]) {
      defineProperty(Constructor, SPECIES, {
        configurable: true,
        get: function () {
          return this;
        }
      });
    }
  };

  var defineProperty = objectDefineProperty.f;
  var create = objectCreate;
  var redefineAll = redefineAll$1;
  var bind = functionBindContext;
  var anInstance = anInstance$2;
  var iterate = iterate$2;
  var defineIterator = defineIterator$3;
  var setSpecies = setSpecies$1;
  var DESCRIPTORS = descriptors;
  var fastKey = internalMetadata.exports.fastKey;
  var InternalStateModule = internalState;
  var setInternalState = InternalStateModule.set;
  var internalStateGetterFor = InternalStateModule.getterFor;
  var collectionStrong$2 = {
    getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
      var Constructor = wrapper(function (that, iterable) {
        anInstance(that, Prototype);
        setInternalState(that, {
          type: CONSTRUCTOR_NAME,
          index: create(null),
          first: undefined,
          last: undefined,
          size: 0
        });
        if (!DESCRIPTORS) that.size = 0;
        if (iterable != undefined) iterate(iterable, that[ADDER], {
          that: that,
          AS_ENTRIES: IS_MAP
        });
      });
      var Prototype = Constructor.prototype;
      var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);

      var define = function (that, key, value) {
        var state = getInternalState(that);
        var entry = getEntry(that, key);
        var previous, index; // change existing entry

        if (entry) {
          entry.value = value; // create new entry
        } else {
          state.last = entry = {
            index: index = fastKey(key, true),
            key: key,
            value: value,
            previous: previous = state.last,
            next: undefined,
            removed: false
          };
          if (!state.first) state.first = entry;
          if (previous) previous.next = entry;
          if (DESCRIPTORS) state.size++;else that.size++; // add to index

          if (index !== 'F') state.index[index] = entry;
        }

        return that;
      };

      var getEntry = function (that, key) {
        var state = getInternalState(that); // fast case

        var index = fastKey(key);
        var entry;
        if (index !== 'F') return state.index[index]; // frozen object case

        for (entry = state.first; entry; entry = entry.next) {
          if (entry.key == key) return entry;
        }
      };

      redefineAll(Prototype, {
        // `{ Map, Set }.prototype.clear()` methods
        // https://tc39.es/ecma262/#sec-map.prototype.clear
        // https://tc39.es/ecma262/#sec-set.prototype.clear
        clear: function clear() {
          var that = this;
          var state = getInternalState(that);
          var data = state.index;
          var entry = state.first;

          while (entry) {
            entry.removed = true;
            if (entry.previous) entry.previous = entry.previous.next = undefined;
            delete data[entry.index];
            entry = entry.next;
          }

          state.first = state.last = undefined;
          if (DESCRIPTORS) state.size = 0;else that.size = 0;
        },
        // `{ Map, Set }.prototype.delete(key)` methods
        // https://tc39.es/ecma262/#sec-map.prototype.delete
        // https://tc39.es/ecma262/#sec-set.prototype.delete
        'delete': function (key) {
          var that = this;
          var state = getInternalState(that);
          var entry = getEntry(that, key);

          if (entry) {
            var next = entry.next;
            var prev = entry.previous;
            delete state.index[entry.index];
            entry.removed = true;
            if (prev) prev.next = next;
            if (next) next.previous = prev;
            if (state.first == entry) state.first = next;
            if (state.last == entry) state.last = prev;
            if (DESCRIPTORS) state.size--;else that.size--;
          }

          return !!entry;
        },
        // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods
        // https://tc39.es/ecma262/#sec-map.prototype.foreach
        // https://tc39.es/ecma262/#sec-set.prototype.foreach
        forEach: function forEach(callbackfn
        /* , that = undefined */
        ) {
          var state = getInternalState(this);
          var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);
          var entry;

          while (entry = entry ? entry.next : state.first) {
            boundFunction(entry.value, entry.key, this); // revert to the last existing entry

            while (entry && entry.removed) entry = entry.previous;
          }
        },
        // `{ Map, Set}.prototype.has(key)` methods
        // https://tc39.es/ecma262/#sec-map.prototype.has
        // https://tc39.es/ecma262/#sec-set.prototype.has
        has: function has(key) {
          return !!getEntry(this, key);
        }
      });
      redefineAll(Prototype, IS_MAP ? {
        // `Map.prototype.get(key)` method
        // https://tc39.es/ecma262/#sec-map.prototype.get
        get: function get(key) {
          var entry = getEntry(this, key);
          return entry && entry.value;
        },
        // `Map.prototype.set(key, value)` method
        // https://tc39.es/ecma262/#sec-map.prototype.set
        set: function set(key, value) {
          return define(this, key === 0 ? 0 : key, value);
        }
      } : {
        // `Set.prototype.add(value)` method
        // https://tc39.es/ecma262/#sec-set.prototype.add
        add: function add(value) {
          return define(this, value = value === 0 ? 0 : value, value);
        }
      });
      if (DESCRIPTORS) defineProperty(Prototype, 'size', {
        get: function () {
          return getInternalState(this).size;
        }
      });
      return Constructor;
    },
    setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {
      var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';
      var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);
      var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME); // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods
      // https://tc39.es/ecma262/#sec-map.prototype.entries
      // https://tc39.es/ecma262/#sec-map.prototype.keys
      // https://tc39.es/ecma262/#sec-map.prototype.values
      // https://tc39.es/ecma262/#sec-map.prototype-@@iterator
      // https://tc39.es/ecma262/#sec-set.prototype.entries
      // https://tc39.es/ecma262/#sec-set.prototype.keys
      // https://tc39.es/ecma262/#sec-set.prototype.values
      // https://tc39.es/ecma262/#sec-set.prototype-@@iterator

      defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {
        setInternalState(this, {
          type: ITERATOR_NAME,
          target: iterated,
          state: getInternalCollectionState(iterated),
          kind: kind,
          last: undefined
        });
      }, function () {
        var state = getInternalIteratorState(this);
        var kind = state.kind;
        var entry = state.last; // revert to the last existing entry

        while (entry && entry.removed) entry = entry.previous; // get next entry


        if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {
          // or finish the iteration
          state.target = undefined;
          return {
            value: undefined,
            done: true
          };
        } // return step by kind


        if (kind == 'keys') return {
          value: entry.key,
          done: false
        };
        if (kind == 'values') return {
          value: entry.value,
          done: false
        };
        return {
          value: [entry.key, entry.value],
          done: false
        };
      }, IS_MAP ? 'entries' : 'values', !IS_MAP, true); // `{ Map, Set }.prototype[@@species]` accessors
      // https://tc39.es/ecma262/#sec-get-map-@@species
      // https://tc39.es/ecma262/#sec-get-set-@@species

      setSpecies(CONSTRUCTOR_NAME);
    }
  };

  var collection$1 = collection$2;
  var collectionStrong$1 = collectionStrong$2; // `Map` constructor
  // https://tc39.es/ecma262/#sec-map-objects

  collection$1('Map', function (init) {
    return function Map() {
      return init(this, arguments.length ? arguments[0] : undefined);
    };
  }, collectionStrong$1);

  var path$1 = path$q;
  var map$2 = path$1.Map;

  var parent$9 = map$2;
  var map$1 = parent$9;

  var map = map$1;

  var $$1 = _export;
  var $some = arrayIteration.some;
  var arrayMethodIsStrict$1 = arrayMethodIsStrict$5;
  var STRICT_METHOD$1 = arrayMethodIsStrict$1('some'); // `Array.prototype.some` method
  // https://tc39.es/ecma262/#sec-array.prototype.some

  $$1({
    target: 'Array',
    proto: true,
    forced: !STRICT_METHOD$1
  }, {
    some: function some(callbackfn
    /* , thisArg */
    ) {
      return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  var entryVirtual$4 = entryVirtual$k;
  var some$3 = entryVirtual$4('Array').some;

  var isPrototypeOf$4 = objectIsPrototypeOf;
  var method$4 = some$3;
  var ArrayPrototype$4 = Array.prototype;

  var some$2 = function (it) {
    var own = it.some;
    return it === ArrayPrototype$4 || isPrototypeOf$4(ArrayPrototype$4, it) && own === ArrayPrototype$4.some ? method$4 : own;
  };

  var parent$8 = some$2;
  var some$1 = parent$8;

  var some = some$1;

  var entryVirtual$3 = entryVirtual$k;
  var keys$3 = entryVirtual$3('Array').keys;

  var parent$7 = keys$3;
  var keys$2 = parent$7;

  var classof$2 = classof$c;
  var hasOwn$2 = hasOwnProperty_1;
  var isPrototypeOf$3 = objectIsPrototypeOf;
  var method$3 = keys$2;
  var ArrayPrototype$3 = Array.prototype;
  var DOMIterables$2 = {
    DOMTokenList: true,
    NodeList: true
  };

  var keys$1 = function (it) {
    var own = it.keys;
    return it === ArrayPrototype$3 || isPrototypeOf$3(ArrayPrototype$3, it) && own === ArrayPrototype$3.keys || hasOwn$2(DOMIterables$2, classof$2(it)) ? method$3 : own;
  };

  var keys = keys$1;

  var arraySlice = arraySliceSimple;
  var floor = Math.floor;

  var mergeSort = function (array, comparefn) {
    var length = array.length;
    var middle = floor(length / 2);
    return length < 8 ? insertionSort(array, comparefn) : merge(array, mergeSort(arraySlice(array, 0, middle), comparefn), mergeSort(arraySlice(array, middle), comparefn), comparefn);
  };

  var insertionSort = function (array, comparefn) {
    var length = array.length;
    var i = 1;
    var element, j;

    while (i < length) {
      j = i;
      element = array[i];

      while (j && comparefn(array[j - 1], element) > 0) {
        array[j] = array[--j];
      }

      if (j !== i++) array[j] = element;
    }

    return array;
  };

  var merge = function (array, left, right, comparefn) {
    var llength = left.length;
    var rlength = right.length;
    var lindex = 0;
    var rindex = 0;

    while (lindex < llength || rindex < rlength) {
      array[lindex + rindex] = lindex < llength && rindex < rlength ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++] : lindex < llength ? left[lindex++] : right[rindex++];
    }

    return array;
  };

  var arraySort = mergeSort;

  var userAgent$1 = engineUserAgent;
  var firefox = userAgent$1.match(/firefox\/(\d+)/i);
  var engineFfVersion = !!firefox && +firefox[1];

  var UA = engineUserAgent;
  var engineIsIeOrEdge = /MSIE|Trident/.test(UA);

  var userAgent = engineUserAgent;
  var webkit = userAgent.match(/AppleWebKit\/(\d+)\./);
  var engineWebkitVersion = !!webkit && +webkit[1];

  var $ = _export;
  var uncurryThis = functionUncurryThis;
  var aCallable = aCallable$7;
  var toObject = toObject$e;
  var lengthOfArrayLike = lengthOfArrayLike$d;
  var toString = toString$7;
  var fails = fails$r;
  var internalSort = arraySort;
  var arrayMethodIsStrict = arrayMethodIsStrict$5;
  var FF = engineFfVersion;
  var IE_OR_EDGE = engineIsIeOrEdge;
  var V8 = engineV8Version;
  var WEBKIT = engineWebkitVersion;
  var test = [];
  var un$Sort = uncurryThis(test.sort);
  var push = uncurryThis(test.push); // IE8-

  var FAILS_ON_UNDEFINED = fails(function () {
    test.sort(undefined);
  }); // V8 bug

  var FAILS_ON_NULL = fails(function () {
    test.sort(null);
  }); // Old WebKit

  var STRICT_METHOD = arrayMethodIsStrict('sort');
  var STABLE_SORT = !fails(function () {
    // feature detection can be too slow, so check engines versions
    if (V8) return V8 < 70;
    if (FF && FF > 3) return;
    if (IE_OR_EDGE) return true;
    if (WEBKIT) return WEBKIT < 603;
    var result = '';
    var code, chr, value, index; // generate an array with more 512 elements (Chakra and old V8 fails only in this case)

    for (code = 65; code < 76; code++) {
      chr = String.fromCharCode(code);

      switch (code) {
        case 66:
        case 69:
        case 70:
        case 72:
          value = 3;
          break;

        case 68:
        case 71:
          value = 4;
          break;

        default:
          value = 2;
      }

      for (index = 0; index < 47; index++) {
        test.push({
          k: chr + index,
          v: value
        });
      }
    }

    test.sort(function (a, b) {
      return b.v - a.v;
    });

    for (index = 0; index < test.length; index++) {
      chr = test[index].k.charAt(0);
      if (result.charAt(result.length - 1) !== chr) result += chr;
    }

    return result !== 'DGBEFHACIJK';
  });
  var FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;

  var getSortCompare = function (comparefn) {
    return function (x, y) {
      if (y === undefined) return -1;
      if (x === undefined) return 1;
      if (comparefn !== undefined) return +comparefn(x, y) || 0;
      return toString(x) > toString(y) ? 1 : -1;
    };
  }; // `Array.prototype.sort` method
  // https://tc39.es/ecma262/#sec-array.prototype.sort


  $({
    target: 'Array',
    proto: true,
    forced: FORCED
  }, {
    sort: function sort(comparefn) {
      if (comparefn !== undefined) aCallable(comparefn);
      var array = toObject(this);
      if (STABLE_SORT) return comparefn === undefined ? un$Sort(array) : un$Sort(array, comparefn);
      var items = [];
      var arrayLength = lengthOfArrayLike(array);
      var itemsLength, index;

      for (index = 0; index < arrayLength; index++) {
        if (index in array) push(items, array[index]);
      }

      internalSort(items, getSortCompare(comparefn));
      itemsLength = items.length;
      index = 0;

      while (index < itemsLength) array[index] = items[index++];

      while (index < arrayLength) delete array[index++];

      return array;
    }
  });

  var entryVirtual$2 = entryVirtual$k;
  var sort$3 = entryVirtual$2('Array').sort;

  var isPrototypeOf$2 = objectIsPrototypeOf;
  var method$2 = sort$3;
  var ArrayPrototype$2 = Array.prototype;

  var sort$2 = function (it) {
    var own = it.sort;
    return it === ArrayPrototype$2 || isPrototypeOf$2(ArrayPrototype$2, it) && own === ArrayPrototype$2.sort ? method$2 : own;
  };

  var parent$6 = sort$2;
  var sort$1 = parent$6;

  var sort = sort$1;

  var entryVirtual$1 = entryVirtual$k;
  var values$3 = entryVirtual$1('Array').values;

  var parent$5 = values$3;
  var values$2 = parent$5;

  var classof$1 = classof$c;
  var hasOwn$1 = hasOwnProperty_1;
  var isPrototypeOf$1 = objectIsPrototypeOf;
  var method$1 = values$2;
  var ArrayPrototype$1 = Array.prototype;
  var DOMIterables$1 = {
    DOMTokenList: true,
    NodeList: true
  };

  var values$1 = function (it) {
    var own = it.values;
    return it === ArrayPrototype$1 || isPrototypeOf$1(ArrayPrototype$1, it) && own === ArrayPrototype$1.values || hasOwn$1(DOMIterables$1, classof$1(it)) ? method$1 : own;
  };

  var values = values$1;

  var iterator = iterator$4;

  var entryVirtual = entryVirtual$k;
  var entries$3 = entryVirtual('Array').entries;

  var parent$4 = entries$3;
  var entries$2 = parent$4;

  var classof = classof$c;
  var hasOwn = hasOwnProperty_1;
  var isPrototypeOf = objectIsPrototypeOf;
  var method = entries$2;
  var ArrayPrototype = Array.prototype;
  var DOMIterables = {
    DOMTokenList: true,
    NodeList: true
  };

  var entries$1 = function (it) {
    var own = it.entries;
    return it === ArrayPrototype || isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.entries || hasOwn(DOMIterables, classof(it)) ? method : own;
  };

  var entries = entries$1;

  // Unique ID creation requires a high quality random # generator. In the browser we therefore
  // require the crypto API and do not support built-in fallback to lower quality random number
  // generators (like Math.random()).
  var getRandomValues;
  var rnds8 = new Uint8Array(16);
  function rng() {
    // lazy load so that environments that need to polyfill have a chance to do so
    if (!getRandomValues) {
      // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
      // find the complete implementation of crypto (msCrypto) on IE11.
      getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);

      if (!getRandomValues) {
        throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
      }
    }

    return getRandomValues(rnds8);
  }

  var REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;

  function validate(uuid) {
    return typeof uuid === 'string' && REGEX.test(uuid);
  }

  /**
   * Convert array of 16 byte values to UUID string format of the form:
   * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
   */

  var byteToHex = [];

  for (var i = 0; i < 256; ++i) {
    byteToHex.push((i + 0x100).toString(16).substr(1));
  }

  function stringify(arr) {
    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance
    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434

    var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
    // of the following:
    // - One or more input array values don't map to a hex octet (leading to
    // "undefined" in the uuid)
    // - Invalid input values for the RFC `version` or `variant` fields

    if (!validate(uuid)) {
      throw TypeError('Stringified UUID is invalid');
    }

    return uuid;
  }

  function v4(options, buf, offset) {
    options = options || {};
    var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

    rnds[6] = rnds[6] & 0x0f | 0x40;
    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

    if (buf) {
      offset = offset || 0;

      for (var i = 0; i < 16; ++i) {
        buf[offset + i] = rnds[i];
      }

      return buf;
    }

    return stringify(rnds);
  }

  /**
   * Determine whether a value can be used as an id.
   *
   * @param value - Input value of unknown type.
   * @returns True if the value is valid id, false otherwise.
   */
  function isId(value) {
    return typeof value === "string" || typeof value === "number";
  }

  /**
   * A queue.
   *
   * @typeParam T - The type of method names to be replaced by queued versions.
   */
  var Queue = /*#__PURE__*/function () {
    /** Delay in milliseconds. If defined the queue will be periodically flushed. */

    /** Maximum number of entries in the queue before it will be flushed. */

    /**
     * Construct a new Queue.
     *
     * @param options - Queue configuration.
     */
    function Queue(options) {
      _classCallCheck(this, Queue);

      _defineProperty(this, "delay", void 0);

      _defineProperty(this, "max", void 0);

      _defineProperty(this, "_queue", []);

      _defineProperty(this, "_timeout", null);

      _defineProperty(this, "_extended", null);

      // options
      this.delay = null;
      this.max = Infinity;
      this.setOptions(options);
    }
    /**
     * Update the configuration of the queue.
     *
     * @param options - Queue configuration.
     */


    _createClass(Queue, [{
      key: "setOptions",
      value: function setOptions(options) {
        if (options && typeof options.delay !== "undefined") {
          this.delay = options.delay;
        }

        if (options && typeof options.max !== "undefined") {
          this.max = options.max;
        }

        this._flushIfNeeded();
      }
      /**
       * Extend an object with queuing functionality.
       * The object will be extended with a function flush, and the methods provided in options.replace will be replaced with queued ones.
       *
       * @param object - The object to be extended.
       * @param options - Additional options.
       * @returns The created queue.
       */

    }, {
      key: "destroy",
      value:
      /**
       * Destroy the queue. The queue will first flush all queued actions, and in case it has extended an object, will restore the original object.
       */
      function destroy() {
        this.flush();

        if (this._extended) {
          var object = this._extended.object;
          var methods = this._extended.methods;

          for (var i = 0; i < methods.length; i++) {
            var method = methods[i];

            if (method.original) {
              // @TODO: better solution?
              object[method.name] = method.original;
            } else {
              // @TODO: better solution?
              delete object[method.name];
            }
          }

          this._extended = null;
        }
      }
      /**
       * Replace a method on an object with a queued version.
       *
       * @param object - Object having the method.
       * @param method - The method name.
       */

    }, {
      key: "replace",
      value: function replace(object, method) {
        /* eslint-disable-next-line @typescript-eslint/no-this-alias -- Function this is necessary in the function bellow, so class this has to be saved into a variable here. */
        var me = this;
        var original = object[method];

        if (!original) {
          throw new Error("Method " + method + " undefined");
        }

        object[method] = function () {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          // add this call to the queue
          me.queue({
            args: args,
            fn: original,
            context: this
          });
        };
      }
      /**
       * Queue a call.
       *
       * @param entry - The function or entry to be queued.
       */

    }, {
      key: "queue",
      value: function queue(entry) {
        if (typeof entry === "function") {
          this._queue.push({
            fn: entry
          });
        } else {
          this._queue.push(entry);
        }

        this._flushIfNeeded();
      }
      /**
       * Check whether the queue needs to be flushed.
       */

    }, {
      key: "_flushIfNeeded",
      value: function _flushIfNeeded() {
        var _this = this;

        // flush when the maximum is exceeded.
        if (this._queue.length > this.max) {
          this.flush();
        } // flush after a period of inactivity when a delay is configured


        if (this._timeout != null) {
          clearTimeout(this._timeout);
          this._timeout = null;
        }

        if (this.queue.length > 0 && typeof this.delay === "number") {
          this._timeout = setTimeout$1(function () {
            _this.flush();
          }, this.delay);
        }
      }
      /**
       * Flush all queued calls
       */

    }, {
      key: "flush",
      value: function flush() {
        var _context, _context2;

        forEach$1(_context = splice(_context2 = this._queue).call(_context2, 0)).call(_context, function (entry) {
          entry.fn.apply(entry.context || entry.fn, entry.args || []);
        });
      }
    }], [{
      key: "extend",
      value: function extend(object, options) {
        var queue = new Queue(options);

        if (object.flush !== undefined) {
          throw new Error("Target object already has a property flush");
        }

        object.flush = function () {
          queue.flush();
        };

        var methods = [{
          name: "flush",
          original: undefined
        }];

        if (options && options.replace) {
          for (var i = 0; i < options.replace.length; i++) {
            var name = options.replace[i];
            methods.push({
              name: name,
              // @TODO: better solution?
              original: object[name]
            }); // @TODO: better solution?

            queue.replace(object, name);
          }
        }

        queue._extended = {
          object: object,
          methods: methods
        };
        return queue;
      }
    }]);

    return Queue;
  }();

  /**
   * [[DataSet]] code that can be reused in [[DataView]] or other similar implementations of [[DataInterface]].
   *
   * @typeParam Item - Item type that may or may not have an id.
   * @typeParam IdProp - Name of the property that contains the id.
   */
  var DataSetPart = /*#__PURE__*/function () {
    function DataSetPart() {
      _classCallCheck(this, DataSetPart);

      _defineProperty(this, "_subscribers", {
        "*": [],
        add: [],
        remove: [],
        update: []
      });

      _defineProperty(this, "subscribe", DataSetPart.prototype.on);

      _defineProperty(this, "unsubscribe", DataSetPart.prototype.off);
    }

    _createClass(DataSetPart, [{
      key: "_trigger",
      value:
      /**
       * Trigger an event
       *
       * @param event - Event name.
       * @param payload - Event payload.
       * @param senderId - Id of the sender.
       */
      function _trigger(event, payload, senderId) {
        var _context, _context2;

        if (event === "*") {
          throw new Error("Cannot trigger event *");
        }

        forEach$1(_context = concat$1(_context2 = []).call(_context2, _toConsumableArray(this._subscribers[event]), _toConsumableArray(this._subscribers["*"]))).call(_context, function (subscriber) {
          subscriber(event, payload, senderId != null ? senderId : null);
        });
      }
      /**
       * Subscribe to an event, add an event listener.
       *
       * @remarks Non-function callbacks are ignored.
       * @param event - Event name.
       * @param callback - Callback method.
       */

    }, {
      key: "on",
      value: function on(event, callback) {
        if (typeof callback === "function") {
          this._subscribers[event].push(callback);
        } // @TODO: Maybe throw for invalid callbacks?

      }
      /**
       * Unsubscribe from an event, remove an event listener.
       *
       * @remarks If the same callback was subscribed more than once **all** occurences will be removed.
       * @param event - Event name.
       * @param callback - Callback method.
       */

    }, {
      key: "off",
      value: function off(event, callback) {
        var _context3;

        this._subscribers[event] = filter(_context3 = this._subscribers[event]).call(_context3, function (subscriber) {
          return subscriber !== callback;
        });
      }
      /**
       * @deprecated Use on instead (PS: DataView.subscribe === DataView.on).
       */

    }]);

    return DataSetPart;
  }();

  var collection = collection$2;
  var collectionStrong = collectionStrong$2; // `Set` constructor
  // https://tc39.es/ecma262/#sec-set-objects

  collection('Set', function (init) {
    return function Set() {
      return init(this, arguments.length ? arguments[0] : undefined);
    };
  }, collectionStrong);

  var path = path$q;
  var set$2 = path.Set;

  var parent$3 = set$2;
  var set$1 = parent$3;

  var set = set$1;

  var getIterator$4 = getIterator$7;
  var getIterator_1 = getIterator$4;

  var parent$2 = getIterator_1;
  var getIterator$3 = parent$2;

  var parent$1 = getIterator$3;
  var getIterator$2 = parent$1;

  var parent = getIterator$2;
  var getIterator$1 = parent;

  var getIterator = getIterator$1;

  var _Symbol$iterator;

  function _createForOfIteratorHelper$2(o, allowArrayLike) { var it = typeof symbol !== "undefined" && getIteratorMethod$1(o) || o["@@iterator"]; if (!it) { if (isArray$1(o) || (it = _unsupportedIterableToArray$2(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray$2(o, minLen) { var _context10; if (!o) return; if (typeof o === "string") return _arrayLikeToArray$2(o, minLen); var n = slice(_context10 = Object.prototype.toString.call(o)).call(_context10, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return from$3(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen); }

  function _arrayLikeToArray$2(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  _Symbol$iterator = iterator;

  /**
   * Data stream
   *
   * @remarks
   * [[DataStream]] offers an always up to date stream of items from a [[DataSet]] or [[DataView]].
   * That means that the stream is evaluated at the time of iteration, conversion to another data type or when [[cache]] is called, not when the [[DataStream]] was created.
   * Multiple invocations of for example [[toItemArray]] may yield different results (if the data source like for example [[DataSet]] gets modified).
   * @typeParam Item - The item type this stream is going to work with.
   */
  var DataStream = /*#__PURE__*/function () {
    /**
     * Create a new data stream.
     *
     * @param pairs - The id, item pairs.
     */
    function DataStream(pairs) {
      _classCallCheck(this, DataStream);

      _defineProperty(this, "_pairs", void 0);

      this._pairs = pairs;
    }
    /**
     * Return an iterable of key, value pairs for every entry in the stream.
     */


    _createClass(DataStream, [{
      key: _Symbol$iterator,
      value:
      /*#__PURE__*/
      regenerator.mark(function value() {
        var _iterator, _step, _step$value, id, item;

        return regenerator.wrap(function value$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _iterator = _createForOfIteratorHelper$2(this._pairs);
                _context.prev = 1;

                _iterator.s();

              case 3:
                if ((_step = _iterator.n()).done) {
                  _context.next = 9;
                  break;
                }

                _step$value = _slicedToArray(_step.value, 2), id = _step$value[0], item = _step$value[1];
                _context.next = 7;
                return [id, item];

              case 7:
                _context.next = 3;
                break;

              case 9:
                _context.next = 14;
                break;

              case 11:
                _context.prev = 11;
                _context.t0 = _context["catch"](1);

                _iterator.e(_context.t0);

              case 14:
                _context.prev = 14;

                _iterator.f();

                return _context.finish(14);

              case 17:
              case "end":
                return _context.stop();
            }
          }
        }, value, this, [[1, 11, 14, 17]]);
      })
      /**
       * Return an iterable of key, value pairs for every entry in the stream.
       */

    }, {
      key: "entries",
      value:
      /*#__PURE__*/
      regenerator.mark(function entries() {
        var _iterator2, _step2, _step2$value, id, item;

        return regenerator.wrap(function entries$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _iterator2 = _createForOfIteratorHelper$2(this._pairs);
                _context2.prev = 1;

                _iterator2.s();

              case 3:
                if ((_step2 = _iterator2.n()).done) {
                  _context2.next = 9;
                  break;
                }

                _step2$value = _slicedToArray(_step2.value, 2), id = _step2$value[0], item = _step2$value[1];
                _context2.next = 7;
                return [id, item];

              case 7:
                _context2.next = 3;
                break;

              case 9:
                _context2.next = 14;
                break;

              case 11:
                _context2.prev = 11;
                _context2.t0 = _context2["catch"](1);

                _iterator2.e(_context2.t0);

              case 14:
                _context2.prev = 14;

                _iterator2.f();

                return _context2.finish(14);

              case 17:
              case "end":
                return _context2.stop();
            }
          }
        }, entries, this, [[1, 11, 14, 17]]);
      })
      /**
       * Return an iterable of keys in the stream.
       */

    }, {
      key: "keys",
      value:
      /*#__PURE__*/
      regenerator.mark(function keys() {
        var _iterator3, _step3, _step3$value, id;

        return regenerator.wrap(function keys$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _iterator3 = _createForOfIteratorHelper$2(this._pairs);
                _context3.prev = 1;

                _iterator3.s();

              case 3:
                if ((_step3 = _iterator3.n()).done) {
                  _context3.next = 9;
                  break;
                }

                _step3$value = _slicedToArray(_step3.value, 1), id = _step3$value[0];
                _context3.next = 7;
                return id;

              case 7:
                _context3.next = 3;
                break;

              case 9:
                _context3.next = 14;
                break;

              case 11:
                _context3.prev = 11;
                _context3.t0 = _context3["catch"](1);

                _iterator3.e(_context3.t0);

              case 14:
                _context3.prev = 14;

                _iterator3.f();

                return _context3.finish(14);

              case 17:
              case "end":
                return _context3.stop();
            }
          }
        }, keys, this, [[1, 11, 14, 17]]);
      })
      /**
       * Return an iterable of values in the stream.
       */

    }, {
      key: "values",
      value:
      /*#__PURE__*/
      regenerator.mark(function values() {
        var _iterator4, _step4, _step4$value, item;

        return regenerator.wrap(function values$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _iterator4 = _createForOfIteratorHelper$2(this._pairs);
                _context4.prev = 1;

                _iterator4.s();

              case 3:
                if ((_step4 = _iterator4.n()).done) {
                  _context4.next = 9;
                  break;
                }

                _step4$value = _slicedToArray(_step4.value, 2), item = _step4$value[1];
                _context4.next = 7;
                return item;

              case 7:
                _context4.next = 3;
                break;

              case 9:
                _context4.next = 14;
                break;

              case 11:
                _context4.prev = 11;
                _context4.t0 = _context4["catch"](1);

                _iterator4.e(_context4.t0);

              case 14:
                _context4.prev = 14;

                _iterator4.f();

                return _context4.finish(14);

              case 17:
              case "end":
                return _context4.stop();
            }
          }
        }, values, this, [[1, 11, 14, 17]]);
      })
      /**
       * Return an array containing all the ids in this stream.
       *
       * @remarks
       * The array may contain duplicities.
       * @returns The array with all ids from this stream.
       */

    }, {
      key: "toIdArray",
      value: function toIdArray() {
        var _context5;

        return map$3(_context5 = _toConsumableArray(this._pairs)).call(_context5, function (pair) {
          return pair[0];
        });
      }
      /**
       * Return an array containing all the items in this stream.
       *
       * @remarks
       * The array may contain duplicities.
       * @returns The array with all items from this stream.
       */

    }, {
      key: "toItemArray",
      value: function toItemArray() {
        var _context6;

        return map$3(_context6 = _toConsumableArray(this._pairs)).call(_context6, function (pair) {
          return pair[1];
        });
      }
      /**
       * Return an array containing all the entries in this stream.
       *
       * @remarks
       * The array may contain duplicities.
       * @returns The array with all entries from this stream.
       */

    }, {
      key: "toEntryArray",
      value: function toEntryArray() {
        return _toConsumableArray(this._pairs);
      }
      /**
       * Return an object map containing all the items in this stream accessible by ids.
       *
       * @remarks
       * In case of duplicate ids (coerced to string so `7 == '7'`) the last encoutered appears in the returned object.
       * @returns The object map of all id → item pairs from this stream.
       */

    }, {
      key: "toObjectMap",
      value: function toObjectMap() {
        var map = create$5(null);

        var _iterator5 = _createForOfIteratorHelper$2(this._pairs),
            _step5;

        try {
          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
            var _step5$value = _slicedToArray(_step5.value, 2),
                id = _step5$value[0],
                item = _step5$value[1];

            map[id] = item;
          }
        } catch (err) {
          _iterator5.e(err);
        } finally {
          _iterator5.f();
        }

        return map;
      }
      /**
       * Return a map containing all the items in this stream accessible by ids.
       *
       * @returns The map of all id → item pairs from this stream.
       */

    }, {
      key: "toMap",
      value: function toMap() {
        return new map(this._pairs);
      }
      /**
       * Return a set containing all the (unique) ids in this stream.
       *
       * @returns The set of all ids from this stream.
       */

    }, {
      key: "toIdSet",
      value: function toIdSet() {
        return new set(this.toIdArray());
      }
      /**
       * Return a set containing all the (unique) items in this stream.
       *
       * @returns The set of all items from this stream.
       */

    }, {
      key: "toItemSet",
      value: function toItemSet() {
        return new set(this.toItemArray());
      }
      /**
       * Cache the items from this stream.
       *
       * @remarks
       * This method allows for items to be fetched immediatelly and used (possibly multiple times) later.
       * It can also be used to optimize performance as [[DataStream]] would otherwise reevaluate everything upon each iteration.
       *
       * ## Example
       * ```javascript
       * const ds = new DataSet([…])
       *
       * const cachedStream = ds.stream()
       *   .filter(…)
       *   .sort(…)
       *   .map(…)
       *   .cached(…) // Data are fetched, processed and cached here.
       *
       * ds.clear()
       * chachedStream // Still has all the items.
       * ```
       * @returns A new [[DataStream]] with cached items (detached from the original [[DataSet]]).
       */

    }, {
      key: "cache",
      value: function cache() {
        return new DataStream(_toConsumableArray(this._pairs));
      }
      /**
       * Get the distinct values of given property.
       *
       * @param callback - The function that picks and possibly converts the property.
       * @typeParam T - The type of the distinct value.
       * @returns A set of all distinct properties.
       */

    }, {
      key: "distinct",
      value: function distinct(callback) {
        var set$1 = new set();

        var _iterator6 = _createForOfIteratorHelper$2(this._pairs),
            _step6;

        try {
          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
            var _step6$value = _slicedToArray(_step6.value, 2),
                id = _step6$value[0],
                item = _step6$value[1];

            set$1.add(callback(item, id));
          }
        } catch (err) {
          _iterator6.e(err);
        } finally {
          _iterator6.f();
        }

        return set$1;
      }
      /**
       * Filter the items of the stream.
       *
       * @param callback - The function that decides whether an item will be included.
       * @returns A new data stream with the filtered items.
       */

    }, {
      key: "filter",
      value: function filter(callback) {
        var pairs = this._pairs;
        return new DataStream(_defineProperty({}, iterator, /*#__PURE__*/regenerator.mark(function _callee() {
          var _iterator7, _step7, _step7$value, id, item;

          return regenerator.wrap(function _callee$(_context7) {
            while (1) {
              switch (_context7.prev = _context7.next) {
                case 0:
                  _iterator7 = _createForOfIteratorHelper$2(pairs);
                  _context7.prev = 1;

                  _iterator7.s();

                case 3:
                  if ((_step7 = _iterator7.n()).done) {
                    _context7.next = 10;
                    break;
                  }

                  _step7$value = _slicedToArray(_step7.value, 2), id = _step7$value[0], item = _step7$value[1];

                  if (!callback(item, id)) {
                    _context7.next = 8;
                    break;
                  }

                  _context7.next = 8;
                  return [id, item];

                case 8:
                  _context7.next = 3;
                  break;

                case 10:
                  _context7.next = 15;
                  break;

                case 12:
                  _context7.prev = 12;
                  _context7.t0 = _context7["catch"](1);

                  _iterator7.e(_context7.t0);

                case 15:
                  _context7.prev = 15;

                  _iterator7.f();

                  return _context7.finish(15);

                case 18:
                case "end":
                  return _context7.stop();
              }
            }
          }, _callee, null, [[1, 12, 15, 18]]);
        })));
      }
      /**
       * Execute a callback for each item of the stream.
       *
       * @param callback - The function that will be invoked for each item.
       */

    }, {
      key: "forEach",
      value: function forEach(callback) {
        var _iterator8 = _createForOfIteratorHelper$2(this._pairs),
            _step8;

        try {
          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
            var _step8$value = _slicedToArray(_step8.value, 2),
                id = _step8$value[0],
                item = _step8$value[1];

            callback(item, id);
          }
        } catch (err) {
          _iterator8.e(err);
        } finally {
          _iterator8.f();
        }
      }
      /**
       * Map the items into a different type.
       *
       * @param callback - The function that does the conversion.
       * @typeParam Mapped - The type of the item after mapping.
       * @returns A new data stream with the mapped items.
       */

    }, {
      key: "map",
      value: function map(callback) {
        var pairs = this._pairs;
        return new DataStream(_defineProperty({}, iterator, /*#__PURE__*/regenerator.mark(function _callee2() {
          var _iterator9, _step9, _step9$value, id, item;

          return regenerator.wrap(function _callee2$(_context8) {
            while (1) {
              switch (_context8.prev = _context8.next) {
                case 0:
                  _iterator9 = _createForOfIteratorHelper$2(pairs);
                  _context8.prev = 1;

                  _iterator9.s();

                case 3:
                  if ((_step9 = _iterator9.n()).done) {
                    _context8.next = 9;
                    break;
                  }

                  _step9$value = _slicedToArray(_step9.value, 2), id = _step9$value[0], item = _step9$value[1];
                  _context8.next = 7;
                  return [id, callback(item, id)];

                case 7:
                  _context8.next = 3;
                  break;

                case 9:
                  _context8.next = 14;
                  break;

                case 11:
                  _context8.prev = 11;
                  _context8.t0 = _context8["catch"](1);

                  _iterator9.e(_context8.t0);

                case 14:
                  _context8.prev = 14;

                  _iterator9.f();

                  return _context8.finish(14);

                case 17:
                case "end":
                  return _context8.stop();
              }
            }
          }, _callee2, null, [[1, 11, 14, 17]]);
        })));
      }
      /**
       * Get the item with the maximum value of given property.
       *
       * @param callback - The function that picks and possibly converts the property.
       * @returns The item with the maximum if found otherwise null.
       */

    }, {
      key: "max",
      value: function max(callback) {
        var iter = getIterator(this._pairs);

        var curr = iter.next();

        if (curr.done) {
          return null;
        }

        var maxItem = curr.value[1];
        var maxValue = callback(curr.value[1], curr.value[0]);

        while (!(curr = iter.next()).done) {
          var _curr$value = _slicedToArray(curr.value, 2),
              id = _curr$value[0],
              item = _curr$value[1];

          var _value = callback(item, id);

          if (_value > maxValue) {
            maxValue = _value;
            maxItem = item;
          }
        }

        return maxItem;
      }
      /**
       * Get the item with the minimum value of given property.
       *
       * @param callback - The function that picks and possibly converts the property.
       * @returns The item with the minimum if found otherwise null.
       */

    }, {
      key: "min",
      value: function min(callback) {
        var iter = getIterator(this._pairs);

        var curr = iter.next();

        if (curr.done) {
          return null;
        }

        var minItem = curr.value[1];
        var minValue = callback(curr.value[1], curr.value[0]);

        while (!(curr = iter.next()).done) {
          var _curr$value2 = _slicedToArray(curr.value, 2),
              id = _curr$value2[0],
              item = _curr$value2[1];

          var _value2 = callback(item, id);

          if (_value2 < minValue) {
            minValue = _value2;
            minItem = item;
          }
        }

        return minItem;
      }
      /**
       * Reduce the items into a single value.
       *
       * @param callback - The function that does the reduction.
       * @param accumulator - The initial value of the accumulator.
       * @typeParam T - The type of the accumulated value.
       * @returns The reduced value.
       */

    }, {
      key: "reduce",
      value: function reduce(callback, accumulator) {
        var _iterator10 = _createForOfIteratorHelper$2(this._pairs),
            _step10;

        try {
          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
            var _step10$value = _slicedToArray(_step10.value, 2),
                id = _step10$value[0],
                item = _step10$value[1];

            accumulator = callback(accumulator, item, id);
          }
        } catch (err) {
          _iterator10.e(err);
        } finally {
          _iterator10.f();
        }

        return accumulator;
      }
      /**
       * Sort the items.
       *
       * @param callback - Item comparator.
       * @returns A new stream with sorted items.
       */

    }, {
      key: "sort",
      value: function sort$1(callback) {
        var _this = this;

        return new DataStream(_defineProperty({}, iterator, function () {
          var _context9;

          return getIterator(sort(_context9 = _toConsumableArray(_this._pairs)).call(_context9, function (_ref, _ref2) {
            var _ref3 = _slicedToArray(_ref, 2),
                idA = _ref3[0],
                itemA = _ref3[1];

            var _ref4 = _slicedToArray(_ref2, 2),
                idB = _ref4[0],
                itemB = _ref4[1];

            return callback(itemA, itemB, idA, idB);
          }));
        }));
      }
    }]);

    return DataStream;
  }();

  function ownKeys(object, enumerableOnly) { var keys = keys$4(object); if (getOwnPropertySymbols) { var symbols = getOwnPropertySymbols(object); enumerableOnly && (symbols = filter(symbols).call(symbols, function (sym) { return getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var _context10, _context11; var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? forEach$1(_context10 = ownKeys(Object(source), !0)).call(_context10, function (key) { _defineProperty(target, key, source[key]); }) : getOwnPropertyDescriptors ? defineProperties(target, getOwnPropertyDescriptors(source)) : forEach$1(_context11 = ownKeys(Object(source))).call(_context11, function (key) { defineProperty$4(target, key, getOwnPropertyDescriptor(source, key)); }); } return target; }

  function _createForOfIteratorHelper$1(o, allowArrayLike) { var it = typeof symbol !== "undefined" && getIteratorMethod$1(o) || o["@@iterator"]; if (!it) { if (isArray$1(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray$1(o, minLen) { var _context9; if (!o) return; if (typeof o === "string") return _arrayLikeToArray$1(o, minLen); var n = slice(_context9 = Object.prototype.toString.call(o)).call(_context9, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return from$3(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen); }

  function _arrayLikeToArray$1(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

  function _isNativeReflectConstruct$1() { if (typeof Reflect === "undefined" || !construct) return false; if (construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
  /**
   * Add an id to given item if it doesn't have one already.
   *
   * @remarks
   * The item will be modified.
   * @param item - The item that will have an id after a call to this function.
   * @param idProp - The key of the id property.
   * @typeParam Item - Item type that may or may not have an id.
   * @typeParam IdProp - Name of the property that contains the id.
   * @returns true
   */

  function ensureFullItem(item, idProp) {
    if (item[idProp] == null) {
      // generate an id
      item[idProp] = v4();
    }

    return item;
  }
  /**
   * # DataSet
   *
   * Vis.js comes with a flexible DataSet, which can be used to hold and
   * manipulate unstructured data and listen for changes in the data. The DataSet
   * is key/value based. Data items can be added, updated and removed from the
   * DataSet, and one can subscribe to changes in the DataSet. The data in the
   * DataSet can be filtered and ordered. Data can be normalized when appending it
   * to the DataSet as well.
   *
   * ## Example
   *
   * The following example shows how to use a DataSet.
   *
   * ```javascript
   * // create a DataSet
   * var options = {};
   * var data = new vis.DataSet(options);
   *
   * // add items
   * // note that the data items can contain different properties and data formats
   * data.add([
   *   {id: 1, text: 'item 1', date: new Date(2013, 6, 20), group: 1, first: true},
   *   {id: 2, text: 'item 2', date: '2013-06-23', group: 2},
   *   {id: 3, text: 'item 3', date: '2013-06-25', group: 2},
   *   {id: 4, text: 'item 4'}
   * ]);
   *
   * // subscribe to any change in the DataSet
   * data.on('*', function (event, properties, senderId) {
   *   console.log('event', event, properties);
   * });
   *
   * // update an existing item
   * data.update({id: 2, group: 1});
   *
   * // remove an item
   * data.remove(4);
   *
   * // get all ids
   * var ids = data.getIds();
   * console.log('ids', ids);
   *
   * // get a specific item
   * var item1 = data.get(1);
   * console.log('item1', item1);
   *
   * // retrieve a filtered subset of the data
   * var items = data.get({
   *   filter: function (item) {
   *     return item.group == 1;
   *   }
   * });
   * console.log('filtered items', items);
   * ```
   *
   * @typeParam Item - Item type that may or may not have an id.
   * @typeParam IdProp - Name of the property that contains the id.
   */


  var DataSet = /*#__PURE__*/function (_DataSetPart) {
    _inherits(DataSet, _DataSetPart);

    var _super = _createSuper$1(DataSet);

    /**
     * Construct a new DataSet.
     *
     * @param data - Initial data or options.
     * @param options - Options (type error if data is also options).
     */
    function DataSet(data, options) {
      var _this;

      _classCallCheck(this, DataSet);

      _this = _super.call(this); // correctly read optional arguments

      _defineProperty(_assertThisInitialized(_this), "flush", void 0);

      _defineProperty(_assertThisInitialized(_this), "length", void 0);

      _defineProperty(_assertThisInitialized(_this), "_options", void 0);

      _defineProperty(_assertThisInitialized(_this), "_data", void 0);

      _defineProperty(_assertThisInitialized(_this), "_idProp", void 0);

      _defineProperty(_assertThisInitialized(_this), "_queue", null);

      if (data && !isArray$1(data)) {
        options = data;
        data = [];
      }

      _this._options = options || {};
      _this._data = new map(); // map with data indexed by id

      _this.length = 0; // number of items in the DataSet

      _this._idProp = _this._options.fieldId || "id"; // name of the field containing id
      // add initial data when provided

      if (data && data.length) {
        _this.add(data);
      }

      _this.setOptions(options);

      return _this;
    }
    /**
     * Set new options.
     *
     * @param options - The new options.
     */


    _createClass(DataSet, [{
      key: "idProp",
      get:
      /** Flush all queued calls. */

      /** @inheritDoc */

      /** @inheritDoc */
      function get() {
        return this._idProp;
      }
    }, {
      key: "setOptions",
      value: function setOptions(options) {
        if (options && options.queue !== undefined) {
          if (options.queue === false) {
            // delete queue if loaded
            if (this._queue) {
              this._queue.destroy();

              this._queue = null;
            }
          } else {
            // create queue and update its options
            if (!this._queue) {
              this._queue = Queue.extend(this, {
                replace: ["add", "update", "remove"]
              });
            }

            if (options.queue && _typeof(options.queue) === "object") {
              this._queue.setOptions(options.queue);
            }
          }
        }
      }
      /**
       * Add a data item or an array with items.
       *
       * After the items are added to the DataSet, the DataSet will trigger an event `add`. When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * ## Example
       *
       * ```javascript
       * // create a DataSet
       * const data = new vis.DataSet()
       *
       * // add items
       * const ids = data.add([
       *   { id: 1, text: 'item 1' },
       *   { id: 2, text: 'item 2' },
       *   { text: 'item without an id' }
       * ])
       *
       * console.log(ids) // [1, 2, '<UUIDv4>']
       * ```
       *
       * @param data - Items to be added (ids will be generated if missing).
       * @param senderId - Sender id.
       * @returns addedIds - Array with the ids (generated if not present) of the added items.
       * @throws When an item with the same id as any of the added items already exists.
       */

    }, {
      key: "add",
      value: function add(data, senderId) {
        var _this2 = this;

        var addedIds = [];
        var id;

        if (isArray$1(data)) {
          // Array
          var idsToAdd = map$3(data).call(data, function (d) {
            return d[_this2._idProp];
          });

          if (some(idsToAdd).call(idsToAdd, function (id) {
            return _this2._data.has(id);
          })) {
            throw new Error("A duplicate id was found in the parameter array.");
          }

          for (var i = 0, len = data.length; i < len; i++) {
            id = this._addItem(data[i]);
            addedIds.push(id);
          }
        } else if (data && _typeof(data) === "object") {
          // Single item
          id = this._addItem(data);
          addedIds.push(id);
        } else {
          throw new Error("Unknown dataType");
        }

        if (addedIds.length) {
          this._trigger("add", {
            items: addedIds
          }, senderId);
        }

        return addedIds;
      }
      /**
       * Update existing items. When an item does not exist, it will be created.
       *
       * @remarks
       * The provided properties will be merged in the existing item. When an item does not exist, it will be created.
       *
       * After the items are updated, the DataSet will trigger an event `add` for the added items, and an event `update`. When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * ## Example
       *
       * ```javascript
       * // create a DataSet
       * const data = new vis.DataSet([
       *   { id: 1, text: 'item 1' },
       *   { id: 2, text: 'item 2' },
       *   { id: 3, text: 'item 3' }
       * ])
       *
       * // update items
       * const ids = data.update([
       *   { id: 2, text: 'item 2 (updated)' },
       *   { id: 4, text: 'item 4 (new)' }
       * ])
       *
       * console.log(ids) // [2, 4]
       * ```
       *
       * ## Warning for TypeScript users
       * This method may introduce partial items into the data set. Use add or updateOnly instead for better type safety.
       * @param data - Items to be updated (if the id is already present) or added (if the id is missing).
       * @param senderId - Sender id.
       * @returns updatedIds - The ids of the added (these may be newly generated if there was no id in the item from the data) or updated items.
       * @throws When the supplied data is neither an item nor an array of items.
       */

    }, {
      key: "update",
      value: function update(data, senderId) {
        var _this3 = this;

        var addedIds = [];
        var updatedIds = [];
        var oldData = [];
        var updatedData = [];
        var idProp = this._idProp;

        var addOrUpdate = function addOrUpdate(item) {
          var origId = item[idProp];

          if (origId != null && _this3._data.has(origId)) {
            var fullItem = item; // it has an id, therefore it is a fullitem

            var oldItem = assign$2({}, _this3._data.get(origId)); // update item


            var id = _this3._updateItem(fullItem);

            updatedIds.push(id);
            updatedData.push(fullItem);
            oldData.push(oldItem);
          } else {
            // add new item
            var _id = _this3._addItem(item);

            addedIds.push(_id);
          }
        };

        if (isArray$1(data)) {
          // Array
          for (var i = 0, len = data.length; i < len; i++) {
            if (data[i] && _typeof(data[i]) === "object") {
              addOrUpdate(data[i]);
            } else {
              console.warn("Ignoring input item, which is not an object at index " + i);
            }
          }
        } else if (data && _typeof(data) === "object") {
          // Single item
          addOrUpdate(data);
        } else {
          throw new Error("Unknown dataType");
        }

        if (addedIds.length) {
          this._trigger("add", {
            items: addedIds
          }, senderId);
        }

        if (updatedIds.length) {
          var props = {
            items: updatedIds,
            oldData: oldData,
            data: updatedData
          }; // TODO: remove deprecated property 'data' some day
          //Object.defineProperty(props, 'data', {
          //  'get': (function() {
          //    console.warn('Property data is deprecated. Use DataSet.get(ids) to retrieve the new data, use the oldData property on this object to get the old data');
          //    return updatedData;
          //  }).bind(this)
          //});

          this._trigger("update", props, senderId);
        }

        return concat$1(addedIds).call(addedIds, updatedIds);
      }
      /**
       * Update existing items. When an item does not exist, an error will be thrown.
       *
       * @remarks
       * The provided properties will be deeply merged into the existing item.
       * When an item does not exist (id not present in the data set or absent), an error will be thrown and nothing will be changed.
       *
       * After the items are updated, the DataSet will trigger an event `update`.
       * When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * ## Example
       *
       * ```javascript
       * // create a DataSet
       * const data = new vis.DataSet([
       *   { id: 1, text: 'item 1' },
       *   { id: 2, text: 'item 2' },
       *   { id: 3, text: 'item 3' },
       * ])
       *
       * // update items
       * const ids = data.update([
       *   { id: 2, text: 'item 2 (updated)' }, // works
       *   // { id: 4, text: 'item 4 (new)' }, // would throw
       *   // { text: 'item 4 (new)' }, // would also throw
       * ])
       *
       * console.log(ids) // [2]
       * ```
       * @param data - Updates (the id and optionally other props) to the items in this data set.
       * @param senderId - Sender id.
       * @returns updatedIds - The ids of the updated items.
       * @throws When the supplied data is neither an item nor an array of items, when the ids are missing.
       */

    }, {
      key: "updateOnly",
      value: function updateOnly(data, senderId) {
        var _context,
            _this4 = this;

        if (!isArray$1(data)) {
          data = [data];
        }

        var updateEventData = map$3(_context = map$3(data).call(data, function (update) {
          var oldData = _this4._data.get(update[_this4._idProp]);

          if (oldData == null) {
            throw new Error("Updating non-existent items is not allowed.");
          }

          return {
            oldData: oldData,
            update: update
          };
        })).call(_context, function (_ref) {
          var oldData = _ref.oldData,
              update = _ref.update;
          var id = oldData[_this4._idProp];
          var updatedData = pureDeepObjectAssign(oldData, update);

          _this4._data.set(id, updatedData);

          return {
            id: id,
            oldData: oldData,
            updatedData: updatedData
          };
        });

        if (updateEventData.length) {
          var props = {
            items: map$3(updateEventData).call(updateEventData, function (value) {
              return value.id;
            }),
            oldData: map$3(updateEventData).call(updateEventData, function (value) {
              return value.oldData;
            }),
            data: map$3(updateEventData).call(updateEventData, function (value) {
              return value.updatedData;
            })
          }; // TODO: remove deprecated property 'data' some day
          //Object.defineProperty(props, 'data', {
          //  'get': (function() {
          //    console.warn('Property data is deprecated. Use DataSet.get(ids) to retrieve the new data, use the oldData property on this object to get the old data');
          //    return updatedData;
          //  }).bind(this)
          //});

          this._trigger("update", props, senderId);

          return props.items;
        } else {
          return [];
        }
      }
      /** @inheritDoc */

    }, {
      key: "get",
      value: function get(first, second) {
        // @TODO: Woudn't it be better to split this into multiple methods?
        // parse the arguments
        var id = undefined;
        var ids = undefined;
        var options = undefined;

        if (isId(first)) {
          // get(id [, options])
          id = first;
          options = second;
        } else if (isArray$1(first)) {
          // get(ids [, options])
          ids = first;
          options = second;
        } else {
          // get([, options])
          options = first;
        } // determine the return type


        var returnType = options && options.returnType === "Object" ? "Object" : "Array"; // @TODO: WTF is this? Or am I missing something?
        // var returnType
        // if (options && options.returnType) {
        //   var allowedValues = ['Array', 'Object']
        //   returnType =
        //     allowedValues.indexOf(options.returnType) == -1
        //       ? 'Array'
        //       : options.returnType
        // } else {
        //   returnType = 'Array'
        // }
        // build options

        var filter$1 = options && filter(options);

        var items = [];
        var item = undefined;
        var itemIds = undefined;
        var itemId = undefined; // convert items

        if (id != null) {
          // return a single item
          item = this._data.get(id);

          if (item && filter$1 && !filter$1(item)) {
            item = undefined;
          }
        } else if (ids != null) {
          // return a subset of items
          for (var i = 0, len = ids.length; i < len; i++) {
            item = this._data.get(ids[i]);

            if (item != null && (!filter$1 || filter$1(item))) {
              items.push(item);
            }
          }
        } else {
          var _context2;

          // return all items
          itemIds = _toConsumableArray(keys(_context2 = this._data).call(_context2));

          for (var _i = 0, _len = itemIds.length; _i < _len; _i++) {
            itemId = itemIds[_i];
            item = this._data.get(itemId);

            if (item != null && (!filter$1 || filter$1(item))) {
              items.push(item);
            }
          }
        } // order the results


        if (options && options.order && id == undefined) {
          this._sort(items, options.order);
        } // filter fields of the items


        if (options && options.fields) {
          var fields = options.fields;

          if (id != undefined && item != null) {
            item = this._filterFields(item, fields);
          } else {
            for (var _i2 = 0, _len2 = items.length; _i2 < _len2; _i2++) {
              items[_i2] = this._filterFields(items[_i2], fields);
            }
          }
        } // return the results


        if (returnType == "Object") {
          var result = {};

          for (var _i3 = 0, _len3 = items.length; _i3 < _len3; _i3++) {
            var resultant = items[_i3]; // @TODO: Shoudn't this be this._fieldId?
            // result[resultant.id] = resultant

            var _id2 = resultant[this._idProp];
            result[_id2] = resultant;
          }

          return result;
        } else {
          if (id != null) {
            var _item;

            // a single item
            return (_item = item) !== null && _item !== void 0 ? _item : null;
          } else {
            // just return our array
            return items;
          }
        }
      }
      /** @inheritDoc */

    }, {
      key: "getIds",
      value: function getIds(options) {
        var data = this._data;

        var filter$1 = options && filter(options);

        var order = options && options.order;

        var itemIds = _toConsumableArray(keys(data).call(data));

        var ids = [];

        if (filter$1) {
          // get filtered items
          if (order) {
            // create ordered list
            var items = [];

            for (var i = 0, len = itemIds.length; i < len; i++) {
              var id = itemIds[i];

              var item = this._data.get(id);

              if (item != null && filter$1(item)) {
                items.push(item);
              }
            }

            this._sort(items, order);

            for (var _i4 = 0, _len4 = items.length; _i4 < _len4; _i4++) {
              ids.push(items[_i4][this._idProp]);
            }
          } else {
            // create unordered list
            for (var _i5 = 0, _len5 = itemIds.length; _i5 < _len5; _i5++) {
              var _id3 = itemIds[_i5];

              var _item2 = this._data.get(_id3);

              if (_item2 != null && filter$1(_item2)) {
                ids.push(_item2[this._idProp]);
              }
            }
          }
        } else {
          // get all items
          if (order) {
            // create an ordered list
            var _items = [];

            for (var _i6 = 0, _len6 = itemIds.length; _i6 < _len6; _i6++) {
              var _id4 = itemIds[_i6];

              _items.push(data.get(_id4));
            }

            this._sort(_items, order);

            for (var _i7 = 0, _len7 = _items.length; _i7 < _len7; _i7++) {
              ids.push(_items[_i7][this._idProp]);
            }
          } else {
            // create unordered list
            for (var _i8 = 0, _len8 = itemIds.length; _i8 < _len8; _i8++) {
              var _id5 = itemIds[_i8];

              var _item3 = data.get(_id5);

              if (_item3 != null) {
                ids.push(_item3[this._idProp]);
              }
            }
          }
        }

        return ids;
      }
      /** @inheritDoc */

    }, {
      key: "getDataSet",
      value: function getDataSet() {
        return this;
      }
      /** @inheritDoc */

    }, {
      key: "forEach",
      value: function forEach(callback, options) {
        var filter$1 = options && filter(options);

        var data = this._data;

        var itemIds = _toConsumableArray(keys(data).call(data));

        if (options && options.order) {
          // execute forEach on ordered list
          var items = this.get(options);

          for (var i = 0, len = items.length; i < len; i++) {
            var item = items[i];
            var id = item[this._idProp];
            callback(item, id);
          }
        } else {
          // unordered
          for (var _i9 = 0, _len9 = itemIds.length; _i9 < _len9; _i9++) {
            var _id6 = itemIds[_i9];

            var _item4 = this._data.get(_id6);

            if (_item4 != null && (!filter$1 || filter$1(_item4))) {
              callback(_item4, _id6);
            }
          }
        }
      }
      /** @inheritDoc */

    }, {
      key: "map",
      value: function map(callback, options) {
        var filter$1 = options && filter(options);

        var mappedItems = [];
        var data = this._data;

        var itemIds = _toConsumableArray(keys(data).call(data)); // convert and filter items


        for (var i = 0, len = itemIds.length; i < len; i++) {
          var id = itemIds[i];

          var item = this._data.get(id);

          if (item != null && (!filter$1 || filter$1(item))) {
            mappedItems.push(callback(item, id));
          }
        } // order items


        if (options && options.order) {
          this._sort(mappedItems, options.order);
        }

        return mappedItems;
      }
      /**
       * Filter the fields of an item.
       *
       * @param item - The item whose fields should be filtered.
       * @param fields - The names of the fields that will be kept.
       * @typeParam K - Field name type.
       * @returns The item without any additional fields.
       */

    }, {
      key: "_filterFields",
      value: function _filterFields(item, fields) {
        var _context3;

        if (!item) {
          // item is null
          return item;
        }

        return reduce(_context3 = isArray$1(fields) ? // Use the supplied array
        fields : // Use the keys of the supplied object
        keys$4(fields)).call(_context3, function (filteredItem, field) {
          filteredItem[field] = item[field];
          return filteredItem;
        }, {});
      }
      /**
       * Sort the provided array with items.
       *
       * @param items - Items to be sorted in place.
       * @param order - A field name or custom sort function.
       * @typeParam T - The type of the items in the items array.
       */

    }, {
      key: "_sort",
      value: function _sort(items, order) {
        if (typeof order === "string") {
          // order by provided field name
          var name = order; // field name

          sort(items).call(items, function (a, b) {
            // @TODO: How to treat missing properties?
            var av = a[name];
            var bv = b[name];
            return av > bv ? 1 : av < bv ? -1 : 0;
          });
        } else if (typeof order === "function") {
          // order by sort function
          sort(items).call(items, order);
        } else {
          // TODO: extend order by an Object {field:string, direction:string}
          //       where direction can be 'asc' or 'desc'
          throw new TypeError("Order must be a function or a string");
        }
      }
      /**
       * Remove an item or multiple items by “reference” (only the id is used) or by id.
       *
       * The method ignores removal of non-existing items, and returns an array containing the ids of the items which are actually removed from the DataSet.
       *
       * After the items are removed, the DataSet will trigger an event `remove` for the removed items. When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * ## Example
       * ```javascript
       * // create a DataSet
       * const data = new vis.DataSet([
       *   { id: 1, text: 'item 1' },
       *   { id: 2, text: 'item 2' },
       *   { id: 3, text: 'item 3' }
       * ])
       *
       * // remove items
       * const ids = data.remove([2, { id: 3 }, 4])
       *
       * console.log(ids) // [2, 3]
       * ```
       *
       * @param id - One or more items or ids of items to be removed.
       * @param senderId - Sender id.
       * @returns The ids of the removed items.
       */

    }, {
      key: "remove",
      value: function remove(id, senderId) {
        var removedIds = [];
        var removedItems = []; // force everything to be an array for simplicity

        var ids = isArray$1(id) ? id : [id];

        for (var i = 0, len = ids.length; i < len; i++) {
          var item = this._remove(ids[i]);

          if (item) {
            var itemId = item[this._idProp];

            if (itemId != null) {
              removedIds.push(itemId);
              removedItems.push(item);
            }
          }
        }

        if (removedIds.length) {
          this._trigger("remove", {
            items: removedIds,
            oldData: removedItems
          }, senderId);
        }

        return removedIds;
      }
      /**
       * Remove an item by its id or reference.
       *
       * @param id - Id of an item or the item itself.
       * @returns The removed item if removed, null otherwise.
       */

    }, {
      key: "_remove",
      value: function _remove(id) {
        // @TODO: It origianlly returned the item although the docs say id.
        // The code expects the item, so probably an error in the docs.
        var ident; // confirm the id to use based on the args type

        if (isId(id)) {
          ident = id;
        } else if (id && _typeof(id) === "object") {
          ident = id[this._idProp]; // look for the identifier field using ._idProp
        } // do the removing if the item is found


        if (ident != null && this._data.has(ident)) {
          var item = this._data.get(ident) || null;

          this._data.delete(ident);

          --this.length;
          return item;
        }

        return null;
      }
      /**
       * Clear the entire data set.
       *
       * After the items are removed, the [[DataSet]] will trigger an event `remove` for all removed items. When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * @param senderId - Sender id.
       * @returns removedIds - The ids of all removed items.
       */

    }, {
      key: "clear",
      value: function clear(senderId) {
        var _context4;

        var ids = _toConsumableArray(keys(_context4 = this._data).call(_context4));

        var items = [];

        for (var i = 0, len = ids.length; i < len; i++) {
          items.push(this._data.get(ids[i]));
        }

        this._data.clear();

        this.length = 0;

        this._trigger("remove", {
          items: ids,
          oldData: items
        }, senderId);

        return ids;
      }
      /**
       * Find the item with maximum value of a specified field.
       *
       * @param field - Name of the property that should be searched for max value.
       * @returns Item containing max value, or null if no items.
       */

    }, {
      key: "max",
      value: function max(field) {
        var _context5;

        var max = null;
        var maxField = null;

        var _iterator = _createForOfIteratorHelper$1(values(_context5 = this._data).call(_context5)),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var item = _step.value;
            var itemField = item[field];

            if (typeof itemField === "number" && (maxField == null || itemField > maxField)) {
              max = item;
              maxField = itemField;
            }
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }

        return max || null;
      }
      /**
       * Find the item with minimum value of a specified field.
       *
       * @param field - Name of the property that should be searched for min value.
       * @returns Item containing min value, or null if no items.
       */

    }, {
      key: "min",
      value: function min(field) {
        var _context6;

        var min = null;
        var minField = null;

        var _iterator2 = _createForOfIteratorHelper$1(values(_context6 = this._data).call(_context6)),
            _step2;

        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var item = _step2.value;
            var itemField = item[field];

            if (typeof itemField === "number" && (minField == null || itemField < minField)) {
              min = item;
              minField = itemField;
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }

        return min || null;
      }
      /**
       * Find all distinct values of a specified field
       *
       * @param prop - The property name whose distinct values should be returned.
       * @returns Unordered array containing all distinct values. Items without specified property are ignored.
       */

    }, {
      key: "distinct",
      value: function distinct(prop) {
        var data = this._data;

        var itemIds = _toConsumableArray(keys(data).call(data));

        var values = [];
        var count = 0;

        for (var i = 0, len = itemIds.length; i < len; i++) {
          var id = itemIds[i];
          var item = data.get(id);
          var value = item[prop];
          var exists = false;

          for (var j = 0; j < count; j++) {
            if (values[j] == value) {
              exists = true;
              break;
            }
          }

          if (!exists && value !== undefined) {
            values[count] = value;
            count++;
          }
        }

        return values;
      }
      /**
       * Add a single item. Will fail when an item with the same id already exists.
       *
       * @param item - A new item to be added.
       * @returns Added item's id. An id is generated when it is not present in the item.
       */

    }, {
      key: "_addItem",
      value: function _addItem(item) {
        var fullItem = ensureFullItem(item, this._idProp);
        var id = fullItem[this._idProp]; // check whether this id is already taken

        if (this._data.has(id)) {
          // item already exists
          throw new Error("Cannot add item: item with id " + id + " already exists");
        }

        this._data.set(id, fullItem);

        ++this.length;
        return id;
      }
      /**
       * Update a single item: merge with existing item.
       * Will fail when the item has no id, or when there does not exist an item with the same id.
       *
       * @param update - The new item
       * @returns The id of the updated item.
       */

    }, {
      key: "_updateItem",
      value: function _updateItem(update) {
        var id = update[this._idProp];

        if (id == null) {
          throw new Error("Cannot update item: item has no id (item: " + stringify$1(update) + ")");
        }

        var item = this._data.get(id);

        if (!item) {
          // item doesn't exist
          throw new Error("Cannot update item: no item with id " + id + " found");
        }

        this._data.set(id, _objectSpread(_objectSpread({}, item), update));

        return id;
      }
      /** @inheritDoc */

    }, {
      key: "stream",
      value: function stream(ids) {
        if (ids) {
          var data = this._data;
          return new DataStream(_defineProperty({}, iterator, /*#__PURE__*/regenerator.mark(function _callee() {
            var _iterator3, _step3, id, item;

            return regenerator.wrap(function _callee$(_context7) {
              while (1) {
                switch (_context7.prev = _context7.next) {
                  case 0:
                    _iterator3 = _createForOfIteratorHelper$1(ids);
                    _context7.prev = 1;

                    _iterator3.s();

                  case 3:
                    if ((_step3 = _iterator3.n()).done) {
                      _context7.next = 11;
                      break;
                    }

                    id = _step3.value;
                    item = data.get(id);

                    if (!(item != null)) {
                      _context7.next = 9;
                      break;
                    }

                    _context7.next = 9;
                    return [id, item];

                  case 9:
                    _context7.next = 3;
                    break;

                  case 11:
                    _context7.next = 16;
                    break;

                  case 13:
                    _context7.prev = 13;
                    _context7.t0 = _context7["catch"](1);

                    _iterator3.e(_context7.t0);

                  case 16:
                    _context7.prev = 16;

                    _iterator3.f();

                    return _context7.finish(16);

                  case 19:
                  case "end":
                    return _context7.stop();
                }
              }
            }, _callee, null, [[1, 13, 16, 19]]);
          })));
        } else {
          var _context8;

          return new DataStream(_defineProperty({}, iterator, bind$6(_context8 = entries(this._data)).call(_context8, this._data)));
        }
      }
    }]);

    return DataSet;
  }(DataSetPart);

  function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof symbol !== "undefined" && getIteratorMethod$1(o) || o["@@iterator"]; if (!it) { if (isArray$1(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { var _context5; if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = slice(_context5 = Object.prototype.toString.call(o)).call(_context5, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return from$3(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

  function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !construct) return false; if (construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
  /**
   * DataView
   *
   * A DataView offers a filtered and/or formatted view on a DataSet. One can subscribe to changes in a DataView, and easily get filtered or formatted data without having to specify filters and field types all the time.
   *
   * ## Example
   * ```javascript
   * // create a DataSet
   * var data = new vis.DataSet();
   * data.add([
   *   {id: 1, text: 'item 1', date: new Date(2013, 6, 20), group: 1, first: true},
   *   {id: 2, text: 'item 2', date: '2013-06-23', group: 2},
   *   {id: 3, text: 'item 3', date: '2013-06-25', group: 2},
   *   {id: 4, text: 'item 4'}
   * ]);
   *
   * // create a DataView
   * // the view will only contain items having a property group with value 1,
   * // and will only output fields id, text, and date.
   * var view = new vis.DataView(data, {
   *   filter: function (item) {
   *     return (item.group == 1);
   *   },
   *   fields: ['id', 'text', 'date']
   * });
   *
   * // subscribe to any change in the DataView
   * view.on('*', function (event, properties, senderId) {
   *   console.log('event', event, properties);
   * });
   *
   * // update an item in the data set
   * data.update({id: 2, group: 1});
   *
   * // get all ids in the view
   * var ids = view.getIds();
   * console.log('ids', ids); // will output [1, 2]
   *
   * // get all items in the view
   * var items = view.get();
   * ```
   *
   * @typeParam Item - Item type that may or may not have an id.
   * @typeParam IdProp - Name of the property that contains the id.
   */

  var DataView = /*#__PURE__*/function (_DataSetPart) {
    _inherits(DataView, _DataSetPart);

    var _super = _createSuper(DataView);

    /**
     * Create a DataView.
     *
     * @param data - The instance containing data (directly or indirectly).
     * @param options - Options to configure this data view.
     */
    function DataView(data, options) {
      var _context;

      var _this;

      _classCallCheck(this, DataView);

      _this = _super.call(this);

      _defineProperty(_assertThisInitialized(_this), "length", 0);

      _defineProperty(_assertThisInitialized(_this), "_listener", void 0);

      _defineProperty(_assertThisInitialized(_this), "_data", void 0);

      _defineProperty(_assertThisInitialized(_this), "_ids", new set());

      _defineProperty(_assertThisInitialized(_this), "_options", void 0);

      _this._options = options || {};
      _this._listener = bind$6(_context = _this._onEvent).call(_context, _assertThisInitialized(_this));

      _this.setData(data);

      return _this;
    } // TODO: implement a function .config() to dynamically update things like configured filter
    // and trigger changes accordingly

    /**
     * Set a data source for the view.
     *
     * @param data - The instance containing data (directly or indirectly).
     * @remarks
     * Note that when the data view is bound to a data set it won't be garbage
     * collected unless the data set is too. Use `dataView.setData(null)` or
     * `dataView.dispose()` to enable garbage collection before you lose the last
     * reference.
     */


    _createClass(DataView, [{
      key: "idProp",
      get:
      /** @inheritDoc */

      /** @inheritDoc */
      function get() {
        return this.getDataSet().idProp;
      }
    }, {
      key: "setData",
      value: function setData(data) {
        if (this._data) {
          // unsubscribe from current dataset
          if (this._data.off) {
            this._data.off("*", this._listener);
          } // trigger a remove of all items in memory


          var ids = this._data.getIds({
            filter: filter(this._options)
          });

          var items = this._data.get(ids);

          this._ids.clear();

          this.length = 0;

          this._trigger("remove", {
            items: ids,
            oldData: items
          });
        }

        if (data != null) {
          this._data = data; // trigger an add of all added items

          var _ids = this._data.getIds({
            filter: filter(this._options)
          });

          for (var i = 0, len = _ids.length; i < len; i++) {
            var id = _ids[i];

            this._ids.add(id);
          }

          this.length = _ids.length;

          this._trigger("add", {
            items: _ids
          });
        } else {
          this._data = new DataSet();
        } // subscribe to new dataset


        if (this._data.on) {
          this._data.on("*", this._listener);
        }
      }
      /**
       * Refresh the DataView.
       * Useful when the DataView has a filter function containing a variable parameter.
       */

    }, {
      key: "refresh",
      value: function refresh() {
        var ids = this._data.getIds({
          filter: filter(this._options)
        });

        var oldIds = _toConsumableArray(this._ids);

        var newIds = {};
        var addedIds = [];
        var removedIds = [];
        var removedItems = []; // check for additions

        for (var i = 0, len = ids.length; i < len; i++) {
          var id = ids[i];
          newIds[id] = true;

          if (!this._ids.has(id)) {
            addedIds.push(id);

            this._ids.add(id);
          }
        } // check for removals


        for (var _i = 0, _len = oldIds.length; _i < _len; _i++) {
          var _id = oldIds[_i];

          var item = this._data.get(_id);

          if (item == null) {
            // @TODO: Investigate.
            // Doesn't happen during tests or examples.
            // Is it really impossible or could it eventually happen?
            // How to handle it if it does? The types guarantee non-nullable items.
            console.error("If you see this, report it please.");
          } else if (!newIds[_id]) {
            removedIds.push(_id);
            removedItems.push(item);

            this._ids.delete(_id);
          }
        }

        this.length += addedIds.length - removedIds.length; // trigger events

        if (addedIds.length) {
          this._trigger("add", {
            items: addedIds
          });
        }

        if (removedIds.length) {
          this._trigger("remove", {
            items: removedIds,
            oldData: removedItems
          });
        }
      }
      /** @inheritDoc */

    }, {
      key: "get",
      value: function get(first, second) {
        if (this._data == null) {
          return null;
        } // parse the arguments


        var ids = null;
        var options;

        if (isId(first) || isArray$1(first)) {
          ids = first;
          options = second;
        } else {
          options = first;
        } // extend the options with the default options and provided options


        var viewOptions = assign$2({}, this._options, options); // create a combined filter method when needed


        var thisFilter = filter(this._options);

        var optionsFilter = options && filter(options);

        if (thisFilter && optionsFilter) {
          viewOptions.filter = function (item) {
            return thisFilter(item) && optionsFilter(item);
          };
        }

        if (ids == null) {
          return this._data.get(viewOptions);
        } else {
          return this._data.get(ids, viewOptions);
        }
      }
      /** @inheritDoc */

    }, {
      key: "getIds",
      value: function getIds(options) {
        if (this._data.length) {
          var defaultFilter = filter(this._options);

          var optionsFilter = options != null ? filter(options) : null;
          var filter$1;

          if (optionsFilter) {
            if (defaultFilter) {
              filter$1 = function filter(item) {
                return defaultFilter(item) && optionsFilter(item);
              };
            } else {
              filter$1 = optionsFilter;
            }
          } else {
            filter$1 = defaultFilter;
          }

          return this._data.getIds({
            filter: filter$1,
            order: options && options.order
          });
        } else {
          return [];
        }
      }
      /** @inheritDoc */

    }, {
      key: "forEach",
      value: function forEach(callback, options) {
        if (this._data) {
          var _context2;

          var defaultFilter = filter(this._options);

          var optionsFilter = options && filter(options);

          var filter$1;

          if (optionsFilter) {
            if (defaultFilter) {
              filter$1 = function filter(item) {
                return defaultFilter(item) && optionsFilter(item);
              };
            } else {
              filter$1 = optionsFilter;
            }
          } else {
            filter$1 = defaultFilter;
          }

          forEach$1(_context2 = this._data).call(_context2, callback, {
            filter: filter$1,
            order: options && options.order
          });
        }
      }
      /** @inheritDoc */

    }, {
      key: "map",
      value: function map(callback, options) {
        if (this._data) {
          var _context3;

          var defaultFilter = filter(this._options);

          var optionsFilter = options && filter(options);

          var filter$1;

          if (optionsFilter) {
            if (defaultFilter) {
              filter$1 = function filter(item) {
                return defaultFilter(item) && optionsFilter(item);
              };
            } else {
              filter$1 = optionsFilter;
            }
          } else {
            filter$1 = defaultFilter;
          }

          return map$3(_context3 = this._data).call(_context3, callback, {
            filter: filter$1,
            order: options && options.order
          });
        } else {
          return [];
        }
      }
      /** @inheritDoc */

    }, {
      key: "getDataSet",
      value: function getDataSet() {
        return this._data.getDataSet();
      }
      /** @inheritDoc */

    }, {
      key: "stream",
      value: function stream(ids) {
        var _context4;

        return this._data.stream(ids || _defineProperty({}, iterator, bind$6(_context4 = keys(this._ids)).call(_context4, this._ids)));
      }
      /**
       * Render the instance unusable prior to garbage collection.
       *
       * @remarks
       * The intention of this method is to help discover scenarios where the data
       * view is being used when the programmer thinks it has been garbage collected
       * already. It's stricter version of `dataView.setData(null)`.
       */

    }, {
      key: "dispose",
      value: function dispose() {
        var _this$_data;

        if ((_this$_data = this._data) !== null && _this$_data !== void 0 && _this$_data.off) {
          this._data.off("*", this._listener);
        }

        var message = "This data view has already been disposed of.";
        var replacement = {
          get: function get() {
            throw new Error(message);
          },
          set: function set() {
            throw new Error(message);
          },
          configurable: false
        };

        var _iterator = _createForOfIteratorHelper(ownKeys$1(DataView.prototype)),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var key = _step.value;

            defineProperty$4(this, key, replacement);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
      /**
       * Event listener. Will propagate all events from the connected data set to the subscribers of the DataView, but will filter the items and only trigger when there are changes in the filtered data set.
       *
       * @param event - The name of the event.
       * @param params - Parameters of the event.
       * @param senderId - Id supplied by the sender.
       */

    }, {
      key: "_onEvent",
      value: function _onEvent(event, params, senderId) {
        if (!params || !params.items || !this._data) {
          return;
        }

        var ids = params.items;
        var addedIds = [];
        var updatedIds = [];
        var removedIds = [];
        var oldItems = [];
        var updatedItems = [];
        var removedItems = [];

        switch (event) {
          case "add":
            // filter the ids of the added items
            for (var i = 0, len = ids.length; i < len; i++) {
              var id = ids[i];
              var item = this.get(id);

              if (item) {
                this._ids.add(id);

                addedIds.push(id);
              }
            }

            break;

          case "update":
            // determine the event from the views viewpoint: an updated
            // item can be added, updated, or removed from this view.
            for (var _i2 = 0, _len2 = ids.length; _i2 < _len2; _i2++) {
              var _id2 = ids[_i2];

              var _item = this.get(_id2);

              if (_item) {
                if (this._ids.has(_id2)) {
                  updatedIds.push(_id2);
                  updatedItems.push(params.data[_i2]);
                  oldItems.push(params.oldData[_i2]);
                } else {
                  this._ids.add(_id2);

                  addedIds.push(_id2);
                }
              } else {
                if (this._ids.has(_id2)) {
                  this._ids.delete(_id2);

                  removedIds.push(_id2);
                  removedItems.push(params.oldData[_i2]);
                }
              }
            }

            break;

          case "remove":
            // filter the ids of the removed items
            for (var _i3 = 0, _len3 = ids.length; _i3 < _len3; _i3++) {
              var _id3 = ids[_i3];

              if (this._ids.has(_id3)) {
                this._ids.delete(_id3);

                removedIds.push(_id3);
                removedItems.push(params.oldData[_i3]);
              }
            }

            break;
        }

        this.length += addedIds.length - removedIds.length;

        if (addedIds.length) {
          this._trigger("add", {
            items: addedIds
          }, senderId);
        }

        if (updatedIds.length) {
          this._trigger("update", {
            items: updatedIds,
            oldData: oldItems,
            data: updatedItems
          }, senderId);
        }

        if (removedIds.length) {
          this._trigger("remove", {
            items: removedIds,
            oldData: removedItems
          }, senderId);
        }
      }
    }]);

    return DataView;
  }(DataSetPart);

  /**
   * Check that given value is compatible with Vis Data Set interface.
   *
   * @param idProp - The expected property to contain item id.
   * @param v - The value to be tested.
   * @returns True if all expected values and methods match, false otherwise.
   */
  function isDataSetLike(idProp, v) {
    return _typeof(v) === "object" && v !== null && idProp === v.idProp && typeof v.add === "function" && typeof v.clear === "function" && typeof v.distinct === "function" && typeof forEach$1(v) === "function" && typeof v.get === "function" && typeof v.getDataSet === "function" && typeof v.getIds === "function" && typeof v.length === "number" && typeof map$3(v) === "function" && typeof v.max === "function" && typeof v.min === "function" && typeof v.off === "function" && typeof v.on === "function" && typeof v.remove === "function" && typeof v.setOptions === "function" && typeof v.stream === "function" && typeof v.update === "function" && typeof v.updateOnly === "function";
  }

  /**
   * Check that given value is compatible with Vis Data View interface.
   *
   * @param idProp - The expected property to contain item id.
   * @param v - The value to be tested.
   * @returns True if all expected values and methods match, false otherwise.
   */

  function isDataViewLike(idProp, v) {
    return _typeof(v) === "object" && v !== null && idProp === v.idProp && typeof forEach$1(v) === "function" && typeof v.get === "function" && typeof v.getDataSet === "function" && typeof v.getIds === "function" && typeof v.length === "number" && typeof map$3(v) === "function" && typeof v.off === "function" && typeof v.on === "function" && typeof v.stream === "function" && isDataSetLike(idProp, v.getDataSet());
  }

  exports.DELETE = DELETE;
  exports.DataSet = DataSet;
  exports.DataStream = DataStream;
  exports.DataView = DataView;
  exports.Queue = Queue;
  exports.createNewDataPipeFrom = createNewDataPipeFrom;
  exports.isDataSetLike = isDataSetLike;
  exports.isDataViewLike = isDataViewLike;

  Object.defineProperty(exports, '__esModule', { value: true });

}));
//# sourceMappingURL=vis-data.js.map


/***/ }),

/***/ "./node_modules/vis-network/peer/umd/vis-network.min.js":
/*!**************************************************************!*\
  !*** ./node_modules/vis-network/peer/umd/vis-network.min.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.2
 * @date    2022-03-28T20:13:51.046Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
!function(t,e){ true?e(exports,__webpack_require__(/*! vis-data/peer/umd/vis-data.js */ "./node_modules/vis-data/peer/umd/vis-data.js")):0}(this,(function(t,e){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},o=function(t){return t&&t.Math==Math&&t},n=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i&&i)||function(){return this}()||Function("return this")(),r=function(t){try{return!!t()}catch(t){return!0}},s=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),a=s,h=Function.prototype,d=h.apply,l=h.call,c="object"==typeof Reflect&&Reflect.apply||(a?l.bind(d):function(){return l.apply(d,arguments)}),u=s,f=Function.prototype,p=f.bind,v=f.call,g=u&&p.bind(v,v),y=u?function(t){return t&&g(t)}:function(t){return t&&function(){return v.apply(t,arguments)}},m=function(t){return"function"==typeof t},b={},w=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),k=s,_=Function.prototype.call,x=k?_.bind(_):function(){return _.apply(_,arguments)},E={},O={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,S=C&&!O.call({1:2},1);E.f=S?function(t){var e=C(this,t);return!!e&&e.enumerable}:O;var T,M,P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},D=y,B=D({}.toString),I=D("".slice),z=function(t){return I(B(t),8,-1)},F=y,N=r,A=z,R=n.Object,j=F("".split),L=N((function(){return!R("z").propertyIsEnumerable(0)}))?function(t){return"String"==A(t)?j(t,""):R(t)}:R,H=n.TypeError,W=function(t){if(null==t)throw H("Can't call method on "+t);return t},V=L,q=W,U=function(t){return V(q(t))},Y=m,X=function(t){return"object"==typeof t?null!==t:Y(t)},G={},K=G,$=n,Z=m,Q=function(t){return Z(t)?t:void 0},J=function(t,e){return arguments.length<2?Q(K[t])||Q($[t]):K[t]&&K[t][e]||$[t]&&$[t][e]},tt=y({}.isPrototypeOf),et=J("navigator","userAgent")||"",it=n,ot=et,nt=it.process,rt=it.Deno,st=nt&&nt.versions||rt&&rt.version,at=st&&st.v8;at&&(M=(T=at.split("."))[0]>0&&T[0]<4?1:+(T[0]+T[1])),!M&&ot&&(!(T=ot.match(/Edge\/(\d+)/))||T[1]>=74)&&(T=ot.match(/Chrome\/(\d+)/))&&(M=+T[1]);var ht=M,dt=ht,lt=r,ct=!!Object.getOwnPropertySymbols&&!lt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&dt&&dt<41})),ut=ct&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ft=J,pt=m,vt=tt,gt=ut,yt=n.Object,mt=gt?function(t){return"symbol"==typeof t}:function(t){var e=ft("Symbol");return pt(e)&&vt(e.prototype,yt(t))},bt=n.String,wt=function(t){try{return bt(t)}catch(t){return"Object"}},kt=m,_t=wt,xt=n.TypeError,Et=function(t){if(kt(t))return t;throw xt(_t(t)+" is not a function")},Ot=Et,Ct=function(t,e){var i=t[e];return null==i?void 0:Ot(i)},St=x,Tt=m,Mt=X,Pt=n.TypeError,Dt={exports:{}},Bt=n,It=Object.defineProperty,zt=function(t,e){try{It(Bt,t,{value:e,configurable:!0,writable:!0})}catch(i){Bt[t]=e}return e},Ft="__core-js_shared__",Nt=n[Ft]||zt(Ft,{}),At=Nt;(Dt.exports=function(t,e){return At[t]||(At[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Rt=W,jt=n.Object,Lt=function(t){return jt(Rt(t))},Ht=Lt,Wt=y({}.hasOwnProperty),Vt=Object.hasOwn||function(t,e){return Wt(Ht(t),e)},qt=y,Ut=0,Yt=Math.random(),Xt=qt(1..toString),Gt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Xt(++Ut+Yt,36)},Kt=n,$t=Dt.exports,Zt=Vt,Qt=Gt,Jt=ct,te=ut,ee=$t("wks"),ie=Kt.Symbol,oe=ie&&ie.for,ne=te?ie:ie&&ie.withoutSetter||Qt,re=function(t){if(!Zt(ee,t)||!Jt&&"string"!=typeof ee[t]){var e="Symbol."+t;Jt&&Zt(ie,t)?ee[t]=ie[t]:ee[t]=te&&oe?oe(e):ne(e)}return ee[t]},se=x,ae=X,he=mt,de=Ct,le=function(t,e){var i,o;if("string"===e&&Tt(i=t.toString)&&!Mt(o=St(i,t)))return o;if(Tt(i=t.valueOf)&&!Mt(o=St(i,t)))return o;if("string"!==e&&Tt(i=t.toString)&&!Mt(o=St(i,t)))return o;throw Pt("Can't convert object to primitive value")},ce=re,ue=n.TypeError,fe=ce("toPrimitive"),pe=function(t,e){if(!ae(t)||he(t))return t;var i,o=de(t,fe);if(o){if(void 0===e&&(e="default"),i=se(o,t,e),!ae(i)||he(i))return i;throw ue("Can't convert object to primitive value")}return void 0===e&&(e="number"),le(t,e)},ve=mt,ge=function(t){var e=pe(t,"string");return ve(e)?e:e+""},ye=X,me=n.document,be=ye(me)&&ye(me.createElement),we=function(t){return be?me.createElement(t):{}},ke=we,_e=!w&&!r((function(){return 7!=Object.defineProperty(ke("div"),"a",{get:function(){return 7}}).a})),xe=w,Ee=x,Oe=E,Ce=P,Se=U,Te=ge,Me=Vt,Pe=_e,De=Object.getOwnPropertyDescriptor;b.f=xe?De:function(t,e){if(t=Se(t),e=Te(e),Pe)try{return De(t,e)}catch(t){}if(Me(t,e))return Ce(!Ee(Oe.f,t,e),t[e])};var Be=r,Ie=m,ze=/#|\.prototype\./,Fe=function(t,e){var i=Ae[Ne(t)];return i==je||i!=Re&&(Ie(e)?Be(e):!!e)},Ne=Fe.normalize=function(t){return String(t).replace(ze,".").toLowerCase()},Ae=Fe.data={},Re=Fe.NATIVE="N",je=Fe.POLYFILL="P",Le=Fe,He=Et,We=s,Ve=y(y.bind),qe=function(t,e){return He(t),void 0===e?t:We?Ve(t,e):function(){return t.apply(e,arguments)}},Ue={},Ye=w&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Xe=n,Ge=X,Ke=Xe.String,$e=Xe.TypeError,Ze=function(t){if(Ge(t))return t;throw $e(Ke(t)+" is not an object")},Qe=w,Je=_e,ti=Ye,ei=Ze,ii=ge,oi=n.TypeError,ni=Object.defineProperty,ri=Object.getOwnPropertyDescriptor,si="enumerable",ai="configurable",hi="writable";Ue.f=Qe?ti?function(t,e,i){if(ei(t),e=ii(e),ei(i),"function"==typeof t&&"prototype"===e&&"value"in i&&hi in i&&!i.writable){var o=ri(t,e);o&&o.writable&&(t[e]=i.value,i={configurable:ai in i?i.configurable:o.configurable,enumerable:si in i?i.enumerable:o.enumerable,writable:!1})}return ni(t,e,i)}:ni:function(t,e,i){if(ei(t),e=ii(e),ei(i),Je)try{return ni(t,e,i)}catch(t){}if("get"in i||"set"in i)throw oi("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var di=Ue,li=P,ci=w?function(t,e,i){return di.f(t,e,li(1,i))}:function(t,e,i){return t[e]=i,t},ui=n,fi=c,pi=y,vi=m,gi=b.f,yi=Le,mi=G,bi=qe,wi=ci,ki=Vt,_i=function(t){var e=function(i,o,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,o)}return new t(i,o,n)}return fi(t,this,arguments)};return e.prototype=t.prototype,e},xi=function(t,e){var i,o,n,r,s,a,h,d,l=t.target,c=t.global,u=t.stat,f=t.proto,p=c?ui:u?ui[l]:(ui[l]||{}).prototype,v=c?mi:mi[l]||wi(mi,l,{})[l],g=v.prototype;for(n in e)i=!yi(c?n:l+(u?".":"#")+n,t.forced)&&p&&ki(p,n),s=v[n],i&&(a=t.noTargetGet?(d=gi(p,n))&&d.value:p[n]),r=i&&a?a:e[n],i&&typeof s==typeof r||(h=t.bind&&i?bi(r,ui):t.wrap&&i?_i(r):f&&vi(r)?pi(r):r,(t.sham||r&&r.sham||s&&s.sham)&&wi(h,"sham",!0),wi(v,n,h),f&&(ki(mi,o=l+"Prototype")||wi(mi,o,{}),wi(mi[o],n,r),t.real&&g&&!g[n]&&wi(g,n,r)))},Ei=Math.ceil,Oi=Math.floor,Ci=function(t){var e=+t;return e!=e||0===e?0:(e>0?Oi:Ei)(e)},Si=Ci,Ti=Math.max,Mi=Math.min,Pi=function(t,e){var i=Si(t);return i<0?Ti(i+e,0):Mi(i,e)},Di=Ci,Bi=Math.min,Ii=function(t){return t>0?Bi(Di(t),9007199254740991):0},zi=function(t){return Ii(t.length)},Fi=U,Ni=Pi,Ai=zi,Ri=function(t){return function(e,i,o){var n,r=Fi(e),s=Ai(r),a=Ni(o,s);if(t&&i!=i){for(;s>a;)if((n=r[a++])!=n)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===i)return t||a||0;return!t&&-1}},ji={includes:Ri(!0),indexOf:Ri(!1)},Li={},Hi=Vt,Wi=U,Vi=ji.indexOf,qi=Li,Ui=y([].push),Yi=function(t,e){var i,o=Wi(t),n=0,r=[];for(i in o)!Hi(qi,i)&&Hi(o,i)&&Ui(r,i);for(;e.length>n;)Hi(o,i=e[n++])&&(~Vi(r,i)||Ui(r,i));return r},Xi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Gi=Yi,Ki=Xi,$i=Object.keys||function(t){return Gi(t,Ki)},Zi={};Zi.f=Object.getOwnPropertySymbols;var Qi=w,Ji=y,to=x,eo=r,io=$i,oo=Zi,no=E,ro=Lt,so=L,ao=Object.assign,ho=Object.defineProperty,lo=Ji([].concat),co=!ao||eo((function(){if(Qi&&1!==ao({b:1},ao(ho({},"a",{enumerable:!0,get:function(){ho(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach((function(t){e[t]=t})),7!=ao({},t)[i]||io(ao({},e)).join("")!=o}))?function(t,e){for(var i=ro(t),o=arguments.length,n=1,r=oo.f,s=no.f;o>n;)for(var a,h=so(arguments[n++]),d=r?lo(io(h),r(h)):io(h),l=d.length,c=0;l>c;)a=d[c++],Qi&&!to(s,h,a)||(i[a]=h[a]);return i}:ao,uo=co;xi({target:"Object",stat:!0,forced:Object.assign!==uo},{assign:uo});var fo=G.Object.assign,po=y([].slice),vo=y,go=Et,yo=X,mo=Vt,bo=po,wo=s,ko=n.Function,_o=vo([].concat),xo=vo([].join),Eo={},Oo=function(t,e,i){if(!mo(Eo,e)){for(var o=[],n=0;n<e;n++)o[n]="a["+n+"]";Eo[e]=ko("C,a","return new C("+xo(o,",")+")")}return Eo[e](t,i)},Co=wo?ko.bind:function(t){var e=go(this),i=e.prototype,o=bo(arguments,1),n=function(){var i=_o(o,bo(arguments));return this instanceof n?Oo(e,i.length,i):e.apply(t,i)};return yo(i)&&(n.prototype=i),n},So=Co;xi({target:"Function",proto:!0,forced:Function.bind!==So},{bind:So});var To=G,Mo=function(t){return To[t+"Prototype"]},Po=Mo("Function").bind,Do=tt,Bo=Po,Io=Function.prototype,zo=function(t){var e=t.bind;return t===Io||Do(Io,t)&&e===Io.bind?Bo:e},Fo=zo;function No(t,e,i,o){t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.closePath()}function Ao(t,e,i,o,n,r){var s=Math.PI/180;o-2*r<0&&(r=o/2),n-2*r<0&&(r=n/2),t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+o-r,i),t.arc(e+o-r,i+r,r,270*s,360*s,!1),t.lineTo(e+o,i+n-r),t.arc(e+o-r,i+n-r,r,0,90*s,!1),t.lineTo(e+r,i+n),t.arc(e+r,i+n-r,r,90*s,180*s,!1),t.lineTo(e,i+r),t.arc(e+r,i+r,r,180*s,270*s,!1),t.closePath()}function Ro(t,e,i,o,n){var r=.5522848,s=o/2*r,a=n/2*r,h=e+o,d=i+n,l=e+o/2,c=i+n/2;t.beginPath(),t.moveTo(e,c),t.bezierCurveTo(e,c-a,l-s,i,l,i),t.bezierCurveTo(l+s,i,h,c-a,h,c),t.bezierCurveTo(h,c+a,l+s,d,l,d),t.bezierCurveTo(l-s,d,e,c+a,e,c),t.closePath()}function jo(t,e,i,o,n){var r=n*(1/3),s=.5522848,a=o/2*s,h=r/2*s,d=e+o,l=i+r,c=e+o/2,u=i+r/2,f=i+(n-r/2),p=i+n;t.beginPath(),t.moveTo(d,u),t.bezierCurveTo(d,u+h,c+a,l,c,l),t.bezierCurveTo(c-a,l,e,u+h,e,u),t.bezierCurveTo(e,u-h,c-a,i,c,i),t.bezierCurveTo(c+a,i,d,u-h,d,u),t.lineTo(d,f),t.bezierCurveTo(d,f+h,c+a,p,c,p),t.bezierCurveTo(c-a,p,e,f+h,e,f),t.lineTo(e,u)}function Lo(t,e,i,o,n,r){t.beginPath(),t.moveTo(e,i);for(var s=r.length,a=o-e,h=n-i,d=h/a,l=Math.sqrt(a*a+h*h),c=0,u=!0,f=0,p=+r[0];l>=.1;)(p=+r[c++%s])>l&&(p=l),f=Math.sqrt(p*p/(1+d*d)),e+=f=a<0?-f:f,i+=d*f,!0===u?t.lineTo(e,i):t.moveTo(e,i),l-=p,u=!u}var Ho={circle:No,dashedLine:Lo,database:jo,diamond:function(t,e,i,o){t.beginPath(),t.lineTo(e,i+o),t.lineTo(e+o,i),t.lineTo(e,i-o),t.lineTo(e-o,i),t.closePath()},ellipse:Ro,ellipse_vis:Ro,hexagon:function(t,e,i,o){t.beginPath();var n=2*Math.PI/6;t.moveTo(e+o,i);for(var r=1;r<6;r++)t.lineTo(e+o*Math.cos(n*r),i+o*Math.sin(n*r));t.closePath()},roundRect:Ao,square:function(t,e,i,o){t.beginPath(),t.rect(e-o,i-o,2*o,2*o),t.closePath()},star:function(t,e,i,o){t.beginPath(),i+=.1*(o*=.82);for(var n=0;n<10;n++){var r=n%2==0?1.3*o:.5*o;t.lineTo(e+r*Math.sin(2*n*Math.PI/10),i-r*Math.cos(2*n*Math.PI/10))}t.closePath()},triangle:function(t,e,i,o){t.beginPath(),i+=.275*(o*=1.15);var n=2*o,r=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-r*r);t.moveTo(e,i-(a-s)),t.lineTo(e+r,i+s),t.lineTo(e-r,i+s),t.lineTo(e,i-(a-s)),t.closePath()},triangleDown:function(t,e,i,o){t.beginPath(),i-=.275*(o*=1.15);var n=2*o,r=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-r*r);t.moveTo(e,i+(a-s)),t.lineTo(e+r,i-s),t.lineTo(e-r,i-s),t.lineTo(e,i+(a-s)),t.closePath()}};var Wo={exports:{}};!function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<o.length;n++)if((i=o[n])===e||i.fn===e){o.splice(n,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(i){o=0;for(var n=(i=i.slice(0)).length;o<n;++o)i[o].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Wo);var Vo=Wo.exports,qo={};qo[re("toStringTag")]="z";var Uo="[object z]"===String(qo),Yo=n,Xo=Uo,Go=m,Ko=z,$o=re("toStringTag"),Zo=Yo.Object,Qo="Arguments"==Ko(function(){return arguments}()),Jo=Xo?Ko:function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Zo(t),$o))?i:Qo?Ko(e):"Object"==(o=Ko(e))&&Go(e.callee)?"Arguments":o},tn=Jo,en=n.String,on=function(t){if("Symbol"===tn(t))throw TypeError("Cannot convert a Symbol value to a string");return en(t)},nn=y,rn=Ci,sn=on,an=W,hn=nn("".charAt),dn=nn("".charCodeAt),ln=nn("".slice),cn=function(t){return function(e,i){var o,n,r=sn(an(e)),s=rn(i),a=r.length;return s<0||s>=a?t?"":void 0:(o=dn(r,s))<55296||o>56319||s+1===a||(n=dn(r,s+1))<56320||n>57343?t?hn(r,s):o:t?ln(r,s,s+2):n-56320+(o-55296<<10)+65536}},un={codeAt:cn(!1),charAt:cn(!0)},fn=m,pn=Nt,vn=y(Function.toString);fn(pn.inspectSource)||(pn.inspectSource=function(t){return vn(t)});var gn,yn,mn,bn=pn.inspectSource,wn=m,kn=bn,_n=n.WeakMap,xn=wn(_n)&&/native code/.test(kn(_n)),En=Dt.exports,On=Gt,Cn=En("keys"),Sn=function(t){return Cn[t]||(Cn[t]=On(t))},Tn=xn,Mn=n,Pn=y,Dn=X,Bn=ci,In=Vt,zn=Nt,Fn=Sn,Nn=Li,An="Object already initialized",Rn=Mn.TypeError,jn=Mn.WeakMap;if(Tn||zn.state){var Ln=zn.state||(zn.state=new jn),Hn=Pn(Ln.get),Wn=Pn(Ln.has),Vn=Pn(Ln.set);gn=function(t,e){if(Wn(Ln,t))throw new Rn(An);return e.facade=t,Vn(Ln,t,e),e},yn=function(t){return Hn(Ln,t)||{}},mn=function(t){return Wn(Ln,t)}}else{var qn=Fn("state");Nn[qn]=!0,gn=function(t,e){if(In(t,qn))throw new Rn(An);return e.facade=t,Bn(t,qn,e),e},yn=function(t){return In(t,qn)?t[qn]:{}},mn=function(t){return In(t,qn)}}var Un={set:gn,get:yn,has:mn,enforce:function(t){return mn(t)?yn(t):gn(t,{})},getterFor:function(t){return function(e){var i;if(!Dn(e)||(i=yn(e)).type!==t)throw Rn("Incompatible receiver, "+t+" required");return i}}},Yn=w,Xn=Vt,Gn=Function.prototype,Kn=Yn&&Object.getOwnPropertyDescriptor,$n=Xn(Gn,"name"),Zn={EXISTS:$n,PROPER:$n&&"something"===function(){}.name,CONFIGURABLE:$n&&(!Yn||Yn&&Kn(Gn,"name").configurable)},Qn={},Jn=w,tr=Ye,er=Ue,ir=Ze,or=U,nr=$i;Qn.f=Jn&&!tr?Object.defineProperties:function(t,e){ir(t);for(var i,o=or(e),n=nr(e),r=n.length,s=0;r>s;)er.f(t,i=n[s++],o[i]);return t};var rr,sr=J("document","documentElement"),ar=Ze,hr=Qn,dr=Xi,lr=Li,cr=sr,ur=we,fr=Sn("IE_PROTO"),pr=function(){},vr=function(t){return"<script>"+t+"</"+"script>"},gr=function(t){t.write(vr("")),t.close();var e=t.parentWindow.Object;return t=null,e},yr=function(){try{rr=new ActiveXObject("htmlfile")}catch(t){}var t,e;yr="undefined"!=typeof document?document.domain&&rr?gr(rr):((e=ur("iframe")).style.display="none",cr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(vr("document.F=Object")),t.close(),t.F):gr(rr);for(var i=dr.length;i--;)delete yr.prototype[dr[i]];return yr()};lr[fr]=!0;var mr,br,wr,kr=Object.create||function(t,e){var i;return null!==t?(pr.prototype=ar(t),i=new pr,pr.prototype=null,i[fr]=t):i=yr(),void 0===e?i:hr.f(i,e)},_r=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),xr=n,Er=Vt,Or=m,Cr=Lt,Sr=_r,Tr=Sn("IE_PROTO"),Mr=xr.Object,Pr=Mr.prototype,Dr=Sr?Mr.getPrototypeOf:function(t){var e=Cr(t);if(Er(e,Tr))return e[Tr];var i=e.constructor;return Or(i)&&e instanceof i?i.prototype:e instanceof Mr?Pr:null},Br=ci,Ir=function(t,e,i,o){o&&o.enumerable?t[e]=i:Br(t,e,i)},zr=r,Fr=m,Nr=kr,Ar=Dr,Rr=Ir,jr=re("iterator"),Lr=!1;[].keys&&("next"in(wr=[].keys())?(br=Ar(Ar(wr)))!==Object.prototype&&(mr=br):Lr=!0);var Hr=null==mr||zr((function(){var t={};return mr[jr].call(t)!==t}));Fr((mr=Hr?{}:Nr(mr))[jr])||Rr(mr,jr,(function(){return this}));var Wr={IteratorPrototype:mr,BUGGY_SAFARI_ITERATORS:Lr},Vr=Jo,qr=Uo?{}.toString:function(){return"[object "+Vr(this)+"]"},Ur=Uo,Yr=Ue.f,Xr=ci,Gr=Vt,Kr=qr,$r=re("toStringTag"),Zr=function(t,e,i,o){if(t){var n=i?t:t.prototype;Gr(n,$r)||Yr(n,$r,{configurable:!0,value:e}),o&&!Ur&&Xr(n,"toString",Kr)}},Qr={},Jr=Wr.IteratorPrototype,ts=kr,es=P,is=Zr,os=Qr,ns=function(){return this},rs=n,ss=m,as=rs.String,hs=rs.TypeError,ds=y,ls=Ze,cs=function(t){if("object"==typeof t||ss(t))return t;throw hs("Can't set "+as(t)+" as a prototype")},us=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=ds(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),e=i instanceof Array}catch(t){}return function(i,o){return ls(i),cs(o),e?t(i,o):i.__proto__=o,i}}():void 0),fs=xi,ps=x,vs=function(t,e,i,o){var n=e+" Iterator";return t.prototype=ts(Jr,{next:es(+!o,i)}),is(t,n,!1,!0),os[n]=ns,t},gs=Dr,ys=Zr,ms=Ir,bs=Qr,ws=Zn.PROPER,ks=Wr.BUGGY_SAFARI_ITERATORS,_s=re("iterator"),xs="keys",Es="values",Os="entries",Cs=function(){return this},Ss=function(t,e,i,o,n,r,s){vs(i,e,o);var a,h,d,l=function(t){if(t===n&&v)return v;if(!ks&&t in f)return f[t];switch(t){case xs:case Es:case Os:return function(){return new i(this,t)}}return function(){return new i(this)}},c=e+" Iterator",u=!1,f=t.prototype,p=f[_s]||f["@@iterator"]||n&&f[n],v=!ks&&p||l(n),g="Array"==e&&f.entries||p;if(g&&(a=gs(g.call(new t)))!==Object.prototype&&a.next&&(ys(a,c,!0,!0),bs[c]=Cs),ws&&n==Es&&p&&p.name!==Es&&(u=!0,v=function(){return ps(p,this)}),n)if(h={values:l(Es),keys:r?v:l(xs),entries:l(Os)},s)for(d in h)(ks||u||!(d in f))&&ms(f,d,h[d]);else fs({target:e,proto:!0,forced:ks||u},h);return s&&f[_s]!==v&&ms(f,_s,v,{name:n}),bs[e]=v,h},Ts=un.charAt,Ms=on,Ps=Un,Ds=Ss,Bs="String Iterator",Is=Ps.set,zs=Ps.getterFor(Bs);Ds(String,"String",(function(t){Is(this,{type:Bs,string:Ms(t),index:0})}),(function(){var t,e=zs(this),i=e.string,o=e.index;return o>=i.length?{value:void 0,done:!0}:(t=Ts(i,o),e.index+=t.length,{value:t,done:!1})}));var Fs=x,Ns=Ze,As=Ct,Rs=function(t,e,i){var o,n;Ns(t);try{if(!(o=As(t,"return"))){if("throw"===e)throw i;return i}o=Fs(o,t)}catch(t){n=!0,o=t}if("throw"===e)throw i;if(n)throw o;return Ns(o),i},js=Ze,Ls=Rs,Hs=Qr,Ws=re("iterator"),Vs=Array.prototype,qs=function(t){return void 0!==t&&(Hs.Array===t||Vs[Ws]===t)},Us=y,Ys=r,Xs=m,Gs=Jo,Ks=bn,$s=function(){},Zs=[],Qs=J("Reflect","construct"),Js=/^\s*(?:class|function)\b/,ta=Us(Js.exec),ea=!Js.exec($s),ia=function(t){if(!Xs(t))return!1;try{return Qs($s,Zs,t),!0}catch(t){return!1}},oa=function(t){if(!Xs(t))return!1;switch(Gs(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ea||!!ta(Js,Ks(t))}catch(t){return!0}};oa.sham=!0;var na=!Qs||Ys((function(){var t;return ia(ia.call)||!ia(Object)||!ia((function(){t=!0}))||t}))?oa:ia,ra=ge,sa=Ue,aa=P,ha=function(t,e,i){var o=ra(e);o in t?sa.f(t,o,aa(0,i)):t[o]=i},da=Jo,la=Ct,ca=Qr,ua=re("iterator"),fa=function(t){if(null!=t)return la(t,ua)||la(t,"@@iterator")||ca[da(t)]},pa=x,va=Et,ga=Ze,ya=wt,ma=fa,ba=n.TypeError,wa=function(t,e){var i=arguments.length<2?ma(t):e;if(va(i))return ga(pa(i,t));throw ba(ya(t)+" is not iterable")},ka=qe,_a=x,xa=Lt,Ea=function(t,e,i,o){try{return o?e(js(i)[0],i[1]):e(i)}catch(e){Ls(t,"throw",e)}},Oa=qs,Ca=na,Sa=zi,Ta=ha,Ma=wa,Pa=fa,Da=n.Array,Ba=re("iterator"),Ia=!1;try{var za=0,Fa={next:function(){return{done:!!za++}},return:function(){Ia=!0}};Fa[Ba]=function(){return this},Array.from(Fa,(function(){throw 2}))}catch(t){}var Na=function(t){var e=xa(t),i=Ca(this),o=arguments.length,n=o>1?arguments[1]:void 0,r=void 0!==n;r&&(n=ka(n,o>2?arguments[2]:void 0));var s,a,h,d,l,c,u=Pa(e),f=0;if(!u||this==Da&&Oa(u))for(s=Sa(e),a=i?new this(s):Da(s);s>f;f++)c=r?n(e[f],f):e[f],Ta(a,f,c);else for(l=(d=Ma(e,u)).next,a=i?new this:[];!(h=_a(l,d)).done;f++)c=r?Ea(d,n,[h.value,f],!0):h.value,Ta(a,f,c);return a.length=f,a},Aa=function(t,e){if(!e&&!Ia)return!1;var i=!1;try{var o={};o[Ba]=function(){return{next:function(){return{done:i=!0}}}},t(o)}catch(t){}return i};xi({target:"Array",stat:!0,forced:!Aa((function(t){Array.from(t)}))},{from:Na});var Ra=G.Array.from,ja=Ra,La=U,Ha=Qr,Wa=Un;Ue.f;var Va=Ss,qa="Array Iterator",Ua=Wa.set,Ya=Wa.getterFor(qa);Va(Array,"Array",(function(t,e){Ua(this,{type:qa,target:La(t),index:0,kind:e})}),(function(){var t=Ya(this),e=t.target,i=t.kind,o=t.index++;return!e||o>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:o,done:!1}:"values"==i?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}}),"values"),Ha.Arguments=Ha.Array;var Xa=fa,Ga={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ka=n,$a=Jo,Za=ci,Qa=Qr,Ja=re("toStringTag");for(var th in Ga){var eh=Ka[th],ih=eh&&eh.prototype;ih&&$a(ih)!==Ja&&Za(ih,Ja,th),Qa[th]=Qa.Array}var oh=Xa,nh=z,rh=Array.isArray||function(t){return"Array"==nh(t)},sh={},ah=Yi,hh=Xi.concat("length","prototype");sh.f=Object.getOwnPropertyNames||function(t){return ah(t,hh)};var dh={},lh=Pi,ch=zi,uh=ha,fh=n.Array,ph=Math.max,vh=function(t,e,i){for(var o=ch(t),n=lh(e,o),r=lh(void 0===i?o:i,o),s=fh(ph(r-n,0)),a=0;n<r;n++,a++)uh(s,a,t[n]);return s.length=a,s},gh=z,yh=U,mh=sh.f,bh=vh,wh="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];dh.f=function(t){return wh&&"Window"==gh(t)?function(t){try{return mh(t)}catch(t){return bh(wh)}}(t):mh(yh(t))};var kh={},_h=re;kh.f=_h;var xh=G,Eh=Vt,Oh=kh,Ch=Ue.f,Sh=function(t){var e=xh.Symbol||(xh.Symbol={});Eh(e,t)||Ch(e,t,{value:Oh.f(t)})},Th=n,Mh=rh,Ph=na,Dh=X,Bh=re("species"),Ih=Th.Array,zh=function(t){var e;return Mh(t)&&(e=t.constructor,(Ph(e)&&(e===Ih||Mh(e.prototype))||Dh(e)&&null===(e=e[Bh]))&&(e=void 0)),void 0===e?Ih:e},Fh=function(t,e){return new(zh(t))(0===e?0:e)},Nh=qe,Ah=L,Rh=Lt,jh=zi,Lh=Fh,Hh=y([].push),Wh=function(t){var e=1==t,i=2==t,o=3==t,n=4==t,r=6==t,s=7==t,a=5==t||r;return function(h,d,l,c){for(var u,f,p=Rh(h),v=Ah(p),g=Nh(d,l),y=jh(v),m=0,b=c||Lh,w=e?b(h,y):i||s?b(h,0):void 0;y>m;m++)if((a||m in v)&&(f=g(u=v[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return u;case 6:return m;case 2:Hh(w,u)}else switch(t){case 4:return!1;case 7:Hh(w,u)}return r?-1:o||n?n:w}},Vh={forEach:Wh(0),map:Wh(1),filter:Wh(2),some:Wh(3),every:Wh(4),find:Wh(5),findIndex:Wh(6),filterReject:Wh(7)},qh=xi,Uh=n,Yh=J,Xh=c,Gh=x,Kh=y,$h=w,Zh=ct,Qh=r,Jh=Vt,td=rh,ed=m,id=X,od=tt,nd=mt,rd=Ze,sd=Lt,ad=U,hd=ge,dd=on,ld=P,cd=kr,ud=$i,fd=sh,pd=dh,vd=Zi,gd=b,yd=Ue,md=Qn,bd=E,wd=po,kd=Ir,_d=Dt.exports,xd=Li,Ed=Gt,Od=re,Cd=kh,Sd=Sh,Td=Zr,Md=Un,Pd=Vh.forEach,Dd=Sn("hidden"),Bd="Symbol",Id=Od("toPrimitive"),zd=Md.set,Fd=Md.getterFor(Bd),Nd=Object.prototype,Ad=Uh.Symbol,Rd=Ad&&Ad.prototype,jd=Uh.TypeError,Ld=Uh.QObject,Hd=Yh("JSON","stringify"),Wd=gd.f,Vd=yd.f,qd=pd.f,Ud=bd.f,Yd=Kh([].push),Xd=_d("symbols"),Gd=_d("op-symbols"),Kd=_d("string-to-symbol-registry"),$d=_d("symbol-to-string-registry"),Zd=_d("wks"),Qd=!Ld||!Ld.prototype||!Ld.prototype.findChild,Jd=$h&&Qh((function(){return 7!=cd(Vd({},"a",{get:function(){return Vd(this,"a",{value:7}).a}})).a}))?function(t,e,i){var o=Wd(Nd,e);o&&delete Nd[e],Vd(t,e,i),o&&t!==Nd&&Vd(Nd,e,o)}:Vd,tl=function(t,e){var i=Xd[t]=cd(Rd);return zd(i,{type:Bd,tag:t,description:e}),$h||(i.description=e),i},el=function(t,e,i){t===Nd&&el(Gd,e,i),rd(t);var o=hd(e);return rd(i),Jh(Xd,o)?(i.enumerable?(Jh(t,Dd)&&t[Dd][o]&&(t[Dd][o]=!1),i=cd(i,{enumerable:ld(0,!1)})):(Jh(t,Dd)||Vd(t,Dd,ld(1,{})),t[Dd][o]=!0),Jd(t,o,i)):Vd(t,o,i)},il=function(t,e){rd(t);var i=ad(e),o=ud(i).concat(sl(i));return Pd(o,(function(e){$h&&!Gh(ol,i,e)||el(t,e,i[e])})),t},ol=function(t){var e=hd(t),i=Gh(Ud,this,e);return!(this===Nd&&Jh(Xd,e)&&!Jh(Gd,e))&&(!(i||!Jh(this,e)||!Jh(Xd,e)||Jh(this,Dd)&&this[Dd][e])||i)},nl=function(t,e){var i=ad(t),o=hd(e);if(i!==Nd||!Jh(Xd,o)||Jh(Gd,o)){var n=Wd(i,o);return!n||!Jh(Xd,o)||Jh(i,Dd)&&i[Dd][o]||(n.enumerable=!0),n}},rl=function(t){var e=qd(ad(t)),i=[];return Pd(e,(function(t){Jh(Xd,t)||Jh(xd,t)||Yd(i,t)})),i},sl=function(t){var e=t===Nd,i=qd(e?Gd:ad(t)),o=[];return Pd(i,(function(t){!Jh(Xd,t)||e&&!Jh(Nd,t)||Yd(o,Xd[t])})),o};if(Zh||(Ad=function(){if(od(Rd,this))throw jd("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?dd(arguments[0]):void 0,e=Ed(t),i=function(t){this===Nd&&Gh(i,Gd,t),Jh(this,Dd)&&Jh(this[Dd],e)&&(this[Dd][e]=!1),Jd(this,e,ld(1,t))};return $h&&Qd&&Jd(Nd,e,{configurable:!0,set:i}),tl(e,t)},kd(Rd=Ad.prototype,"toString",(function(){return Fd(this).tag})),kd(Ad,"withoutSetter",(function(t){return tl(Ed(t),t)})),bd.f=ol,yd.f=el,md.f=il,gd.f=nl,fd.f=pd.f=rl,vd.f=sl,Cd.f=function(t){return tl(Od(t),t)},$h&&Vd(Rd,"description",{configurable:!0,get:function(){return Fd(this).description}})),qh({global:!0,wrap:!0,forced:!Zh,sham:!Zh},{Symbol:Ad}),Pd(ud(Zd),(function(t){Sd(t)})),qh({target:Bd,stat:!0,forced:!Zh},{for:function(t){var e=dd(t);if(Jh(Kd,e))return Kd[e];var i=Ad(e);return Kd[e]=i,$d[i]=e,i},keyFor:function(t){if(!nd(t))throw jd(t+" is not a symbol");if(Jh($d,t))return $d[t]},useSetter:function(){Qd=!0},useSimple:function(){Qd=!1}}),qh({target:"Object",stat:!0,forced:!Zh,sham:!$h},{create:function(t,e){return void 0===e?cd(t):il(cd(t),e)},defineProperty:el,defineProperties:il,getOwnPropertyDescriptor:nl}),qh({target:"Object",stat:!0,forced:!Zh},{getOwnPropertyNames:rl,getOwnPropertySymbols:sl}),qh({target:"Object",stat:!0,forced:Qh((function(){vd.f(1)}))},{getOwnPropertySymbols:function(t){return vd.f(sd(t))}}),Hd){var al=!Zh||Qh((function(){var t=Ad();return"[null]"!=Hd([t])||"{}"!=Hd({a:t})||"{}"!=Hd(Object(t))}));qh({target:"JSON",stat:!0,forced:al},{stringify:function(t,e,i){var o=wd(arguments),n=e;if((id(e)||void 0!==t)&&!nd(t))return td(e)||(e=function(t,e){if(ed(n)&&(e=Gh(n,this,t,e)),!nd(e))return e}),o[1]=e,Xh(Hd,null,o)}})}if(!Rd[Id]){var hl=Rd.valueOf;kd(Rd,Id,(function(t){return Gh(hl,this)}))}Td(Ad,Bd),xd[Dd]=!0;var dl=G.Object.getOwnPropertySymbols,ll={exports:{}},cl=xi,ul=r,fl=U,pl=b.f,vl=w,gl=ul((function(){pl(1)}));cl({target:"Object",stat:!0,forced:!vl||gl,sham:!vl},{getOwnPropertyDescriptor:function(t,e){return pl(fl(t),e)}});var yl=G.Object,ml=ll.exports=function(t,e){return yl.getOwnPropertyDescriptor(t,e)};yl.getOwnPropertyDescriptor.sham&&(ml.sham=!0);var bl=ll.exports,wl=bl,kl=J,_l=sh,xl=Zi,El=Ze,Ol=y([].concat),Cl=kl("Reflect","ownKeys")||function(t){var e=_l.f(El(t)),i=xl.f;return i?Ol(e,i(t)):e},Sl=Cl,Tl=U,Ml=b,Pl=ha;xi({target:"Object",stat:!0,sham:!w},{getOwnPropertyDescriptors:function(t){for(var e,i,o=Tl(t),n=Ml.f,r=Sl(o),s={},a=0;r.length>a;)void 0!==(i=n(o,e=r[a++]))&&Pl(s,e,i);return s}});var Dl=G.Object.getOwnPropertyDescriptors,Bl={exports:{}},Il=xi,zl=w,Fl=Qn.f;Il({target:"Object",stat:!0,forced:Object.defineProperties!==Fl,sham:!zl},{defineProperties:Fl});var Nl=G.Object,Al=Bl.exports=function(t,e){return Nl.defineProperties(t,e)};Nl.defineProperties.sham&&(Al.sham=!0);var Rl=Bl.exports,jl={exports:{}},Ll=xi,Hl=w,Wl=Ue.f;Ll({target:"Object",stat:!0,forced:Object.defineProperty!==Wl,sham:!Hl},{defineProperty:Wl});var Vl=G.Object,ql=jl.exports=function(t,e,i){return Vl.defineProperty(t,e,i)};Vl.defineProperty.sham&&(ql.sham=!0);var Ul=jl.exports,Yl=Ul;function Xl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Gl=Ul;function Kl(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Gl(t,o.key,o)}}function $l(t,e,i){return e&&Kl(t.prototype,e),i&&Kl(t,i),Gl(t,"prototype",{writable:!1}),t}function Zl(t,e,i){return e in t?Gl(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}xi({target:"Array",stat:!0},{isArray:rh});var Ql=G.Array.isArray,Jl=Ql;var tc=r,ec=ht,ic=re("species"),oc=function(t){return ec>=51||!tc((function(){var e=[];return(e.constructor={})[ic]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},nc=xi,rc=n,sc=r,ac=rh,hc=X,dc=Lt,lc=zi,cc=ha,uc=Fh,fc=oc,pc=ht,vc=re("isConcatSpreadable"),gc=9007199254740991,yc="Maximum allowed index exceeded",mc=rc.TypeError,bc=pc>=51||!sc((function(){var t=[];return t[vc]=!1,t.concat()[0]!==t})),wc=fc("concat"),kc=function(t){if(!hc(t))return!1;var e=t[vc];return void 0!==e?!!e:ac(t)};nc({target:"Array",proto:!0,forced:!bc||!wc},{concat:function(t){var e,i,o,n,r,s=dc(this),a=uc(s,0),h=0;for(e=-1,o=arguments.length;e<o;e++)if(kc(r=-1===e?s:arguments[e])){if(h+(n=lc(r))>gc)throw mc(yc);for(i=0;i<n;i++,h++)i in r&&cc(a,h,r[i])}else{if(h>=gc)throw mc(yc);cc(a,h++,r)}return a.length=h,a}}),Sh("asyncIterator"),Sh("hasInstance"),Sh("isConcatSpreadable"),Sh("iterator"),Sh("match"),Sh("matchAll"),Sh("replace"),Sh("search"),Sh("species"),Sh("split"),Sh("toPrimitive"),Sh("toStringTag"),Sh("unscopables"),Zr(n.JSON,"JSON",!0);var _c=G.Symbol,xc=_c;Sh("asyncDispose"),Sh("dispose"),Sh("matcher"),Sh("metadata"),Sh("observable"),Sh("patternMatch"),Sh("replaceAll");var Ec=xc;var Oc=xi,Cc=n,Sc=rh,Tc=na,Mc=X,Pc=Pi,Dc=zi,Bc=U,Ic=ha,zc=re,Fc=po,Nc=oc("slice"),Ac=zc("species"),Rc=Cc.Array,jc=Math.max;Oc({target:"Array",proto:!0,forced:!Nc},{slice:function(t,e){var i,o,n,r=Bc(this),s=Dc(r),a=Pc(t,s),h=Pc(void 0===e?s:e,s);if(Sc(r)&&(i=r.constructor,(Tc(i)&&(i===Rc||Sc(i.prototype))||Mc(i)&&null===(i=i[Ac]))&&(i=void 0),i===Rc||void 0===i))return Fc(r,a,h);for(o=new(void 0===i?Rc:i)(jc(h-a,0)),n=0;a<h;a++,n++)a in r&&Ic(o,n,r[a]);return o.length=n,o}});var Lc=Mo("Array").slice,Hc=tt,Wc=Lc,Vc=Array.prototype,qc=function(t){var e=t.slice;return t===Vc||Hc(Vc,t)&&e===Vc.slice?Wc:e},Uc=qc,Yc=Uc,Xc=Ra;function Gc(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function Kc(t,e){var i;if(t){if("string"==typeof t)return Gc(t,e);var o=Yc(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Xc(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Gc(t,e):void 0}}function $c(t,e){return function(t){if(Jl(t))return t}(t)||function(t,e){var i=null==t?null:void 0!==Ec&&oh(t)||t["@@iterator"];if(null!=i){var o,n,r=[],s=!0,a=!1;try{for(i=i.call(t);!(s=(o=i.next()).done)&&(r.push(o.value),!e||r.length!==e);s=!0);}catch(t){a=!0,n=t}finally{try{s||null==i.return||i.return()}finally{if(a)throw n}}return r}}(t,e)||Kc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Zc=kh.f("iterator");function Qc(t){return Qc="function"==typeof Ec&&"symbol"==typeof Zc?function(t){return typeof t}:function(t){return t&&"function"==typeof Ec&&t.constructor===Ec&&t!==Ec.prototype?"symbol":typeof t},Qc(t)}function Jc(t){return function(t){if(Jl(t))return Gc(t)}(t)||function(t){if(void 0!==Ec&&null!=oh(t)||null!=t["@@iterator"])return Xc(t)}(t)||Kc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tu=_c,eu=Mo("Array").concat,iu=tt,ou=eu,nu=Array.prototype,ru=function(t){var e=t.concat;return t===nu||iu(nu,t)&&e===nu.concat?ou:e},su=ru,au=Uc;xi({target:"Reflect",stat:!0},{ownKeys:Cl}),G.Reflect.ownKeys;var hu=Ql,du=Vh.map;xi({target:"Array",proto:!0,forced:!oc("map")},{map:function(t){return du(this,t,arguments.length>1?arguments[1]:void 0)}});var lu=Mo("Array").map,cu=tt,uu=lu,fu=Array.prototype,pu=function(t){var e=t.map;return t===fu||cu(fu,t)&&e===fu.map?uu:e},vu=pu,gu=Lt,yu=$i;xi({target:"Object",stat:!0,forced:r((function(){yu(1)}))},{keys:function(t){return yu(gu(t))}});var mu=G.Object.keys,bu=xi,wu=y,ku=n.Date,_u=wu(ku.prototype.getTime);bu({target:"Date",stat:!0},{now:function(){return _u(new ku)}});var xu=G.Date.now,Eu=r,Ou=function(t,e){var i=[][t];return!!i&&Eu((function(){i.call(null,e||function(){return 1},1)}))},Cu=Vh.forEach,Su=Ou("forEach")?[].forEach:function(t){return Cu(this,t,arguments.length>1?arguments[1]:void 0)};xi({target:"Array",proto:!0,forced:[].forEach!=Su},{forEach:Su});var Tu=Mo("Array").forEach,Mu=Jo,Pu=Vt,Du=tt,Bu=Tu,Iu=Array.prototype,zu={DOMTokenList:!0,NodeList:!0},Fu=function(t){var e=t.forEach;return t===Iu||Du(Iu,t)&&e===Iu.forEach||Pu(zu,Mu(t))?Bu:e},Nu=xi,Au=rh,Ru=y([].reverse),ju=[1,2];Nu({target:"Array",proto:!0,forced:String(ju)===String(ju.reverse())},{reverse:function(){return Au(this)&&(this.length=this.length),Ru(this)}});var Lu=Mo("Array").reverse,Hu=tt,Wu=Lu,Vu=Array.prototype,qu=function(t){var e=t.reverse;return t===Vu||Hu(Vu,t)&&e===Vu.reverse?Wu:e},Uu=qu,Yu=xi,Xu=n,Gu=Pi,Ku=Ci,$u=zi,Zu=Lt,Qu=Fh,Ju=ha,tf=oc("splice"),ef=Xu.TypeError,of=Math.max,nf=Math.min,rf=9007199254740991,sf="Maximum allowed length exceeded";Yu({target:"Array",proto:!0,forced:!tf},{splice:function(t,e){var i,o,n,r,s,a,h=Zu(this),d=$u(h),l=Gu(t,d),c=arguments.length;if(0===c?i=o=0:1===c?(i=0,o=d-l):(i=c-2,o=nf(of(Ku(e),0),d-l)),d+i-o>rf)throw ef(sf);for(n=Qu(h,o),r=0;r<o;r++)(s=l+r)in h&&Ju(n,r,h[s]);if(n.length=o,i<o){for(r=l;r<d-o;r++)a=r+i,(s=r+o)in h?h[a]=h[s]:delete h[a];for(r=d;r>d-o+i;r--)delete h[r-1]}else if(i>o)for(r=d-o;r>l;r--)a=r+i-1,(s=r+o-1)in h?h[a]=h[s]:delete h[a];for(r=0;r<i;r++)h[r+l]=arguments[r+2];return h.length=d-o+i,n}});var af=Mo("Array").splice,hf=tt,df=af,lf=Array.prototype,cf=function(t){var e=t.splice;return t===lf||hf(lf,t)&&e===lf.splice?df:e},uf=cf,ff=ji.includes;xi({target:"Array",proto:!0},{includes:function(t){return ff(this,t,arguments.length>1?arguments[1]:void 0)}});var pf=Mo("Array").includes,vf=X,gf=z,yf=re("match"),mf=function(t){var e;return vf(t)&&(void 0!==(e=t[yf])?!!e:"RegExp"==gf(t))},bf=n.TypeError,wf=re("match"),kf=xi,_f=function(t){if(mf(t))throw bf("The method doesn't accept regular expressions");return t},xf=W,Ef=on,Of=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[wf]=!1,"/./"[t](e)}catch(t){}}return!1},Cf=y("".indexOf);kf({target:"String",proto:!0,forced:!Of("includes")},{includes:function(t){return!!~Cf(Ef(xf(this)),Ef(_f(t)),arguments.length>1?arguments[1]:void 0)}});var Sf=Mo("String").includes,Tf=tt,Mf=pf,Pf=Sf,Df=Array.prototype,Bf=String.prototype,If=function(t){var e=t.includes;return t===Df||Tf(Df,t)&&e===Df.includes?Mf:"string"==typeof t||t===Bf||Tf(Bf,t)&&e===Bf.includes?Pf:e},zf=If,Ff=Lt,Nf=Dr,Af=_r;xi({target:"Object",stat:!0,forced:r((function(){Nf(1)})),sham:!Af},{getPrototypeOf:function(t){return Nf(Ff(t))}});var Rf=G.Object.getPrototypeOf,jf=Rf,Lf=Vh.filter;xi({target:"Array",proto:!0,forced:!oc("filter")},{filter:function(t){return Lf(this,t,arguments.length>1?arguments[1]:void 0)}});var Hf=Mo("Array").filter,Wf=tt,Vf=Hf,qf=Array.prototype,Uf=function(t){var e=t.filter;return t===qf||Wf(qf,t)&&e===qf.filter?Vf:e},Yf=Uf,Xf=w,Gf=y,Kf=$i,$f=U,Zf=Gf(E.f),Qf=Gf([].push),Jf=function(t){return function(e){for(var i,o=$f(e),n=Kf(o),r=n.length,s=0,a=[];r>s;)i=n[s++],Xf&&!Zf(o,i)||Qf(a,t?[i,o[i]]:o[i]);return a}},tp={entries:Jf(!0),values:Jf(!1)}.values;xi({target:"Object",stat:!0},{values:function(t){return tp(t)}}),G.Object.values;var ep="\t\n\v\f\r                　\u2028\u2029\ufeff",ip=W,op=on,np=y("".replace),rp="[\t\n\v\f\r                　\u2028\u2029\ufeff]",sp=RegExp("^"+rp+rp+"*"),ap=RegExp(rp+rp+"*$"),hp=function(t){return function(e){var i=op(ip(e));return 1&t&&(i=np(i,sp,"")),2&t&&(i=np(i,ap,"")),i}},dp={start:hp(1),end:hp(2),trim:hp(3)},lp=n,cp=r,up=y,fp=on,pp=dp.trim,vp=ep,gp=lp.parseInt,yp=lp.Symbol,mp=yp&&yp.iterator,bp=/^[+-]?0x/i,wp=up(bp.exec),kp=8!==gp(vp+"08")||22!==gp(vp+"0x16")||mp&&!cp((function(){gp(Object(mp))}))?function(t,e){var i=pp(fp(t));return gp(i,e>>>0||(wp(bp,i)?16:10))}:gp;xi({global:!0,forced:parseInt!=kp},{parseInt:kp});var _p=G.parseInt,xp=xi,Ep=ji.indexOf,Op=Ou,Cp=y([].indexOf),Sp=!!Cp&&1/Cp([1],1,-0)<0,Tp=Op("indexOf");xp({target:"Array",proto:!0,forced:Sp||!Tp},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Sp?Cp(this,t,e)||0:Ep(this,t,e)}});var Mp=Mo("Array").indexOf,Pp=tt,Dp=Mp,Bp=Array.prototype,Ip=function(t){var e=t.indexOf;return t===Bp||Pp(Bp,t)&&e===Bp.indexOf?Dp:e},zp=Ip,Fp=Zn.PROPER,Np=r,Ap=ep,Rp=dp.trim;xi({target:"String",proto:!0,forced:function(t){return Np((function(){return!!Ap[t]()||"​᠎"!=="​᠎"[t]()||Fp&&Ap[t].name!==t}))}("trim")},{trim:function(){return Rp(this)}}),Mo("String").trim,xi({target:"Object",stat:!0,sham:!w},{create:kr});var jp=G.Object,Lp=function(t,e){return jp.create(t,e)},Hp=Lp,Wp=xi,Vp=J,qp=c,Up=y,Yp=r,Xp=n.Array,Gp=Vp("JSON","stringify"),Kp=Up(/./.exec),$p=Up("".charAt),Zp=Up("".charCodeAt),Qp=Up("".replace),Jp=Up(1..toString),tv=/[\uD800-\uDFFF]/g,ev=/^[\uD800-\uDBFF]$/,iv=/^[\uDC00-\uDFFF]$/,ov=function(t,e,i){var o=$p(i,e-1),n=$p(i,e+1);return Kp(ev,t)&&!Kp(iv,n)||Kp(iv,t)&&!Kp(ev,o)?"\\u"+Jp(Zp(t,0),16):t},nv=Yp((function(){return'"\\udf06\\ud834"'!==Gp("\udf06\ud834")||'"\\udead"'!==Gp("\udead")}));Gp&&Wp({target:"JSON",stat:!0,forced:nv},{stringify:function(t,e,i){for(var o=0,n=arguments.length,r=Xp(n);o<n;o++)r[o]=arguments[o];var s=qp(Gp,null,r);return"string"==typeof s?Qp(s,tv,ov):s}});var rv=G,sv=c;rv.JSON||(rv.JSON={stringify:JSON.stringify});var av=function(t,e,i){return sv(rv.JSON.stringify,null,arguments)},hv=av,dv=n.TypeError,lv=xi,cv=n,uv=c,fv=m,pv=po,vv=function(t,e){if(t<e)throw dv("Not enough arguments");return t},gv=/MSIE .\./.test(et),yv=cv.Function,mv=function(t){return function(e,i){var o=vv(arguments.length,1)>2,n=fv(e)?e:yv(e),r=o?pv(arguments,2):void 0;return t(o?function(){uv(n,this,r)}:n,i)}};lv({global:!0,bind:!0,forced:gv},{setTimeout:mv(cv.setTimeout),setInterval:mv(cv.setInterval)});var bv=G.setTimeout,wv=Lt,kv=Pi,_v=zi,xv=function(t){for(var e=wv(this),i=_v(e),o=arguments.length,n=kv(o>1?arguments[1]:void 0,i),r=o>2?arguments[2]:void 0,s=void 0===r?i:kv(r,i);s>n;)e[n++]=t;return e};xi({target:"Array",proto:!0},{fill:xv});var Ev,Ov=Mo("Array").fill,Cv=tt,Sv=Ov,Tv=Array.prototype,Mv=function(t){var e=t.fill;return t===Tv||Cv(Tv,t)&&e===Tv.fill?Sv:e},Pv=Mv;
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */
function Dv(){return Dv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},Dv.apply(this,arguments)}function Bv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Iv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Ev="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}:Object.assign;var zv,Fv=Ev,Nv=["","webkit","Moz","MS","ms","o"],Av="undefined"==typeof document?{style:{}}:document.createElement("div"),Rv=Math.round,jv=Math.abs,Lv=Date.now;function Hv(t,e){for(var i,o,n=e[0].toUpperCase()+e.slice(1),r=0;r<Nv.length;){if((o=(i=Nv[r])?i+n:e)in t)return o;r++}}zv="undefined"==typeof window?{}:window;var Wv=Hv(Av.style,"touchAction"),Vv=void 0!==Wv;var qv="compute",Uv="auto",Yv="manipulation",Xv="none",Gv="pan-x",Kv="pan-y",$v=function(){if(!Vv)return!1;var t={},e=zv.CSS&&zv.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||zv.CSS.supports("touch-action",i)})),t}(),Zv="ontouchstart"in zv,Qv=void 0!==Hv(zv,"PointerEvent"),Jv=Zv&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),tg="touch",eg="mouse",ig=16,og=24,ng=["x","y"],rg=["clientX","clientY"];function sg(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function ag(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function hg(t,e){return t.indexOf(e)>-1}var dg=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===qv&&(t=this.compute()),Vv&&this.manager.element.style&&$v[t]&&(this.manager.element.style[Wv]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return sg(this.manager.recognizers,(function(e){ag(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(hg(t,Xv))return Xv;var e=hg(t,Gv),i=hg(t,Kv);return e&&i?Xv:e||i?e?Gv:Kv:hg(t,Yv)?Yv:Uv}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var o=this.actions,n=hg(o,Xv)&&!$v.none,r=hg(o,Kv)&&!$v["pan-y"],s=hg(o,Gv)&&!$v["pan-x"];if(n){var a=1===t.pointers.length,h=t.distance<2,d=t.deltaTime<250;if(a&&h&&d)return}if(!s||!r)return n||r&&6&i||s&&i&og?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function lg(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function cg(t){var e=t.length;if(1===e)return{x:Rv(t[0].clientX),y:Rv(t[0].clientY)};for(var i=0,o=0,n=0;n<e;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:Rv(i/e),y:Rv(o/e)}}function ug(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:Rv(t.pointers[i].clientX),clientY:Rv(t.pointers[i].clientY)},i++;return{timeStamp:Lv(),pointers:e,center:cg(e),deltaX:t.deltaX,deltaY:t.deltaY}}function fg(t,e,i){i||(i=ng);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function pg(t,e,i){i||(i=ng);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function vg(t,e){return t===e?1:jv(t)>=jv(e)?t<0?2:4:e<0?8:ig}function gg(t,e,i){return{x:e/t||0,y:i/t||0}}function yg(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=ug(e)),n>1&&!i.firstMultiple?i.firstMultiple=ug(e):1===n&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,h=e.center=cg(o);e.timeStamp=Lv(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=pg(a,h),e.distance=fg(a,h),function(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},r=t.prevInput||{};1!==e.eventType&&4!==r.eventType||(n=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}(i,e),e.offsetDirection=vg(e.deltaX,e.deltaY);var d,l,c=gg(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=jv(c.x)>jv(c.y)?c.x:c.y,e.scale=s?(d=s.pointers,fg((l=o)[0],l[1],rg)/fg(d[0],d[1],rg)):1,e.rotation=s?function(t,e){return pg(e[1],e[0],rg)+pg(t[1],t[0],rg)}(s.pointers,o):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,o,n,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var h=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,l=gg(a,h,d);o=l.x,n=l.y,i=jv(l.x)>jv(l.y)?l.x:l.y,r=vg(h,d),t.lastInterval=e}else i=s.velocity,o=s.velocityX,n=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=r}(i,e);var u,f=t.element,p=e.srcEvent;lg(u=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=u),e.target=f}function mg(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,r=1&e&&o-n==0,s=12&e&&o-n==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,yg(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function bg(t){return t.trim().split(/\s+/g)}function wg(t,e,i){sg(bg(e),(function(e){t.addEventListener(e,i,!1)}))}function kg(t,e,i){sg(bg(e),(function(e){t.removeEventListener(e,i,!1)}))}function _g(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var xg=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){ag(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&wg(this.element,this.evEl,this.domHandler),this.evTarget&&wg(this.target,this.evTarget,this.domHandler),this.evWin&&wg(_g(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&kg(this.element,this.evEl,this.domHandler),this.evTarget&&kg(this.target,this.evTarget,this.domHandler),this.evWin&&kg(_g(this.element),this.evWin,this.domHandler)},t}();function Eg(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}var Og={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Cg={2:tg,3:"pen",4:eg,5:"kinect"},Sg="pointerdown",Tg="pointermove pointerup pointercancel";zv.MSPointerEvent&&!zv.PointerEvent&&(Sg="MSPointerDown",Tg="MSPointerMove MSPointerUp MSPointerCancel");var Mg=function(t){function e(){var i,o=e.prototype;return o.evEl=Sg,o.evWin=Tg,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return Bv(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=Og[o],r=Cg[t.pointerType]||t.pointerType,s=r===tg,a=Eg(e,t.pointerId,"pointerId");1&n&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&n&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))},e}(xg);function Pg(t){return Array.prototype.slice.call(t,0)}function Dg(t,e,i){for(var o=[],n=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];Eg(n,s)<0&&o.push(t[r]),n[r]=s,r++}return i&&(o=e?o.sort((function(t,i){return t[e]>i[e]})):o.sort()),o}var Bg={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ig="touchstart touchmove touchend touchcancel",zg=function(t){function e(){var i;return e.prototype.evTarget=Ig,(i=t.apply(this,arguments)||this).targetIds={},i}return Bv(e,t),e.prototype.handler=function(t){var e=Bg[t.type],i=Fg.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:tg,srcEvent:t})},e}(xg);function Fg(t,e){var i,o,n=Pg(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var s=Pg(t.changedTouches),a=[],h=this.target;if(o=n.filter((function(t){return lg(t.target,h)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&e&&delete r[s[i].identifier],i++;return a.length?[Dg(o.concat(a),"identifier",!0),a]:void 0}var Ng={mousedown:1,mousemove:2,mouseup:4},Ag="mousedown",Rg="mousemove mouseup",jg=function(t){function e(){var i,o=e.prototype;return o.evEl=Ag,o.evWin=Rg,(i=t.apply(this,arguments)||this).pressed=!1,i}return Bv(e,t),e.prototype.handler=function(t){var e=Ng[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:eg,srcEvent:t}))},e}(xg);function Lg(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},o=this.lastTouches;this.lastTouches.push(i);setTimeout((function(){var t=o.indexOf(i);t>-1&&o.splice(t,1)}),2500)}}function Hg(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,Lg.call(this,e)):12&t&&Lg.call(this,e)}function Wg(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var n=this.lastTouches[o],r=Math.abs(e-n.x),s=Math.abs(i-n.y);if(r<=25&&s<=25)return!0}return!1}var Vg=function(){return function(t){function e(e,i){var o;return(o=t.call(this,e,i)||this).handler=function(t,e,i){var n=i.pointerType===tg,r=i.pointerType===eg;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)Hg.call(Iv(Iv(o)),e,i);else if(r&&Wg.call(Iv(Iv(o)),i))return;o.callback(t,e,i)}},o.touch=new zg(o.manager,o.handler),o.mouse=new jg(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return Bv(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(xg)}();function qg(t,e,i){return!!Array.isArray(t)&&(sg(t,i[e],i),!0)}var Ug=32,Yg=1;function Xg(t,e){var i=e.manager;return i?i.get(t):t}function Gg(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Kg=function(){function t(t){void 0===t&&(t={}),this.options=Dv({enable:!0},t),this.id=Yg++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Fv(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(qg(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xg(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return qg(t,"dropRecognizeWith",this)||(t=Xg(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(qg(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Eg(e,t=Xg(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(qg(t,"dropRequireFailure",this))return this;t=Xg(t,this);var e=Eg(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function o(i){e.manager.emit(i,t)}i<8&&o(e.options.event+Gg(i)),o(e.options.event),t.additionalEvent&&o(t.additionalEvent),i>=8&&o(e.options.event+Gg(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Ug},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Fv({},t);if(!ag(this.options.enable,[this,e]))return this.reset(),void(this.state=Ug);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),$g=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Dv({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Bv(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Yv]},i.process=function(t){var e=this,i=this.options,o=t.pointers.length===i.pointers,n=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&r&&o){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||fg(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.interval),2):8}return Ug},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Ug}),this.options.interval),Ug},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Kg),Zg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Dv({pointers:1},e))||this}Bv(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,o=6&e,n=this.attrTest(t);return o&&(8&i||!n)?16|e:o||n?4&i?8|e:2&e?4|e:2:Ug},e}(Kg);function Qg(t){return t===ig?"down":8===t?"up":2===t?"left":4===t?"right":""}var Jg=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Dv({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}Bv(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(Kv),t&og&&e.push(Gv),e},i.directionTest=function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,r=t.deltaX,s=t.deltaY;return n&e.direction||(6&e.direction?(n=0===r?1:r<0?2:4,i=r!==this.pX,o=Math.abs(t.deltaX)):(n=0===s?1:s<0?8:ig,i=s!==this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},i.attrTest=function(t){return Zg.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=Qg(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(Zg),ty=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Dv({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}Bv(e,t);var i=e.prototype;return i.getTouchAction=function(){return Jg.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,o=this.options.direction;return 30&o?i=e.overallVelocity:6&o?i=e.overallVelocityX:o&og&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&o&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&jv(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=Qg(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Zg),ey=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Dv({event:"pinch",threshold:0,pointers:2},e))||this}Bv(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Xv]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(Zg),iy=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Dv({event:"rotate",threshold:0,pointers:2},e))||this}Bv(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Xv]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(Zg),oy=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Dv({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}Bv(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Uv]},i.process=function(t){var e=this,i=this.options,o=t.pointers.length===i.pointers,n=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!n||!o||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.time);else if(4&t.eventType)return 8;return Ug},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Lv(),this.manager.emit(this.options.event,this._input)))},e}(Kg),ny={domEvents:!1,touchAction:qv,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ry=[[iy,{enable:!1}],[ey,{enable:!1},["rotate"]],[ty,{direction:6}],[Jg,{direction:6},["swipe"]],[$g],[$g,{event:"doubletap",taps:2},["tap"]],[oy]];function sy(t,e){var i,o=t.element;o.style&&(sg(t.options.cssProps,(function(n,r){i=Hv(o.style,r),e?(t.oldCssProps[i]=o.style[i],o.style[i]=n):o.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}var ay=function(){function t(t,e){var i,o=this;this.options=Fv({},ny,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(Qv?Mg:Jv?zg:Zv?Vg:jg))(i,mg),this.touchAction=new dg(this,this.options.touchAction),sy(this,!0),sg(this.options.recognizers,(function(t){var e=o.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Fv(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var o=this.recognizers,n=e.curRecognizer;(!n||n&&8&n.state)&&(e.curRecognizer=null,n=null);for(var r=0;r<o.length;)i=o[r],2===e.stopped||n&&i!==n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&14&i.state&&(e.curRecognizer=i,n=i),r++}},e.get=function(t){if(t instanceof Kg)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(qg(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(qg(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,o=Eg(i,e);-1!==o&&(i.splice(o,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return sg(bg(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return sg(bg(t),(function(t){e?i[t]&&i[t].splice(Eg(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](e),o++}},e.destroy=function(){this.element&&sy(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),hy={touchstart:1,touchmove:2,touchend:4,touchcancel:8},dy="touchstart",ly="touchstart touchmove touchend touchcancel",cy=function(t){function e(){var i,o=e.prototype;return o.evTarget=dy,o.evWin=ly,(i=t.apply(this,arguments)||this).started=!1,i}return Bv(e,t),e.prototype.handler=function(t){var e=hy[t.type];if(1===e&&(this.started=!0),this.started){var i=uy.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:tg,srcEvent:t})}},e}(xg);function uy(t,e){var i=Pg(t.touches),o=Pg(t.changedTouches);return 12&e&&(i=Dg(i.concat(o),"identifier",!0)),[i,o]}function fy(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=window.console&&(window.console.warn||window.console.log);return n&&n.call(window.console,o,i),t.apply(this,arguments)}}var py=fy((function(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)(!i||i&&void 0===t[o[n]])&&(t[o[n]]=e[o[n]]),n++;return t}),"extend","Use `assign`."),vy=fy((function(t,e){return py(t,e,!0)}),"merge","Use `assign`.");function gy(t,e,i){var o,n=e.prototype;(o=t.prototype=Object.create(n)).constructor=t,o._super=n,i&&Fv(o,i)}function yy(t,e){return function(){return t.apply(e,arguments)}}var my=function(){var t=function(t,e){return void 0===e&&(e={}),new ay(t,Dv({recognizers:ry.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=ig,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=og,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=ig,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Ug,t.Manager=ay,t.Input=xg,t.TouchAction=dg,t.TouchInput=zg,t.MouseInput=jg,t.PointerEventInput=Mg,t.TouchMouseInput=Vg,t.SingleTouchInput=cy,t.Recognizer=Kg,t.AttrRecognizer=Zg,t.Tap=$g,t.Pan=Jg,t.Swipe=ty,t.Pinch=ey,t.Rotate=iy,t.Press=oy,t.on=wg,t.off=kg,t.each=sg,t.merge=vy,t.extend=py,t.bindFn=yy,t.assign=Fv,t.inherit=gy,t.bindFn=yy,t.prefixed=Hv,t.toArray=Pg,t.inArray=Eg,t.uniqueArray=Dg,t.splitStr=bg,t.boolOrFn=ag,t.hasParent=lg,t.addEventListeners=wg,t.removeEventListeners=kg,t.defaults=Fv({},ny,{preset:ry}),t}(),by=my;function wy(t,e){var i=void 0!==tu&&oh(t)||t["@@iterator"];if(!i){if(hu(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return ky(t,e);var o=au(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return ja(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ky(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function ky(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function _y(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return xy(e.length?e:[xu()])}function xy(t){var e=function(){for(var t=Ey(),e=t(" "),i=t(" "),o=t(" "),n=0;n<arguments.length;n++)(e-=t(n<0||arguments.length<=n?void 0:arguments[n]))<0&&(e+=1),(i-=t(n<0||arguments.length<=n?void 0:arguments[n]))<0&&(i+=1),(o-=t(n<0||arguments.length<=n?void 0:arguments[n]))<0&&(o+=1);return[e,i,o]}(t),i=$c(e,3),o=i[0],n=i[1],r=i[2],s=1,a=function(){var t=2091639*o+2.3283064365386963e-10*s;return o=n,n=r,r=t-(s=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}function Ey(){var t=4022871197;return function(e){for(var i=e.toString(),o=0;o<i.length;o++){var n=.02519603282416938*(t+=i.charCodeAt(o));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)}}tu("DELETE");var Oy="undefined"!=typeof window?window.Hammer||by:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Cy(t){var e,i=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)}));var o=Oy(this._dom.overlay);o.on("tap",Fo(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){o.destroy()}));var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Fu(n).call(n,(function(t){o.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",i._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}Vo(Cy.prototype),Cy.current=null,Cy.prototype.destroy=function(){var t,e;this.deactivate();var i,o=wy(Uu(t=uf(e=this._cleanupQueue).call(e,0)).call(t));try{for(o.s();!(i=o.n()).done;){(0,i.value)()}}catch(t){o.e(t)}finally{o.f()}},Cy.prototype.activate=function(){Cy.current&&Cy.current.deactivate(),Cy.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Cy.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Cy.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Sy=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ty=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,My=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Py=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Dy(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(Dy(e),t.removeChild(e))}}function By(t){return t instanceof String||"string"==typeof t}function Iy(t){return"object"===Qc(t)&&null!==t}function zy(t,e,i,o){var n=!1;!0===o&&(n=null===e[i]&&void 0!==t[i]),n?delete t[i]:t[i]=e[i]}function Fy(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)if(void 0!==e[o])if(null===e[o]||"object"!==Qc(e[o]))zy(t,e,o,i);else{var n=t[o],r=e[o];Iy(n)&&Iy(r)&&Fy(n,r,i)}}function Ny(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(hu(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<t.length;n++){var r=t[n];if(Object.prototype.hasOwnProperty.call(i,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?Ry(e[r],i[r],!1,o):zy(e,i,r,o);else{if(hu(i[r]))throw new TypeError("Arrays are not supported by deepExtend");zy(e,i,r,o)}}return e}function Ay(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(hu(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&!zf(t).call(t,n))if(i[n]&&i[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?Ry(e[n],i[n]):zy(e,i,n,o);else if(hu(i[n])){e[n]=[];for(var r=0;r<i[n].length;r++)e[n].push(i[n][r])}else zy(e,i,n,o);return e}function Ry(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)||!0===i)if("object"===Qc(e[n])&&null!==e[n]&&jf(e[n])===Object.prototype)void 0===t[n]?t[n]=Ry({},e[n],i):"object"===Qc(t[n])&&null!==t[n]&&jf(t[n])===Object.prototype?Ry(t[n],e[n],i):zy(t,e,n,o);else if(hu(e[n])){var r;t[n]=au(r=e[n]).call(r)}else zy(t,e,n,o);return t}function jy(t,e){var i;return su(i=[]).call(i,Jc(t),[e])}function Ly(t){return au(t).call(t)}function Hy(t){return t.getBoundingClientRect().top}function Wy(t,e){if(hu(t))for(var i=t.length,o=0;o<i;o++)e(t[o],o,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function Vy(t){var e;switch(t.length){case 3:case 4:return(e=Ty.exec(t))?{r:_p(e[1]+e[1],16),g:_p(e[2]+e[2],16),b:_p(e[3]+e[3],16)}:null;case 6:case 7:return(e=Sy.exec(t))?{r:_p(e[1],16),g:_p(e[2],16),b:_p(e[3],16)}:null;default:return null}}function qy(t,e){if(zf(t).call(t,"rgba"))return t;if(zf(t).call(t,"rgb")){var i=t.substr(zp(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}var o=Vy(t);return null==o?t:"rgba("+o.r+","+o.g+","+o.b+","+e+")"}function Uy(t,e,i){var o;return"#"+au(o=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(o,1)}function Yy(t,e){if(By(t)){var i=t;if(Zy(i)){var o,n=vu(o=i.substr(4).substr(0,i.length-5).split(",")).call(o,(function(t){return _p(t)}));i=Uy(n[0],n[1],n[2])}if(!0===$y(i)){var r=function(t){var e=Vy(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Xy(e.r,e.g,e.b)}(i),s={h:r.h,s:.8*r.s,v:Math.min(1,1.02*r.v)},a={h:r.h,s:Math.min(1,1.25*r.s),v:.8*r.v},h=Ky(a.h,a.s,a.v),d=Ky(s.h,s.s,s.v);return{background:i,border:h,highlight:{background:d,border:h},hover:{background:d,border:h}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:By(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:By(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:By(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:By(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Xy(t,e,i){t/=255,e/=255,i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));return o===n?{h:0,s:0,v:o}:{h:60*((t===o?3:i===o?1:5)-(t===o?e-i:i===o?t-e:i-t)/(n-o))/360,s:(n-o)/n,v:n}}function Gy(t,e,i){var o,n,r,s=Math.floor(6*t),a=6*t-s,h=i*(1-e),d=i*(1-a*e),l=i*(1-(1-a)*e);switch(s%6){case 0:o=i,n=l,r=h;break;case 1:o=d,n=i,r=h;break;case 2:o=h,n=i,r=l;break;case 3:o=h,n=d,r=i;break;case 4:o=l,n=h,r=i;break;case 5:o=i,n=h,r=d}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*r)}}function Ky(t,e,i){var o=Gy(t,e,i);return Uy(o.r,o.g,o.b)}function $y(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Zy(t){return My.test(t)}function Qy(t){return Py.test(t)}function Jy(t){if(null===t||"object"!==Qc(t))return null;if(t instanceof Element)return t;var e=Hp(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==Qc(t[i])&&(e[i]=Jy(t[i]));return e}function tm(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=function(t){return null!=t},r=function(t){return null!==t&&"object"===Qc(t)},s=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!n(i))throw new Error("Parameter option must have a value");if(!r(o))throw new Error("Parameter globalOptions must be an object");var a=function(t,e,i){r(t[i])||(t[i]={});var o=e[i],n=t[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},h=e[i],d=r(o)&&!s(o),l=d?o[i]:void 0,c=l?l.enabled:void 0;if(void 0!==h){if("boolean"==typeof h)return r(t[i])||(t[i]={}),void(t[i].enabled=h);if(null===h&&!r(t[i])){if(!n(l))return;t[i]=Hp(l)}if(r(h)){var u=!0;void 0!==h.enabled?u=h.enabled:void 0!==c&&(u=l.enabled),a(t,e,i),t[i].enabled=u}}}var em={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function im(t,e){var i;hu(e)||(e=[e]);var o,n=wy(t);try{for(n.s();!(o=n.n()).done;){var r=o.value;if(r){i=r[e[0]];for(var s=1;s<e.length;s++)i&&(i=i[e[s]]);if(void 0!==i)break}}}catch(t){n.e(t)}finally{n.f()}return i}var om={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},nm=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Xl(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return $l(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return om[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,o=this._isColorString(t);if(void 0!==o&&(t=o),!0===By(t)){if(!0===Zy(t)){var n=t.substr(4).substr(0,t.length-5).split(",");i={r:n[0],g:n[1],b:n[2],a:1}}else if(!0===Qy(t)){var r=t.substr(5).substr(0,t.length-6).split(",");i={r:r[0],g:r[1],b:r[2],a:r[3]}}else if(!0===$y(t)){var s=Vy(t);i={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:a}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+hv(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=fo({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",bv((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=fo({},t)),this.color=t;var i=Xy(t.r,t.g,t.b),o=2*Math.PI,n=this.r*i.s,r=this.centerCoordinates.x+n*Math.sin(o*i.h),s=this.centerCoordinates.y+n*Math.cos(o*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=Xy(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=Gy(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=Xy(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,o,n),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Pv(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,i,o;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var n=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var r=document.createElement("DIV");r.style.color="red",r.style.fontWeight="bold",r.style.padding="10px",r.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(r)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Fo(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Fo(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Fo(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Fo(o=this._loadLast).call(o,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Oy(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(e){e.isFirst&&t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,i,o,n,r=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,r,s),this.centerCoordinates={x:.5*r,y:.5*s},this.r=.49*r;var a,h=2*Math.PI/360,d=1/this.r;for(o=0;o<360;o++)for(n=0;n<this.r;n++)e=this.centerCoordinates.x+n*Math.sin(h*o),i=this.centerCoordinates.y+n*Math.cos(h*o),a=Gy(.002777777777777778*o,n*d,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,i-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,r,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,o=t.center.y-e.top,n=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=o-n,h=Math.atan2(s,a),d=.98*Math.min(Math.sqrt(s*s+a*a),r),l=Math.cos(h)*d+n,c=Math.sin(h)*d+r;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=c-.5*this.colorPickerSelector.clientWidth+"px";var u=h/(2*Math.PI);u=u<0?u+1:u;var f=d/this.r,p=Xy(this.color.r,this.color.g,this.color.b);p.h=u,p.s=f;var v=Gy(p.h,p.s,p.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function rm(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var o=document.createElement(e[0]);return o.appendChild(rm.apply(void 0,Jc(au(e).call(e,1)))),o}var sm,am=function(){function t(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};Xl(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.hideOption=r,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},fo(this.options,this.defaultOptions),this.configureOptions=o,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new nm(n),this.wrapper=void 0}return $l(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(hu(t))this.options.filter=t.join();else if("object"===Qc(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==Yf(t)&&(this.options.filter=Yf(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===Yf(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=Yf(this.options),e=0,i=!1;for(var o in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,o)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==t&&-1===zp(t).call(t,o)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];return Fu(o).call(o,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.createElement("div");if(o.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(rm("i","b",t))}else o.innerText=t+":";return o}},{key:"_makeDropdown",value:function(t,e,i){var o=document.createElement("select");o.className="vis-configuration vis-config-select";var n=0;void 0!==e&&-1!==zp(t).call(t,e)&&(n=zp(t).call(t,e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===n&&(s.selected="selected"),s.innerText=t[r],o.appendChild(s)}var a=this;o.onchange=function(){a._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,o)}},{key:"_makeRange",value:function(t,e,i){var o=t[0],n=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=n,a.max=r}catch(t){}a.step=s;var h="",d=0;if(void 0!==e){var l=1.2;e<0&&e*l<n?(a.min=Math.ceil(e*l),d=a.min,h="range increased"):e/l<n&&(a.min=Math.ceil(e/l),d=a.min,h="range increased"),e*l>r&&1!==r&&(a.max=Math.ceil(e*l),d=a.max,h="range increased"),a.value=e}else a.value=o;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=a.value;var u=this;a.onchange=function(){c.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){c.value=this.value};var f=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,f,a,c);""!==h&&this.popupHistory[p]!==d&&(this.popupHistory[p]=d,this._setupPopup(h,p))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var o=document.createElement("div");o.id="vis-configuration-popup",o.className="vis-configuration-popup",o.innerText=t,o.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:o,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=bv((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=bv((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0!==e&&(o.checked=e,e!==t&&("object"===Qc(t)?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var n=this;o.onchange=function(){n._update(this.checked,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}},{key:"_makeTextInput",value:function(t,e,i){var o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var n=this;o.onchange=function(){n._update(this.value,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}},{key:"_makeColorField",value:function(t,e,i){var o=this,n=t[1],r=document.createElement("div");"none"!==(e=void 0===e?n:e)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,r.onclick=function(){o._showColorPicker(e,r,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_showColorPicker",value:function(t,e,i){var o=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,o._update(n,i)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){o._showColorPicker(t,e,i)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,n=Yf(this.options),r=!1;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){o=!0;var a=t[s],h=jy(e,s);if("function"==typeof n&&!1===(o=n(s,e))&&!hu(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,o=this._handleObject(a,h,!0),this.allowCreation=!1===i),!1!==o){r=!0;var d=this._getValue(h);if(hu(a))this._handleArray(a,d,h);else if("string"==typeof a)this._makeTextInput(a,d,h);else if("boolean"==typeof a)this._makeCheckbox(a,d,h);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){var l=jy(h,"enabled"),c=this._getValue(l);if(!0===c){var u=this._makeLabel(s,h,!0);this._makeItem(h,u),r=this._handleObject(a,h)||r}else this._makeCheckbox(a,c,h)}else{var f=this._makeLabel(s,h,!0);this._makeItem(h,f),r=this._handleObject(a,h)||r}}else console.error("dont know how to handle",a,s,h)}}return r}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i;t="false"!==(t="true"===t||t)&&t;for(var n=0;n<e.length;n++)"global"!==e[n]&&(void 0===o[e[n]]&&(o[e[n]]={}),n!==e.length-1?o=o[e[n]]:o[e[n]]=t);return i}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(rm("pre","const options = "+hv(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),hm=function(){function t(e,i){Xl(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return $l(t,[{key:"setPosition",value:function(t,e){this.x=_p(t),this.y=_p(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod){var a=!1,h=!0;this.y-e<this.padding&&(h=!1),this.x+i>n-this.padding&&(a=!0),r=a?this.x-i:this.x,s=h?this.y-e:this.y}else(s=this.y-e)+e+this.padding>o&&(s=o-e-this.padding),s<this.padding&&(s=this.padding),(r=this.x)+i+this.padding>n&&(r=n-i-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),dm=!1,lm="background: #FFeeee; color: #dd0000",cm=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"validate",value:function(e,i,o){dm=!1,sm=i;var n=i;return void 0!==o&&(n=i[o]),t.parse(e,n,[]),dm}},{key:"parse",value:function(e,i,o){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.check(n,e,i,o)}},{key:"check",value:function(e,i,o,n){if(void 0!==o[e]||void 0!==o.__any__){var r=e,s=!0;void 0===o[e]&&void 0!==o.__any__&&(r="__any__",s="object"===t.getType(i[e]));var a=o[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,o,r,a,n)}else t.getSuggestion(e,o,n)}},{key:"checkFields",value:function(e,i,o,n,r,s){var a=function(i){console.error("%c"+i+t.printLocation(s,e),lm)},h=t.getType(i[e]),d=r[h];void 0!==d?"array"===t.getType(d)&&-1===zp(d).call(d,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(d)+' not "'+i[e]+'". '),dm=!0):"object"===h&&"__any__"!==n&&(s=jy(s,e),t.parse(i[e],o[n],s)):void 0===r.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(mu(r))+". Received ["+h+'] "'+i[e]+'"'),dm=!0)}},{key:"getType",value:function(t){var e=Qc(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":hu(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,o){var n,r=t.findInOptions(e,i,o,!1),s=t.findInOptions(e,sm,[],!0);n=void 0!==r.indexMatch?" in "+t.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+'"?\n\n':s.distance<=4&&r.distance>s.distance?" in "+t.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):r.distance<=8?'. Did you mean "'+r.closestMatch+'"?'+t.printLocation(r.path,e):". Did you mean one of these: "+t.print(mu(i))+t.printLocation(o,e),console.error('%cUnknown option detected: "'+e+'"'+n,lm),dm=!0}},{key:"findInOptions",value:function(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[],h=e.toLowerCase(),d=void 0;for(var l in i){var c=void 0;if(void 0!==i[l].__type__&&!0===n){var u=t.findInOptions(e,i[l],jy(o,l));r>u.distance&&(s=u.closestMatch,a=u.path,r=u.distance,d=u.indexMatch)}else{var f;-1!==zp(f=l.toLowerCase()).call(f,h)&&(d=l),r>(c=t.levenshteinDistance(e,l))&&(s=l,a=Ly(o),r=c)}}return{closestMatch:s,path:a,distance:r,indexMatch:d}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",o="\n\n"+i+"options = {\n",n=0;n<t.length;n++){for(var r=0;r<n+1;r++)o+="  ";o+=t[n]+": {\n"}for(var s=0;s<t.length+1;s++)o+="  ";o+=e+"\n";for(var a=0;a<t.length+1;a++){for(var h=0;h<t.length-a;h++)o+="  ";o+="}\n"}return o+"\n\n"}},{key:"print",value:function(t){return hv(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,o,n=[];for(i=0;i<=e.length;i++)n[i]=[i];for(o=0;o<=t.length;o++)n[0][o]=o;for(i=1;i<=e.length;i++)for(o=1;o<=t.length;o++)e.charAt(i-1)==t.charAt(o-1)?n[i][o]=n[i-1][o-1]:n[i][o]=Math.min(n[i-1][o-1]+1,Math.min(n[i][o-1]+1,n[i-1][o]+1));return n[e.length][t.length]}}]),t}(),um=Cy,fm=am,pm=Oy,vm=hm,gm=lm,ym=cm;function mm(t){return Cm=t,function(){var t={};Sm=0,void(Tm=Cm.charAt(0)),jm(),"strict"===Mm&&(t.strict=!0,jm());"graph"!==Mm&&"digraph"!==Mm||(t.type=Mm,jm());Pm===xm&&(t.id=Mm,jm());if("{"!=Mm)throw Um("Angle bracket { expected");if(jm(),Lm(t),"}"!=Mm)throw Um("Angle bracket } expected");if(jm(),""!==Mm)throw Um("End of file expected");return jm(),delete t.node,delete t.edge,delete t.graph,t}()}var bm={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},wm=Hp(bm);wm.color="color.color",wm.style="dashes";var km=0,_m=1,xm=2,Em=3,Om={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Cm="",Sm=0,Tm="",Mm="",Pm=km;function Dm(){Sm++,Tm=Cm.charAt(Sm)}function Bm(){return Cm.charAt(Sm+1)}function Im(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function zm(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Fm(t,e,i){for(var o=e.split("."),n=t;o.length;){var r=o.shift();o.length?(n[r]||(n[r]={}),n=n[r]):n[r]=i}}function Nm(t,e){for(var i,o,n=null,r=[t],s=t;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,o=s.nodes.length;i<o;i++)if(e.id===s.nodes[i].id){n=s.nodes[i];break}for(n||(n={id:e.id},t.node&&(n.attr=zm(n.attr,t.node))),i=r.length-1;i>=0;i--){var a,h=r[i];h.nodes||(h.nodes=[]),-1===zp(a=h.nodes).call(a,n)&&h.nodes.push(n)}e.attr&&(n.attr=zm(n.attr,e.attr))}function Am(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=zm({},t.edge);e.attr=zm(i,e.attr)}}function Rm(t,e,i,o,n){var r={from:e,to:i,type:o};return t.edge&&(r.attr=zm({},t.edge)),r.attr=zm(r.attr||{},n),null!=n&&n.hasOwnProperty("arrows")&&null!=n.arrows&&(r.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),r}function jm(){for(Pm=km,Mm="";" "===Tm||"\t"===Tm||"\n"===Tm||"\r"===Tm;)Dm();do{var t=!1;if("#"===Tm){for(var e=Sm-1;" "===Cm.charAt(e)||"\t"===Cm.charAt(e);)e--;if("\n"===Cm.charAt(e)||""===Cm.charAt(e)){for(;""!=Tm&&"\n"!=Tm;)Dm();t=!0}}if("/"===Tm&&"/"===Bm()){for(;""!=Tm&&"\n"!=Tm;)Dm();t=!0}if("/"===Tm&&"*"===Bm()){for(;""!=Tm;){if("*"===Tm&&"/"===Bm()){Dm(),Dm();break}Dm()}t=!0}for(;" "===Tm||"\t"===Tm||"\n"===Tm||"\r"===Tm;)Dm()}while(t);if(""!==Tm){var i=Tm+Bm();if(Om[i])return Pm=_m,Mm=i,Dm(),void Dm();if(Om[Tm])return Pm=_m,Mm=Tm,void Dm();if(Im(Tm)||"-"===Tm){for(Mm+=Tm,Dm();Im(Tm);)Mm+=Tm,Dm();return"false"===Mm?Mm=!1:"true"===Mm?Mm=!0:isNaN(Number(Mm))||(Mm=Number(Mm)),void(Pm=xm)}if('"'===Tm){for(Dm();""!=Tm&&('"'!=Tm||'"'===Tm&&'"'===Bm());)'"'===Tm?(Mm+=Tm,Dm()):"\\"===Tm&&"n"===Bm()?(Mm+="\n",Dm()):Mm+=Tm,Dm();if('"'!=Tm)throw Um('End of string " expected');return Dm(),void(Pm=xm)}for(Pm=Em;""!=Tm;)Mm+=Tm,Dm();throw new SyntaxError('Syntax error in part "'+Ym(Mm,30)+'"')}Pm=_m}function Lm(t){for(;""!==Mm&&"}"!=Mm;)Hm(t),";"===Mm&&jm()}function Hm(t){var e=Wm(t);if(e)Vm(t,e);else{var i=function(t){if("node"===Mm)return jm(),t.node=qm(),"node";if("edge"===Mm)return jm(),t.edge=qm(),"edge";if("graph"===Mm)return jm(),t.graph=qm(),"graph";return null}(t);if(!i){if(Pm!=xm)throw Um("Identifier expected");var o=Mm;if(jm(),"="===Mm){if(jm(),Pm!=xm)throw Um("Identifier expected");t[o]=Mm,jm()}else!function(t,e){var i={id:e},o=qm();o&&(i.attr=o);Nm(t,i),Vm(t,e)}(t,o)}}}function Wm(t){var e=null;if("subgraph"===Mm&&((e={}).type="subgraph",jm(),Pm===xm&&(e.id=Mm,jm())),"{"===Mm){if(jm(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,Lm(e),"}"!=Mm)throw Um("Angle bracket } expected");jm(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Vm(t,e){for(;"->"===Mm||"--"===Mm;){var i,o=Mm;jm();var n=Wm(t);if(n)i=n;else{if(Pm!=xm)throw Um("Identifier or subgraph expected");Nm(t,{id:i=Mm}),jm()}Am(t,Rm(t,e,i,o,qm())),e=i}}function qm(){for(var t,e,i=null,o={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},r=new Array,s=new Array;"["===Mm;){for(jm(),i={};""!==Mm&&"]"!=Mm;){if(Pm!=xm)throw Um("Attribute name expected");var a=Mm;if(jm(),"="!=Mm)throw Um("Equal sign = expected");if(jm(),Pm!=xm)throw Um("Attribute value expected");var h=Mm;"style"===a&&(h=o[h]),"arrowhead"===a&&(a="arrows",h={to:{enabled:!0,type:n[h]}}),"arrowtail"===a&&(a="arrows",h={from:{enabled:!0,type:n[h]}}),r.push({attr:i,name:a,value:h}),s.push(a),jm(),","==Mm&&jm()}if("]"!=Mm)throw Um("Bracket ] expected");jm()}if(zf(s).call(s,"dir")){var d={arrows:{}};for(t=0;t<r.length;t++)if("arrows"===r[t].name)if(null!=r[t].value.to)d.arrows.to=t;else{if(null==r[t].value.from)throw Um("Invalid value of arrows");d.arrows.from=t}else"dir"===r[t].name&&(d.dir=t);var l,c,u=r[d.dir].value;if(!zf(s).call(s,"arrows"))if("both"===u)r.push({attr:r[d.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),d.arrows.to=r.length-1,r.push({attr:r[d.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),d.arrows.from=r.length-1;else if("forward"===u)r.push({attr:r[d.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),d.arrows.to=r.length-1;else if("back"===u)r.push({attr:r[d.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),d.arrows.from=r.length-1;else{if("none"!==u)throw Um('Invalid dir type "'+u+'"');r.push({attr:r[d.dir].attr,name:"arrows",value:""}),d.arrows.to=r.length-1}if("both"===u)d.arrows.to&&d.arrows.from?(c=r[d.arrows.to].value.to.type,l=r[d.arrows.from].value.from.type,r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}},uf(r).call(r,d.arrows.from,1)):d.arrows.to?(c=r[d.arrows.to].value.to.type,l="arrow",r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}):d.arrows.from&&(c="arrow",l=r[d.arrows.from].value.from.type,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}});else if("back"===u)d.arrows.to&&d.arrows.from?(c="",l=r[d.arrows.from].value.from.type,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}):d.arrows.to?(c="",l="arrow",d.arrows.from=d.arrows.to,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}):d.arrows.from&&(c="",l=r[d.arrows.from].value.from.type,r[d.arrows.to]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}),r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{from:{enabled:!0,type:r[d.arrows.from].value.from.type}}};else if("none"===u){var f;r[f=d.arrows.to?d.arrows.to:d.arrows.from]={attr:r[f].attr,name:r[f].name,value:""}}else{if("forward"!==u)throw Um('Invalid dir type "'+u+'"');d.arrows.to&&d.arrows.from||d.arrows.to?(c=r[d.arrows.to].value.to.type,l="",r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}):d.arrows.from&&(c="arrow",l="",d.arrows.to=d.arrows.from,r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}),r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:r[d.arrows.to].value.to.type}}}}uf(r).call(r,d.dir,1)}if(zf(s).call(s,"penwidth")){var p=[];for(e=r.length,t=0;t<e;t++)"width"!==r[t].name&&("penwidth"===r[t].name&&(r[t].name="width"),p.push(r[t]));r=p}for(e=r.length,t=0;t<e;t++)Fm(r[t].attr,r[t].name,r[t].value);return i}function Um(t){return new SyntaxError(t+', got "'+Ym(Mm,30)+'" (char '+Sm+")")}function Ym(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Xm(t,e,i){for(var o=e.split("."),n=o.pop(),r=t,s=0;s<o.length;s++){var a=o[s];a in r||(r[a]={}),r=r[a]}return r[n]=i,t}function Gm(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var n=e[o];hu(n)?Fu(n).call(n,(function(e){Xm(i,e,t[o])})):Xm(i,"string"==typeof n?n:o,t[o])}return i}function Km(t){var e,i=mm(t),o={nodes:[],edges:[],options:{}};i.nodes&&Fu(e=i.nodes).call(e,(function(t){var e={id:t.id,label:String(t.label||t.id)};zm(e,Gm(t.attr,bm)),e.image&&(e.shape="image"),o.nodes.push(e)}));if(i.edges){var n,r=function(t){var e={from:t.from,to:t.to};return zm(e,Gm(t.attr,wm)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};Fu(n=i.edges).call(n,(function(t){var e,i,n,s,a,h,d;(e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges)&&Fu(n=t.from.edges).call(n,(function(t){var e=r(t);o.edges.push(e)}));(a=i,h=function(e,i){var n=Rm(o,e.id,i.id,t.type,t.attr),s=r(n);o.edges.push(s)},hu(s=e)?Fu(s).call(s,(function(t){hu(a)?Fu(a).call(a,(function(e){h(t,e)})):h(t,a)})):hu(a)?Fu(a).call(a,(function(t){h(s,t)})):h(s,a),t.to instanceof Object&&t.to.edges)&&Fu(d=t.to.edges).call(d,(function(t){var e=r(t);o.edges.push(e)}))}))}return i.attr&&(o.options=i.attr),o}var $m=Object.freeze({__proto__:null,parseDOT:mm,DOTToGraph:Km});function Zm(t,e){var i,o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(o.nodes.fixed=e.fixed),null!=e.parseColor&&(o.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(o.edges.inheritColor=e.inheritColor));var n=t.edges,r=vu(n).call(n,(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===o.edges.inheritColor&&(e.color=t.color),e}));return{nodes:vu(i=t.nodes).call(i,(function(t){var e={id:t.id,fixed:o.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===o.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e})),edges:r}}var Qm=Object.freeze({__proto__:null,parseGephi:Zm}),Jm=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},ru:{addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},cn:{addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},uk:{addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},cs:{addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"}});var tb=function(){function t(){Xl(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return $l(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),o=Math.floor(e/4),n=Math.floor(e/8),r=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),h=Math.floor(t/8),d=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,o],[s,o,h,n],[5*h,o,d,r]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var o=this.coordinates[i-1],n=this.coordinates[i];t.drawImage(this.canvas,o[0],o[1],o[2],o[3],n[0],n[1],n[2],n[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,o,n,r){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,o,n,r)}else t.drawImage(this.image,i,o,n,r)}}]),t}(),eb=function(){function t(e){Xl(this,t),this.images={},this.imageBroken={},this.callback=e}return $l(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.image.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,o=this.images[t];if(o)return o;var n=new tb;return this.images[t]=n,n.image.onload=function(){i._fixImageCoordinates(n.image),n.init(),i._redrawWithImage(n)},n.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,n)},n.image.src=t,n}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),ib={exports:{}},ob=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),nb=r,rb=X,sb=z,ab=ob,hb=Object.isExtensible,db=nb((function(){hb(1)}))||ab?function(t){return!!rb(t)&&((!ab||"ArrayBuffer"!=sb(t))&&(!hb||hb(t)))}:hb,lb=!r((function(){return Object.isExtensible(Object.preventExtensions({}))})),cb=xi,ub=y,fb=Li,pb=X,vb=Vt,gb=Ue.f,yb=sh,mb=dh,bb=db,wb=lb,kb=!1,_b=Gt("meta"),xb=0,Eb=function(t){gb(t,_b,{value:{objectID:"O"+xb++,weakData:{}}})},Ob=ib.exports={enable:function(){Ob.enable=function(){},kb=!0;var t=yb.f,e=ub([].splice),i={};i[_b]=1,t(i).length&&(yb.f=function(i){for(var o=t(i),n=0,r=o.length;n<r;n++)if(o[n]===_b){e(o,n,1);break}return o},cb({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:mb.f}))},fastKey:function(t,e){if(!pb(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!vb(t,_b)){if(!bb(t))return"F";if(!e)return"E";Eb(t)}return t[_b].objectID},getWeakData:function(t,e){if(!vb(t,_b)){if(!bb(t))return!0;if(!e)return!1;Eb(t)}return t[_b].weakData},onFreeze:function(t){return wb&&kb&&bb(t)&&!vb(t,_b)&&Eb(t),t}};fb[_b]=!0;var Cb=qe,Sb=x,Tb=Ze,Mb=wt,Pb=qs,Db=zi,Bb=tt,Ib=wa,zb=fa,Fb=Rs,Nb=n.TypeError,Ab=function(t,e){this.stopped=t,this.result=e},Rb=Ab.prototype,jb=function(t,e,i){var o,n,r,s,a,h,d,l=i&&i.that,c=!(!i||!i.AS_ENTRIES),u=!(!i||!i.IS_ITERATOR),f=!(!i||!i.INTERRUPTED),p=Cb(e,l),v=function(t){return o&&Fb(o,"normal",t),new Ab(!0,t)},g=function(t){return c?(Tb(t),f?p(t[0],t[1],v):p(t[0],t[1])):f?p(t,v):p(t)};if(u)o=t;else{if(!(n=zb(t)))throw Nb(Mb(t)+" is not iterable");if(Pb(n)){for(r=0,s=Db(t);s>r;r++)if((a=g(t[r]))&&Bb(Rb,a))return a;return new Ab(!1)}o=Ib(t,n)}for(h=o.next;!(d=Sb(h,o)).done;){try{a=g(d.value)}catch(t){Fb(o,"throw",t)}if("object"==typeof a&&a&&Bb(Rb,a))return a}return new Ab(!1)},Lb=tt,Hb=n.TypeError,Wb=function(t,e){if(Lb(e,t))return t;throw Hb("Incorrect invocation")},Vb=xi,qb=n,Ub=ib.exports,Yb=r,Xb=ci,Gb=jb,Kb=Wb,$b=m,Zb=X,Qb=Zr,Jb=Ue.f,tw=Vh.forEach,ew=w,iw=Un.set,ow=Un.getterFor,nw=function(t,e,i){var o,n=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),s=n?"set":"add",a=qb[t],h=a&&a.prototype,d={};if(ew&&$b(a)&&(r||h.forEach&&!Yb((function(){(new a).entries().next()})))){var l=(o=e((function(e,i){iw(Kb(e,l),{type:t,collection:new a}),null!=i&&Gb(i,e[s],{that:e,AS_ENTRIES:n})}))).prototype,c=ow(t);tw(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in h)||r&&"clear"==t||Xb(l,t,(function(i,o){var n=c(this).collection;if(!e&&r&&!Zb(i))return"get"==t&&void 0;var s=n[t](0===i?0:i,o);return e?this:s}))})),r||Jb(l,"size",{configurable:!0,get:function(){return c(this).collection.size}})}else o=i.getConstructor(e,t,n,s),Ub.enable();return Qb(o,t,!1,!0),d[t]=o,Vb({global:!0,forced:!0},d),r||i.setStrong(o,t,n),o},rw=Ir,sw=function(t,e,i){for(var o in e)i&&i.unsafe&&t[o]?t[o]=e[o]:rw(t,o,e[o],i);return t},aw=J,hw=Ue,dw=w,lw=re("species"),cw=Ue.f,uw=kr,fw=sw,pw=qe,vw=Wb,gw=jb,yw=Ss,mw=function(t){var e=aw(t),i=hw.f;dw&&e&&!e[lw]&&i(e,lw,{configurable:!0,get:function(){return this}})},bw=w,ww=ib.exports.fastKey,kw=Un.set,_w=Un.getterFor,xw={getConstructor:function(t,e,i,o){var n=t((function(t,n){vw(t,r),kw(t,{type:e,index:uw(null),first:void 0,last:void 0,size:0}),bw||(t.size=0),null!=n&&gw(n,t[o],{that:t,AS_ENTRIES:i})})),r=n.prototype,s=_w(e),a=function(t,e,i){var o,n,r=s(t),a=h(t,e);return a?a.value=i:(r.last=a={index:n=ww(e,!0),key:e,value:i,previous:o=r.last,next:void 0,removed:!1},r.first||(r.first=a),o&&(o.next=a),bw?r.size++:t.size++,"F"!==n&&(r.index[n]=a)),t},h=function(t,e){var i,o=s(t),n=ww(e);if("F"!==n)return o.index[n];for(i=o.first;i;i=i.next)if(i.key==e)return i};return fw(r,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,bw?t.size=0:this.size=0},delete:function(t){var e=this,i=s(e),o=h(e,t);if(o){var n=o.next,r=o.previous;delete i.index[o.index],o.removed=!0,r&&(r.next=n),n&&(n.previous=r),i.first==o&&(i.first=n),i.last==o&&(i.last=r),bw?i.size--:e.size--}return!!o},forEach:function(t){for(var e,i=s(this),o=pw(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!h(this,t)}}),fw(r,i?{get:function(t){var e=h(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),bw&&cw(r,"size",{get:function(){return s(this).size}}),n},setStrong:function(t,e,i){var o=e+" Iterator",n=_w(e),r=_w(o);yw(t,e,(function(t,e){kw(this,{type:o,target:t,state:n(t),kind:e,last:void 0})}),(function(){for(var t=r(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),mw(e)}};nw("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),xw);var Ew=G.Map,Ow=function(){function t(){Xl(this,t),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},fo(this.options,this.defaultOptions)}return $l(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&-1===zp(e).call(e,i)){var o=t[i];this.add(i,o)}}},{key:"clear",value:function(){this._groups=new Ew,this._groupNames=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(t);if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var o=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[o]),this._groups.set(t,i)}else{var n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[n],this._groups.set(t,i)}return i}},{key:"add",value:function(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}]),t}();xi({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Cw=G.Number.isNaN,Sw=n.isFinite,Tw=Number.isFinite||function(t){return"number"==typeof t&&Sw(t)};xi({target:"Number",stat:!0},{isFinite:Tw});var Mw=G.Number.isFinite,Pw=Vh.some;xi({target:"Array",proto:!0,forced:!Ou("some")},{some:function(t){return Pw(this,t,arguments.length>1?arguments[1]:void 0)}});var Dw=Mo("Array").some,Bw=tt,Iw=Dw,zw=Array.prototype,Fw=function(t){var e=t.some;return t===zw||Bw(zw,t)&&e===zw.some?Iw:e},Nw=Fw,Aw=n,Rw=r,jw=on,Lw=dp.trim,Hw=y("".charAt),Ww=Aw.parseFloat,Vw=Aw.Symbol,qw=Vw&&Vw.iterator,Uw=1/Ww("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-1/0||qw&&!Rw((function(){Ww(Object(qw))}))?function(t){var e=Lw(jw(t)),i=Ww(e);return 0===i&&"-"==Hw(e,0)?-0:i}:Ww;xi({global:!0,forced:parseFloat!=Uw},{parseFloat:Uw});var Yw=G.parseFloat,Xw=xi,Gw=r,Kw=dh.f;Xw({target:"Object",stat:!0,forced:Gw((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:Kw});var $w=G.Object,Zw=function(t){return $w.getOwnPropertyNames(t)},Qw=Zw;function Jw(t,e){var i=["node","edge","label"],o=!0,n=im(e,"chosen");if("boolean"==typeof n)o=n;else if("object"===Qc(n)){if(-1===zp(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var r=im(e,["chosen",t]);"boolean"!=typeof r&&"function"!=typeof r||(o=r)}return o}function tk(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var o={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var n=-i.angle;e={x:Math.cos(n)*o.x-Math.sin(n)*o.y,y:Math.sin(n)*o.x+Math.cos(n)*o.y}}else e=o}var r=t.x+t.width,s=t.y+t.width;return t.left<e.x&&r>e.x&&t.top<e.y&&s>e.y}function ek(t){return"string"==typeof t&&""!==t}function ik(t,e,i,o){var n=o.x,r=o.y;if("function"==typeof o.distanceToBorder){var s=o.distanceToBorder(t,e),a=Math.sin(e)*s,h=Math.cos(e)*s;h===s?(n+=s,r=o.y):a===s?(n=o.x,r-=s):(n+=h,r-=a)}else o.shape.width>o.shape.height?(n=o.x+.5*o.shape.width,r=o.y-i):(n=o.x+i,r=o.y-.5*o.shape.height);return{x:n,y:r}}var ok=Mo("Array").values,nk=Jo,rk=Vt,sk=tt,ak=ok,hk=Array.prototype,dk={DOMTokenList:!0,NodeList:!0},lk=function(t){var e=t.values;return t===hk||sk(hk,t)&&e===hk.values||rk(dk,nk(t))?ak:e},ck=function(){function t(e){Xl(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return $l(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var o=e;void 0!==e&&""!==e||(o=" ");var n=this.measureText(o,i),r=fo({},lk(n));r.text=e,r.width=n.width,r.mod=i,void 0!==e&&""!==e||(r.width=0),this.lines[t].blocks.push(r),this.lines[t].width+=r.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var o=0;o<e.blocks.length;o++){var n=e.blocks[o];i<n.height&&(i=n.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var o=this.lines[i];o.width>t&&(t=o.width),e+=o.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var o={};fo(o,i),o.blocks=[];for(var n=void 0,r=[],s=0;s<i.blocks.length;s++){var a=i.blocks[s];0!==a.width?r.push(a):void 0===n&&(n=a)}0===r.length&&void 0!==n&&r.push(n),o.blocks=r,t.push(o)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),uk={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},fk=function(){function t(e){Xl(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return $l(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e))&&(this.setTag(t),!0)}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.prepareRegExp(t),o=$c(i,2),n=o[0],r=o[1],s=n.test(this.text.substr(this.position,r));return s&&e&&(this.position+=r-1),s}},{key:"parseEndTag",value:function(t,e,i){var o=this.mod()===t;return!(!(o="mono"===t?o&&this.mono:o&&!this.mono)||!this.match(e))&&(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),!0)}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,i;if(t instanceof RegExp)i=t,e=1;else{var o=uk[t];i=void 0!==o?o:new RegExp(t),e=t.length}return[i,e]}}]),t}(),pk=function(){function t(e,i,o,n){var r=this;Xl(this,t),this.ctx=e,this.parent=i,this.selected=o,this.hover=n;this.lines=new ck((function(t,i){if(void 0===t)return 0;var s=r.parent.getFormattingValues(e,o,n,i),a=0;""!==t&&(a=r.ctx.measureText(t).width);return{width:a,values:s}}))}return $l(t,[{key:"process",value:function(t){if(!ek(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),o=i.length;if(e.multi)for(var n=0;n<o;n++){var r=this.splitBlocks(i[n],e.multi);if(void 0!==r)if(0!==r.length){if(e.maxWdt>0)for(var s=0;s<r.length;s++){var a=r[s].mod,h=r[s].text;this.splitStringIntoLines(h,a,!0)}else for(var d=0;d<r.length;d++){var l=r[d].mod,c=r[d].text;this.lines.append(c,l)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var u=0;u<o;u++)this.splitStringIntoLines(i[u]);else for(var f=0;f<o;f++)this.lines.newLine(i[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new fk(t),i=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var o=e.text.charAt(e.position);e.parseWS(o)||/</.test(o)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(o)||e.add(o),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,i=new fk(t),o=!0,n=function(t){return!!/\\/.test(t)&&(i.position<e.text.length+1&&(i.position++,t=e.text.charAt(i.position),/ \t/.test(t)?i.spacing=!0:(i.add(t),o=!1)),!0)};i.position<i.text.length;){var r=i.text.charAt(i.position);i.parseWS(r)||n(r)||(o||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(r),o=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var o=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(o))break;e=o,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(au(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var o=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");o.length>0;){var n=this.getLongestFit(o);if(0===n){var r=o[0],s=this.getLongestFitWord(r);this.lines.newLine(au(r).call(r,0,s),e),o[0]=au(r).call(r,s)}else{var a=n;" "===o[n-1]?n--:" "===o[a]&&a++;var h=au(o).call(o,0,n).join("");n==o.length&&i?this.lines.append(h,e):this.lines.newLine(h,e),o=au(o).call(o,a)}}}}]),t}(),vk=["bold","ital","boldital","mono"],gk=function(){function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Xl(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=o}return $l(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),ek(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===Qc(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;Wy(vk,(function(t){i.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:Wy(e,(function(t,e){null!=t&&"object"!==Qc(t)&&(i.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=im(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===Qc(i)){var o=im(t,["widthConstraint","maximum"]);"number"==typeof o&&(e.maxWdt=Number(o));var n=im(t,["widthConstraint","minimum"]);"number"==typeof n&&(e.minWdt=Number(n))}var r=im(t,"heightConstraint");if("number"==typeof r)e.minHgt=Number(r);else if("object"===Qc(r)){var s=im(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=Number(s));var a=im(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),Ry(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=Jw("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var i=e.font;t.push(i)}}},{key:"getBasicOptions",value:function(e){for(var i={},o=0;o<e.length;++o){var n=e[o],r={};t.parseFontString(r,n)&&(n=r),Wy(n,(function(t,e){void 0!==t&&(Object.prototype.hasOwnProperty.call(i,e)||(-1!==zp(vk).call(vk,e)?i[e]={}:i[e]=t))}))}return i}},{key:"getFontOption",value:function(e,i,o){for(var n,r=0;r<e.length;++r){var s=e[r];if(Object.prototype.hasOwnProperty.call(s,i)){if(null==(n=s[i]))continue;var a={};if(t.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,o))return n[o]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,o))return this.fontOptions[o];throw new Error("Did not find value for multi-font for property: '"+o+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},o=["color","size","face","mod","vadjust"],n=0;n<o.length;++n){var r=o[n];i[r]=this.getFontOption(t,e,r)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var o=function(t){var o=vk[t],n=e.fontOptions[o];Wy(e.getFontOptions(i,o),(function(t,e){n[e]=t})),n.size=Number(n.size),n.vadjust=Number(n.vadjust)},n=0;n<vk.length;++n)o(n)}},{key:"draw",value:function(t,e,i,o,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,o,n,e,i,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",n=arguments.length>4?arguments[4]:void 0,r=this._setAlignment(t,e,i,o),s=$c(r,2);e=s[0],i=s[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var a=0;a<this.lineCount;a++){var h=this.lines[a];if(h&&h.blocks){var d=0;this.isEdgeLabel||"center"===this.fontOptions.align?d+=(this.size.width-h.width)/2:"right"===this.fontOptions.align&&(d+=this.size.width-h.width);for(var l=0;l<h.blocks.length;l++){var c=h.blocks[l];t.font=c.font;var u=this._getColor(c.color,n,c.strokeColor),f=$c(u,2),p=f[0],v=f[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=v,t.lineJoin="round"),t.fillStyle=p,c.strokeWidth>0&&t.strokeText(c.text,e+d,i+c.vadjust),t.fillText(c.text,e+d,i+c.vadjust),d+=c.width}i+=h.height}}}},{key:"_setAlignment",value:function(t,e,i,o){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"}else t.textBaseline=o;return[e,i]}},{key:"_getColor",value:function(t,e,i){var o=t||"#000000",n=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));o=qy(o,r),n=qy(n,r)}return[o,n]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=o-.5*this.size.width,this.size.top=n-.5*this.size.height,this.size.yLine=n+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,o){var n=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},r={color:n(this.fontOptions,o,"color"),size:n(this.fontOptions,o,"size"),face:n(this.fontOptions,o,"face"),mod:n(this.fontOptions,o,"mod"),vadjust:n(this.fontOptions,o,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===o&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,i));var s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),s+=r.size+"px "+r.face,t.font=s.replace(/"/g,""),r.font=t.font,r.height=r.size,r}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,o){return new pk(t,this,e,i).process(o)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var o=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&o.width<this.fontOptions.minWdt&&(o.width=this.fontOptions.minWdt),this.size.labelHeight=o.height,this.fontOptions.minHgt>0&&o.height<this.fontOptions.minHgt&&(o.height=this.fontOptions.minHgt),this.lines=o.lines,this.lineCount=o.lines.length,this.size.width=o.width,this.size.height=o.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}(),yk=na,mk=wt,bk=n.TypeError,wk=xi,kk=c,_k=Co,xk=function(t){if(yk(t))return t;throw bk(mk(t)+" is not a constructor")},Ek=Ze,Ok=X,Ck=kr,Sk=r,Tk=J("Reflect","construct"),Mk=Object.prototype,Pk=[].push,Dk=Sk((function(){function t(){}return!(Tk((function(){}),[],t)instanceof t)})),Bk=!Sk((function(){Tk((function(){}))})),Ik=Dk||Bk;wk({target:"Reflect",stat:!0,forced:Ik,sham:Ik},{construct:function(t,e){xk(t),Ek(e);var i=arguments.length<3?t:xk(arguments[2]);if(Bk&&!Dk)return Tk(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return kk(Pk,o,e),new(kk(_k,t,o))}var n=i.prototype,r=Ck(Ok(n)?n:Mk),s=kk(t,r,e);return Ok(s)?s:r}});var zk=G.Reflect.construct,Fk=Lp;xi({target:"Object",stat:!0},{setPrototypeOf:us});var Nk=G.Object.setPrototypeOf;function Ak(t,e){return Ak=Nk||function(t,e){return t.__proto__=e,t},Ak(t,e)}function Rk(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Fk(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Gl(t,"prototype",{writable:!1}),e&&Ak(t,e)}function jk(t,e){if(e&&("object"===Qc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var Lk=Rf;function Hk(t){return Hk=Nk?Lk:function(t){return t.__proto__||Lk(t)},Hk(t)}var Wk=function(){function t(e,i,o){Xl(this,t),this.body=i,this.labelModule=o,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return $l(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==Qc(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),Pv(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,o,n){void 0!==i&&this.resize(i,o,n),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this._updateBoundingBox(t,e,i,o,n)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var o=this.textSize.width,n=this.textSize.height;return 0===o&&(o=14,n=14),{width:o,height:n}}}]),t}();function Vk(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var qk=function(t){Rk(i,t);var e=Vk(i);function i(t,o,n){var r;return Xl(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return $l(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),Ao(t,this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n)}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this._updateBoundingBox(t,e,i,o,n);var r=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(r)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),i}(Wk);function Uk(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var Yk=function(t){Rk(i,t);var e=Uk(i);function i(t,o,n){var r;return Xl(this,i),(r=e.call(this,t,o,n)).labelOffset=0,r.selected=!1,r}return $l(i,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==Qc(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*o}else{var n=this._getImagePadding();t=this.imageObj.width+n.left+n.right,e=this.imageObj.height+n.top+n.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,o){this.initContextForDraw(t,o),No(t,e,i,o.size),this.performFill(t,o)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);var o=this._getImagePadding(),n=this.left+o.left,r=this.top+o.top,s=this.width-o.left-o.right,a=this.height-o.top-o.bottom;this.imageObj.drawImageAtPosition(t,i,n,r,s,a),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,o,n){var r=0;if(void 0!==this.height){r=.5*this.height;var s=this.labelModule.getTextSize(t,o,n);s.lineCount>=1&&(r+=s.height/2)}var a=i+r;this.options.label&&(this.labelOffset=r),this.labelModule.draw(t,e,a,o,n,"hanging")}}]),i}(Wk);function Xk(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var Gk=function(t){Rk(i,t);var e=Xk(i);function i(t,o,n){var r;return Xl(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return $l(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i),n=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=n/2,this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),i}(Yk);function Kk(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var $k=function(t){Rk(i,t);var e=Kk(i);function i(t,o,n,r,s){var a;return Xl(this,i),(a=e.call(this,t,o,n)).setImages(r,s),a}return $l(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,o=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(o){var n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n,r){this.switchImages(o),this.resize();var s=e,a=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,s,a,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,s,a,o,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),i}(Yk);function Zk(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var Qk=function(t){Rk(i,t);var e=Zk(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){var n,r;this.labelModule.getTextSize(t,e,i);var s=2*o.size;this.width=null!==(n=this.customSizeWidth)&&void 0!==n?n:s,this.height=null!==(r=this.customSizeHeight)&&void 0!==r?r:s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,o,n,r,s,a){var h,d=this;return this.resize(t,r,s,a),this.left=o-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,a),(h=e,Object.prototype.hasOwnProperty.call(Ho,h)?Ho[h]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];CanvasRenderingContext2D.prototype[h].call(t,i)})(t,o,n,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(r?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,o,n)),{drawExternalLabel:function(){if(void 0!==d.options.label){d.labelModule.calculateLabelSize(t,r,s,o,n,"hanging");var e=n+.5*d.height+.5*d.labelModule.size.height;d.labelModule.draw(t,o,e,r,s,"hanging")}d.updateBoundingBox(o,n)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),i}(Wk);function Jk(t,e){var i=mu(t);if(dl){var o=dl(t);e&&(o=Yf(o).call(o,(function(e){return wl(t,e).enumerable}))),i.push.apply(i,o)}return i}function t_(t){for(var e=1;e<arguments.length;e++){var i,o,n=null!=arguments[e]?arguments[e]:{};e%2?Fu(i=Jk(Object(n),!0)).call(i,(function(e){Zl(t,e,n[e])})):Dl?Rl(t,Dl(n)):Fu(o=Jk(Object(n))).call(o,(function(e){Yl(t,e,wl(n,e))}))}return t}function e_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var i_=function(t){Rk(i,t);var e=e_(i);function i(t,o,n,r){var s;return Xl(this,i),(s=e.call(this,t,o,n,r)).ctxRenderer=r,s}return $l(i,[{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n,r),this.left=e-this.width/2,this.top=i-this.height/2,t.save();var s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:o,hover:n},style:t_({},r),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){var a=s.drawExternalLabel;s.drawExternalLabel=function(){t.save(),a(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Qk);function o_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var n_=function(t){Rk(i,t);var e=o_(i);function i(t,o,n){var r;return Xl(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return $l(i,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),jo(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Wk);function r_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var s_=function(t){Rk(i,t);var e=r_(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"diamond",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Qk);function a_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var h_=function(t){Rk(i,t);var e=a_(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"circle",2,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),this.options.size}}]),i}(Qk);function d_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var l_=function(t){Rk(i,t);var e=d_(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i);this.height=2*o.height,this.width=o.width+o.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,r),Ro(t,this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var i=.5*this.width,o=.5*this.height,n=Math.sin(e)*i,r=Math.cos(e)*o;return i*o/Math.sqrt(n*n+r*r)}}]),i}(Wk);function c_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var u_=function(t){Rk(i,t);var e=c_(i);function i(t,o,n){var r;return Xl(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return $l(i,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,r){var s=this;return this.resize(t,o,n),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,o,n,r),{drawExternalLabel:function(){if(void 0!==s.options.label){s.labelModule.draw(t,s.left+s.iconSize.width/2+s.margin.left,i+s.height/2+5,o)}s.updateBoundingBox(e,i)}}}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(t,e,i,o,n,r){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:o?"bold":"",(null!=this.options.icon.weight&&o?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Wk);function f_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var p_=function(t){Rk(i,t);var e=f_(i);function i(t,o,n,r,s){var a;return Xl(this,i),(a=e.call(this,t,o,n)).setImages(r,s),a}return $l(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,o=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(o){var n=2*this.options.size;return this.width=n,void(this.height=n)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n,r){t.save(),this.switchImages(o),this.resize();var s=e,a=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var h=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,l=(o?d:h)/this.body.view.scale;t.lineWidth=Math.min(this.width,l),t.beginPath();var c=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,u=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background;void 0!==r.opacity&&(c=qy(c,r.opacity),u=qy(u,r.opacity)),t.strokeStyle=c,t.fillStyle=u,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),Pv(t).call(t),this.performStroke(t,r),t.closePath()}this._drawImageAtPosition(t,r),this._drawImageLabel(t,s,a,o,n),this.updateBoundingBox(e,i),t.restore()}},{key:"updateBoundingBox",value:function(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Yk);function v_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var g_=function(t){Rk(i,t);var e=v_(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"square",2,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Qk);function y_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var m_=function(t){Rk(i,t);var e=y_(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"hexagon",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Qk);function b_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var w_=function(t){Rk(i,t);var e=b_(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"star",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Qk);function k_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var __=function(t){Rk(i,t);var e=k_(i);function i(t,o,n){var r;return Xl(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return $l(i,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n),this.disableShadow(t,r),this.updateBoundingBox(e,i,t,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Wk);function x_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var E_=function(t){Rk(i,t);var e=x_(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"triangle",3,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Qk);function O_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var C_=function(t){Rk(i,t);var e=O_(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"triangleDown",3,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Qk);function S_(t,e){var i=mu(t);if(dl){var o=dl(t);e&&(o=Yf(o).call(o,(function(e){return wl(t,e).enumerable}))),i.push.apply(i,o)}return i}function T_(t){for(var e=1;e<arguments.length;e++){var i,o,n=null!=arguments[e]?arguments[e]:{};e%2?Fu(i=S_(Object(n),!0)).call(i,(function(e){Zl(t,e,n[e])})):Dl?Rl(t,Dl(n)):Fu(o=S_(Object(n))).call(o,(function(e){Yl(t,e,wl(n,e))}))}return t}var M_=function(){function t(e,i,o,n,r,s){Xl(this,t),this.options=Jy(r),this.globalOptions=r,this.defaultOptions=s,this.body=i,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new gk(this.body,this.options,!1),this.setOptions(e)}return $l(t,[{key:"attachEdge",value:function(t){var e;-1===zp(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,i,o=zp(e=this.edges).call(e,t);-1!=o&&uf(i=this.edges).call(i,o,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=_p(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=_p(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=Yw(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var o=[e,this.options,this.defaultOptions];return this.chooser=Jw("node",o),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&t.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var e=this.options.opacity;t.borderColor=qy(t.borderColor,e),t.color=qy(t.color,e),t.shadowColor=qy(t.shadowColor,e)}return t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,T_(T_({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1),o=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,o),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new qk(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Gk(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new $k(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new i_(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new n_(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new s_(this.options,this.body,this.labelModule);break;case"dot":this.shape=new h_(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new l_(this.options,this.body,this.labelModule);break;case"icon":this.shape=new u_(this.options,this.body,this.labelModule);break;case"image":this.shape=new p_(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new g_(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new m_(this.options,this.body,this.labelModule);break;case"star":this.shape=new w_(this.options,this.body,this.labelModule);break;case"text":this.shape=new __(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new E_(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new C_(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*r}this.options.size=this.options.scaling.min+o*n}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&tk(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),tk(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return void 0===t||"center"===t||"top-left"===t}},{key:"updateGroupOptions",value:function(e,i,o){var n;if(void 0!==o){var r=e.group;if(void 0!==i&&void 0!==i.group&&r!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof r||"string"==typeof r&&""!=r){var s=o.get(r);void 0!==s.opacity&&void 0===i.opacity&&(t.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=Yf(n=Qw(i)).call(n,(function(t){return null!=i[t]}));a.push("font"),Ay(a,e,s),e.color=Yy(e.color)}}}},{key:"parseOptions",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,s=["color","fixed","shadow"];if(Ay(s,e,i,o),t.checkMass(i),void 0!==e.opacity&&(t.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==i.opacity&&(t.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0)),i.shapeProperties&&!t.checkCoordinateOrigin(i.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+i.shapeProperties.coordinateOrigin),tm(e,i,"shadow",n),void 0!==i.color&&null!==i.color){var a=Yy(i.color);Fy(e.color,a)}else!0===o&&null===i.color&&(e.color=Jy(n.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===o&&null===i.font&&(e.font=Jy(n.font)),t.updateGroupOptions(e,i,r),void 0!==i.scaling&&tm(e.scaling,i.scaling,"label",n.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",gm),t.mass=1}}}]),t}();function P_(t,e){var i=void 0!==tu&&oh(t)||t["@@iterator"];if(!i){if(hu(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return D_(t,e);var o=au(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return ja(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return D_(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function D_(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var B_=function(){function t(e,i,o,n){var r,s=this;if(Xl(this,t),this.body=e,this.images=i,this.groups=o,this.layoutEngine=n,this.body.functions.createNode=Fo(r=this.create).call(r,this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Jy(this.defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("refreshNodes",Fo(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Fo(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Wy(i.nodesListeners,(function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)})),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(M_.parseOptions(this.options,t),void 0!==t.opacity&&(Cw(t.opacity)||!Mw(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(var e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(var i=0,o=mu(this.body.nodes);i<o.length;i++){var n=o[i];this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh()}if(void 0!==t.size)for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.data.nodes;if(e.isDataViewLike("id",t))this.body.data.nodes=t;else if(hu(t))this.body.data.nodes=new e.DataSet,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new e.DataSet}if(o&&Wy(this.nodesListeners,(function(t,e){o.off(e,t)})),this.body.nodes={},this.body.data.nodes){var n=this;Wy(this.nodesListeners,(function(t,e){n.body.data.nodes.on(e,t)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[],n=0;n<t.length;n++){e=t[n];var r=this.body.data.nodes.get(e),s=this.create(r);o.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(o),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var o=this.body.nodes,n=!1,r=0;r<t.length;r++){var s=t[r],a=o[s],h=e[r];void 0!==a?a.setOptions(h)&&(n=!0):(n=!0,a=this.create(h),o[s]=a)}n||void 0===i||(n=Nw(e).call(e,(function(t,e){var o=i[e];return o&&o.level!==t.level}))),!0===n?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++){delete e[t[i]]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M_;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Wy(this.body.nodes,(function(i,o){var n=t.body.data.nodes.get(o);void 0!==n&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(n))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===hu(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var o=this.body.nodes[t[i]];e[t[i]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(void 0!==this.body.nodes[t]){var n=this.body.nodes[t];e[t]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];e[this.body.nodeIndices[r]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"getPosition",value:function(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t,e=[],i=this.body.data.nodes.getDataSet(),o=P_(i.get());try{for(o.s();!(t=o.n()).done;){var n=t.value,r=n.id,s=this.body.nodes[r],a=Math.round(s.x),h=Math.round(s.y);n.x===a&&n.y===h||e.push({id:r,x:a,y:h})}}catch(t){o.e(t)}finally{o.f()}i.update(e)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var o=this.body.nodes[t],n={},r=0;r<o.edges.length;r++){var s=o.edges[r];"to"!==e&&s.toId==o.id?void 0===n[s.fromId]&&(i.push(s.fromId),n[s.fromId]=!0):"from"!==e&&s.fromId==o.id&&void 0===n[s.toId]&&(i.push(s.toId),n[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o=0;o<i.edges.length;o++)e.push(i.edges[o].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var o=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),bv((function(){o.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),I_=Vt,z_=x,F_=X,N_=Ze,A_=function(t){return void 0!==t&&(I_(t,"value")||I_(t,"writable"))},R_=b,j_=Dr;xi({target:"Reflect",stat:!0},{get:function t(e,i){var o,n,r=arguments.length<3?e:arguments[2];return N_(e)===r?e[i]:(o=R_.f(e,i))?A_(o)?o.value:void 0===o.get?void 0:z_(o.get,r):F_(n=j_(e))?t(n,i,r):void 0}});var L_=G.Reflect.get,H_=bl;function W_(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hk(t)););return t}function V_(){return V_="undefined"!=typeof Reflect&&L_?L_:function(t,e,i){var o=W_(t,e);if(o){var n=H_(o,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},V_.apply(this,arguments)}var q_=xi,U_=Math.hypot,Y_=Math.abs,X_=Math.sqrt;q_({target:"Math",stat:!0,forced:!!U_&&U_(1/0,NaN)!==1/0},{hypot:function(t,e){for(var i,o,n=0,r=0,s=arguments.length,a=0;r<s;)a<(i=Y_(arguments[r++]))?(n=n*(o=a/i)*o+1,a=i):n+=i>0?(o=i/a)*o:i;return a===1/0?1/0:a*X_(n)}});var G_=G.Math.hypot;function K_(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var $_=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"transform",value:function(t,e){hu(t)||(t=[t]);for(var i=e.point.x,o=e.point.y,n=e.angle,r=e.length,s=0;s<t.length;++s){var a=t[s],h=a.x*Math.cos(n)-a.y*Math.sin(n),d=a.x*Math.sin(n)+a.y*Math.cos(n);a.x=i+r*h,a.y=o+r*d}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),Z_=function(t){Rk(i,t);var e=K_(i);function i(){return Xl(this,i),e.apply(this,arguments)}return $l(i,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var i=null!=e.imageWidth?e.imageWidth:e.image.width,o=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-i/2,0,i,o),t.restore()}return!1}}]),i}($_),Q_=function(t){Rk(i,t);var e=K_(i);function i(){return Xl(this,i),e.apply(this,arguments)}return $l(i,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return $_.transform(i,e),$_.drawPath(t,i),!0}}]),i}($_),J_=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return $_.transform(i,e),$_.drawPath(t,i),!0}}]),t}(),tx=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};$_.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var o=Math.PI,n=e.angle-o/2,r=e.angle+o/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,n,r,!1),t.stroke(),!0}}]),t}(),ex=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i={x:-.3,y:0};$_.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var o=Math.PI,n=e.angle+o/2,r=e.angle+3*o/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,n,r,!1),t.stroke(),!0}}]),t}(),ix=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return $_.transform(i,e),$_.drawPath(t,i),!0}}]),t}(),ox=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return $_.transform(i,e),$_.drawPath(t,i),!0}}]),t}(),nx=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};return $_.transform(i,e),No(t,i.x,i.y,.4*e.length),!0}}]),t}(),rx=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return $_.transform(i,e),$_.drawPath(t,i),!0}}]),t}(),sx=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return $_.transform(i,e),$_.drawPath(t,i),!0}}]),t}(),ax=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return $_.transform(i,e),$_.drawPath(t,i),!0}}]),t}(),hx=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return $_.transform(i,e),$_.drawPath(t,i),!0}}]),t}(),dx=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return Z_.draw(t,e);case"circle":return nx.draw(t,e);case"box":return sx.draw(t,e);case"crow":return J_.draw(t,e);case"curve":return tx.draw(t,e);case"diamond":return ax.draw(t,e);case"inv_curve":return ex.draw(t,e);case"triangle":return ix.draw(t,e);case"inv_triangle":return ox.draw(t,e);case"bar":return rx.draw(t,e);case"vee":return hx.draw(t,e);default:return Q_.draw(t,e)}}}]),t}();function lx(t,e){var i=mu(t);if(dl){var o=dl(t);e&&(o=Yf(o).call(o,(function(e){return wl(t,e).enumerable}))),i.push.apply(i,o)}return i}function cx(t){for(var e=1;e<arguments.length;e++){var i,o,n=null!=arguments[e]?arguments[e]:{};e%2?Fu(i=lx(Object(n),!0)).call(i,(function(e){Zl(t,e,n[e])})):Dl?Rl(t,Dl(n)):Fu(o=lx(Object(n))).call(o,(function(e){Yl(t,e,wl(n,e))}))}return t}var ux=function(){function t(e,i,o){Xl(this,t),this._body=i,this._labelModule=o,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return $l(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,n):this._drawLine(t,e,n)}},{key:"_drawLine",value:function(t,e,i,o,n){if(this.from!=this.to)this._line(t,e,i,o,n);else{var r=$c(this._getCircleData(t),3),s=r[0],a=r[1],h=r[2];this._circle(t,e,s,a,h)}}},{key:"_drawDashedLine",value:function(t,e,i,o,n){t.lineCap="round";var r=hu(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(r),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var s=$c(this._getCircleData(t),3),a=s[0],h=s[1],d=s[2];this._circle(t,e,a,h,d)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)Lo(t,this.from.x,this.from.y,this.to.x,this.to.y,r);else{var l=$c(this._getCircleData(t),3),c=l[0],u=l[1],f=l[2];this._circle(t,e,c,u,f)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,i=$c(au(e=this._getCircleData(t)).call(e,0,2),2),o=i[0],n=i[1];return{from:this._findBorderPositionCircle(this.from,t,{x:o,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:o,y:n,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);var i=ik(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){var o,n=i.x,r=i.y,s=i.low,a=i.high,h=i.direction,d=this.options.selfReference.size,l=.5*(s+a),c=0;!0===this.options.arrowStrikethrough&&(-1===h?c=this.options.endPointOffset.from:1===h&&(c=this.options.endPointOffset.to));var u=0;do{l=.5*(s+a),o=this._pointOnCircle(n,r,d,l);var f=Math.atan2(t.y-o.y,t.x-o.x),p=t.distanceToBorder(e,f)+c-Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2));if(Math.abs(p)<.05)break;p>0?h>0?s=l:a=l:h>0?a=l:s=l,++u}while(s<=a&&u<10);return cx(cx({},o),{},{t:l})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),o=this.from.options.color.highlight.border,n=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(o=qy(this.from.options.color.border,e.opacity),n=qy(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?n=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(o=this.from.options.color.border),i.addColorStop(0,o),i.addColorStop(1,n),i}return"to"===e.inheritsColor?qy(this.to.options.color.border,e.opacity):qy(this.from.options.color.border,e.opacity)}return qy(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,o,n){this.enableShadow(t,e);var r=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,h=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:a,high:h,direction:-1}),l=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:a,high:h,direction:1});r=Math.atan2(d.y-o,d.x-i),s=Math.atan2(l.y-o,l.x-i)}t.beginPath(),t.arc(i,o,n,r,s,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,o,n,r){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,o,n,r);var s=$c(this._getCircleData(void 0),3),a=s[0],h=s[1],d=s[2],l=a-n,c=h-r;return Math.abs(Math.sqrt(l*l+c*c)-d)}},{key:"_getDistanceToLine",value:function(t,e,i,o,n,r){var s=i-t,a=o-e,h=((n-t)*s+(r-e)*a)/(s*s+a*a);h>1?h=1:h<0&&(h=0);var d=t+h*s-n,l=e+h*a-r;return Math.sqrt(d*d+l*l)}},{key:"getArrowData",value:function(t,e,i,o,n,r){var s,a,h,d,l,c,u,f=r.width;"from"===e?(h=this.from,d=this.to,l=r.fromArrowScale<0,c=Math.abs(r.fromArrowScale),u=r.fromArrowType):"to"===e?(h=this.to,d=this.from,l=r.toArrowScale<0,c=Math.abs(r.toArrowScale),u=r.toArrowType):(h=this.to,d=this.from,l=r.middleArrowScale<0,c=Math.abs(r.middleArrowScale),u=r.middleArrowType);var p=15*c+3*f;if(h!=d){var v=p/G_(h.x-d.x,h.y-d.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var g=this._findBorderPosition(h,t,{via:i}),y=this.getPoint(g.t+v*("from"===e?1:-1),i);s=Math.atan2(g.y-y.y,g.x-y.x),a=g}else s=Math.atan2(h.y-d.y,h.x-d.x),a=this._findBorderPosition(h,t);else{var m=(l?-v:v)/2,b=this.getPoint(.5+m,i),w=this.getPoint(.5-m,i);s=Math.atan2(b.y-w.y,b.x-w.x),a=this.getPoint(.5,i)}}else{var k=$c(this._getCircleData(t),3),_=k[0],x=k[1],E=k[2];if("from"===e){var O=this.options.selfReference.angle,C=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,t,{x:_,y:x,low:O,high:C,direction:-1});s=-2*S.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=S}else if("to"===e){var T=this.options.selfReference.angle,M=this.options.selfReference.angle+Math.PI,P=this._findBorderPositionCircle(this.from,t,{x:_,y:x,low:T,high:M,direction:1});s=-2*P.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=P}else{var D=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(_,x,E,D),s=-2*D*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*p*Math.cos(s),y:a.y-.9*p*Math.sin(s)},angle:s,length:p,type:u}}},{key:"drawArrowHead",value:function(t,e,i,o,n){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,dx.draw(t,n)&&(this.enableShadow(t,e),Pv(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var i=hu(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function fx(t,e){var i=mu(t);if(dl){var o=dl(t);e&&(o=Yf(o).call(o,(function(e){return wl(t,e).enumerable}))),i.push.apply(i,o)}return i}function px(t){for(var e=1;e<arguments.length;e++){var i,o,n=null!=arguments[e]?arguments[e]:{};e%2?Fu(i=fx(Object(n),!0)).call(i,(function(e){Zl(t,e,n[e])})):Dl?Rl(t,Dl(n)):Fu(o=fx(Object(n))).call(o,(function(e){Yl(t,e,wl(n,e))}))}return t}function vx(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var gx=function(t){Rk(i,t);var e=vx(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"_findBorderPositionBezier",value:function(t,e){var i,o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),r=10,s=.2,a=!1,h=1,d=0,l=this.to,c=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(l=this.from,a=!0,c=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(c=0);var u=0;do{o=.5*(d+h),i=this.getPoint(o,n);var f=Math.atan2(l.y-i.y,l.x-i.x),p=l.distanceToBorder(e,f)+c,v=Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2)),g=p-v;if(Math.abs(g)<s)break;g<0?!1===a?d=o:h=o:!1===a?h=o:d=o,++u}while(d<=h&&u<r);return px(px({},i),{},{t:o})}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,r,s){var a,h,d,l,c,u=1e9,f=t,p=e;for(h=1;h<10;h++)d=.1*h,l=Math.pow(1-d,2)*t+2*d*(1-d)*s.x+Math.pow(d,2)*i,c=Math.pow(1-d,2)*e+2*d*(1-d)*s.y+Math.pow(d,2)*o,h>0&&(u=(a=this._getDistanceToLine(f,p,l,c,n,r))<u?a:u),f=l,p=c;return u}},{key:"_bezierCurve",value:function(t,e,i,o){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=o&&null!=o.x?t.bezierCurveTo(i.x,i.y,o.x,o.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),i}(ux);function yx(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var mx=function(t){Rk(i,t);var e=yx(i);function i(t,o,n){var r;return Xl(this,i),(r=e.call(this,t,o,n)).via=r.via,r._boundFunction=function(){r.positionBezierNode()},r._body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return $l(i,[{key:"setOptions",value:function(t){V_(Hk(i.prototype),"setOptions",this).call(this,t);var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var i=this._getCircleData(),o=$c(i,3),n=o[0],r=o[1],s=o[2],a=2*Math.PI*(1-t);return{x:n+s*Math.sin(a),y:r+s-s*(1-Math.cos(a))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){return this._getDistanceToBezierEdge(t,e,i,o,n,r,this.via)}}]),i}(gx);function bx(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var wx=function(t){Rk(i,t);var e=bx(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,i=this.options.smooth.roundness,o=this.options.smooth.type,n=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===o||"diagonalCross"===o){var s,a;s=a=n<=r?i*r:i*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var h=this.from.x+s,d=this.from.y+a;return"discrete"===o&&(n<=r?h=n<i*r?this.from.x:h:d=r<i*n?this.from.y:d),{x:h,y:d}}if("straightCross"===o){var l=(1-i)*n,c=(1-i)*r;return n<=r?(l=0,this.from.y<this.to.y&&(c=-c)):(this.from.x<this.to.x&&(l=-l),c=0),{x:this.to.x+l,y:this.to.y+c}}if("horizontal"===o){var u=(1-i)*n;return this.from.x<this.to.x&&(u=-u),{x:this.to.x+u,y:this.from.y}}if("vertical"===o){var f=(1-i)*r;return this.from.y<this.to.y&&(f=-f),{x:this.from.x,y:this.to.y+f}}if("curvedCW"===o){n=this.to.x-this.from.x,r=this.from.y-this.to.y;var p=Math.sqrt(n*n+r*r),v=Math.PI,g=(Math.atan2(r,n)+(.5*i+.5)*v)%(2*v);return{x:this.from.x+(.5*i+.5)*p*Math.sin(g),y:this.from.y+(.5*i+.5)*p*Math.cos(g)}}if("curvedCCW"===o){n=this.to.x-this.from.x,r=this.from.y-this.to.y;var y=Math.sqrt(n*n+r*r),m=Math.PI,b=(Math.atan2(r,n)+(.5*-i+.5)*m)%(2*m);return{x:this.from.x+(.5*i+.5)*y*Math.sin(b),y:this.from.y+(.5*i+.5)*y*Math.cos(b)}}t=e=n<=r?i*r:i*n,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var w=this.from.x+t,k=this.from.y+e;return n<=r?w=this.from.x<=this.to.x?this.to.x<w?this.to.x:w:this.to.x>w?this.to.x:w:k=this.from.y>=this.to.y?this.to.y>k?this.to.y:k:this.to.y<k?this.to.y:k,{x:w,y:k}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,o,n,r,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t,o=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,n=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:o,y:n}}}]),i}(gx);function kx(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var _x=function(t){Rk(i,t);var e=kx(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"_getDistanceToBezierEdge2",value:function(t,e,i,o,n,r,s,a){for(var h=1e9,d=t,l=e,c=[0,0,0,0],u=1;u<10;u++){var f=.1*u;c[0]=Math.pow(1-f,3),c[1]=3*f*Math.pow(1-f,2),c[2]=3*Math.pow(f,2)*(1-f),c[3]=Math.pow(f,3);var p=c[0]*t+c[1]*s.x+c[2]*a.x+c[3]*i,v=c[0]*e+c[1]*s.y+c[2]*a.y+c[3]*o;if(u>0){var g=this._getDistanceToLine(d,l,p,v,n,r);h=g<h?g:h}d=p,l=v}return h}}]),i}(gx);function xx(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var Ex=function(t){Rk(i,t);var e=xx(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"_line",value:function(t,e,i){var o=i[0],n=i[1];this._bezierCurve(t,e,o,n)}},{key:"_getViaCoordinates",value:function(){var t,e,i,o,n=this.from.x-this.to.x,r=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(n)>Math.abs(r)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,o=this.to.y,t=this.from.x-s*n,i=this.to.x+s*n):(e=this.from.y-s*r,o=this.to.y+s*r,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:o}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),a=$c(s,2),h=a[0],d=a[1];return this._getDistanceToBezierEdge2(t,e,i,o,n,r,h,d)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=$c(e,2),o=i[0],n=i[1],r=t,s=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)],a=s[0]*this.fromPoint.x+s[1]*o.x+s[2]*n.x+s[3]*this.toPoint.x,h=s[0]*this.fromPoint.y+s[1]*o.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:h}}}]),i}(_x);function Ox(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var Cx=function(t){Rk(i,t);var e=Ox(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,o=this.from;t.id===this.from.id&&(i=this.from,o=this.to);var n=Math.atan2(i.y-o.y,i.x-o.x),r=i.x-o.x,s=i.y-o.y,a=Math.sqrt(r*r+s*s),h=(a-t.distanceToBorder(e,n))/a;return{x:(1-h)*o.x+h*i.x,y:(1-h)*o.y+h*i.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){return this._getDistanceToLine(t,e,i,o,n,r)}}]),i}(ux),Sx=function(){function t(e,i,o,n,r){if(Xl(this,t),void 0===i)throw new Error("No body provided");this.options=Jy(n),this.globalOptions=n,this.defaultOptions=r,this.body=i,this.imagelist=o,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new gk(this.body,this.options,!0),this.setOptions(e)}return $l(t,[{key:"setOptions",value:function(e){if(e){var i=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=Yw(e.value));var o=[e,this.options,this.defaultOptions];return this.chooser=Jw("edge",o),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,o=this.options.color.inherit,n={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:o?void 0:this.options.color.color,inheritsColor:o,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var r=this.options.selectionWidth;"function"==typeof r?n.width=r(n.width):"number"==typeof r&&(n.width+=r),n.width=Math.max(n.width,.3/this.body.view.scale),n.color=this.options.color.highlight,n.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?n.width=s(n.width):"number"==typeof s&&(n.width+=s),n.width=Math.max(n.width,.3/this.body.view.scale),n.color=this.options.color.hover,n.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(n,this.options.id,this.selected,this.hover),void 0!==n.color&&(n.inheritsColor=!1),!1===n.shadow&&(n.shadowColor===this.options.shadow.color&&n.shadowSize===this.options.shadow.size&&n.shadowX===this.options.shadow.x&&n.shadowY===this.options.shadow.y||(n.shadow=!0)));else n.shadow=this.options.shadow.enabled,n.width=Math.max(n.width,.3/this.body.view.scale);return n}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof mx&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof Ex&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof wx&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof Cx&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new mx(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new Ex(this.options,this.body,this.labelModule):this.edgeType=new wx(this.options,this.body,this.labelModule):this.edgeType=new Cx(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*r}this.options.width=this.options.scaling.min+o*n}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),o={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(o.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=o.from.core),e.fromArrowSrc&&(o.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(o.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(o.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(o.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=o.to.core),e.toArrowSrc&&(o.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(o.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(o.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(o.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(o.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(o.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(o.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.to)}}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i,o=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),o.id!=n.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,e),t.save();var r=this._getRotation(t);0!=r.angle&&(t.translate(r.x,r.y),t.rotate(r.angle)),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s=ik(t,this.options.selfReference.angle,this.options.selfReference.size,o);i=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();tk(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}var o={left:t.x,top:t.y};return this.isOverlappingWith(o)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,i=this.from.y,o=this.to.x,n=this.to.y,r=t.left,s=t.top;return this.edgeType.getDistanceToEdge(e,i,o,n,r,s)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var o={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return o;if("horizontal"===this.options.font.align)return o;var n=this.from.y-this.to.y,r=this.from.x-this.to.x,s=Math.atan2(n,r);return(s<-1&&r<0||s>0&&r<0)&&(s+=Math.PI),o.angle=s,o}},{key:"_pointOnCircle",value:function(t,e,i,o){return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(Ny(r,t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(Mw(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==o.endPointOffset.from?o.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(Mw(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==o.endPointOffset.to?o.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),ek(e.label)?t.label=e.label:ek(t.label)||(t.label=void 0),tm(t,e,"smooth",o),tm(t,e,"shadow",o),tm(t,e,"background",o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Hp(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),tm(t.scaling,e.scaling,"label",o.scaling)):!0===i&&null===e.scaling&&(t.scaling=Hp(o.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var s=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=zp(s).call(s,"to"),t.arrows.middle.enabled=-1!=zp(s).call(s,"middle"),t.arrows.from.enabled=-1!=zp(s).call(s,"from")}else{if("object"!==Qc(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+hv(e.arrows));tm(t.arrows,e.arrows,"to",o.arrows),tm(t.arrows,e.arrows,"middle",o.arrows),tm(t.arrows,e.arrows,"from",o.arrows)}else!0===i&&null===e.arrows&&(t.arrows=Hp(o.arrows));if(void 0!==e.color&&null!==e.color){var a=By(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,h=t.color;if(n)Ry(h,o.color,!1,i);else for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&delete h[d];if(By(h))h.color=h,h.highlight=h,h.hover=h,h.inherit=!1,void 0===a.opacity&&(h.opacity=1);else{var l=!1;void 0!==a.color&&(h.color=a.color,l=!0),void 0!==a.highlight&&(h.highlight=a.highlight,l=!0),void 0!==a.hover&&(h.hover=a.hover,l=!0),void 0!==a.inherit&&(h.inherit=a.inherit),void 0!==a.opacity&&(h.opacity=Math.min(1,Math.max(0,a.opacity))),!0===l?h.inherit=!1:void 0===h.inherit&&(h.inherit="from")}}else!0===i&&null===e.color&&(t.color=Jy(o.color));!0===i&&null===e.font&&(t.font=Jy(o.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}}]),t}(),Tx=function(){function t(e,i,o){var n,r=this;Xl(this,t),this.body=e,this.images=i,this.groups=o,this.body.functions.createEdge=Fo(n=this.create).call(n,this),this.edgesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Ry(this.options,this.defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var o=!1;for(var n in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,n)){var r=i.body.edges[n],s=i.body.data.edges.get(n);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?r.setOptions({smooth:!1}):r.setOptions({smooth:{type:t}}),o=!0)}}!0===e&&!0===o&&i.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){i.reconnectEdges()})),this.body.emitter.on("refreshEdges",Fo(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Fo(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Wy(i.edgesListeners,(function(t,e){i.body.data.edges&&i.body.data.edges.off(e,t)})),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){Sx.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var o in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,o)&&this.body.edges[o].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(e.isDataViewLike("id",t))this.body.data.edges=t;else if(hu(t))this.body.data.edges=new e.DataSet,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new e.DataSet}if(n&&Wy(this.edgesListeners,(function(t,e){n.off(e,t)})),this.body.edges={},this.body.data.edges){Wy(this.edgesListeners,(function(t,e){i.body.data.edges.on(e,t)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===o&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,o=this.body.data.edges,n=0;n<t.length;n++){var r=t[n],s=i[r];s&&s.disconnect();var a=o.get(r,{showInternalIds:!0});i[r]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,o=!1,n=0;n<t.length;n++){var r=t[n],s=i.get(r),a=e[r];void 0!==a?(a.disconnect(),o=a.setOptions(s)||o,a.connect()):(this.body.edges[r]=this.create(s),o=!0)}!0===o?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;Wy(t,(function(t){var e=i[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;Wy(this.body.edges,(function(e,i){var o=t.body.data.edges.get(i);void 0!==o&&e.setOptions(o)}))}},{key:"create",value:function(t){return new Sx(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var o=i[t];o.from=null,o.to=null,o.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];Wy(this.body.edges,(function(i,o){var n=t.body.nodes[i.toId],r=t.body.nodes[i.fromId];void 0!==n&&!0===n.isCluster||void 0!==r&&!0===r.isCluster||void 0!==n&&void 0!==r||e.push(o)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,i=[];Fu(t).call(t,(function(t,o){void 0===e[o]&&i.push(o)})),this.add(i,!0)}}}]),t}(),Mx=function(){function t(e,i,o){Xl(this,t),this.body=e,this.physicsBody=i,this.barnesHutTree,this.setOptions(o),this._rng=_y("BARNES HUT SOLVER")}return $l(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,n=this._formBarnesHutTree(e,i);this.barnesHutTree=n;for(var r=0;r<o;r++)(t=e[i[r]]).options.mass>0&&this._getForceContributions(n.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,n=Math.sqrt(i*i+o*o);n*t.calcSize>this.thetaInversed?this._calculateForces(n,i,o,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(n,i,o,e,t)}}},{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var r=this.options.gravitationalConstant*n.mass*o.options.mass/Math.pow(t,3),s=e*r,a=i*r;this.physicsBody.forces[o.id].x+=s,this.physicsBody.forces[o.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i,o=e.length,n=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,h=1;h<o;h++){var d=t[e[h]],l=d.x,c=d.y;d.options.mass>0&&(l<n&&(n=l),l>s&&(s=l),c<r&&(r=c),c>a&&(a=c))}var u=Math.abs(s-n)-Math.abs(a-r);u>0?(r-=.5*u,a+=.5*u):(n+=.5*u,s-=.5*u);var f=Math.max(1e-5,Math.abs(s-n)),p=.5*f,v=.5*(n+s),g=.5*(r+a),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-p,maxX:v+p,minY:g-p,maxY:g+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(var m=0;m<o;m++)(i=t[e[m]]).options.mass>0&&this._placeInTree(y.root,i);return y}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,o=t.mass+e.options.mass,n=1/o;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=n,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=n,t.mass=o;var r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var o,n=t.children.NW.range;o=n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}},{key:"_placeInRegion",value:function(t,e,i){var o=t.children[i];switch(o.childrenCount){case 0:o.children.data=e,o.childrenCount=1,this._updateBranchMass(o,e);break;case 1:o.children.data.x===e.x&&o.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(o),this._placeInTree(o,e));break;case 4:this._placeInTree(o,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i,o,n,r,s=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+s,n=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,o=t.range.maxX,n=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,o=t.range.minX+s,n=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,o=t.range.maxX,n=t.range.minY+s,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:n,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),Px=function(){function t(e,i,o){Xl(this,t),this._rng=_y("REPULSION SOLVER"),this.body=e,this.physicsBody=i,this.setOptions(o)}return $l(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,r,s,a,h=this.body.nodes,d=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,c=this.options.nodeDistance,u=-2/3/c,f=0;f<d.length-1;f++){s=h[d[f]];for(var p=f+1;p<d.length;p++)t=(a=h[d[p]]).x-s.x,e=a.y-s.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*this._rng()),i<2*c&&(r=i<.5*c?1:u*i+1.3333333333333333,o=t*(r/=i),n=e*r,l[s.id].x-=o,l[s.id].y-=n,l[a.id].x+=o,l[a.id].y+=n)}}}]),t}(),Dx=function(){function t(e,i,o){Xl(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return $l(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,o=this.options.nodeDistance,n=0;n<e.length-1;n++)for(var r=t[e[n]],s=n+1;s<e.length;s++){var a=t[e[s]];if(r.level===a.level){var h=o+this.overlapAvoidanceFactor*((r.shape.radius||0)/2+(a.shape.radius||0)/2),d=a.x-r.x,l=a.y-r.y,c=Math.sqrt(d*d+l*l),u=void 0;u=c<h?-Math.pow(.05*c,2)+Math.pow(.05*h,2):0,0!==c&&(u/=c);var f=d*u,p=l*u;i[r.id].x-=f,i[r.id].y-=p,i[a.id].x+=f,i[a.id].y+=p}}}}]),t}(),Bx=function(){function t(e,i,o){Xl(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return $l(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,r=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a=0;a<r.length;a++)!0===(e=s[r[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.to,o=e.edgeType.via,n=e.from,this._calculateSpringForce(i,o,.5*t),this._calculateSpringForce(o,n,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var o=t.x-e.x,n=t.y-e.y,r=Math.max(Math.sqrt(o*o+n*n),.01),s=this.options.springConstant*(i-r)/r,a=o*s,h=n*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}]),t}(),Ix=function(){function t(e,i,o){Xl(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return $l(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,r,s,a,h,d,l=this.body.edges,c=.5,u=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=0;v<f.length;v++){var g=f[v];p[g].springFx=0,p[g].springFy=0}for(var y=0;y<u.length;y++)!0===(e=l[u[y]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,o=e.from.y-e.to.y,a=0===(a=Math.sqrt(i*i+o*o))?.01:a,n=i*(s=this.options.springConstant*(t-a)/a),r=o*s,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=n,p[e.toId].springFy-=r),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=n,p[e.fromId].springFy+=r)):(void 0!==p[e.toId]&&(p[e.toId].x-=c*n,p[e.toId].y-=c*r),void 0!==p[e.fromId]&&(p[e.fromId].x+=c*n,p[e.fromId].y+=c*r)));s=1;for(var m=0;m<f.length;m++){var b=f[m];h=Math.min(s,Math.max(-s,p[b].springFx)),d=Math.min(s,Math.max(-s,p[b].springFy)),p[b].x+=h,p[b].y+=d}for(var w=0,k=0,_=0;_<f.length;_++){var x=f[_];w+=p[x].x,k+=p[x].y}for(var E=w/f.length,O=k/f.length,C=0;C<f.length;C++){var S=f[C];p[S].x-=E,p[S].y-=O}}}]),t}(),zx=function(){function t(e,i,o){Xl(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return $l(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++){t=-(o=n[r[a]]).x,e=-o.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,o)}}},{key:"_calculateForces",value:function(t,e,i,o,n){var r=0===t?0:this.options.centralGravity/t;o[n.id].x=e*r,o[n.id].y=i*r}}]),t}();function Fx(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var Nx=function(t){Rk(i,t);var e=Fx(i);function i(t,o,n){var r;return Xl(this,i),(r=e.call(this,t,o,n))._rng=_y("FORCE ATLAS 2 BASED REPULSION SOLVER"),r}return $l(i,[{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var r=o.edges.length+1,s=this.options.gravitationalConstant*n.mass*o.options.mass*r/Math.pow(t,2),a=e*s,h=i*s;this.physicsBody.forces[o.id].x+=a,this.physicsBody.forces[o.id].y+=h}}]),i}(Mx);function Ax(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var Rx,jx=function(t){Rk(i,t);var e=Ax(i);function i(t,o,n){return Xl(this,i),e.call(this,t,o,n)}return $l(i,[{key:"_calculateForces",value:function(t,e,i,o,n){if(t>0){var r=n.edges.length+1,s=this.options.centralGravity*r*n.options.mass;o[n.id].x=e*s,o[n.id].y=i*s}}}]),i}(zx),Lx=function(){function t(e){Xl(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},fo(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Ay(["stabilization"],this.options,t),tm(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var e=this.options.wind;e&&(("number"!=typeof e.x||Cw(e.x))&&(e.x=0),("number"!=typeof e.y||Cw(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new Nx(this.body,this.physicsBody,t),this.edgesSolver=new Bx(this.body,this.physicsBody,t),this.gravitySolver=new jx(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new Px(this.body,this.physicsBody,t),this.edgesSolver=new Bx(this.body,this.physicsBody,t),this.gravitySolver=new zx(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new Dx(this.body,this.physicsBody,t),this.edgesSolver=new Ix(this.body,this.physicsBody,t),this.gravitySolver=new zx(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new Mx(this.body,this.physicsBody,t),this.edgesSolver=new Bx(this.body,this.physicsBody,t),this.gravitySolver=new zx(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Fo(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=xu();this.physicsTick(),(xu()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&bv((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled)this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1;else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&!0===e[o].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[o].id);for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var r=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=mu(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var n=t[o];void 0!==e[n]?!0===e[n].options.physics&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y):delete this.previousStates[n]}}},{key:"_evaluateStepQuality",value:function(){var t,e,i=this.body.nodes,o=this.referenceState;for(var n in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,n)&&void 0!==i[n]&&(t=i[n].x-o[n].positions.x,e=i[n].y-o[n].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,o=0;o<t.length;o++){var n=t[o],r=this._performStep(n);e=Math.max(e,r),i+=r}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(t)>o&&(t=t>0?o:-o),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var o=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:o.x,vy:o.y},!1===e.options.fixed.x?(o.x=this.calculateComponentVelocity(o.x,i.x,e.options.mass),e.x+=o.x*this.timestep):(i.x=0,o.x=0),!1===e.options.fixed.y?(o.y=this.calculateComponentVelocity(o.y,i.y,e.options.mass),e.y+=o.y*this.timestep):(i.y=0,o.y=0),Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,bv((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var o,n=0;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;(i(),e())?bv(Fo(o=this._stabilizationBatch).call(o,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],o=this.body.nodes[i],n=this.physicsBody.forces[i],r=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.x,2)),s=Math.min(Math.max(5,r),15),a=3*s,h=Ky((180-180*Math.min(1,Math.max(0,.03*r)))/360,1,1),d={x:o.x+20*n.x,y:o.y+20*n.y};t.lineWidth=s,t.strokeStyle=h,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(d.x,d.y),t.stroke();var l=Math.atan2(n.y,n.x);t.fillStyle=h,dx.draw(t,{type:"arrow",point:d,angle:l,length:a}),Pv(t).call(t)}}}]),t}(),Hx=new Uint8Array(16);function Wx(){if(!Rx&&!(Rx="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rx(Hx)}var Vx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qx(t){return"string"==typeof t&&Vx.test(t)}for(var Ux=[],Yx=0;Yx<256;++Yx)Ux.push((Yx+256).toString(16).substr(1));function Xx(t,e,i){var o=(t=t||{}).random||(t.rng||Wx)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){i=i||0;for(var n=0;n<16;++n)e[i+n]=o[n];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(Ux[t[e+0]]+Ux[t[e+1]]+Ux[t[e+2]]+Ux[t[e+3]]+"-"+Ux[t[e+4]]+Ux[t[e+5]]+"-"+Ux[t[e+6]]+Ux[t[e+7]]+"-"+Ux[t[e+8]]+Ux[t[e+9]]+"-"+Ux[t[e+10]]+Ux[t[e+11]]+Ux[t[e+12]]+Ux[t[e+13]]+Ux[t[e+14]]+Ux[t[e+15]]).toLowerCase();if(!qx(i))throw TypeError("Stringified UUID is invalid");return i}(o)}var Gx=function(){function t(){Xl(this,t)}return $l(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(e=t[i[a]]).shape.boundingBox.left&&(r=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),o>e.shape.boundingBox.top&&(o=e.shape.boundingBox.top),n<e.shape.boundingBox.bottom&&(n=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===o&&-1e9===n&&(o=0,n=0,r=0,s=0),{minX:r,maxX:s,minY:o,maxY:n}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(e=t[i[a]]).x&&(r=e.x),s<e.x&&(s=e.x),o>e.y&&(o=e.y),n<e.y&&(n=e.y);return 1e9===r&&-1e9===s&&1e9===o&&-1e9===n&&(o=0,n=0,r=0,s=0),{minX:r,maxX:s,minY:o,maxY:n}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(Ry(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):Ry(i,t.options,!0),i}}]),t}();function Kx(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var $x=function(t){Rk(i,t);var e=Kx(i);function i(t,o,n,r,s,a){var h;return Xl(this,i),(h=e.call(this,t,o,n,r,s,a)).isCluster=!0,h.containedNodes={},h.containedEdges={},h}return $l(i,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],Wy(i.edges,(function(t){delete e.containedEdges[t.id]})),Wy(i.containedNodes,(function(t,i){e.containedNodes[i]=t})),i.containedNodes={},Wy(i.containedEdges,(function(t,i){e.containedEdges[i]=t})),i.containedEdges={},Wy(i.edges,(function(t){Wy(e.edges,(function(i){var o,n,r=zp(o=i.clusteringEdgeReplacingIds).call(o,t.id);-1!==r&&(Wy(t.clusteringEdgeReplacingIds,(function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id})),uf(n=i.clusteringEdgeReplacingIds).call(n,r,1))}))})),i.edges=[]}}]),i}(M_),Zx=function(){function t(e){var i=this;Xl(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},fo(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){i.clusteredNodes={},i.clusteredEdges={}}))}return $l(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===Qc(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>=t&&i.push(n.id)}for(var r=0;r<i.length;r++)this.clusterByConnection(i[r],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var o={},n={};Wy(this.body.nodes,(function(i,r){i.options&&!0===e.joinCondition(i.options)&&(o[r]=i,Wy(i.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(n[e.id]=e)})))})),this._cluster(o,n,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var n,r,s,a=[],h={},d=function(o){var d={},l={},c=i.body.nodeIndices[o],u=i.body.nodes[c];if(void 0===h[c]){s=0,r=[];for(var f=0;f<u.edges.length;f++)n=u.edges[f],void 0===i.clusteredEdges[n.id]&&(n.toId!==n.fromId&&s++,r.push(n));if(s===t){for(var p=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var i=Gx.cloneOptions(t);return e.joinCondition(i)},v=!0,g=0;g<r.length;g++){n=r[g];var y=i._getConnectedId(n,c);if(!p(u)){v=!1;break}l[n.id]=n,d[c]=u,d[y]=i.body.nodes[y],h[c]=!0}if(mu(d).length>0&&mu(l).length>0&&!0===v){var m=function(){for(var t=0;t<a.length;++t)for(var e in d)if(void 0!==a[t].nodes[e])return a[t]}();if(void 0!==m){for(var b in d)void 0===m.nodes[b]&&(m.nodes[b]=d[b]);for(var w in l)void 0===m.edges[w]&&(m.edges[w]=l[w])}else a.push({nodes:d,edges:l})}}}},l=0;l<this.body.nodeIndices.length;l++)d(l);for(var c=0;c<a.length;c++)this._cluster(a[c].nodes,a[c].edges,e,!1);!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[t];void 0===(e=this._checkOptions(e,n)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=n.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=n.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=n.options.fixed.x,e.clusterNodeProperties.fixed.y=n.options.fixed.y);var r={},s={},a=n.id,h=Gx.cloneOptions(n);r[a]=n;for(var d=0;d<n.edges.length;d++){var l=n.edges[d];if(void 0===this.clusteredEdges[l.id]){var c=this._getConnectedId(l,a);if(void 0===this.clusteredNodes[c])if(c!==a)if(void 0===e.joinCondition)s[l.id]=l,r[c]=this.body.nodes[c];else{var u=Gx.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(h,u)&&(s[l.id]=l,r[c]=this.body.nodes[c])}else s[l.id]=l}}var f=vu(i=mu(r)).call(i,(function(t){return r[t].id}));for(var p in r)if(Object.prototype.hasOwnProperty.call(r,p))for(var v=r[p],g=0;g<v.edges.length;g++){var y=v.edges[g];zp(f).call(f,this._getConnectedId(y,v.id))>-1&&(s[y.id]=y)}this._cluster(r,s,e,o)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var n,r,s,a,h,d,l=mu(t),c=[],u=0;u<l.length;u++){s=t[r=l[u]];for(var f=0;f<s.edges.length;f++)n=s.edges[f],void 0===this.clusteredEdges[n.id]&&(n.toId==n.fromId?e[n.id]=n:n.toId==r?(a=i.id,d=h=n.fromId):(a=n.toId,h=i.id,d=a),void 0===t[d]&&c.push({edge:n,fromId:h,toId:a}))}for(var p=[],v=function(t){for(var e=0;e<p.length;e++){var i=p[e],o=t.fromId===i.fromId&&t.toId===i.toId,n=t.fromId===i.toId&&t.toId===i.fromId;if(o||n)return i}return null},g=0;g<c.length;g++){var y=c[g],m=y.edge,b=v(y);null===b?(b=this._createClusteredEdge(y.fromId,y.toId,m,o),p.push(b)):b.clusteringEdgeReplacingIds.push(m.id),this.body.edges[m.id].edgeReplacedById=b.id,this._backupEdgeOptions(m),m.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&void 0!==this.clusteredNodes[r]&&n.push(r);for(var s=0;s<n.length;++s)delete t[n[s]];if(0!=mu(t).length&&(1!=mu(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var a=Ry({},i.clusterNodeProperties);if(void 0!==i.processProperties){var h=[];for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var l=Gx.cloneOptions(t[d]);h.push(l)}var c=[];for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)&&"clusterEdge:"!==u.substr(0,12)){var f=Gx.cloneOptions(e[u],"edge");c.push(f)}if(!(a=i.processProperties(a,h,c)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+Xx());var p=a.id;void 0===a.label&&(a.label="cluster");var v=void 0;void 0===a.x&&(v=this._getClusterPosition(t),a.x=v.x),void 0===a.y&&(void 0===v&&(v=this._getClusterPosition(t)),a.y=v.y),a.id=p;var g=this.body.functions.createNode(a,$x);g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[a.id]=g,this._clusterEdges(t,e,a,i.clusterEdgeProperties),a.id=void 0,!0===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,i=mu(t),o=t[i[0]].x,n=t[i[0]].x,r=t[i[0]].y,s=t[i[0]].y,a=1;a<i.length;a++)o=(e=t[i[a]]).x<o?e.x:o,n=e.x>n?e.x:n,r=e.y<r?e.y:r,s=e.y>s?e.y:s;return{x:.5*(o+n),y:.5*(r+s)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var o=this.body.nodes[t];if(void 0===o)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==o.isCluster||void 0===o.containedNodes||void 0===o.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var n=this.findNode(t),r=zp(n).call(n,t)-1;if(r>=0){var s=n[r],a=this.body.nodes[s];return a._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var h=o.containedNodes,d=o.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var l={},c={x:o.x,y:o.y};for(var u in h)if(Object.prototype.hasOwnProperty.call(h,u)){var f=this.body.nodes[u];l[u]={x:f.x,y:f.y}}var p=e.releaseFunction(c,l);for(var v in h)if(Object.prototype.hasOwnProperty.call(h,v)){var g=this.body.nodes[v];void 0!==p[v]&&(g.x=void 0===p[v].x?o.x:p[v].x,g.y=void 0===p[v].y?o.y:p[v].y)}}else Wy(h,(function(t){!1===t.options.fixed.x&&(t.x=o.x),!1===t.options.fixed.y&&(t.y=o.y)}));for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)){var m=this.body.nodes[y];m.vx=o.vx,m.vy=o.vy,m.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var b=[],w=0;w<o.edges.length;w++)b.push(o.edges[w]);for(var k=0;k<b.length;k++){for(var _=b[k],x=this._getConnectedId(_,t),E=this.clusteredNodes[x],O=0;O<_.clusteringEdgeReplacingIds.length;O++){var C=_.clusteringEdgeReplacingIds[O],S=this.body.edges[C];if(void 0!==S)if(void 0!==E){var T=this.body.nodes[E.clusterId];T.containedEdges[S.id]=S,delete d[S.id];var M=S.fromId,P=S.toId;S.toId==x?P=E.clusterId:M=E.clusterId,this._createClusteredEdge(M,P,S,T.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(S)}_.remove()}for(var D in d)Object.prototype.hasOwnProperty.call(d,D)&&this._restoreEdge(d[D]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.push(this.body.nodes[o].id)}return e}},{key:"findNode",value:function(t){for(var e,i=[],o=0;void 0!==this.clusteredNodes[t]&&o<100;){if(void 0===(e=this.body.nodes[t]))return[];i.push(e.id),t=this.clusteredNodes[t].clusterId,o++}return void 0===(e=this.body.nodes[t])?[]:(i.push(e.id),Uu(i).call(i),i)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),o=0;o<i.length;o++){this.body.edges[i[o]].setOptions(e)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return Uu(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],o=[],n=0;e.length>0&&n<100;){var r=e.pop();if(void 0!==r){var s=this.body.edges[r];if(void 0!==s){n++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)o.push(r);else for(var h=0;h<a.length;++h){var d=a[h];-1===zp(e).call(e,a)&&-1===zp(i).call(i,a)&&e.push(d)}i.push(r)}}}return o}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,o=0,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>o&&(o=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),i+=1}t/=i;var s=(e/=i)-Math.pow(t,2),a=Math.sqrt(s),h=Math.floor(t+2*a);return h>o&&(h=o),h}},{key:"_createClusteredEdge",value:function(t,e,i,o,n){var r=Gx.cloneOptions(i,"edge");Ry(r,o),r.from=t,r.to=e,r.id="clusterEdge:"+Xx(),void 0!==n&&Ry(r,n);var s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,i,o){if(e instanceof Sx){var n=e,r={};r[n.id]=n,e=r}if(t instanceof M_){var s=t,a={};a[s.id]=s,t=a}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var h in void 0===o&&(o=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,o),e)if(Object.prototype.hasOwnProperty.call(e,h)&&void 0!==this.body.edges[h]){var d=this.body.edges[h];this._backupEdgeOptions(d),d.setOptions({physics:!1})}for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(this.clusteredNodes[l]={clusterId:i.id,node:this.body.nodes[l]},this.body.nodes[l].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return Wy(t,(function(t){e(t)&&i.push(t)})),i}},{key:"_updateState",value:function(){var t,e=this,i=[],o={},n=function(t){Wy(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes){if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,t))void 0===this.body.nodes[t]&&i.push(t)}n((function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]}));for(var r=0;r<i.length;r++)delete this.clusteredNodes[i[r]];Wy(this.clusteredEdges,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||(o[t]=t)})),n((function(t){Wy(t.containedEdges,(function(t,e){t.endPointsValid()||o[e]||(o[e]=e)}))})),Wy(this.body.edges,(function(t,i){var n=!0,r=t.clusteringEdgeReplacingIds;if(void 0!==r){var s=0;Wy(r,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(s+=1)})),n=s>0}t.endPointsValid()&&n||(o[i]=i)})),n((function(t){Wy(o,(function(i){delete t.containedEdges[i],Wy(t.edges,(function(n,r){n.id!==i?n.clusteringEdgeReplacingIds=e._filter(n.clusteringEdgeReplacingIds,(function(t){return!o[t]})):t.edges[r]=null})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),Wy(o,(function(t){delete e.clusteredEdges[t]})),Wy(o,(function(t){delete e.body.edges[t]})),Wy(mu(this.body.edges),(function(t){var i=e.body.edges[t],o=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(o!==e._isClusteredEdge(i.id))if(o){var n=e._getClusterNodeForNode(i.fromId);void 0!==n&&e._clusterEdges(e.body.nodes[i.fromId],i,n);var r=e._getClusterNodeForNode(i.toId);void 0!==r&&e._clusterEdges(e.body.nodes[i.toId],i,r)}else delete e._clusterEdges[t],e._restoreEdge(i)}));for(var s=!1,a=!0,h=function(){var t=[];n((function(e){var i=mu(e.containedNodes).length,o=!0===e.options.allowSingleNodeCluster;(o&&i<1||!o&&i<2)&&t.push(e.id)}));for(var i=0;i<t.length;++i)e.openCluster(t[i],{},!1);a=t.length>0,s=s||a};a;)h();s&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();function Qx(t,e){var i=void 0!==tu&&oh(t)||t["@@iterator"];if(!i){if(hu(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return Jx(t,e);var o=au(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return ja(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Jx(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Jx(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var tE=function(){function t(e,i){var o;Xl(this,t),void 0!==window&&(o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===o?function(t){t()}:o,this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},fo(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=bv((function(){var t;e.zooming=!1,Fo(t=e._requestRedraw).call(t,e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",Fo(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(t){if(void 0!==t){Ny(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i,o=window;return!0===this.requiresTimeout?i=bv(t,e):o.requestAnimationFrame&&(i=o.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&(void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(Fo(t=this._renderStep).call(t,this),this.simulationInterval)))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),o=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,o,n),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var r=this._drawNodes(i,t),s=r.drawExternalLabels;e.drawExternalLabels=s}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,o,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,i=this.body.nodes;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&((e=i[o]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.nodes,r=this.body.nodeIndices,s=[],a=[],h=20,d=this.canvas.DOMtoCanvas({x:-h,y:-h}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+h,y:this.canvas.frame.canvas.clientHeight+h}),c={top:d.y,left:d.x,bottom:l.y,right:l.x},u=[],f=0;f<r.length;f++)if((e=n[r[f]]).hover)a.push(r[f]);else if(e.isSelected())s.push(r[f]);else if(!0===o){var p=e.draw(t);null!=p.drawExternalLabel&&u.push(p.drawExternalLabel)}else if(!0===e.isBoundingBoxOverlappingWith(c)){var v=e.draw(t);null!=v.drawExternalLabel&&u.push(v.drawExternalLabel)}else e.updateBoundingBox(t,e.selected);var g=s.length,y=a.length;for(i=0;i<g;i++){var m=(e=n[s[i]]).draw(t);null!=m.drawExternalLabel&&u.push(m.drawExternalLabel)}for(i=0;i<y;i++){var b=(e=n[a[i]]).draw(t);null!=b.drawExternalLabel&&u.push(b.drawExternalLabel)}return{drawExternalLabels:function(){var t,e=Qx(u);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(t){e.e(t)}finally{e.f()}}}}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=0;o<i.length;o++){var n=e[i[o]];!0===n.connected&&n.draw(t)}}},{key:"_drawArrows",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=0;o<i.length;o++){var n=e[i[o]];!0===n.connected&&n.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=zp(t).call(t,"msie 9.0")||-1!=zp(t).call(t,"safari")&&zp(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),t}(),eE=G.setInterval;function iE(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function oE(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}var nE=function(){function t(e){Xl(this,t),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},fo(this.options,this.defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",Fo(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(t){var e,i,o,n,r,s=this;if(void 0!==t){Ny(["width","height","autoResize"],this.options,t)}if(this._cleanUp(),!0===this.options.autoResize){var a;if(window.ResizeObserver){var h=new ResizeObserver((function(){!0===s.setSize()&&s.body.emitter.emit("_requestRedraw")})),d=this.frame;h.observe(d),this._cleanupCallbacks.push((function(){h.unobserve(d)}))}else{var l=eE((function(){!0===s.setSize()&&s.body.emitter.emit("_requestRedraw")}),1e3);this._cleanupCallbacks.push((function(){clearInterval(l)}))}var c=Fo(a=this._onResize).call(a,this);e=window,i="resize",o=c,e.addEventListener?(void 0===n&&(n=!1),"mousewheel"===i&&zf(r=navigator.userAgent).call(r,"Firefox")&&(i="DOMMouseScroll"),e.addEventListener(i,o,n)):e.attachEvent("on"+i,o),this._cleanupCallbacks.push((function(){!function(t,e,i,o){var n;t.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&zf(n=navigator.userAgent).call(n,"Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,o)):t.detachEvent("on"+e,i)}(window,"resize",c)}))}}},{key:"_cleanUp",value:function(){var t,e,i;Fu(t=Uu(e=uf(i=this._cleanupCallbacks).call(i,0)).call(e)).call(t,(function(t){try{t()}catch(t){console.error(t)}}))}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var o=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),n={x:o.x-this.cameraState.position.x,y:o.y-this.cameraState.position.y};this.body.view.translation.x+=n.x*this.body.view.scale,this.body.view.translation.y+=n.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==zp(t).call(t,"%")||-1!==zp(t).call(t,"px"))return t;if(-1===zp(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new pm(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:pm.DIRECTION_ALL}),iE(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("wheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new pm(this.frame),oE(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,o=this.frame.canvas.width,n=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(r),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(n/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();function rE(t,e){var i=fo({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!hu(i.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===i.nodes.length&&(i.nodes=e),!("number"==typeof i.minZoomLevel&&i.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof i.maxZoomLevel&&i.minZoomLevel<=i.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return i}var sE=function(){function t(e,i){var o,n,r=this;Xl(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Fo(o=this.fit).call(o,this)),this.body.emitter.on("animationFinished",(function(){r.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",Fo(n=this.releaseNode).call(n,this))}return $l(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=rE(t,this.body.nodeIndices);var i,o,n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(0===n||0===r)o=1,i=Gx.getRange(this.body.nodes,t.nodes);else if(!0===e){var s=0;for(var a in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,a)){var h=this.body.nodes[a];!0===h.predefinedPosition&&(s+=1)}if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=Gx.getRange(this.body.nodes,t.nodes);var d=this.body.nodeIndices.length;o=12.662/(d+7.4147)+.0964822;var l=Math.min(n/600,r/600);o*=l}else{this.body.emitter.emit("_resizeNodes"),i=Gx.getRange(this.body.nodes,t.nodes);var c=1.1*Math.abs(i.maxX-i.minX),u=1.1*Math.abs(i.maxY-i.minY),f=n/c,p=r/u;o=f<=p?f:p}o>t.maxZoomLevel?o=t.maxZoomLevel:o<t.minZoomLevel&&(o=t.minZoomLevel);var v=Gx.findCenter(i),g={position:v,scale:o,animation:t.animation};this.moveTo(g)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!Mw(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!Mw(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!Mw(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!Mw(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,i,o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=o.x-t.position.x,r=o.y-t.position.y;if(this.targetTranslation={x:this.sourceTranslation.x+n*this.targetScale+t.offset.x,y:this.sourceTranslation.y+r*this.targetScale+t.offset.y},0===t.animation.duration)if(null!=this.lockedOnNodeId)this.viewFunction=Fo(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction);else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Fo(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o=i.x-t,n=i.y-e,r=this.body.view.translation,s={x:r.x+o*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+n*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=em[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1){var i;if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId)this.viewFunction=Fo(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();function aE(t){var e,i=t&&t.preventDefault||!1,o=t&&t.container||window,n={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},h=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==r[e][t.keyCode]){for(var o=r[e][t.keyCode],n=0;n<o.length;n++)(void 0===o[n].shift||1==o[n].shift&&1==t.shiftKey||0==o[n].shift&&0==t.shiftKey)&&o[n].fn(t);1==i&&t.preventDefault()}};return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},n.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],n=r[i][s[t].code];if(void 0!==n)for(var a=0;a<n.length;a++)n[a].fn==e&&n[a].shift==s[t].shift||o.push(r[i][s[t].code][a]);r[i][s[t].code]=o}else r[i][s[t].code]=[]},n.reset=function(){r={keydown:{},keyup:{}}},n.destroy=function(){r={keydown:{},keyup:{}},o.removeEventListener("keydown",a,!0),o.removeEventListener("keyup",h,!0)},o.addEventListener("keydown",a,!0),o.addEventListener("keyup",h,!0),n}var hE=function(){function t(e,i){var o=this;Xl(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){o.activated=!0,o.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){o.activated=!1,o.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==o.keycharm&&o.keycharm.destroy()})),this.options={}}return $l(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);var n,r,s=new pm(this.navigationDOM[e[o]]);if("_fit"===i[o])iE(s,Fo(n=this._fit).call(n,this));else iE(s,Fo(r=this.bindToRedraw).call(r,this,i[o]));this.navigationHammers.push(s)}var a=new pm(this.canvas.frame);oE(a,(function(){t._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Fo(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,o=e/t,n=(1-o)*this.canvas.canvasViewCenter.x+i.x*o,r=(1-o)*this.canvas.canvasViewCenter.y+i.y*o;this.body.view.scale=e,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,o=e/t,n=(1-o)*this.canvas.canvasViewCenter.x+i.x*o,r=(1-o)*this.canvas.canvasViewCenter.y+i.y*o;this.body.view.scale=e,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,i,o,n,r,s,a,h,d,l,c,u,f,p,v,g,y,m,b,w,k,_,x,E=this;(void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled)&&(!0===this.options.keyboard.bindToWindow?this.keycharm=aE({container:window,preventDefault:!0}):this.keycharm=aE({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Fo(t=this.keycharm).call(t,"up",(function(){E.bindToRedraw("_moveUp")}),"keydown"),Fo(e=this.keycharm).call(e,"down",(function(){E.bindToRedraw("_moveDown")}),"keydown"),Fo(i=this.keycharm).call(i,"left",(function(){E.bindToRedraw("_moveLeft")}),"keydown"),Fo(o=this.keycharm).call(o,"right",(function(){E.bindToRedraw("_moveRight")}),"keydown"),Fo(n=this.keycharm).call(n,"=",(function(){E.bindToRedraw("_zoomIn")}),"keydown"),Fo(r=this.keycharm).call(r,"num+",(function(){E.bindToRedraw("_zoomIn")}),"keydown"),Fo(s=this.keycharm).call(s,"num-",(function(){E.bindToRedraw("_zoomOut")}),"keydown"),Fo(a=this.keycharm).call(a,"-",(function(){E.bindToRedraw("_zoomOut")}),"keydown"),Fo(h=this.keycharm).call(h,"[",(function(){E.bindToRedraw("_zoomOut")}),"keydown"),Fo(d=this.keycharm).call(d,"]",(function(){E.bindToRedraw("_zoomIn")}),"keydown"),Fo(l=this.keycharm).call(l,"pageup",(function(){E.bindToRedraw("_zoomIn")}),"keydown"),Fo(c=this.keycharm).call(c,"pagedown",(function(){E.bindToRedraw("_zoomOut")}),"keydown"),Fo(u=this.keycharm).call(u,"up",(function(){E.unbindFromRedraw("_moveUp")}),"keyup"),Fo(f=this.keycharm).call(f,"down",(function(){E.unbindFromRedraw("_moveDown")}),"keyup"),Fo(p=this.keycharm).call(p,"left",(function(){E.unbindFromRedraw("_moveLeft")}),"keyup"),Fo(v=this.keycharm).call(v,"right",(function(){E.unbindFromRedraw("_moveRight")}),"keyup"),Fo(g=this.keycharm).call(g,"=",(function(){E.unbindFromRedraw("_zoomIn")}),"keyup"),Fo(y=this.keycharm).call(y,"num+",(function(){E.unbindFromRedraw("_zoomIn")}),"keyup"),Fo(m=this.keycharm).call(m,"num-",(function(){E.unbindFromRedraw("_zoomOut")}),"keyup"),Fo(b=this.keycharm).call(b,"-",(function(){E.unbindFromRedraw("_zoomOut")}),"keyup"),Fo(w=this.keycharm).call(w,"[",(function(){E.unbindFromRedraw("_zoomOut")}),"keyup"),Fo(k=this.keycharm).call(k,"]",(function(){E.unbindFromRedraw("_zoomIn")}),"keyup"),Fo(_=this.keycharm).call(_,"pageup",(function(){E.unbindFromRedraw("_zoomIn")}),"keyup"),Fo(x=this.keycharm).call(x,"pagedown",(function(){E.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();function dE(t,e){var i=void 0!==tu&&oh(t)||t["@@iterator"];if(!i){if(hu(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return lE(t,e);var o=au(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return ja(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lE(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function lE(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var cE=function(){function t(e,i,o){var n,r,s,a,h,d,l,c,u,f,p,v,g;Xl(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.navigationHandler=new hE(e,i),this.body.eventListeners.onTap=Fo(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=Fo(r=this.onTouch).call(r,this),this.body.eventListeners.onDoubleTap=Fo(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Fo(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=Fo(h=this.onDragStart).call(h,this),this.body.eventListeners.onDrag=Fo(d=this.onDrag).call(d,this),this.body.eventListeners.onDragEnd=Fo(l=this.onDragEnd).call(l,this),this.body.eventListeners.onMouseWheel=Fo(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=Fo(u=this.onPinch).call(u,this),this.body.eventListeners.onMouseMove=Fo(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=Fo(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Fo(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Fo(g=this.getPointer).call(g,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},fo(this.options,this.defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){if(void 0!==t){Ay(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),tm(this.options,t,"keyboard"),t.tooltip&&(fo(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=Yy(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-Hy(this.canvas.frame.canvas)};var e}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===e?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],o=0;o<t.length;o++){var n=t[o];-1===zp(e).call(e,n)&&i.push(n)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=fo({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var o,n=dE(this.selectionHandler.getSelectedNodes());try{for(n.s();!(o=n.n()).done;){var r=o.value,s={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(s)}}catch(t){n.e(t)}finally{n.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),o=this.drag.selection;if(o&&o.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,i);var n=i.x-this.drag.pointer.x,r=i.y-this.drag.pointer.y;Fu(o).call(o,(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+n)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+r))})),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=i.x-this.drag.pointer.x,a=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var e=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var o=this.body.selectionBox.position,n={minX:Math.min(o.start.x,o.end.x),minY:Math.min(o.start.y,o.end.y),maxX:Math.max(o.start.x,o.end.x),maxY:Math.max(o.start.y,o.end.y)},r=Yf(i=this.body.nodeIndices).call(i,(function(t){var i=e.body.nodes[t];return i.x>=n.minX&&i.x<=n.maxX&&i.y>=n.minY&&i.y<=n.maxY}));Fu(r).call(r,(function(t){return e.selectionHandler.selectObject(e.body.nodes[t])}));var s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var a=this.drag.selection;a&&a.length?(Fu(a).call(a,(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var o=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(o=this.canvas.DOMtoCanvas(this.drag.pointer));var n=this.body.view.translation,r=t/i,s=(1-r)*e.x+n.x*r,a=(1-r)*e.y+n.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=o){var h=this.canvas.canvasToDOM(o);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),o=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(o=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===o&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=bv((function(){return e._checkShowPopup(i)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),o={left:e,top:i,right:e,bottom:i},n=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a,h=this.body.nodeIndices,d=this.body.nodes,l=[],c=0;c<h.length;c++)!0===(a=d[h[c]]).isOverlappingWith(o)&&(r=!0,void 0!==a.getTitle()&&l.push(h[c]));l.length>0&&(this.popupObj=d[l[l.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var u,f=this.body.edgeIndices,p=this.body.edges,v=[],g=0;g<f.length;g++)!0===(u=p[f[g]]).isOverlappingWith(o)&&!0===u.connected&&void 0!==u.getTitle()&&v.push(f[g]);v.length>0&&(this.popupObj=p[v[v.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==n&&(void 0===this.popup&&(this.popup=new vm(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var o=this.selectionHandler.getNodeAt(t);i=void 0!==o&&o.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();nw("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),xw);var uE=G.Set,fE=y,pE=sw,vE=ib.exports.getWeakData,gE=Ze,yE=X,mE=Wb,bE=jb,wE=Vt,kE=Un.set,_E=Un.getterFor,xE=Vh.find,EE=Vh.findIndex,OE=fE([].splice),CE=0,SE=function(t){return t.frozen||(t.frozen=new TE)},TE=function(){this.entries=[]},ME=function(t,e){return xE(t.entries,(function(t){return t[0]===e}))};TE.prototype={get:function(t){var e=ME(this,t);if(e)return e[1]},has:function(t){return!!ME(this,t)},set:function(t,e){var i=ME(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=EE(this.entries,(function(e){return e[0]===t}));return~e&&OE(this.entries,e,1),!!~e}};var PE,DE={getConstructor:function(t,e,i,o){var n=t((function(t,n){mE(t,r),kE(t,{type:e,id:CE++,frozen:void 0}),null!=n&&bE(n,t[o],{that:t,AS_ENTRIES:i})})),r=n.prototype,s=_E(e),a=function(t,e,i){var o=s(t),n=vE(gE(e),!0);return!0===n?SE(o).set(e,i):n[o.id]=i,t};return pE(r,{delete:function(t){var e=s(this);if(!yE(t))return!1;var i=vE(t);return!0===i?SE(e).delete(t):i&&wE(i,e.id)&&delete i[e.id]},has:function(t){var e=s(this);if(!yE(t))return!1;var i=vE(t);return!0===i?SE(e).has(t):i&&wE(i,e.id)}}),pE(r,i?{get:function(t){var e=s(this);if(yE(t)){var i=vE(t);return!0===i?SE(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),n}},BE=n,IE=y,zE=sw,FE=ib.exports,NE=nw,AE=DE,RE=X,jE=db,LE=Un.enforce,HE=xn,WE=!BE.ActiveXObject&&"ActiveXObject"in BE,VE=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},qE=NE("WeakMap",VE,AE);if(HE&&WE){PE=AE.getConstructor(VE,"WeakMap",!0),FE.enable();var UE=qE.prototype,YE=IE(UE.delete),XE=IE(UE.has),GE=IE(UE.get),KE=IE(UE.set);zE(UE,{delete:function(t){if(RE(t)&&!jE(t)){var e=LE(this);return e.frozen||(e.frozen=new PE),YE(this,t)||e.frozen.delete(t)}return YE(this,t)},has:function(t){if(RE(t)&&!jE(t)){var e=LE(this);return e.frozen||(e.frozen=new PE),XE(this,t)||e.frozen.has(t)}return XE(this,t)},get:function(t){if(RE(t)&&!jE(t)){var e=LE(this);return e.frozen||(e.frozen=new PE),XE(this,t)?GE(this,t):e.frozen.get(t)}return GE(this,t)},set:function(t,e){if(RE(t)&&!jE(t)){var i=LE(this);i.frozen||(i.frozen=new PE),XE(this,t)?KE(this,t,e):i.frozen.set(t,e)}else KE(this,t,e);return this}})}var $E,ZE,QE,JE,tO,eO=G.WeakMap;
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */
function iO(t,e,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(t):o?o.value:e.get(t)}function oO(t,e,i,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(t,i):n?n.value=i:e.set(t,i),i}function nO(t,e){var i=void 0!==tu&&oh(t)||t["@@iterator"];if(!i){if(hu(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return rO(t,e);var o=au(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return ja(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return rO(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function rO(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function sO(t,e){var i,o=new uE,n=nO(e);try{for(n.s();!(i=n.n()).done;){var r=i.value;t.has(r)||o.add(r)}}catch(t){n.e(t)}finally{n.f()}return o}var aO=function(){function t(){Xl(this,t),$E.set(this,new uE),ZE.set(this,new uE)}return $l(t,[{key:"size",get:function(){return iO(this,ZE,"f").size}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var o=0,n=e;o<n.length;o++){var r=n[o];iO(this,ZE,"f").add(r)}}},{key:"delete",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var o=0,n=e;o<n.length;o++){var r=n[o];iO(this,ZE,"f").delete(r)}}},{key:"clear",value:function(){iO(this,ZE,"f").clear()}},{key:"getSelection",value:function(){return Jc(iO(this,ZE,"f"))}},{key:"getChanges",value:function(){return{added:Jc(sO(iO(this,$E,"f"),iO(this,ZE,"f"))),deleted:Jc(sO(iO(this,ZE,"f"),iO(this,$E,"f"))),previous:Jc(new uE(iO(this,$E,"f"))),current:Jc(new uE(iO(this,ZE,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();oO(this,$E,iO(this,ZE,"f"),"f"),oO(this,ZE,new uE(iO(this,$E,"f")),"f");var e,i=nO(t.added);try{for(i.s();!(e=i.n()).done;){e.value.select()}}catch(t){i.e(t)}finally{i.f()}var o,n=nO(t.deleted);try{for(n.s();!(o=n.n()).done;){o.value.unselect()}}catch(t){n.e(t)}finally{n.f()}return t}}]),t}();$E=new eO,ZE=new eO;var hO=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Xl(this,t),QE.set(this,new aO),JE.set(this,new aO),tO.set(this,void 0),oO(this,tO,e,"f")}return $l(t,[{key:"sizeNodes",get:function(){return iO(this,QE,"f").size}},{key:"sizeEdges",get:function(){return iO(this,JE,"f").size}},{key:"getNodes",value:function(){return iO(this,QE,"f").getSelection()}},{key:"getEdges",value:function(){return iO(this,JE,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=iO(this,QE,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=iO(this,JE,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){iO(this,QE,"f").delete(t)}},{key:"deleteEdges",value:function(t){iO(this,JE,"f").delete(t)}},{key:"clear",value:function(){iO(this,QE,"f").clear(),iO(this,JE,"f").clear()}},{key:"commit",value:function(){for(var t,e,i={nodes:iO(this,QE,"f").commit(),edges:iO(this,JE,"f").commit()},o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=iO(this,tO,"f")).call.apply(t,su(e=[this,i]).call(e,n)),i}}]),t}();function dO(t,e){var i=void 0!==tu&&oh(t)||t["@@iterator"];if(!i){if(hu(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return lO(t,e);var o=au(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return ja(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lO(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function lO(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}QE=new eO,JE=new eO,tO=new eO;var cO=function(){function t(e,i){var o=this;Xl(this,t),this.body=e,this.canvas=i,this._selectionAccumulator=new hO,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},fo(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){o.updateSelection()}))}return $l(t,[{key:"setOptions",value:function(t){if(void 0!==t){Ny(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"generateClickEvent",value:function(t,e,i,o){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this._initBaseEvent(e,i);if(!0===n)r.nodes=[],r.edges=[];else{var s=this.getSelection();r.nodes=s.nodes,r.edges=s.edges}void 0!==o&&(r.previousSelection=o),"click"==t&&(r.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(r.controlEdge=e.controlEdge),this.body.emitter.emit(t,r)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;if(void 0!==t){if(t instanceof M_){var i;if(!0===e)(i=this._selectionAccumulator).addEdges.apply(i,Jc(t.edges));this._selectionAccumulator.addNodes(t)}else this._selectionAccumulator.addEdges(t);return!0}return!1}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(i);return o.length>0?!0===e?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n=this.body.edgeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),o=10,n=null,r=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],h=r[a];if(h.connected){var d=h.from.x,l=h.from.y,c=h.to.x,u=h.to.y,f=h.edgeType.getDistanceToEdge(d,l,c,u,i.x,i.y);f<o&&(n=a,o=f)}}return null!==n?!0===e?this.body.edges[n]:n:void 0}},{key:"_addToHover",value:function(t){t instanceof M_?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){var e;t instanceof M_?(this._selectionAccumulator.deleteNodes(t),(e=this._selectionAccumulator).deleteEdges.apply(e,Jc(t.edges))):this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var o=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof M_?(o.node=i.id,this.body.emitter.emit("blurNode",o)):(o.edge=i.id,this.body.emitter.emit("blurEdge",o)))}},{key:"emitHoverEvent",value:function(t,e,i){var o=this._initBaseEvent(t,e),n=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),n=!0,i instanceof M_?(o.node=i.id,this.body.emitter.emit("hoverNode",o)):(o.edge=i.id,this.body.emitter.emit("hoverEdge",o))),n}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var o=!1;for(var n in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,n)&&(void 0===i||i instanceof M_&&i.id!=n||i instanceof Sx)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[n]),delete this.hoverObj.nodes[n],o=!0);for(var r in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,r)&&(!0===o?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===i||i instanceof Sx&&i.id!=r||i instanceof M_&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],o=!0));if(void 0!==i){var s=mu(this.hoverObj.edges).length,a=mu(this.hoverObj.nodes).length;(o||i instanceof Sx&&0===s&&0===a||i instanceof M_&&0===s&&0===a)&&(o=this.emitHoverEvent(t,e,i)),i instanceof M_&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===o&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,e){var i=!1,o=this._selectionAccumulator.commit(),n={nodes:o.nodes.previous,edges:o.edges.previous};o.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,n),i=!0),o.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,n),i=!0),o.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),o.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return vu(t=this._selectionAccumulator.getNodes()).call(t,(function(t){return t.id}))}},{key:"getSelectedEdgeIds",value:function(){var t;return vu(t=this._selectionAccumulator.getEdges()).call(t,(function(t){return t.id}))}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes){var i,o=dO(t.nodes);try{for(o.s();!(i=o.n()).done;){var n=i.value,r=this.body.nodes[n];if(!r)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(r,e.highlightEdges)}}catch(t){o.e(t)}finally{o.f()}}if(t.edges){var s,a=dO(t.edges);try{for(a.s();!(s=a.n()).done;){var h=s.value,d=this.body.edges[h];if(!d)throw new RangeError('Edge with id "'+h+'" not found');this.selectObject(d)}}catch(t){a.e(t)}finally{a.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],o=this.body.nodeIndices,n=this.body.nodes,r=o.length-1;r>=0;r--){var s=n[o[r]].getItemsOnPoint(e);i.push.apply(i,s)}for(var a=this.body.edgeIndices,h=this.body.edges,d=a.length-1;d>=0;d--){var l=h[a[d]].getItemsOnPoint(e);i.push.apply(i,l)}return i}}]),t}(),uO=vh,fO=Math.floor,pO=function(t,e){var i=t.length,o=fO(i/2);return i<8?vO(t,e):gO(t,pO(uO(t,0,o),e),pO(uO(t,o),e),e)},vO=function(t,e){for(var i,o,n=t.length,r=1;r<n;){for(o=r,i=t[r];o&&e(t[o-1],i)>0;)t[o]=t[--o];o!==r++&&(t[o]=i)}return t},gO=function(t,e,i,o){for(var n=e.length,r=i.length,s=0,a=0;s<n||a<r;)t[s+a]=s<n&&a<r?o(e[s],i[a])<=0?e[s++]:i[a++]:s<n?e[s++]:i[a++];return t},yO=pO,mO=et.match(/firefox\/(\d+)/i),bO=!!mO&&+mO[1],wO=/MSIE|Trident/.test(et),kO=et.match(/AppleWebKit\/(\d+)\./),_O=!!kO&&+kO[1],xO=xi,EO=y,OO=Et,CO=Lt,SO=zi,TO=on,MO=r,PO=yO,DO=Ou,BO=bO,IO=wO,zO=ht,FO=_O,NO=[],AO=EO(NO.sort),RO=EO(NO.push),jO=MO((function(){NO.sort(void 0)})),LO=MO((function(){NO.sort(null)})),HO=DO("sort"),WO=!MO((function(){if(zO)return zO<70;if(!(BO&&BO>3)){if(IO)return!0;if(FO)return FO<603;var t,e,i,o,n="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(o=0;o<47;o++)NO.push({k:e+o,v:i})}for(NO.sort((function(t,e){return e.v-t.v})),o=0;o<NO.length;o++)e=NO[o].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}}));xO({target:"Array",proto:!0,forced:jO||!LO||!HO||!WO},{sort:function(t){void 0!==t&&OO(t);var e=CO(this);if(WO)return void 0===t?AO(e):AO(e,t);var i,o,n=[],r=SO(e);for(o=0;o<r;o++)o in e&&RO(n,e[o]);for(PO(n,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:TO(e)>TO(i)?1:-1}}(t)),i=n.length,o=0;o<i;)e[o]=n[o++];for(;o<r;)delete e[o++];return e}});var VO=Mo("Array").sort,qO=tt,UO=VO,YO=Array.prototype,XO=function(t){var e=t.sort;return t===YO||qO(YO,t)&&e===YO.sort?UO:e},GO=XO,KO=Et,$O=Lt,ZO=L,QO=zi,JO=n.TypeError,tC=function(t){return function(e,i,o,n){KO(i);var r=$O(e),s=ZO(r),a=QO(r),h=t?a-1:0,d=t?-1:1;if(o<2)for(;;){if(h in s){n=s[h],h+=d;break}if(h+=d,t?h<0:a<=h)throw JO("Reduce of empty array with no initial value")}for(;t?h>=0:a>h;h+=d)h in s&&(n=i(n,s[h],h,r));return n}},eC={left:tC(!1),right:tC(!0)},iC="process"==z(n.process),oC=eC.left,nC=ht,rC=iC;xi({target:"Array",proto:!0,forced:!Ou("reduce")||!rC&&nC>79&&nC<83},{reduce:function(t){var e=arguments.length;return oC(this,t,e,e>1?arguments[1]:void 0)}});var sC=Mo("Array").reduce,aC=tt,hC=sC,dC=Array.prototype,lC=function(t){var e=t.reduce;return t===dC||aC(dC,t)&&e===dC.reduce?hC:e},cC=lC,uC={};!function(t){!function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.sort=v;var i=32,o=7,n=256,r=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function s(t){return t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9}function a(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(0===t||0===e)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}var i=s(t),o=s(e),n=0;return i<o?(t*=r[o-i-1],e/=10,n=-1):i>o&&(e*=r[i-o-1],t/=10,n=1),t===e?n:t<e?-1:1}var a=String(t),h=String(e);return a===h?0:a<h?-1:1}function h(t){for(var e=0;t>=i;)e|=1&t,t>>=1;return t+e}function d(t,e,i,o){var n=e+1;if(n===i)return 1;if(o(t[n++],t[e])<0){for(;n<i&&o(t[n],t[n-1])<0;)n++;l(t,e,n)}else for(;n<i&&o(t[n],t[n-1])>=0;)n++;return n-e}function l(t,e,i){for(i--;e<i;){var o=t[e];t[e++]=t[i],t[i--]=o}}function c(t,e,i,o,n){for(o===e&&o++;o<i;o++){for(var r=t[o],s=e,a=o;s<a;){var h=s+a>>>1;n(r,t[h])<0?a=h:s=h+1}var d=o-s;switch(d){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;d>0;)t[s+d]=t[s+d-1],d--}t[s]=r}}function u(t,e,i,o,n,r){var s=0,a=0,h=1;if(r(t,e[i+n])>0){for(a=o-n;h<a&&r(t,e[i+n+h])>0;)s=h,(h=1+(h<<1))<=0&&(h=a);h>a&&(h=a),s+=n,h+=n}else{for(a=n+1;h<a&&r(t,e[i+n-h])<=0;)s=h,(h=1+(h<<1))<=0&&(h=a);h>a&&(h=a);var d=s;s=n-h,h=n-d}for(s++;s<h;){var l=s+(h-s>>>1);r(t,e[i+l])>0?s=l+1:h=l}return h}function f(t,e,i,o,n,r){var s=0,a=0,h=1;if(r(t,e[i+n])<0){for(a=n+1;h<a&&r(t,e[i+n-h])<0;)s=h,(h=1+(h<<1))<=0&&(h=a);h>a&&(h=a);var d=s;s=n-h,h=n-d}else{for(a=o-n;h<a&&r(t,e[i+n+h])>=0;)s=h,(h=1+(h<<1))<=0&&(h=a);h>a&&(h=a),s+=n,h+=n}for(s++;s<h;){var l=s+(h-s>>>1);r(t,e[i+l])<0?h=l:s=l+1}return h}var p=function(){function t(i,r){e(this,t),this.array=null,this.compare=null,this.minGallop=o,this.length=0,this.tmpStorageLength=n,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=i,this.compare=r,this.length=i.length,this.length<2*n&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return t.prototype.pushRun=function(t,e){this.runStart[this.stackSize]=t,this.runLength[this.stackSize]=e,this.stackSize+=1},t.prototype.mergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;if(t>=1&&this.runLength[t-1]<=this.runLength[t]+this.runLength[t+1]||t>=2&&this.runLength[t-2]<=this.runLength[t]+this.runLength[t-1])this.runLength[t-1]<this.runLength[t+1]&&t--;else if(this.runLength[t]>this.runLength[t+1])break;this.mergeAt(t)}},t.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;t>0&&this.runLength[t-1]<this.runLength[t+1]&&t--,this.mergeAt(t)}},t.prototype.mergeAt=function(t){var e=this.compare,i=this.array,o=this.runStart[t],n=this.runLength[t],r=this.runStart[t+1],s=this.runLength[t+1];this.runLength[t]=n+s,t===this.stackSize-3&&(this.runStart[t+1]=this.runStart[t+2],this.runLength[t+1]=this.runLength[t+2]),this.stackSize--;var a=f(i[r],i,o,n,0,e);o+=a,0!=(n-=a)&&0!==(s=u(i[o+n-1],i,r,s,s-1,e))&&(n<=s?this.mergeLow(o,n,r,s):this.mergeHigh(o,n,r,s))},t.prototype.mergeLow=function(t,e,i,n){var r=this.compare,s=this.array,a=this.tmp,h=0;for(h=0;h<e;h++)a[h]=s[t+h];var d=0,l=i,c=t;if(s[c++]=s[l++],0!=--n)if(1!==e){for(var p=this.minGallop;;){var v=0,g=0,y=!1;do{if(r(s[l],a[d])<0){if(s[c++]=s[l++],g++,v=0,0==--n){y=!0;break}}else if(s[c++]=a[d++],v++,g=0,1==--e){y=!0;break}}while((v|g)<p);if(y)break;do{if(0!==(v=f(s[l],a,d,e,0,r))){for(h=0;h<v;h++)s[c+h]=a[d+h];if(c+=v,d+=v,(e-=v)<=1){y=!0;break}}if(s[c++]=s[l++],0==--n){y=!0;break}if(0!==(g=u(a[d],s,l,n,0,r))){for(h=0;h<g;h++)s[c+h]=s[l+h];if(c+=g,l+=g,0==(n-=g)){y=!0;break}}if(s[c++]=a[d++],1==--e){y=!0;break}p--}while(v>=o||g>=o);if(y)break;p<0&&(p=0),p+=2}if(this.minGallop=p,p<1&&(this.minGallop=1),1===e){for(h=0;h<n;h++)s[c+h]=s[l+h];s[c+n]=a[d]}else{if(0===e)throw new Error("mergeLow preconditions were not respected");for(h=0;h<e;h++)s[c+h]=a[d+h]}}else{for(h=0;h<n;h++)s[c+h]=s[l+h];s[c+n]=a[d]}else for(h=0;h<e;h++)s[c+h]=a[d+h]},t.prototype.mergeHigh=function(t,e,i,n){var r=this.compare,s=this.array,a=this.tmp,h=0;for(h=0;h<n;h++)a[h]=s[i+h];var d=t+e-1,l=n-1,c=i+n-1,p=0,v=0;if(s[c--]=s[d--],0!=--e)if(1!==n){for(var g=this.minGallop;;){var y=0,m=0,b=!1;do{if(r(a[l],s[d])<0){if(s[c--]=s[d--],y++,m=0,0==--e){b=!0;break}}else if(s[c--]=a[l--],m++,y=0,1==--n){b=!0;break}}while((y|m)<g);if(b)break;do{if(0!=(y=e-f(a[l],s,t,e,e-1,r))){for(e-=y,v=1+(c-=y),p=1+(d-=y),h=y-1;h>=0;h--)s[v+h]=s[p+h];if(0===e){b=!0;break}}if(s[c--]=a[l--],1==--n){b=!0;break}if(0!=(m=n-u(s[d],a,0,n,n-1,r))){for(n-=m,v=1+(c-=m),p=1+(l-=m),h=0;h<m;h++)s[v+h]=a[p+h];if(n<=1){b=!0;break}}if(s[c--]=s[d--],0==--e){b=!0;break}g--}while(y>=o||m>=o);if(b)break;g<0&&(g=0),g+=2}if(this.minGallop=g,g<1&&(this.minGallop=1),1===n){for(v=1+(c-=e),p=1+(d-=e),h=e-1;h>=0;h--)s[v+h]=s[p+h];s[c]=a[l]}else{if(0===n)throw new Error("mergeHigh preconditions were not respected");for(p=c-(n-1),h=0;h<n;h++)s[p+h]=a[h]}}else{for(v=1+(c-=e),p=1+(d-=e),h=e-1;h>=0;h--)s[v+h]=s[p+h];s[c]=a[l]}else for(p=c-(n-1),h=0;h<n;h++)s[p+h]=a[h]},t}();function v(t,e,o,n){if(!Array.isArray(t))throw new TypeError("Can only sort arrays");e?"function"!=typeof e&&(n=o,o=e,e=a):e=a,o||(o=0),n||(n=t.length);var r=n-o;if(!(r<2)){var s=0;if(r<i)c(t,o,n,o+(s=d(t,o,n,e)),e);else{var l=new p(t,e),u=h(r);do{if((s=d(t,o,n,e))<u){var f=r;f>u&&(f=u),c(t,o,o+f,o+s,e),s=f}l.pushRun(o,s),l.mergeRuns(),r-=s,o+=s}while(0!==r);l.forceMergeRuns()}}}}(t)}(uC);var fC=uC;function pC(t){var e=function(){if("undefined"==typeof Reflect||!zk)return!1;if(zk.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(zk(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Hk(t);if(e){var n=Hk(this).constructor;i=zk(o,arguments,n)}else i=o.apply(this,arguments);return jk(this,i)}}var vC=function(){function t(){Xl(this,t)}return $l(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),gC=function(t){Rk(i,t);var e=pC(i);function i(t){var o;return Xl(this,i),(o=e.call(this)).layout=t,o}return $l(i,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){fC.sort(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),i}(vC),yC=function(t){Rk(i,t);var e=pC(i);function i(t){var o;return Xl(this,i),(o=e.call(this)).layout=t,o}return $l(i,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){fC.sort(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),i}(vC),mC=Vh.every;xi({target:"Array",proto:!0,forced:!Ou("every")},{every:function(t){return mC(this,t,arguments.length>1?arguments[1]:void 0)}});var bC=Mo("Array").every,wC=tt,kC=bC,_C=Array.prototype,xC=function(t){var e=t.every;return t===_C||wC(_C,t)&&e===_C.every?kC:e},EC=xC;function OC(t,e){var i=void 0!==tu&&oh(t)||t["@@iterator"];if(!i){if(hu(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return CC(t,e);var o=au(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return ja(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return CC(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function CC(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function SC(t,e){var i=new uE;return Fu(t).call(t,(function(t){var e;Fu(e=t.edges).call(e,(function(t){t.connected&&i.add(t)}))})),Fu(i).call(i,(function(t){var i=t.from.id,o=t.to.id;null==e[i]&&(e[i]=0),(null==e[o]||e[i]>=e[o])&&(e[o]=e[i]+1)})),e}function TC(t,e,i,o){var n,r,s=Hp(null),a=cC(n=Jc(lk(o).call(o))).call(n,(function(t,e){return t+1+e.edges.length}),0),h=i+"Id",d="to"===i?1:-1,l=OC(o);try{var c=function(){var n=$c(r.value,2),l=n[0],c=n[1];if(!o.has(l)||!t(c))return"continue";s[l]=0;for(var u=[c],f=0,p=void 0,v=function(){var t,n;if(!o.has(l))return"continue";var r=s[p.id]+d;if(Fu(t=Yf(n=p.edges).call(n,(function(t){return t.connected&&t.to!==t.from&&t[i]!==p&&o.has(t.toId)&&o.has(t.fromId)}))).call(t,(function(t){var o=t[h],n=s[o];(null==n||e(r,n))&&(s[o]=r,u.push(t[i]))})),f>a)return{v:{v:SC(o,s)}};++f};p=u.pop();){var g=v();if("continue"!==g&&"object"===Qc(g))return g.v}};for(l.s();!(r=l.n()).done;){var u=c();if("continue"!==u&&"object"===Qc(u))return u.v}}catch(t){l.e(t)}finally{l.f()}return s}var MC=function(){function t(){Xl(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return $l(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(o){if(void 0!==i[o])return i[o];var n=e.levels[o];if(e.childrenReference[o]){var r=e.childrenReference[o];if(r.length>0)for(var s=0;s<r.length;s++)n=Math.max(n,t(r[s]))}return i[o]=n,n}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&void 0!==this.levels[o]&&(this.levels[o]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,o=-1e9,n=1e9,r=-1e9;for(var s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),o=Math.max(a.x,o),n=Math.min(a.y,n),r=Math.max(a.y,r)}return{min_x:i,max_x:o,min_y:n,max_y:r}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],o=this.parentReference[e.id];if(void 0===i||void 0===o)return!1;for(var n=0;n<i.length;n++)for(var r=0;r<o.length;r++)if(i[n]==o[r])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return mu(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,o=this.distributionOrdering[e];for(var n in o)if(o[n]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),PC=function(){function t(e){Xl(this,t),this.body=e,this._resetRNG(Math.random()+":"+xu()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},fo(this.options,this.defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,o=i.enabled;if(Ny(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),tm(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===o&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===o)return this.body.emitter.emit("refresh"),Ry(e,this.optionsBackup)}return e}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=_y(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===Qc(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var o=t.edges.smooth;void 0!==o.type&&"dynamic"!==o.type&&(i=o.type),this.optionsBackup.edges={smooth:{enabled:void 0===o.enabled||o.enabled,type:void 0===o.type?"dynamic":o.type,roundness:void 0===o.roundness?.5:o.roundness,forceDirection:void 0!==o.forceDirection&&o.forceDirection}},t.edges.smooth={enabled:void 0===o.enabled||o.enabled,type:i,roundness:void 0===o.roundness?.5:o.roundness,forceDirection:void 0!==o.forceDirection&&o.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var e=t.length+50,i=0;i<t.length;i++){var o=t[i],n=2*Math.PI*this._rng();void 0===o.x&&(o.x=e*Math.cos(n)),void 0===o.y&&(o.y=e*Math.sin(n))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++){!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1)}if(e<.5*t.length){var o=0,n=this.options.clusterThreshold,r={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>n){for(var s=t.length;t.length>n&&o<=10;){o+=1;var a=t.length;if(o%3==0?this.body.modules.clustering.clusterBridges(r):this.body.modules.clustering.clusterOutliers(r),a==t.length&&o%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}o>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var h=0;h<t.length;h++){var d=this.body.nodes[t[h]];!1===d.predefinedPosition&&(d.x+=70*(.5-this._rng()),d.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=Gx.getRangeCore(this.body.nodes,this.body.nodeIndices),e=Gx.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];o.x-=e.x,o.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,i=!1,o=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new MC,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):o=!0);if(!0===o&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===o){var n=this.options.hierarchical.sortMethod;"hubsize"===n?this._determineLevelsByHubsize():"directed"===n?this._determineLevelsDirected():"custom"===n&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.hierarchical.ensureLevel(r);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},o=function(e,i){var o=t.hierarchical.trees;for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&o[n]===e&&t.direction.shift(n,i)},n=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e},r=function e(i,o){if(!o[i.id]&&(o[i.id]=!0,t.hierarchical.childrenReference[i.id])){var n=t.hierarchical.childrenReference[i.id];if(n.length>0)for(var r=0;r<n.length;r++)e(t.body.nodes[n[r]],o)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,o=1e9,n=1e9,r=1e9,s=-1e9;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var h=t.body.nodes[a],d=t.hierarchical.levels[h.id],l=t.direction.getPosition(h),c=t._getSpaceAroundNode(h,e),u=$c(c,2),f=u[0],p=u[1];o=Math.min(f,o),n=Math.min(p,n),d<=i&&(r=Math.min(l,r),s=Math.max(l,s))}return[r,s,o,n]},a=function(e,i){var o=t.hierarchical.getMaxLevel(e.id),n=t.hierarchical.getMaxLevel(i.id);return Math.min(o,n)},h=function(e,i,o){for(var n=t.hierarchical,r=0;r<i.length;r++){var s=i[r],a=n.distributionOrdering[s];if(a.length>1)for(var h=0;h<a.length-1;h++){var d=a[h],l=a[h+1];n.hasSameParent(d,l)&&n.inSameSubNetwork(d,l)&&e(d,l,o)}}},d=function(i,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=t.direction.getPosition(i),d=t.direction.getPosition(o),l=Math.abs(d-h),c=t.options.hierarchical.nodeSpacing;if(l>c){var u={},f={};r(i,u),r(o,f);var p=a(i,o),v=s(u,p),g=s(f,p),y=v[1],m=g[0],b=g[2],w=Math.abs(y-m);if(w>c){var k=y-m+c;k<-b+c&&(k=-b+c),k<0&&(t._shiftBlock(o.id,k),e=!0,!0===n&&t._centerParent(o))}}},l=function(o,n){for(var a=n.id,h=n.edges,d=t.hierarchical.levels[n.id],l=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,c={},u=[],f=0;f<h.length;f++){var p=h[f];if(p.toId!=p.fromId){var v=p.toId==a?p.from:p.to;c[h[f].id]=v,t.hierarchical.levels[v.id]<d&&u.push(p)}}var g=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==c[i[n].id]){var r=t.direction.getPosition(c[i[n].id])-e;o+=r/Math.sqrt(r*r+l)}return o},y=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==c[i[n].id]){var r=t.direction.getPosition(c[i[n].id])-e;o-=l*Math.pow(r*r+l,-1.5)}return o},m=function(e,i){for(var o=t.direction.getPosition(n),r={},s=0;s<e;s++){var a=g(o,i),h=y(o,i);if(void 0!==r[o-=Math.max(-40,Math.min(40,Math.round(a/h)))])break;r[o]=s}return o},b=m(o,u);!function(o){var a=t.direction.getPosition(n);if(void 0===i[n.id]){var h={};r(n,h),i[n.id]=h}var d=s(i[n.id]),l=d[2],c=d[3],u=o-a,f=0;u>0?f=Math.min(u,c-t.options.hierarchical.nodeSpacing):u<0&&(f=-Math.min(-u,l-t.options.hierarchical.nodeSpacing)),0!=f&&(t._shiftBlock(n.id,f),e=!0)}(b),function(i){var o=t.direction.getPosition(n),r=$c(t._getSpaceAroundNode(n),2),s=r[0],a=r[1],h=i-o,d=o;h>0?d=Math.min(o+(a-t.options.hierarchical.nodeSpacing),i):h<0&&(d=Math.max(o-(s-t.options.hierarchical.nodeSpacing),i)),d!==o&&(t.direction.setPosition(n,d),e=!0)}(b=m(o,h))};!0===this.options.hierarchical.blockShifting&&(function(i){var o=t.hierarchical.getLevels();o=Uu(o).call(o);for(var n=0;n<i&&(e=!1,h(d,o,!0),!0===e);n++);}(5),function(){for(var e in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var o=t.hierarchical.getLevels();o=Uu(o).call(o);for(var n=0;n<i;n++){e=!1;for(var r=0;r<o.length;r++)for(var s=o[r],a=t.hierarchical.distributionOrdering[s],h=0;h<a.length;h++)l(1e3,a[h]);if(!0!==e)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=Uu(e).call(e);for(var i=0;i<e.length;i++)for(var o=e[i],n=t.hierarchical.distributionOrdering[o],r=0;r<n.length;r++)t._centerParent(n[r])}(),function(){for(var e=n(),i=0,r=0;r<e.length-1;r++){i+=e[r].max-e[r+1].min+t.options.hierarchical.treeSpacing,o(r+1,i)}}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var o=this.hierarchical.levels[t.id];if(void 0!==o){var n=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[o],a=1e9,h=1e9;if(0!==n){var d=s[n-1];if(!0===i&&void 0===e[d.id]||!1===i)a=r-this.direction.getPosition(d)}if(n!=s.length-1){var l=s[n+1];if(!0===i&&void 0===e[l.id]||!1===i){var c=this.direction.getPosition(l);h=Math.min(h,c-r)}}return[a,h]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var o=e[i],n=this.body.nodes[o],r=this.hierarchical.childrenReference[o];if(void 0!==r){var s=this._getCenterPosition(r),a=this.direction.getPosition(n),h=$c(this._getSpaceAroundNode(n),2),d=h[0],l=h[1],c=a-s;(c<0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(n,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var i,o=mu(t[e]);o=this._indexArrayToNodes(o),GO(i=this.direction).call(i,o);for(var n=0,r=0;r<o.length;r++){var s=o[r];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,h=a*n;n>0&&(h=this.direction.getPosition(o[r-1])+a),this.direction.setPosition(s,h,e),this._validatePositionAndContinue(s,e,h),n++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i,o=this.hierarchical.childrenReference[t];if(void 0!==o){for(var n=[],r=0;r<o.length;r++)n.push(this.body.nodes[o[r]]);GO(i=this.direction).call(i,n);for(var s=0;s<n.length;s++){var a=n[s],h=this.hierarchical.levels[a.id];if(!(h>e&&void 0===this.positionedNodes[a.id]))return;var d=this.options.hierarchical.nodeSpacing,l=void 0;l=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(n[s-1])+d,this.direction.setPosition(a,l,h),this._validatePositionAndContinue(a,h,l)}var c=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[t],c,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var o=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-o<this.options.hierarchical.nodeSpacing){var n=o+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,n)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e,i={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){e=this.body.nodes[t];var o=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,o),void 0===i[o]&&(i[o]={}),i[o][t]=e}return i}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return Wy(t.edges,(function(t){var o;-1!==zp(o=e.body.edgeIndices).call(o,t.id)&&i.push(t)})),i}},{key:"_getHubSizes",value:function(){var t=this,e={};Wy(this.body.nodeIndices,(function(i){var o=t.body.nodes[i],n=t._getActiveEdges(o).length;e[n]=!0}));var i=[];return Wy(e,(function(t){i.push(Number(t))})),GO(fC).call(fC,i,(function(t,e){return e-t})),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),o=function(o){var n=i[o];if(0===n)return"break";Wy(t.body.nodeIndices,(function(i){var o=t.body.nodes[i];n===t._getActiveEdges(o).length&&t._crawlNetwork(e,i)}))},n=0;n<i.length;++n){if("break"===o(n))break}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,i,o){var n=t.hierarchical.levels[e.id];void 0===n&&(n=t.hierarchical.levels[e.id]=1e5);var r=(Gx.cloneOptions(e,"node"),Gx.cloneOptions(i,"node"),void Gx.cloneOptions(o,"edge"));t.hierarchical.levels[i.id]=n+r})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,i=cC(t=this.body.nodeIndices).call(t,(function(t,i){return t.set(i,e.body.nodes[i]),t}),new Ew);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return TC((function(e){var i,o;return EC(i=Yf(o=e.edges).call(o,(function(e){return t.has(e.toId)}))).call(i,(function(t){return t.from===e}))}),(function(t,e){return e<t}),"to",t)}(i):this.hierarchical.levels=function(t){return TC((function(e){var i,o;return EC(i=Yf(o=e.edges).call(o,(function(e){return t.has(e.toId)}))).call(i,(function(t){return t.to===e}))}),(function(t,e){return e>t}),"from",t)}(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,o={},n=function i(n,r){if(void 0===o[n.id]){var s;t.hierarchical.setTreeIndex(n,r),o[n.id]=!0;for(var a=t._getActiveEdges(n),h=0;h<a.length;h++){var d=a[h];!0===d.connected&&(s=d.toId==n.id?d.from:d.to,n.id!=s.id&&(e(n,s,d),i(s,r)))}}};if(void 0===i)for(var r=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];if(void 0===o[a]){var h=this.body.nodes[a];n(h,r),r+=1}}else{var d=this.body.nodes[i];if(void 0===d)return void console.error("Node not found:",i);n(d)}}},{key:"_shiftBlock",value:function(t,e){var i=this,o={};!function t(n){if(!o[n]){o[n]=!0,i.direction.shift(n,e);var r=i.hierarchical.childrenReference[n];if(void 0!==r)for(var s=0;s<r.length;s++)t(r[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,o={};return function t(e,o){var n=i.hierarchical.parentReference[o];if(void 0!==n)for(var r=0;r<n.length;r++){var s=n[r];e[s]=!0,t(e,s)}}(o,t),function t(e,o){var n=i.hierarchical.parentReference[o];if(void 0!==n)for(var r=0;r<n.length;r++){var s=n[r];if(void 0!==e[s])return{foundParent:s,withChild:o};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:o}}(o,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new gC(this):new yC(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,o=0;o<t.length;o++){var n=void 0;if(void 0!==t[o].id)n=t[o];else{var r=t[o];n=this.body.nodes[r]}var s=this.direction.getPosition(n);e=Math.min(e,s),i=Math.max(i,s)}return.5*(e+i)}}]),t}();function DC(t,e){var i=void 0!==tu&&oh(t)||t["@@iterator"];if(!i){if(hu(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return BC(t,e);var o=au(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return ja(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return BC(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function BC(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var IC=function(){function t(e,i,o,n){var r,s,a=this;Xl(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},fo(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",Fo(r=this._restore).call(r,this)),this.body.emitter.on("_resetData",Fo(s=this._restore).call(s,this))}return $l(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,Ry(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),o=this.selectionHandler.getSelectedEdgeCount(),n=i+o,r=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(r),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(r)),1===i&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(r)):1===o&&0===i&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(r)),0!==n&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(r)),this._bindElementEvents(this.closeDiv,Fo(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Fo(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Fo(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Fo(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler.getSelectedNodes()[0];if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=Ry({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,i,o,n;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var r,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Fo(r=this.toggleEditMode).call(r,this))}this._temporaryBindUI("onTouch",Fo(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Fo(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Fo(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Fo(o=this._finishConnect).call(o,this)),this._temporaryBindUI("onDragStart",Fo(n=this._dragStartEdge).call(n,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==Qc(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Fo(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var i,o,n,r,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),h=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(h.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this._temporaryBindUI("onTouch",Fo(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",Fo(o=this._controlNodeDragStart).call(o,this)),this._temporaryBindUI("onDrag",Fo(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",Fo(r=this._controlNodeDragEnd).call(r,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var e=s.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===h.selected&&(h.x=e.to.x,h.y=e.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var d=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(d.from.id,d.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),o=void 0;if(e.length>0){for(var n=0;n<e.length;n++)if(!0===this.body.nodes[e[n]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var r={nodes:e,edges:i};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(r,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var t,e;(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv)&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=Ry({},this.options.controlNodeStyle);i.id="targetNode"+Xx(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var o=this.body.functions.createNode(i);return o.shape.boundingBox={left:t,right:t,top:e,bottom:e},o}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},Dy(this.editModeDiv);var e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,Fo(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(Dy(this.editModeDiv),Dy(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,e,i=DC(uf(t=this._domEventListenerCleanupQueue).call(t,0));try{for(i.s();!(e=i.n()).done;){(0,e.value)()}}catch(t){i.e(t)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Dy(this.manipulationDiv),Dy(this.editModeDiv),Dy(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,i=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Fo(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,i=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Fo(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,i=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Fo(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,i=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Fo(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";var o=this._createButton("delete",i,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,Fo(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,i=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Fo(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+hv(mu(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,e){var i=new pm(t,{});iE(i,e),this._domEventListenerCleanupQueue.push((function(){i.destroy()}));var o=function(t){var i=t.keyCode,o=t.key;"Enter"!==o&&" "!==o&&13!==i&&32!==i||e()};t.addEventListener("keyup",o,!1),this._domEventListenerCleanupQueue.push((function(){t.removeEventListener("keyup",o,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var i,o=zp(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);if(-1!==o)uf(i=this.body.edgeIndices).call(i,o,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){var r;delete this.body.nodes[this.temporaryIds.nodes[n]];var s,a=zp(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[n]);if(-1!==a)uf(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=fo({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],n=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=i.isOverlappingWith(e),s=o.isOverlappingWith(e);!0===r?(this.selectedControlNode=i,n.edgeType.from=i):!0===s&&(this.selectedControlNode=o,n.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=n.length-1;s>=0;s--)if(n[s]!==this.selectedControlNode.id){r=this.body.nodes[n[s]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(!0===r.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(r.id,o.to.id):this._performEditEdge(o.from.id,r.id)}else o.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=fo({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var o=this._getNewTargetNode(i.x,i.y);this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id);var n=this.body.functions.createEdge({id:"connectionEdge"+Xx(),from:i.id,to:o.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(o.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=n.length-1;s>=0;s--){var a;if(-1===zp(a=this.temporaryIds.nodes).call(a,n[s])){r=this.body.nodes[n[s]];break}}if(t.controlEdge={from:o,to:r?r.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var h=this.body.nodes[this.temporaryIds.nodes[0]];h.x=this.canvas._XconvertDOMtoCanvas(e.x),h.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=n.length-1;s>=0;s--){var a;if(-1===zp(a=this.temporaryIds.nodes).call(a,n[s])){r=this.body.nodes[n[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[o]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(o,r.id)),t.controlEdge={from:o,to:r?r.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:Xx(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,(function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,o={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(o,(function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,o={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},n=this.options.editEdge;if("object"===Qc(n)&&(n=n.editWithoutDrag),"function"==typeof n){if(2!==n.length)throw new Error("The function for edit does not support two arguments (data, callback)");n(o,(function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[o.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),zC="string",FC="boolean",NC="number",AC="array",RC="object",jC=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],LC={borderWidth:{number:NC},borderWidthSelected:{number:NC,undefined:"undefined"},brokenImage:{string:zC,undefined:"undefined"},chosen:{label:{boolean:FC,function:"function"},node:{boolean:FC,function:"function"},__type__:{object:RC,boolean:FC}},color:{border:{string:zC},background:{string:zC},highlight:{border:{string:zC},background:{string:zC},__type__:{object:RC,string:zC}},hover:{border:{string:zC},background:{string:zC},__type__:{object:RC,string:zC}},__type__:{object:RC,string:zC}},opacity:{number:NC,undefined:"undefined"},fixed:{x:{boolean:FC},y:{boolean:FC},__type__:{object:RC,boolean:FC}},font:{align:{string:zC},color:{string:zC},size:{number:NC},face:{string:zC},background:{string:zC},strokeWidth:{number:NC},strokeColor:{string:zC},vadjust:{number:NC},multi:{boolean:FC,string:zC},bold:{color:{string:zC},size:{number:NC},face:{string:zC},mod:{string:zC},vadjust:{number:NC},__type__:{object:RC,string:zC}},boldital:{color:{string:zC},size:{number:NC},face:{string:zC},mod:{string:zC},vadjust:{number:NC},__type__:{object:RC,string:zC}},ital:{color:{string:zC},size:{number:NC},face:{string:zC},mod:{string:zC},vadjust:{number:NC},__type__:{object:RC,string:zC}},mono:{color:{string:zC},size:{number:NC},face:{string:zC},mod:{string:zC},vadjust:{number:NC},__type__:{object:RC,string:zC}},__type__:{object:RC,string:zC}},group:{string:zC,number:NC,undefined:"undefined"},heightConstraint:{minimum:{number:NC},valign:{string:zC},__type__:{object:RC,boolean:FC,number:NC}},hidden:{boolean:FC},icon:{face:{string:zC},code:{string:zC},size:{number:NC},color:{string:zC},weight:{string:zC,number:NC},__type__:{object:RC}},id:{string:zC,number:NC},image:{selected:{string:zC,undefined:"undefined"},unselected:{string:zC,undefined:"undefined"},__type__:{object:RC,string:zC}},imagePadding:{top:{number:NC},right:{number:NC},bottom:{number:NC},left:{number:NC},__type__:{object:RC,number:NC}},label:{string:zC,undefined:"undefined"},labelHighlightBold:{boolean:FC},level:{number:NC,undefined:"undefined"},margin:{top:{number:NC},right:{number:NC},bottom:{number:NC},left:{number:NC},__type__:{object:RC,number:NC}},mass:{number:NC},physics:{boolean:FC},scaling:{min:{number:NC},max:{number:NC},label:{enabled:{boolean:FC},min:{number:NC},max:{number:NC},maxVisible:{number:NC},drawThreshold:{number:NC},__type__:{object:RC,boolean:FC}},customScalingFunction:{function:"function"},__type__:{object:RC}},shadow:{enabled:{boolean:FC},color:{string:zC},size:{number:NC},x:{number:NC},y:{number:NC},__type__:{object:RC,boolean:FC}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:FC,array:AC},borderRadius:{number:NC},interpolation:{boolean:FC},useImageSize:{boolean:FC},useBorderWithImage:{boolean:FC},coordinateOrigin:{string:["center","top-left"]},__type__:{object:RC}},size:{number:NC},title:{string:zC,dom:"dom",undefined:"undefined"},value:{number:NC,undefined:"undefined"},widthConstraint:{minimum:{number:NC},maximum:{number:NC},__type__:{object:RC,boolean:FC,number:NC}},x:{number:NC},y:{number:NC},__type__:{object:RC}},HC={configure:{enabled:{boolean:FC},filter:{boolean:FC,string:zC,array:AC,function:"function"},container:{dom:"dom"},showButton:{boolean:FC},__type__:{object:RC,boolean:FC,string:zC,array:AC,function:"function"}},edges:{arrows:{to:{enabled:{boolean:FC},scaleFactor:{number:NC},type:{string:jC},imageHeight:{number:NC},imageWidth:{number:NC},src:{string:zC},__type__:{object:RC,boolean:FC}},middle:{enabled:{boolean:FC},scaleFactor:{number:NC},type:{string:jC},imageWidth:{number:NC},imageHeight:{number:NC},src:{string:zC},__type__:{object:RC,boolean:FC}},from:{enabled:{boolean:FC},scaleFactor:{number:NC},type:{string:jC},imageWidth:{number:NC},imageHeight:{number:NC},src:{string:zC},__type__:{object:RC,boolean:FC}},__type__:{string:["from","to","middle"],object:RC}},endPointOffset:{from:{number:NC},to:{number:NC},__type__:{object:RC,number:NC}},arrowStrikethrough:{boolean:FC},background:{enabled:{boolean:FC},color:{string:zC},size:{number:NC},dashes:{boolean:FC,array:AC},__type__:{object:RC,boolean:FC}},chosen:{label:{boolean:FC,function:"function"},edge:{boolean:FC,function:"function"},__type__:{object:RC,boolean:FC}},color:{color:{string:zC},highlight:{string:zC},hover:{string:zC},inherit:{string:["from","to","both"],boolean:FC},opacity:{number:NC},__type__:{object:RC,string:zC}},dashes:{boolean:FC,array:AC},font:{color:{string:zC},size:{number:NC},face:{string:zC},background:{string:zC},strokeWidth:{number:NC},strokeColor:{string:zC},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:NC},multi:{boolean:FC,string:zC},bold:{color:{string:zC},size:{number:NC},face:{string:zC},mod:{string:zC},vadjust:{number:NC},__type__:{object:RC,string:zC}},boldital:{color:{string:zC},size:{number:NC},face:{string:zC},mod:{string:zC},vadjust:{number:NC},__type__:{object:RC,string:zC}},ital:{color:{string:zC},size:{number:NC},face:{string:zC},mod:{string:zC},vadjust:{number:NC},__type__:{object:RC,string:zC}},mono:{color:{string:zC},size:{number:NC},face:{string:zC},mod:{string:zC},vadjust:{number:NC},__type__:{object:RC,string:zC}},__type__:{object:RC,string:zC}},hidden:{boolean:FC},hoverWidth:{function:"function",number:NC},label:{string:zC,undefined:"undefined"},labelHighlightBold:{boolean:FC},length:{number:NC,undefined:"undefined"},physics:{boolean:FC},scaling:{min:{number:NC},max:{number:NC},label:{enabled:{boolean:FC},min:{number:NC},max:{number:NC},maxVisible:{number:NC},drawThreshold:{number:NC},__type__:{object:RC,boolean:FC}},customScalingFunction:{function:"function"},__type__:{object:RC}},selectionWidth:{function:"function",number:NC},selfReferenceSize:{number:NC},selfReference:{size:{number:NC},angle:{number:NC},renderBehindTheNode:{boolean:FC},__type__:{object:RC}},shadow:{enabled:{boolean:FC},color:{string:zC},size:{number:NC},x:{number:NC},y:{number:NC},__type__:{object:RC,boolean:FC}},smooth:{enabled:{boolean:FC},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:NC},forceDirection:{string:["horizontal","vertical","none"],boolean:FC},__type__:{object:RC,boolean:FC}},title:{string:zC,undefined:"undefined"},width:{number:NC},widthConstraint:{maximum:{number:NC},__type__:{object:RC,boolean:FC,number:NC}},value:{number:NC,undefined:"undefined"},__type__:{object:RC}},groups:{useDefaultGroups:{boolean:FC},__any__:LC,__type__:{object:RC}},interaction:{dragNodes:{boolean:FC},dragView:{boolean:FC},hideEdgesOnDrag:{boolean:FC},hideEdgesOnZoom:{boolean:FC},hideNodesOnDrag:{boolean:FC},hover:{boolean:FC},keyboard:{enabled:{boolean:FC},speed:{x:{number:NC},y:{number:NC},zoom:{number:NC},__type__:{object:RC}},bindToWindow:{boolean:FC},autoFocus:{boolean:FC},__type__:{object:RC,boolean:FC}},multiselect:{boolean:FC},navigationButtons:{boolean:FC},selectable:{boolean:FC},selectConnectedEdges:{boolean:FC},hoverConnectedEdges:{boolean:FC},tooltipDelay:{number:NC},zoomView:{boolean:FC},zoomSpeed:{number:NC},__type__:{object:RC}},layout:{randomSeed:{undefined:"undefined",number:NC,string:zC},improvedLayout:{boolean:FC},clusterThreshold:{number:NC},hierarchical:{enabled:{boolean:FC},levelSeparation:{number:NC},nodeSpacing:{number:NC},treeSpacing:{number:NC},blockShifting:{boolean:FC},edgeMinimization:{boolean:FC},parentCentralization:{boolean:FC},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:RC,boolean:FC}},__type__:{object:RC}},manipulation:{enabled:{boolean:FC},initiallyActive:{boolean:FC},addNode:{boolean:FC,function:"function"},addEdge:{boolean:FC,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:RC,boolean:FC,function:"function"}},deleteNode:{boolean:FC,function:"function"},deleteEdge:{boolean:FC,function:"function"},controlNodeStyle:LC,__type__:{object:RC,boolean:FC}},nodes:LC,physics:{enabled:{boolean:FC},barnesHut:{theta:{number:NC},gravitationalConstant:{number:NC},centralGravity:{number:NC},springLength:{number:NC},springConstant:{number:NC},damping:{number:NC},avoidOverlap:{number:NC},__type__:{object:RC}},forceAtlas2Based:{theta:{number:NC},gravitationalConstant:{number:NC},centralGravity:{number:NC},springLength:{number:NC},springConstant:{number:NC},damping:{number:NC},avoidOverlap:{number:NC},__type__:{object:RC}},repulsion:{centralGravity:{number:NC},springLength:{number:NC},springConstant:{number:NC},nodeDistance:{number:NC},damping:{number:NC},__type__:{object:RC}},hierarchicalRepulsion:{centralGravity:{number:NC},springLength:{number:NC},springConstant:{number:NC},nodeDistance:{number:NC},damping:{number:NC},avoidOverlap:{number:NC},__type__:{object:RC}},maxVelocity:{number:NC},minVelocity:{number:NC},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:FC},iterations:{number:NC},updateInterval:{number:NC},onlyDynamicEdges:{boolean:FC},fit:{boolean:FC},__type__:{object:RC,boolean:FC}},timestep:{number:NC},adaptiveTimestep:{boolean:FC},wind:{x:{number:NC},y:{number:NC},__type__:{object:RC}},__type__:{object:RC,boolean:FC}},autoResize:{boolean:FC},clickToUse:{boolean:FC},locale:{string:zC},locales:{__any__:{any:"any"},__type__:{object:RC}},height:{string:zC},width:{string:zC},__type__:{object:RC}},WC={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},VC=function(t,e,i){var o;return!(!zf(t).call(t,"physics")||!zf(o=WC.physics.solver).call(o,e)||i.physics.solver===e||"wind"===e)},qC=Object.freeze({__proto__:null,configuratorHideOption:VC,allOptions:HC,configureOptions:WC}),UC=function(){function t(){Xl(this,t)}return $l(t,[{key:"getDistances",value:function(t,e,i){for(var o={},n=t.edges,r=0;r<e.length;r++){var s={};o[e[r]]=s;for(var a=0;a<e.length;a++)s[e[a]]=r==a?0:1e9}for(var h=0;h<i.length;h++){var d=n[i[h]];!0===d.connected&&void 0!==o[d.fromId]&&void 0!==o[d.toId]&&(o[d.fromId][d.toId]=1,o[d.toId][d.fromId]=1)}for(var l=e.length,c=0;c<l;c++)for(var u=e[c],f=o[u],p=0;p<l-1;p++)for(var v=e[p],g=o[v],y=p+1;y<l;y++){var m=e[y],b=o[m],w=Math.min(g[m],g[u]+f[m]);g[m]=w,b[v]=w}return o}}]),t}(),YC=function(){function t(e,i,o){Xl(this,t),this.body=e,this.springLength=i,this.springConstant=o,this.distanceSolver=new UC}return $l(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var n=.01,r=1,s=0,a=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=5,d=1e9,l=0,c=0,u=0,f=0,p=0;d>n&&s<a;){s+=1;var v=this._getHighestEnergyNode(i),g=$c(v,4);for(l=g[0],d=g[1],c=g[2],u=g[3],f=d,p=0;f>r&&p<h;){p+=1,this._moveNode(l,c,u);var y=this._getEnergy(l),m=$c(y,3);f=m[0],c=m[1],u=m[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,n=e[0],r=0,s=0,a=0;a<e.length;a++){var h=e[a];if(!0!==i[h].predefinedPosition||!0===i[h].isCluster&&!0===t||!0!==i[h].options.fixed.x||!0!==i[h].options.fixed.y){var d=$c(this._getEnergy(h),3),l=d[0],c=d[1],u=d[2];o<l&&(o=l,n=h,r=c,s=u)}}return[n,o,r,s]}},{key:"_getEnergy",value:function(t){var e=$c(this.E_sums[t],2),i=e[0],o=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),i,o]}},{key:"_moveNode",value:function(t,e,i){for(var o=this.body.nodeIndices,n=this.body.nodes,r=0,s=0,a=0,h=n[t].x,d=n[t].y,l=this.K_matrix[t],c=this.L_matrix[t],u=0;u<o.length;u++){var f=o[u];if(f!==t){var p=n[f].x,v=n[f].y,g=l[f],y=c[f],m=1/Math.pow(Math.pow(h-p,2)+Math.pow(d-v,2),1.5);r+=g*(1-y*Math.pow(d-v,2)*m),s+=g*(y*(h-p)*(d-v)*m),a+=g*(1-y*Math.pow(h-p,2)*m)}}var b=(e/r+i/s)/(s/r-a/s),w=-(s*b+e)/r;n[t].x+=w,n[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.L_matrix[e[o]][e[n]]=i*t[e[o]][e[n]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.K_matrix[e[o]][e[n]]=i*Math.pow(t[e[o]][e[n]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var o=0;o<t.length;o++){for(var n=t[o],r=e[n].x,s=e[n].y,a=0,h=0,d=o;d<t.length;d++){var l=t[d];if(l!==n){var c=e[l].x,u=e[l].y,f=1/Math.sqrt(Math.pow(r-c,2)+Math.pow(s-u,2));this.E_matrix[n][d]=[this.K_matrix[n][l]*(r-c-this.L_matrix[n][l]*(r-c)*f),this.K_matrix[n][l]*(s-u-this.L_matrix[n][l]*(s-u)*f)],this.E_matrix[l][o]=this.E_matrix[n][d],a+=this.E_matrix[n][d][0],h+=this.E_matrix[n][d][1]}}this.E_sums[n]=[a,h]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=this.E_matrix[t],n=this.K_matrix[t],r=this.L_matrix[t],s=i[t].x,a=i[t].y,h=0,d=0,l=0;l<e.length;l++){var c=e[l];if(c!==t){var u=o[l],f=u[0],p=u[1],v=i[c].x,g=i[c].y,y=1/Math.sqrt(Math.pow(s-v,2)+Math.pow(a-g,2)),m=n[c]*(s-v-r[c]*(s-v)*y),b=n[c]*(a-g-r[c]*(a-g)*y);o[l]=[m,b],h+=m,d+=b;var w=this.E_sums[c];w[0]+=m-f,w[1]+=b-p}}this.E_sums[t]=[h,d]}}]),t}();function XC(t,e,i){var o,n,r,s,a=this;if(!(this instanceof XC))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Jm,clickToUse:!1},fo(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Fo(o=this.on).call(o,this),off:Fo(n=this.off).call(n,this),emit:Fo(r=this.emit).call(r,this),once:Fo(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new eb((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new Ow,this.canvas=new nE(this.body),this.selectionHandler=new cO(this.body,this.canvas),this.interactionHandler=new cE(this.body,this.canvas,this.selectionHandler),this.view=new sE(this.body,this.canvas),this.renderer=new tE(this.body,this.canvas),this.physics=new Lx(this.body),this.layoutEngine=new PC(this.body),this.clustering=new Zx(this.body),this.manipulation=new IC(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new B_(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Tx(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new YC(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}Vo(XC.prototype),XC.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){!0===ym.validate(t,HC)&&console.error("%cErrors have been found in the supplied options object.",gm);if(Ny(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{var i=$c(e.split(/[-_ /]/,2),2),o=i[0],n=i[1],r=null!=o?o.toLowerCase():null,s=null!=n?n.toUpperCase():null;if(r&&s){var a,h=r+"-"+s;if(Object.prototype.hasOwnProperty.call(t,h))return h;console.warn(su(a="Unknown variant ".concat(s," of language ")).call(a,r,"."))}if(r){var d=r;if(Object.prototype.hasOwnProperty.call(t,d))return d;console.warn("Unknown language ".concat(r))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new fm(this,this.body.container,WC,this.canvas.pixelRatio,VC)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ry(i.nodes,this.nodesHandler.options),Ry(i.edges,this.edgesHandler.options),Ry(i.layout,this.layoutEngine.options),Ry(i.interaction,this.selectionHandler.options),Ry(i.interaction,this.renderer.options),Ry(i.interaction,this.interactionHandler.options),Ry(i.manipulation,this.manipulation.options),Ry(i.physics,this.physics.options),Ry(i.global,this.canvas.options),Ry(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new um(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},XC.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)Object.prototype.hasOwnProperty.call(t,i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=e[o],r=t[n.fromId],s=t[n.toId],a=void 0!==r&&void 0!==s;!this.clustering._isClusteredEdge(o)&&!1===n.options.hidden&&a&&!1===r.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(n.id)}},XC.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},XC.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Km(t.dot);this.setData(e)}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=Zm(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},XC.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];Dy(this.body.container)},XC.prototype._updateValueRange=function(t){var e,i=void 0,o=void 0,n=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),o=void 0===o?r:Math.max(r,o),n+=r)}if(void 0!==i&&void 0!==o)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(i,o,n)},XC.prototype.isActive=function(){return!this.activator||this.activator.active},XC.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},XC.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},XC.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},XC.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},XC.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},XC.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},XC.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},XC.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},XC.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},XC.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},XC.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},XC.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},XC.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},XC.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},XC.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},XC.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},XC.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},XC.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},XC.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},XC.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},XC.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},XC.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},XC.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},XC.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},XC.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},XC.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},XC.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},XC.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},XC.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},XC.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},XC.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},XC.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},XC.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},XC.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},XC.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},XC.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},XC.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},XC.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},XC.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},XC.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},XC.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},XC.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},XC.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},XC.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},XC.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},XC.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},XC.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},XC.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},XC.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},XC.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},XC.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},XC.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var GC=Km;t.Network=XC,t.NetworkImages=eb,t.networkDOTParser=$m,t.networkGephiParser=Qm,t.networkOptions=qC,t.parseDOTNetwork=GC,t.parseGephiNetwork=Zm,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vis-network.min.js.map


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var exports = __webpack_exports__;
/*!************************!*\
  !*** ./src/vis_dag.ts ***!
  \************************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
const vis = __webpack_require__(/*! vis-network */ "./node_modules/vis-network/peer/umd/vis-network.min.js");
const dag_1 = __webpack_require__(/*! ./dag */ "./src/dag.ts");
const visjs_default_options = __webpack_require__(/*! ./visjs_default_options */ "./src/visjs_default_options.ts");
const options = visjs_default_options.options;
options.layout.hierarchical.direction = "UD";
options.layout.hierarchical.levelSeparation = 45;
options.edges.smooth.enabled = false;
const container = document.getElementById("network");
const network = new vis.Network(container, {}, options);
const load_params_from_url = () => {
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    let params = {
        input_text: `1 = b
    2 = a
    3 = 2, 1
    4 = 3, 2
    5 = 4, 3
    6 = 5, 4
    7 = 6, 5
    `,
    };
    const urlkey = urlParams.get("input_text");
    if (urlkey !== null)
        params.input_text = urlkey;
    console.log("load_parms from url", params);
    return params;
};
const load_params_from_html = () => {
    const input_text = document.getElementById("input_text")
        .value;
    const params = {
        input_text: input_text,
    };
    return params;
};
const set_params_to_url = (params) => {
    const url = new URL(window.location.toString());
    for (let key of Object.keys(params)) {
        url.searchParams.set(key, params[key].toString());
    }
    history.pushState({}, "", url.toString());
};
const set_params_to_html = (params) => {
    const input_text = document.getElementById("input_text");
    const show_suffix_links = document.getElementById("show_suffix_links");
    const implicit_cdawg = document.getElementById("implicit_cdawg");
    input_text.value = params.input_text;
};
const redraw = function () {
    // set params to url
    const params = load_params_from_html();
    set_params_to_url(params);
    console.log(dag_1.parse_rules);
    const dag = (0, dag_1.parse_rules)(params.input_text);
    const json = dag.json_tree;
    console.log(json);
    network.setData(json);
};
const main = () => {
    // set event listener
    const input_text = document.getElementById("input_text");
    input_text.addEventListener("input", redraw);
    input_text.addEventListener("propertychange", redraw);
    // load and set parameters
    const params = load_params_from_url();
    set_params_to_html(params);
    redraw();
};
main();

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxtQkFBbUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQztBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFF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QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUssR0FBRztBQUNSO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsYUFBYTtBQUNoQjtBQUNBOztBQUVBLDZDQUE2Qzs7QUFFN0M7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLFNBQVM7O0FBRTdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qzs7QUFFN0MscUZBQXFGOztBQUVyRjtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0dBQWdHO0FBQ2hHO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUc7QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUc7QUFDTjs7QUFFQTtBQUNBO0FBQ0EsOEJBQThC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OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLCtCQUErQjtBQUMvQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGFBQWEsaUJBQWlCOztBQUVyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRCQUE0Qjs7QUFFNUI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCOztBQUU5QjtBQUNBO0FBQ0EsS0FBSyxHQUFHOztBQUVSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2Qjs7O0FBR0E7O0FBRUE7QUFDQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsR0FBRztBQUNI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QUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYTtBQUMxQixhQUFhLGFBQWE7QUFDMUIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7OztBQUdWO0FBQ0E7QUFDQTtBQUNBLFFBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLCtDQUErQztBQUMvQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQzs7QUFFQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLCtDQUErQztBQUMvQzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0hBQWtIO0FBQ2xIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLGVBQWU7QUFDZjs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDLFdBQVc7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsNkNBQTZDO0FBQzdDLGdDQUFnQztBQUNoQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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LG9CQUFvQjs7QUFFN0s7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLGdDQUFnQztBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0IsZ0NBQWdDO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLGdDQUFnQztBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVB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QTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDhCQUE4Qiw4QkFBOEI7QUFDNUQ7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFF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QUFJLEdBQUcsR0FBRyxFQUFFO0lBQ2hCLHFCQUFxQjtJQUNyQixNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBZ0IsQ0FBQztJQUN4RSxVQUFVLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzdDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUV0RCwwQkFBMEI7SUFDMUIsTUFBTSxNQUFNLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQztJQUN0QyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUUzQixNQUFNLEVBQUUsQ0FBQztBQUNYLENBQUMsQ0FBQztBQUVGLElBQUksRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzZHMvLi9zcmMvZGFnLnRzIiwid2VicGFjazovL3Zpc2RzLy4vc3JjL3Zpc2pzX2RlZmF1bHRfb3B0aW9ucy50cyIsIndlYnBhY2s6Ly92aXNkcy8uL25vZGVfbW9kdWxlcy92aXMtZGF0YS9wZWVyL3VtZC92aXMtZGF0YS5qcyIsIndlYnBhY2s6Ly92aXNkcy8uL25vZGVfbW9kdWxlcy92aXMtbmV0d29yay9wZWVyL3VtZC92aXMtbmV0d29yay5taW4uanMiLCJ3ZWJwYWNrOi8vdmlzZHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdmlzZHMvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly92aXNkcy8uL3NyYy92aXNfZGFnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIERBRyB7XG4gIHJ1bGVzOiBNYXA8c3RyaW5nLCBBcnJheTxzdHJpbmc+PjtcbiAgcm9vdDogc3RyaW5nO1xuICBoZWlnaHQ6IE1hcDxzdHJpbmcsIG51bWJlcj47XG4gIGlzX2ZpbmFsaXplOiBib29sZWFuO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJ1bGVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMucm9vdCA9IFwiXCI7XG4gICAgdGhpcy5oZWlnaHQgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5pc19maW5hbGl6ZSA9IGZhbHNlO1xuICB9XG4gIGFkZChydWxlOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgY29uc29sZS5hc3NlcnQoIXRoaXMuaXNfZmluYWxpemUpO1xuICAgIC8vIHRoaXMucnVsZXNbcnVsZVswXV0gPSBydWxlLnNsaWNlKDEpXG4gICAgdGhpcy5ydWxlcy5zZXQocnVsZVswXSwgcnVsZS5zbGljZSgxKSk7XG4gIH1cblxuICBpc19sZWFmKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy5nZXQoaWQpID09PSB1bmRlZmluZWQ7XG4gIH1cblxuICBjYWxjaGVpZ2h0KCkge1xuICAgIGNvbnN0IHJlYyA9IChpZDogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICAgIGlmICghdGhpcy5oZWlnaHQuaGFzKGlkKSkge1xuICAgICAgICBpZiAodGhpcy5pc19sZWFmKGlkKSkge1xuICAgICAgICAgIHRoaXMuaGVpZ2h0LnNldChpZCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcnVsZSA9IHRoaXMucnVsZXMuZ2V0KGlkKSBhcyBzdHJpbmdbXTtcbiAgICAgICAgICB0aGlzLmhlaWdodC5zZXQoaWQsIDEgKyBNYXRoLm1heCguLi5ydWxlLm1hcChyZWMpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmhlaWdodC5nZXQoaWQpIGFzIG51bWJlcjtcbiAgICB9O1xuICAgIHJlYyh0aGlzLnJvb3QpO1xuICB9XG5cbiAgbWFrZV9sZWFmX3J1bGVzKCkge1xuICAgIEFycmF5LmZyb20odGhpcy5ydWxlcy5rZXlzKCkpLmZvckVhY2goKG5vZGVfaWQpID0+IHtcbiAgICAgIGlmICgodGhpcy5ydWxlcy5nZXQobm9kZV9pZCkgYXMgc3RyaW5nW10pLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkX2lkID0gKHRoaXMucnVsZXMuZ2V0KG5vZGVfaWQpIGFzIHN0cmluZ1tdKVswXTtcbiAgICAgICAgdGhpcy5ydWxlcy5zZXQoY2hpbGRfaWQsIFtdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZpbmFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKFwiZmluYWxpemUgdmFsdWVzXCIsIHRoaXMucnVsZXMudmFsdWVzKCkpO1xuICAgIHRoaXMucm9vdCA9XG4gICAgICBcIlwiICsgTWF0aC5tYXgoLi4uQXJyYXkuZnJvbSh0aGlzLnJ1bGVzLmtleXMoKSkubWFwKCh4KSA9PiBwYXJzZUludCh4KSkpO1xuICAgIHRoaXMuY2FsY2hlaWdodCgpO1xuICAgIHRoaXMubWFrZV9sZWFmX3J1bGVzKCk7XG4gICAgdGhpcy5pc19maW5hbGl6ZSA9IHRydWU7XG4gIH1cblxuICBnZXQganNvbl90cmVlKCkge1xuICAgIGlmICghdGhpcy5pc19maW5hbGl6ZSkgdGhpcy5maW5hbGl6ZSgpO1xuICAgIGNvbnN0IG5vZGVzOiBhbnlbXSA9IFtdO1xuICAgIGNvbnN0IGVkZ2VzOiBhbnlbXSA9IFtdO1xuICAgIGludGVyZmFjZSBOb2RlVHlwZSB7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgbGV2ZWw6IG51bWJlcjtcbiAgICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgY29uc3QgcmVjID0gKG5vZGVfaWQ6IHN0cmluZywgY2hpbGRfaWR4OiBudW1iZXIsIHBhcmVudDogTm9kZVR5cGUpID0+IHtcbiAgICAgIGNvbnN0IGlkID1cbiAgICAgICAgcGFyZW50LmlkLnN1YnN0cigwLCBwYXJlbnQuaWQubGVuZ3RoIC0gMSkgK1xuICAgICAgICAobm9kZV9pZCA9PSB0aGlzLnJvb3QgPyBcIlwiIDogXCItXCIpICtcbiAgICAgICAgbm9kZV9pZCArXG4gICAgICAgIFwiKGNcIiArXG4gICAgICAgIGNoaWxkX2lkeCArXG4gICAgICAgIFwiKVwiICtcbiAgICAgICAgXCJdXCI7XG4gICAgICBjb25zdCBub2RlID0ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIGxldmVsOiBwYXJlbnQubGV2ZWwgKyAxLFxuICAgICAgICBsYWJlbDogbm9kZV9pZCxcbiAgICAgIH07XG4gICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuXG4gICAgICBjb25zdCBydWxlID0gdGhpcy5ydWxlcy5nZXQobm9kZV9pZCkgYXMgc3RyaW5nW107XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgY2hpbGRfaWR4ID0gMDtcbiAgICAgICAgLy8gY2hpbGRfaWR4IDwgdGhpcy5ydWxlcy5nZXQobm9kZV9pZCkubGVuZ3RoO1xuICAgICAgICBjaGlsZF9pZHggPCBydWxlLmxlbmd0aDtcbiAgICAgICAgY2hpbGRfaWR4KytcbiAgICAgICkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHJlYyhydWxlW2NoaWxkX2lkeF0sIGNoaWxkX2lkeCwgbm9kZSk7XG4gICAgICAgIGNvbnN0IGVkZ2UgPSB7XG4gICAgICAgICAgZnJvbTogbm9kZS5pZCxcbiAgICAgICAgICB0bzogY2hpbGQuaWQsXG4gICAgICAgICAgaWQ6IGAke25vZGUuaWR9LSR7Y2hpbGQuaWR9YCxcbiAgICAgICAgICAvLywgbGFiZWw6IGNoaWxkLnRvX2VkZ2VfbGFiZWxcbiAgICAgICAgICBmb250OiB7IGFsaWduOiBcInRvcFwiIH0sXG4gICAgICAgIH07XG4gICAgICAgIGVkZ2VzLnB1c2goZWRnZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIGNvbnN0IGR1bW15X3BhcmVudCA9IHtcbiAgICAgIGlkOiBcIm5bXVwiLFxuICAgICAgbGV2ZWw6IDAsXG4gICAgICBsYWJlbDogXCJkdW1teVwiLFxuICAgIH07XG4gICAgcmVjKHRoaXMucm9vdCwgMCwgZHVtbXlfcGFyZW50KTtcblxuICAgIHJldHVybiB7IG5vZGVzOiBub2RlcywgZWRnZXM6IGVkZ2VzIH07XG4gIH1cblxuICBnZXQganNvbigpIHtcbiAgICBpZiAoIXRoaXMuaXNfZmluYWxpemUpIHRoaXMuZmluYWxpemUoKTtcbiAgICBjb25zdCBub2RlczogYW55W10gPSBbXTtcbiAgICBjb25zdCBlZGdlczogYW55W10gPSBbXTtcblxuICAgIEFycmF5LmZyb20odGhpcy5ydWxlcy5lbnRyaWVzKCkpLmZvckVhY2goKFtwYXJlbnQsIGNoaWxkcmVuXSkgPT4ge1xuICAgICAgLy8gaW50ZXJuYWwgbm9kZVxuICAgICAgY29uc3Qgbm9kZSA9IHtcbiAgICAgICAgaWQ6IHBhcmVudCxcbiAgICAgICAgbGV2ZWw6IHRoaXMuaGVpZ2h0LmdldChwYXJlbnQpLFxuICAgICAgICBsYWJlbDogcGFyZW50LFxuICAgICAgfTtcbiAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG5cbiAgICAgIC8vIGVkZ2VcbiAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgIGNvbnN0IGVkZ2UgPSB7XG4gICAgICAgICAgZnJvbTogcGFyZW50LFxuICAgICAgICAgIHRvOiBjaGlsZCxcbiAgICAgICAgICBpZDogYCR7cGFyZW50fS0ke2NoaWxkfWAsXG4gICAgICAgICAgLy8sIGxhYmVsOiBjaGlsZC50b19lZGdlX2xhYmVsXG4gICAgICAgICAgZm9udDogeyBhbGlnbjogXCJ0b3BcIiB9LFxuICAgICAgICB9O1xuICAgICAgICBlZGdlcy5wdXNoKGVkZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyBub2Rlczogbm9kZXMsIGVkZ2VzOiBlZGdlcyB9O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwYXJzZV9ydWxlcyA9ICh0ZXh0OiBzdHJpbmcpOiBEQUcgPT4ge1xuICAvLyBmdW5jdGlvbiBwYXJzZV9ydWxlcyh0ZXh0KSB7XG4gIGNvbnN0IGxpbmVzID0gdGV4dC5zcGxpdCgvXFxyXFxufFxccnxcXG4vKTtcbiAgY29uc3QgZGFnID0gbmV3IERBRygpO1xuICBsaW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgbGluZSA9IGxpbmUudHJpbSgpLnJlcGxhY2UoL1s9LFxcc10rL2csIFwiLFwiKTtcbiAgICBjb25zdCB0b2tlbnMgPSBsaW5lLnNwbGl0KC9bLF0vKTtcbiAgICBpZiAodG9rZW5zLmxlbmd0aCA+PSAyKSB7XG4gICAgICBjb25zb2xlLmxvZyh0b2tlbnMpO1xuICAgICAgZGFnLmFkZCh0b2tlbnMpO1xuICAgIH1cbiAgICAvLyBhc3NlcnQocnVsZXNbdG9rZW5zWzBdXSA9PT0gdW5kZWZpbmVkKVxuICAgIC8vIHRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4ge1xuICAgIC8vICAgYXNzZXJ0KHRva2VuLm1hdGNoKC9eXFxkKyQvKSAhPT0gbnVsbClcbiAgICAvLyB9KVxuICAgIC8vIHJ1bGVzW3Rva2Vuc1swXV0gPSB0b2tlbnMuc2xpY2UoMSlcbiAgfSk7XG4gIGRhZy5maW5hbGl6ZSgpO1xuICByZXR1cm4gZGFnO1xufTtcblxuZnVuY3Rpb24gbWFpbigpIHtcbiAgY29uc3QgdGV4dCA9IFwiMSwgYVxcbjIsIGJcXG4zLCAxLCAxXFxuXCI7XG4gIGNvbnN0IGRhZyA9IHBhcnNlX3J1bGVzKHRleHQpO1xuICBjb25zb2xlLmxvZyhkYWcpO1xuICBjb25zb2xlLmxvZyhkYWcuanNvbl90cmVlKTtcbn1cblxubWFpbigpO1xuIiwiZXhwb3J0IGNvbnN0IG9wdGlvbnMgPSB7XG4gIGhlaWdodDogXCIxMDAlXCIsXG4gIGxheW91dDoge1xuICAgIGhpZXJhcmNoaWNhbDoge1xuICAgICAgLy8gZW5hYmxlZDogdHJ1ZVxuICAgICAgLy8gZGlyZWN0aW9uOiAnVUQnLFxuICAgICAgZGlyZWN0aW9uOiBcIkxSXCIsXG4gICAgICAvLyBzb3J0TWV0aG9kOiAnZGlyZWN0ZWQnLFxuICAgICAgdHJlZVNwYWNpbmc6IDE4NSxcbiAgICAgIGxldmVsU2VwYXJhdGlvbjogOTUsXG4gICAgICBub2RlU3BhY2luZzogNDAsXG4gICAgfSxcbiAgfSxcbiAgbm9kZXM6IHtcbiAgICBzaXplOiAxMCxcbiAgfSxcbiAgZWRnZXM6IHtcbiAgICBhcnJvd3M6IHtcbiAgICAgIHRvOiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIHNjYWxlRmFjdG9yOiAwLjUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgLy8gZWRnZSBsYWJlbCBpcyBub3QgZGlzcGxheWVkIGF0IHRoZSBjZW50ZXIgb2YgdGhlIGVkZ2VcbiAgICAvLyBpZiBgc21vb3RoYCBpcyBzcGVjaWZpZWRcbiAgICBzbW9vdGg6IHtcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAvLyB0eXBlOiAnZHluYW1pYycsXG4gICAgICB0eXBlOiBcInZlcnRpY2FsXCIsIC8vIFRoaXMgaXMgYmV0dGVyIGZvciBMUlxuICAgICAgLy8gdHlwZTogJ2hvcml6b250YWwnLCAvLyBUaGlzIGlzIGJldHRlciBmb3IgVURcbiAgICAgIC8vIHR5cGU6ICdjb250aW51b3VzJyxcbiAgICAgIC8vIHR5cGU6ICdjdXJ2ZWRDQ1cnLFxuICAgICAgLy8gdHlwZTogJ3N0cmFpZ2h0Q3Jvc3MnLFxuICAgICAgcm91bmRuZXNzOiAxLjAsXG4gICAgfSxcbiAgfSxcbiAgaW50ZXJhY3Rpb246IHtcbiAgICBob3ZlcjogdHJ1ZSxcbiAgICBuYXZpZ2F0aW9uQnV0dG9uczogdHJ1ZSxcbiAgfSxcbiAgcGh5c2ljczogZmFsc2UsXG59O1xuIiwiLyoqXG4gKiB2aXMtZGF0YVxuICogaHR0cDovL3Zpc2pzLm9yZy9cbiAqXG4gKiBNYW5hZ2UgdW5zdHJ1Y3R1cmVkIGRhdGEgdXNpbmcgRGF0YVNldC4gQWRkLCB1cGRhdGUsIGFuZCByZW1vdmUgZGF0YSwgYW5kIGxpc3RlbiBmb3IgY2hhbmdlcyBpbiB0aGUgZGF0YS5cbiAqXG4gKiBAdmVyc2lvbiA3LjEuNFxuICogQGRhdGUgICAgMjAyMi0wMy0xNVQxNToyMzo1OS4yNDVaXG4gKlxuICogQGNvcHlyaWdodCAoYykgMjAxMS0yMDE3IEFsbWVuZGUgQi5WLCBodHRwOi8vYWxtZW5kZS5jb21cbiAqIEBjb3B5cmlnaHQgKGMpIDIwMTctMjAxOSB2aXNqcyBjb250cmlidXRvcnMsIGh0dHBzOi8vZ2l0aHViLmNvbS92aXNqc1xuICpcbiAqIEBsaWNlbnNlXG4gKiB2aXMuanMgaXMgZHVhbCBsaWNlbnNlZCB1bmRlciBib3RoXG4gKlxuICogICAxLiBUaGUgQXBhY2hlIDIuMCBMaWNlbnNlXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICAgYW5kXG4gKlxuICogICAyLiBUaGUgTUlUIExpY2Vuc2VcbiAqICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIHZpcy5qcyBtYXkgYmUgZGlzdHJpYnV0ZWQgdW5kZXIgZWl0aGVyIGxpY2Vuc2UuXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbC52aXMgPSBnbG9iYWwudmlzIHx8IHt9KSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSRlID0ge2V4cG9ydHM6IHt9fTtcblxuICB2YXIgY2hlY2sgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaXQgJiYgaXQuTWF0aCA9PSBNYXRoICYmIGl0O1xuICB9OyAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxuXG5cbiAgdmFyIGdsb2JhbCRNID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWdsb2JhbC10aGlzIC0tIHNhZmVcbiAgY2hlY2sodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgZ2xvYmFsVGhpcykgfHwgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgLS0gc2FmZVxuICBjaGVjayh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmKSB8fCBjaGVjayh0eXBlb2YgY29tbW9uanNHbG9iYWwgPT0gJ29iamVjdCcgJiYgY29tbW9uanNHbG9iYWwpIHx8IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYyAtLSBmYWxsYmFja1xuICBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0oKSB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIHZhciBmYWlscyRyID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICEhZXhlYygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZhaWxzJHEgPSBmYWlscyRyO1xuICB2YXIgZnVuY3Rpb25CaW5kTmF0aXZlID0gIWZhaWxzJHEoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgLyogZW1wdHkgKi9cbiAgICB9LmJpbmQoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucyAtLSBzYWZlXG5cblxuICAgIHJldHVybiB0eXBlb2YgdGVzdCAhPSAnZnVuY3Rpb24nIHx8IHRlc3QuaGFzT3duUHJvcGVydHkoJ3Byb3RvdHlwZScpO1xuICB9KTtcblxuICB2YXIgTkFUSVZFX0JJTkQkNCA9IGZ1bmN0aW9uQmluZE5hdGl2ZTtcbiAgdmFyIEZ1bmN0aW9uUHJvdG90eXBlJDMgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gIHZhciBhcHBseSQ2ID0gRnVuY3Rpb25Qcm90b3R5cGUkMy5hcHBseTtcbiAgdmFyIGNhbGwkYyA9IEZ1bmN0aW9uUHJvdG90eXBlJDMuY2FsbDsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLXJlZmxlY3QgLS0gc2FmZVxuXG4gIHZhciBmdW5jdGlvbkFwcGx5ID0gdHlwZW9mIFJlZmxlY3QgPT0gJ29iamVjdCcgJiYgUmVmbGVjdC5hcHBseSB8fCAoTkFUSVZFX0JJTkQkNCA/IGNhbGwkYy5iaW5kKGFwcGx5JDYpIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWxsJGMuYXBwbHkoYXBwbHkkNiwgYXJndW1lbnRzKTtcbiAgfSk7XG5cbiAgdmFyIE5BVElWRV9CSU5EJDMgPSBmdW5jdGlvbkJpbmROYXRpdmU7XG4gIHZhciBGdW5jdGlvblByb3RvdHlwZSQyID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgYmluZCRkID0gRnVuY3Rpb25Qcm90b3R5cGUkMi5iaW5kO1xuICB2YXIgY2FsbCRiID0gRnVuY3Rpb25Qcm90b3R5cGUkMi5jYWxsO1xuICB2YXIgdW5jdXJyeVRoaXMkdCA9IE5BVElWRV9CSU5EJDMgJiYgYmluZCRkLmJpbmQoY2FsbCRiLCBjYWxsJGIpO1xuICB2YXIgZnVuY3Rpb25VbmN1cnJ5VGhpcyA9IE5BVElWRV9CSU5EJDMgPyBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gZm4gJiYgdW5jdXJyeVRoaXMkdChmbik7XG4gIH0gOiBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gZm4gJiYgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNhbGwkYi5hcHBseShmbiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjYWxsYWJsZVxuXG4gIHZhciBpc0NhbGxhYmxlJGggPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09ICdmdW5jdGlvbic7XG4gIH07XG5cbiAgdmFyIG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHt9O1xuXG4gIHZhciBmYWlscyRwID0gZmFpbHMkcjsgLy8gRGV0ZWN0IElFOCdzIGluY29tcGxldGUgZGVmaW5lUHJvcGVydHkgaW1wbGVtZW50YXRpb25cblxuICB2YXIgZGVzY3JpcHRvcnMgPSAhZmFpbHMkcChmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIDEsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gNztcbiAgICAgIH1cbiAgICB9KVsxXSAhPSA3O1xuICB9KTtcblxuICB2YXIgTkFUSVZFX0JJTkQkMiA9IGZ1bmN0aW9uQmluZE5hdGl2ZTtcbiAgdmFyIGNhbGwkYSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsO1xuICB2YXIgZnVuY3Rpb25DYWxsID0gTkFUSVZFX0JJTkQkMiA/IGNhbGwkYS5iaW5kKGNhbGwkYSkgOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNhbGwkYS5hcHBseShjYWxsJGEsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgdmFyIG9iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlID0ge307XG5cbiAgdmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSQyID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcblxuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyAvLyBOYXNob3JuIH4gSkRLOCBidWdcblxuICB2YXIgTkFTSE9STl9CVUcgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkNSAmJiAhJHByb3BlcnR5SXNFbnVtZXJhYmxlJDIuY2FsbCh7XG4gICAgMTogMlxuICB9LCAxKTsgLy8gYE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGVgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUucHJvcGVydHlpc2VudW1lcmFibGVcblxuICBvYmplY3RQcm9wZXJ0eUlzRW51bWVyYWJsZS5mID0gTkFTSE9STl9CVUcgPyBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkNSh0aGlzLCBWKTtcbiAgICByZXR1cm4gISFkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IuZW51bWVyYWJsZTtcbiAgfSA6ICRwcm9wZXJ0eUlzRW51bWVyYWJsZSQyO1xuXG4gIHZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNSA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJHMgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgdG9TdHJpbmckOSA9IHVuY3VycnlUaGlzJHMoe30udG9TdHJpbmcpO1xuICB2YXIgc3RyaW5nU2xpY2UkMSA9IHVuY3VycnlUaGlzJHMoJycuc2xpY2UpO1xuXG4gIHZhciBjbGFzc29mUmF3JDEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gc3RyaW5nU2xpY2UkMSh0b1N0cmluZyQ5KGl0KSwgOCwgLTEpO1xuICB9O1xuXG4gIHZhciBnbG9iYWwkTCA9IGdsb2JhbCRNO1xuICB2YXIgdW5jdXJyeVRoaXMkciA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBmYWlscyRvID0gZmFpbHMkcjtcbiAgdmFyIGNsYXNzb2YkZiA9IGNsYXNzb2ZSYXckMTtcbiAgdmFyIE9iamVjdCQ5ID0gZ2xvYmFsJEwuT2JqZWN0O1xuICB2YXIgc3BsaXQgPSB1bmN1cnJ5VGhpcyRyKCcnLnNwbGl0KTsgLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcblxuICB2YXIgaW5kZXhlZE9iamVjdCA9IGZhaWxzJG8oZnVuY3Rpb24gKCkge1xuICAgIC8vIHRocm93cyBhbiBlcnJvciBpbiByaGlubywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3JoaW5vL2lzc3Vlcy8zNDZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgICByZXR1cm4gIU9iamVjdCQ5KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCk7XG4gIH0pID8gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGNsYXNzb2YkZihpdCkgPT0gJ1N0cmluZycgPyBzcGxpdChpdCwgJycpIDogT2JqZWN0JDkoaXQpO1xuICB9IDogT2JqZWN0JDk7XG5cbiAgdmFyIGdsb2JhbCRLID0gZ2xvYmFsJE07XG4gIHZhciBUeXBlRXJyb3IkaiA9IGdsb2JhbCRLLlR5cGVFcnJvcjsgLy8gYFJlcXVpcmVPYmplY3RDb2VyY2libGVgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlcXVpcmVvYmplY3Rjb2VyY2libGVcblxuICB2YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSQ1ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yJGooXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIiArIGl0KTtcbiAgICByZXR1cm4gaXQ7XG4gIH07XG5cbiAgdmFyIEluZGV4ZWRPYmplY3QkMyA9IGluZGV4ZWRPYmplY3Q7XG4gIHZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDQgPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDU7XG5cbiAgdmFyIHRvSW5kZXhlZE9iamVjdCRiID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIEluZGV4ZWRPYmplY3QkMyhyZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDQoaXQpKTtcbiAgfTtcblxuICB2YXIgaXNDYWxsYWJsZSRnID0gaXNDYWxsYWJsZSRoO1xuXG4gIHZhciBpc09iamVjdCRmID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogaXNDYWxsYWJsZSRnKGl0KTtcbiAgfTtcblxuICB2YXIgcGF0aCRxID0ge307XG5cbiAgdmFyIHBhdGgkcCA9IHBhdGgkcTtcbiAgdmFyIGdsb2JhbCRKID0gZ2xvYmFsJE07XG4gIHZhciBpc0NhbGxhYmxlJGYgPSBpc0NhbGxhYmxlJGg7XG5cbiAgdmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YXJpYWJsZSkge1xuICAgIHJldHVybiBpc0NhbGxhYmxlJGYodmFyaWFibGUpID8gdmFyaWFibGUgOiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgdmFyIGdldEJ1aWx0SW4kOSA9IGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1ldGhvZCkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihwYXRoJHBbbmFtZXNwYWNlXSkgfHwgYUZ1bmN0aW9uKGdsb2JhbCRKW25hbWVzcGFjZV0pIDogcGF0aCRwW25hbWVzcGFjZV0gJiYgcGF0aCRwW25hbWVzcGFjZV1bbWV0aG9kXSB8fCBnbG9iYWwkSltuYW1lc3BhY2VdICYmIGdsb2JhbCRKW25hbWVzcGFjZV1bbWV0aG9kXTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkcSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBvYmplY3RJc1Byb3RvdHlwZU9mID0gdW5jdXJyeVRoaXMkcSh7fS5pc1Byb3RvdHlwZU9mKTtcblxuICB2YXIgZ2V0QnVpbHRJbiQ4ID0gZ2V0QnVpbHRJbiQ5O1xuICB2YXIgZW5naW5lVXNlckFnZW50ID0gZ2V0QnVpbHRJbiQ4KCduYXZpZ2F0b3InLCAndXNlckFnZW50JykgfHwgJyc7XG5cbiAgdmFyIGdsb2JhbCRJID0gZ2xvYmFsJE07XG4gIHZhciB1c2VyQWdlbnQkMyA9IGVuZ2luZVVzZXJBZ2VudDtcbiAgdmFyIHByb2Nlc3MgPSBnbG9iYWwkSS5wcm9jZXNzO1xuICB2YXIgRGVubyA9IGdsb2JhbCRJLkRlbm87XG4gIHZhciB2ZXJzaW9ucyA9IHByb2Nlc3MgJiYgcHJvY2Vzcy52ZXJzaW9ucyB8fCBEZW5vICYmIERlbm8udmVyc2lvbjtcbiAgdmFyIHY4ID0gdmVyc2lvbnMgJiYgdmVyc2lvbnMudjg7XG4gIHZhciBtYXRjaCwgdmVyc2lvbjtcblxuICBpZiAodjgpIHtcbiAgICBtYXRjaCA9IHY4LnNwbGl0KCcuJyk7IC8vIGluIG9sZCBDaHJvbWUsIHZlcnNpb25zIG9mIFY4IGlzbid0IFY4ID0gQ2hyb21lIC8gMTBcbiAgICAvLyBidXQgdGhlaXIgY29ycmVjdCB2ZXJzaW9ucyBhcmUgbm90IGludGVyZXN0aW5nIGZvciB1c1xuXG4gICAgdmVyc2lvbiA9IG1hdGNoWzBdID4gMCAmJiBtYXRjaFswXSA8IDQgPyAxIDogKyhtYXRjaFswXSArIG1hdGNoWzFdKTtcbiAgfSAvLyBCcm93c2VyRlMgTm9kZUpTIGBwcm9jZXNzYCBwb2x5ZmlsbCBpbmNvcnJlY3RseSBzZXQgYC52OGAgdG8gYDAuMGBcbiAgLy8gc28gY2hlY2sgYHVzZXJBZ2VudGAgZXZlbiBpZiBgLnY4YCBleGlzdHMsIGJ1dCAwXG5cblxuICBpZiAoIXZlcnNpb24gJiYgdXNlckFnZW50JDMpIHtcbiAgICBtYXRjaCA9IHVzZXJBZ2VudCQzLm1hdGNoKC9FZGdlXFwvKFxcZCspLyk7XG5cbiAgICBpZiAoIW1hdGNoIHx8IG1hdGNoWzFdID49IDc0KSB7XG4gICAgICBtYXRjaCA9IHVzZXJBZ2VudCQzLm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICAgIGlmIChtYXRjaCkgdmVyc2lvbiA9ICttYXRjaFsxXTtcbiAgICB9XG4gIH1cblxuICB2YXIgZW5naW5lVjhWZXJzaW9uID0gdmVyc2lvbjtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbiAgdmFyIFY4X1ZFUlNJT04kMiA9IGVuZ2luZVY4VmVyc2lvbjtcbiAgdmFyIGZhaWxzJG4gPSBmYWlscyRyOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5c3ltYm9scyAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuXG4gIHZhciBuYXRpdmVTeW1ib2wgPSAhIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiYgIWZhaWxzJG4oZnVuY3Rpb24gKCkge1xuICAgIHZhciBzeW1ib2wgPSBTeW1ib2woKTsgLy8gQ2hyb21lIDM4IFN5bWJvbCBoYXMgaW5jb3JyZWN0IHRvU3RyaW5nIGNvbnZlcnNpb25cbiAgICAvLyBgZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzYCBwb2x5ZmlsbCBzeW1ib2xzIGNvbnZlcnRlZCB0byBvYmplY3QgYXJlIG5vdCBTeW1ib2wgaW5zdGFuY2VzXG5cbiAgICByZXR1cm4gIVN0cmluZyhzeW1ib2wpIHx8ICEoT2JqZWN0KHN5bWJvbCkgaW5zdGFuY2VvZiBTeW1ib2wpIHx8IC8vIENocm9tZSAzOC00MCBzeW1ib2xzIGFyZSBub3QgaW5oZXJpdGVkIGZyb20gRE9NIGNvbGxlY3Rpb25zIHByb3RvdHlwZXMgdG8gaW5zdGFuY2VzXG4gICAgIVN5bWJvbC5zaGFtICYmIFY4X1ZFUlNJT04kMiAmJiBWOF9WRVJTSU9OJDIgPCA0MTtcbiAgfSk7XG5cbiAgLyogZXNsaW50LWRpc2FibGUgZXMvbm8tc3ltYm9sIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nICovXG4gIHZhciBOQVRJVkVfU1lNQk9MJDIgPSBuYXRpdmVTeW1ib2w7XG4gIHZhciB1c2VTeW1ib2xBc1VpZCA9IE5BVElWRV9TWU1CT0wkMiAmJiAhU3ltYm9sLnNoYW0gJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJztcblxuICB2YXIgZ2xvYmFsJEggPSBnbG9iYWwkTTtcbiAgdmFyIGdldEJ1aWx0SW4kNyA9IGdldEJ1aWx0SW4kOTtcbiAgdmFyIGlzQ2FsbGFibGUkZSA9IGlzQ2FsbGFibGUkaDtcbiAgdmFyIGlzUHJvdG90eXBlT2YkaSA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBVU0VfU1lNQk9MX0FTX1VJRCQxID0gdXNlU3ltYm9sQXNVaWQ7XG4gIHZhciBPYmplY3QkOCA9IGdsb2JhbCRILk9iamVjdDtcbiAgdmFyIGlzU3ltYm9sJDMgPSBVU0VfU1lNQk9MX0FTX1VJRCQxID8gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbiAgfSA6IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciAkU3ltYm9sID0gZ2V0QnVpbHRJbiQ3KCdTeW1ib2wnKTtcbiAgICByZXR1cm4gaXNDYWxsYWJsZSRlKCRTeW1ib2wpICYmIGlzUHJvdG90eXBlT2YkaSgkU3ltYm9sLnByb3RvdHlwZSwgT2JqZWN0JDgoaXQpKTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJEcgPSBnbG9iYWwkTTtcbiAgdmFyIFN0cmluZyQ0ID0gZ2xvYmFsJEcuU3RyaW5nO1xuXG4gIHZhciB0cnlUb1N0cmluZyQ0ID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBTdHJpbmckNChhcmd1bWVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiAnT2JqZWN0JztcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdsb2JhbCRGID0gZ2xvYmFsJE07XG4gIHZhciBpc0NhbGxhYmxlJGQgPSBpc0NhbGxhYmxlJGg7XG4gIHZhciB0cnlUb1N0cmluZyQzID0gdHJ5VG9TdHJpbmckNDtcbiAgdmFyIFR5cGVFcnJvciRpID0gZ2xvYmFsJEYuVHlwZUVycm9yOyAvLyBgQXNzZXJ0OiBJc0NhbGxhYmxlKGFyZ3VtZW50KSBpcyB0cnVlYFxuXG4gIHZhciBhQ2FsbGFibGUkNyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIGlmIChpc0NhbGxhYmxlJGQoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gICAgdGhyb3cgVHlwZUVycm9yJGkodHJ5VG9TdHJpbmckMyhhcmd1bWVudCkgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIH07XG5cbiAgdmFyIGFDYWxsYWJsZSQ2ID0gYUNhbGxhYmxlJDc7IC8vIGBHZXRNZXRob2RgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxuXG4gIHZhciBnZXRNZXRob2QkMyA9IGZ1bmN0aW9uIChWLCBQKSB7XG4gICAgdmFyIGZ1bmMgPSBWW1BdO1xuICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhQ2FsbGFibGUkNihmdW5jKTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJEUgPSBnbG9iYWwkTTtcbiAgdmFyIGNhbGwkOSA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIGlzQ2FsbGFibGUkYyA9IGlzQ2FsbGFibGUkaDtcbiAgdmFyIGlzT2JqZWN0JGUgPSBpc09iamVjdCRmO1xuICB2YXIgVHlwZUVycm9yJGggPSBnbG9iYWwkRS5UeXBlRXJyb3I7IC8vIGBPcmRpbmFyeVRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vcmRpbmFyeXRvcHJpbWl0aXZlXG5cbiAgdmFyIG9yZGluYXJ5VG9QcmltaXRpdmUkMSA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICAgIHZhciBmbiwgdmFsO1xuICAgIGlmIChwcmVmID09PSAnc3RyaW5nJyAmJiBpc0NhbGxhYmxlJGMoZm4gPSBpbnB1dC50b1N0cmluZykgJiYgIWlzT2JqZWN0JGUodmFsID0gY2FsbCQ5KGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICAgIGlmIChpc0NhbGxhYmxlJGMoZm4gPSBpbnB1dC52YWx1ZU9mKSAmJiAhaXNPYmplY3QkZSh2YWwgPSBjYWxsJDkoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gICAgaWYgKHByZWYgIT09ICdzdHJpbmcnICYmIGlzQ2FsbGFibGUkYyhmbiA9IGlucHV0LnRvU3RyaW5nKSAmJiAhaXNPYmplY3QkZSh2YWwgPSBjYWxsJDkoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gICAgdGhyb3cgVHlwZUVycm9yJGgoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG4gIH07XG5cbiAgdmFyIHNoYXJlZCQ0ID0ge2V4cG9ydHM6IHt9fTtcblxuICB2YXIgZ2xvYmFsJEQgPSBnbG9iYWwkTTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG5cbiAgdmFyIGRlZmluZVByb3BlcnR5JGQgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbiAgdmFyIHNldEdsb2JhbCQxID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgZGVmaW5lUHJvcGVydHkkZChnbG9iYWwkRCwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGdsb2JhbCREW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCRDID0gZ2xvYmFsJE07XG4gIHZhciBzZXRHbG9iYWwgPSBzZXRHbG9iYWwkMTtcbiAgdmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xuICB2YXIgc3RvcmUkMyA9IGdsb2JhbCRDW1NIQVJFRF0gfHwgc2V0R2xvYmFsKFNIQVJFRCwge30pO1xuICB2YXIgc2hhcmVkU3RvcmUgPSBzdG9yZSQzO1xuXG4gIHZhciBzdG9yZSQyID0gc2hhcmVkU3RvcmU7XG4gIChzaGFyZWQkNC5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3RvcmUkMltrZXldIHx8IChzdG9yZSQyW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG4gIH0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgICB2ZXJzaW9uOiAnMy4yMS4xJyxcbiAgICBtb2RlOiAncHVyZScgLFxuICAgIGNvcHlyaWdodDogJ8KpIDIwMTQtMjAyMiBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KScsXG4gICAgbGljZW5zZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2Jsb2IvdjMuMjEuMS9MSUNFTlNFJyxcbiAgICBzb3VyY2U6ICdodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcydcbiAgfSk7XG5cbiAgdmFyIGdsb2JhbCRCID0gZ2xvYmFsJE07XG4gIHZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDMgPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDU7XG4gIHZhciBPYmplY3QkNyA9IGdsb2JhbCRCLk9iamVjdDsgLy8gYFRvT2JqZWN0YCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b29iamVjdFxuXG4gIHZhciB0b09iamVjdCRlID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIE9iamVjdCQ3KHJlcXVpcmVPYmplY3RDb2VyY2libGUkMyhhcmd1bWVudCkpO1xuICB9O1xuXG4gIHZhciB1bmN1cnJ5VGhpcyRwID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIHRvT2JqZWN0JGQgPSB0b09iamVjdCRlO1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSB1bmN1cnJ5VGhpcyRwKHt9Lmhhc093blByb3BlcnR5KTsgLy8gYEhhc093blByb3BlcnR5YCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1oYXNvd25wcm9wZXJ0eVxuXG4gIHZhciBoYXNPd25Qcm9wZXJ0eV8xID0gT2JqZWN0Lmhhc093biB8fCBmdW5jdGlvbiBoYXNPd24oaXQsIGtleSkge1xuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eSh0b09iamVjdCRkKGl0KSwga2V5KTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkbyA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBpZCQxID0gMDtcbiAgdmFyIHBvc3RmaXggPSBNYXRoLnJhbmRvbSgpO1xuICB2YXIgdG9TdHJpbmckOCA9IHVuY3VycnlUaGlzJG8oMS4wLnRvU3RyaW5nKTtcblxuICB2YXIgdWlkJDQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICdTeW1ib2woJyArIChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5KSArICcpXycgKyB0b1N0cmluZyQ4KCsraWQkMSArIHBvc3RmaXgsIDM2KTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJEEgPSBnbG9iYWwkTTtcbiAgdmFyIHNoYXJlZCQzID0gc2hhcmVkJDQuZXhwb3J0cztcbiAgdmFyIGhhc093biRmID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIHVpZCQzID0gdWlkJDQ7XG4gIHZhciBOQVRJVkVfU1lNQk9MJDEgPSBuYXRpdmVTeW1ib2w7XG4gIHZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IHVzZVN5bWJvbEFzVWlkO1xuICB2YXIgV2VsbEtub3duU3ltYm9sc1N0b3JlJDEgPSBzaGFyZWQkMygnd2tzJyk7XG4gIHZhciBTeW1ib2wkMiA9IGdsb2JhbCRBLlN5bWJvbDtcbiAgdmFyIHN5bWJvbEZvciA9IFN5bWJvbCQyICYmIFN5bWJvbCQyWydmb3InXTtcbiAgdmFyIGNyZWF0ZVdlbGxLbm93blN5bWJvbCA9IFVTRV9TWU1CT0xfQVNfVUlEID8gU3ltYm9sJDIgOiBTeW1ib2wkMiAmJiBTeW1ib2wkMi53aXRob3V0U2V0dGVyIHx8IHVpZCQzO1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkaiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCFoYXNPd24kZihXZWxsS25vd25TeW1ib2xzU3RvcmUkMSwgbmFtZSkgfHwgIShOQVRJVkVfU1lNQk9MJDEgfHwgdHlwZW9mIFdlbGxLbm93blN5bWJvbHNTdG9yZSQxW25hbWVdID09ICdzdHJpbmcnKSkge1xuICAgICAgdmFyIGRlc2NyaXB0aW9uID0gJ1N5bWJvbC4nICsgbmFtZTtcblxuICAgICAgaWYgKE5BVElWRV9TWU1CT0wkMSAmJiBoYXNPd24kZihTeW1ib2wkMiwgbmFtZSkpIHtcbiAgICAgICAgV2VsbEtub3duU3ltYm9sc1N0b3JlJDFbbmFtZV0gPSBTeW1ib2wkMltuYW1lXTtcbiAgICAgIH0gZWxzZSBpZiAoVVNFX1NZTUJPTF9BU19VSUQgJiYgc3ltYm9sRm9yKSB7XG4gICAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZSQxW25hbWVdID0gc3ltYm9sRm9yKGRlc2NyaXB0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZSQxW25hbWVdID0gY3JlYXRlV2VsbEtub3duU3ltYm9sKGRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gV2VsbEtub3duU3ltYm9sc1N0b3JlJDFbbmFtZV07XG4gIH07XG5cbiAgdmFyIGdsb2JhbCR6ID0gZ2xvYmFsJE07XG4gIHZhciBjYWxsJDggPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBpc09iamVjdCRkID0gaXNPYmplY3QkZjtcbiAgdmFyIGlzU3ltYm9sJDIgPSBpc1N5bWJvbCQzO1xuICB2YXIgZ2V0TWV0aG9kJDIgPSBnZXRNZXRob2QkMztcbiAgdmFyIG9yZGluYXJ5VG9QcmltaXRpdmUgPSBvcmRpbmFyeVRvUHJpbWl0aXZlJDE7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkaSA9IHdlbGxLbm93blN5bWJvbCRqO1xuICB2YXIgVHlwZUVycm9yJGcgPSBnbG9iYWwkei5UeXBlRXJyb3I7XG4gIHZhciBUT19QUklNSVRJVkUkMSA9IHdlbGxLbm93blN5bWJvbCRpKCd0b1ByaW1pdGl2ZScpOyAvLyBgVG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJpbWl0aXZlXG5cbiAgdmFyIHRvUHJpbWl0aXZlJDEgPSBmdW5jdGlvbiAoaW5wdXQsIHByZWYpIHtcbiAgICBpZiAoIWlzT2JqZWN0JGQoaW5wdXQpIHx8IGlzU3ltYm9sJDIoaW5wdXQpKSByZXR1cm4gaW5wdXQ7XG4gICAgdmFyIGV4b3RpY1RvUHJpbSA9IGdldE1ldGhvZCQyKGlucHV0LCBUT19QUklNSVRJVkUkMSk7XG4gICAgdmFyIHJlc3VsdDtcblxuICAgIGlmIChleG90aWNUb1ByaW0pIHtcbiAgICAgIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnZGVmYXVsdCc7XG4gICAgICByZXN1bHQgPSBjYWxsJDgoZXhvdGljVG9QcmltLCBpbnB1dCwgcHJlZik7XG4gICAgICBpZiAoIWlzT2JqZWN0JGQocmVzdWx0KSB8fCBpc1N5bWJvbCQyKHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IkZyhcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgICB9XG5cbiAgICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ251bWJlcic7XG4gICAgcmV0dXJuIG9yZGluYXJ5VG9QcmltaXRpdmUoaW5wdXQsIHByZWYpO1xuICB9O1xuXG4gIHZhciB0b1ByaW1pdGl2ZSA9IHRvUHJpbWl0aXZlJDE7XG4gIHZhciBpc1N5bWJvbCQxID0gaXNTeW1ib2wkMzsgLy8gYFRvUHJvcGVydHlLZXlgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcblxuICB2YXIgdG9Qcm9wZXJ0eUtleSQ0ID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZ3VtZW50LCAnc3RyaW5nJyk7XG4gICAgcmV0dXJuIGlzU3ltYm9sJDEoa2V5KSA/IGtleSA6IGtleSArICcnO1xuICB9O1xuXG4gIHZhciBnbG9iYWwkeSA9IGdsb2JhbCRNO1xuICB2YXIgaXNPYmplY3QkYyA9IGlzT2JqZWN0JGY7XG4gIHZhciBkb2N1bWVudCQxID0gZ2xvYmFsJHkuZG9jdW1lbnQ7IC8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxuXG4gIHZhciBFWElTVFMkMSA9IGlzT2JqZWN0JGMoZG9jdW1lbnQkMSkgJiYgaXNPYmplY3QkYyhkb2N1bWVudCQxLmNyZWF0ZUVsZW1lbnQpO1xuXG4gIHZhciBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBFWElTVFMkMSA/IGRvY3VtZW50JDEuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbiAgfTtcblxuICB2YXIgREVTQ1JJUFRPUlMkaCA9IGRlc2NyaXB0b3JzO1xuICB2YXIgZmFpbHMkbSA9IGZhaWxzJHI7XG4gIHZhciBjcmVhdGVFbGVtZW50ID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50JDE7IC8vIFRoYW5rcyB0byBJRTggZm9yIGl0cyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxuXG4gIHZhciBpZThEb21EZWZpbmUgPSAhREVTQ1JJUFRPUlMkaCAmJiAhZmFpbHMkbShmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiA3O1xuICAgICAgfVxuICAgIH0pLmEgIT0gNztcbiAgfSk7XG5cbiAgdmFyIERFU0NSSVBUT1JTJGcgPSBkZXNjcmlwdG9ycztcbiAgdmFyIGNhbGwkNyA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlJDIgPSBvYmplY3RQcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQ0ID0gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDU7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkYSA9IHRvSW5kZXhlZE9iamVjdCRiO1xuICB2YXIgdG9Qcm9wZXJ0eUtleSQzID0gdG9Qcm9wZXJ0eUtleSQ0O1xuICB2YXIgaGFzT3duJGUgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgSUU4X0RPTV9ERUZJTkUkMSA9IGllOERvbURlZmluZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuXG4gIHZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvclxuXG4gIG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvci5mID0gREVTQ1JJUFRPUlMkZyA/ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMiA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gICAgTyA9IHRvSW5kZXhlZE9iamVjdCRhKE8pO1xuICAgIFAgPSB0b1Byb3BlcnR5S2V5JDMoUCk7XG4gICAgaWYgKElFOF9ET01fREVGSU5FJDEpIHRyeSB7XG4gICAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvciQyKE8sIFApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvKiBlbXB0eSAqL1xuICAgIH1cbiAgICBpZiAoaGFzT3duJGUoTywgUCkpIHJldHVybiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNCghY2FsbCQ3KHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlJDIuZiwgTywgUCksIE9bUF0pO1xuICB9O1xuXG4gIHZhciBmYWlscyRsID0gZmFpbHMkcjtcbiAgdmFyIGlzQ2FsbGFibGUkYiA9IGlzQ2FsbGFibGUkaDtcbiAgdmFyIHJlcGxhY2VtZW50ID0gLyN8XFwucHJvdG90eXBlXFwuLztcblxuICB2YXIgaXNGb3JjZWQkMSA9IGZ1bmN0aW9uIChmZWF0dXJlLCBkZXRlY3Rpb24pIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG4gICAgcmV0dXJuIHZhbHVlID09IFBPTFlGSUxMID8gdHJ1ZSA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlIDogaXNDYWxsYWJsZSRiKGRldGVjdGlvbikgPyBmYWlscyRsKGRldGVjdGlvbikgOiAhIWRldGVjdGlvbjtcbiAgfTtcblxuICB2YXIgbm9ybWFsaXplID0gaXNGb3JjZWQkMS5ub3JtYWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVwbGFjZW1lbnQsICcuJykudG9Mb3dlckNhc2UoKTtcbiAgfTtcblxuICB2YXIgZGF0YSA9IGlzRm9yY2VkJDEuZGF0YSA9IHt9O1xuICB2YXIgTkFUSVZFID0gaXNGb3JjZWQkMS5OQVRJVkUgPSAnTic7XG4gIHZhciBQT0xZRklMTCA9IGlzRm9yY2VkJDEuUE9MWUZJTEwgPSAnUCc7XG4gIHZhciBpc0ZvcmNlZF8xID0gaXNGb3JjZWQkMTtcblxuICB2YXIgdW5jdXJyeVRoaXMkbiA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBhQ2FsbGFibGUkNSA9IGFDYWxsYWJsZSQ3O1xuICB2YXIgTkFUSVZFX0JJTkQkMSA9IGZ1bmN0aW9uQmluZE5hdGl2ZTtcbiAgdmFyIGJpbmQkYyA9IHVuY3VycnlUaGlzJG4odW5jdXJyeVRoaXMkbi5iaW5kKTsgLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5cbiAgdmFyIGZ1bmN0aW9uQmluZENvbnRleHQgPSBmdW5jdGlvbiAoZm4sIHRoYXQpIHtcbiAgICBhQ2FsbGFibGUkNShmbik7XG4gICAgcmV0dXJuIHRoYXQgPT09IHVuZGVmaW5lZCA/IGZuIDogTkFUSVZFX0JJTkQkMSA/IGJpbmQkYyhmbiwgdGhhdCkgOiBmdW5jdGlvblxuICAgICAgLyogLi4uYXJncyAqL1xuICAgICgpIHtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIG9iamVjdERlZmluZVByb3BlcnR5ID0ge307XG5cbiAgdmFyIERFU0NSSVBUT1JTJGYgPSBkZXNjcmlwdG9ycztcbiAgdmFyIGZhaWxzJGsgPSBmYWlscyRyOyAvLyBWOCB+IENocm9tZSAzNi1cbiAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzMzNFxuXG4gIHZhciB2OFByb3RvdHlwZURlZmluZUJ1ZyA9IERFU0NSSVBUT1JTJGYgJiYgZmFpbHMkayhmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnVuY3Rpb24gKCkge1xuICAgICAgLyogZW1wdHkgKi9cbiAgICB9LCAncHJvdG90eXBlJywge1xuICAgICAgdmFsdWU6IDQyLFxuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSkucHJvdG90eXBlICE9IDQyO1xuICB9KTtcblxuICB2YXIgZ2xvYmFsJHggPSBnbG9iYWwkTTtcbiAgdmFyIGlzT2JqZWN0JGIgPSBpc09iamVjdCRmO1xuICB2YXIgU3RyaW5nJDMgPSBnbG9iYWwkeC5TdHJpbmc7XG4gIHZhciBUeXBlRXJyb3IkZiA9IGdsb2JhbCR4LlR5cGVFcnJvcjsgLy8gYEFzc2VydDogVHlwZShhcmd1bWVudCkgaXMgT2JqZWN0YFxuXG4gIHZhciBhbk9iamVjdCRiID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKGlzT2JqZWN0JGIoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gICAgdGhyb3cgVHlwZUVycm9yJGYoU3RyaW5nJDMoYXJndW1lbnQpICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCR3ID0gZ2xvYmFsJE07XG4gIHZhciBERVNDUklQVE9SUyRlID0gZGVzY3JpcHRvcnM7XG4gIHZhciBJRThfRE9NX0RFRklORSA9IGllOERvbURlZmluZTtcbiAgdmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHJDEgPSB2OFByb3RvdHlwZURlZmluZUJ1ZztcbiAgdmFyIGFuT2JqZWN0JGEgPSBhbk9iamVjdCRiO1xuICB2YXIgdG9Qcm9wZXJ0eUtleSQyID0gdG9Qcm9wZXJ0eUtleSQ0O1xuICB2YXIgVHlwZUVycm9yJGUgPSBnbG9iYWwkdy5UeXBlRXJyb3I7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxuXG4gIHZhciAkZGVmaW5lUHJvcGVydHkkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuXG4gIHZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICB2YXIgRU5VTUVSQUJMRSA9ICdlbnVtZXJhYmxlJztcbiAgdmFyIENPTkZJR1VSQUJMRSQxID0gJ2NvbmZpZ3VyYWJsZSc7XG4gIHZhciBXUklUQUJMRSA9ICd3cml0YWJsZSc7IC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuXG4gIG9iamVjdERlZmluZVByb3BlcnR5LmYgPSBERVNDUklQVE9SUyRlID8gVjhfUFJPVE9UWVBFX0RFRklORV9CVUckMSA/IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgICBhbk9iamVjdCRhKE8pO1xuICAgIFAgPSB0b1Byb3BlcnR5S2V5JDIoUCk7XG4gICAgYW5PYmplY3QkYShBdHRyaWJ1dGVzKTtcblxuICAgIGlmICh0eXBlb2YgTyA9PT0gJ2Z1bmN0aW9uJyAmJiBQID09PSAncHJvdG90eXBlJyAmJiAndmFsdWUnIGluIEF0dHJpYnV0ZXMgJiYgV1JJVEFCTEUgaW4gQXR0cmlidXRlcyAmJiAhQXR0cmlidXRlc1tXUklUQUJMRV0pIHtcbiAgICAgIHZhciBjdXJyZW50ID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvciQxKE8sIFApO1xuXG4gICAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50W1dSSVRBQkxFXSkge1xuICAgICAgICBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgICAgICAgQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IENPTkZJR1VSQUJMRSQxIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0NPTkZJR1VSQUJMRSQxXSA6IGN1cnJlbnRbQ09ORklHVVJBQkxFJDFdLFxuICAgICAgICAgIGVudW1lcmFibGU6IEVOVU1FUkFCTEUgaW4gQXR0cmlidXRlcyA/IEF0dHJpYnV0ZXNbRU5VTUVSQUJMRV0gOiBjdXJyZW50W0VOVU1FUkFCTEVdLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAkZGVmaW5lUHJvcGVydHkkMShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSA6ICRkZWZpbmVQcm9wZXJ0eSQxIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICAgIGFuT2JqZWN0JGEoTyk7XG4gICAgUCA9IHRvUHJvcGVydHlLZXkkMihQKTtcbiAgICBhbk9iamVjdCRhKEF0dHJpYnV0ZXMpO1xuICAgIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICAgIHJldHVybiAkZGVmaW5lUHJvcGVydHkkMShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLyogZW1wdHkgKi9cbiAgICB9XG4gICAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yJGUoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gICAgcmV0dXJuIE87XG4gIH07XG5cbiAgdmFyIERFU0NSSVBUT1JTJGQgPSBkZXNjcmlwdG9ycztcbiAgdmFyIGRlZmluZVByb3BlcnR5TW9kdWxlJDQgPSBvYmplY3REZWZpbmVQcm9wZXJ0eTtcbiAgdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQzID0gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDU7XG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNiA9IERFU0NSSVBUT1JTJGQgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIGRlZmluZVByb3BlcnR5TW9kdWxlJDQuZihvYmplY3QsIGtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDMoMSwgdmFsdWUpKTtcbiAgfSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCR2ID0gZ2xvYmFsJE07XG4gIHZhciBhcHBseSQ1ID0gZnVuY3Rpb25BcHBseTtcbiAgdmFyIHVuY3VycnlUaGlzJG0gPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgaXNDYWxsYWJsZSRhID0gaXNDYWxsYWJsZSRoO1xuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDQgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuZjtcbiAgdmFyIGlzRm9yY2VkID0gaXNGb3JjZWRfMTtcbiAgdmFyIHBhdGgkbyA9IHBhdGgkcTtcbiAgdmFyIGJpbmQkYiA9IGZ1bmN0aW9uQmluZENvbnRleHQ7XG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNSA9IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ2O1xuICB2YXIgaGFzT3duJGQgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuXG4gIHZhciB3cmFwQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoTmF0aXZlQ29uc3RydWN0b3IpIHtcbiAgICB2YXIgV3JhcHBlciA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFdyYXBwZXIpIHtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpO1xuXG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcihhKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoYSwgYik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IE5hdGl2ZUNvbnN0cnVjdG9yKGEsIGIsIGMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXBwbHkkNShOYXRpdmVDb25zdHJ1Y3RvciwgdGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgV3JhcHBlci5wcm90b3R5cGUgPSBOYXRpdmVDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgcmV0dXJuIFdyYXBwZXI7XG4gIH07XG4gIC8qXG4gICAgb3B0aW9ucy50YXJnZXQgICAgICAtIG5hbWUgb2YgdGhlIHRhcmdldCBvYmplY3RcbiAgICBvcHRpb25zLmdsb2JhbCAgICAgIC0gdGFyZ2V0IGlzIHRoZSBnbG9iYWwgb2JqZWN0XG4gICAgb3B0aW9ucy5zdGF0ICAgICAgICAtIGV4cG9ydCBhcyBzdGF0aWMgbWV0aG9kcyBvZiB0YXJnZXRcbiAgICBvcHRpb25zLnByb3RvICAgICAgIC0gZXhwb3J0IGFzIHByb3RvdHlwZSBtZXRob2RzIG9mIHRhcmdldFxuICAgIG9wdGlvbnMucmVhbCAgICAgICAgLSByZWFsIHByb3RvdHlwZSBtZXRob2QgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICAgIG9wdGlvbnMuZm9yY2VkICAgICAgLSBleHBvcnQgZXZlbiBpZiB0aGUgbmF0aXZlIGZlYXR1cmUgaXMgYXZhaWxhYmxlXG4gICAgb3B0aW9ucy5iaW5kICAgICAgICAtIGJpbmQgbWV0aG9kcyB0byB0aGUgdGFyZ2V0LCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gICAgb3B0aW9ucy53cmFwICAgICAgICAtIHdyYXAgY29uc3RydWN0b3JzIHRvIHByZXZlbnRpbmcgZ2xvYmFsIHBvbGx1dGlvbiwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICAgIG9wdGlvbnMudW5zYWZlICAgICAgLSB1c2UgdGhlIHNpbXBsZSBhc3NpZ25tZW50IG9mIHByb3BlcnR5IGluc3RlYWQgb2YgZGVsZXRlICsgZGVmaW5lUHJvcGVydHlcbiAgICBvcHRpb25zLnNoYW0gICAgICAgIC0gYWRkIGEgZmxhZyB0byBub3QgY29tcGxldGVseSBmdWxsIHBvbHlmaWxsc1xuICAgIG9wdGlvbnMuZW51bWVyYWJsZSAgLSBleHBvcnQgYXMgZW51bWVyYWJsZSBwcm9wZXJ0eVxuICAgIG9wdGlvbnMubm9UYXJnZXRHZXQgLSBwcmV2ZW50IGNhbGxpbmcgYSBnZXR0ZXIgb24gdGFyZ2V0XG4gICAgb3B0aW9ucy5uYW1lICAgICAgICAtIHRoZSAubmFtZSBvZiB0aGUgZnVuY3Rpb24gaWYgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGtleVxuICAqL1xuXG5cbiAgdmFyIF9leHBvcnQgPSBmdW5jdGlvbiAob3B0aW9ucywgc291cmNlKSB7XG4gICAgdmFyIFRBUkdFVCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgIHZhciBHTE9CQUwgPSBvcHRpb25zLmdsb2JhbDtcbiAgICB2YXIgU1RBVElDID0gb3B0aW9ucy5zdGF0O1xuICAgIHZhciBQUk9UTyA9IG9wdGlvbnMucHJvdG87XG4gICAgdmFyIG5hdGl2ZVNvdXJjZSA9IEdMT0JBTCA/IGdsb2JhbCR2IDogU1RBVElDID8gZ2xvYmFsJHZbVEFSR0VUXSA6IChnbG9iYWwkdltUQVJHRVRdIHx8IHt9KS5wcm90b3R5cGU7XG4gICAgdmFyIHRhcmdldCA9IEdMT0JBTCA/IHBhdGgkbyA6IHBhdGgkb1tUQVJHRVRdIHx8IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ1KHBhdGgkbywgVEFSR0VULCB7fSlbVEFSR0VUXTtcbiAgICB2YXIgdGFyZ2V0UHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICB2YXIgRk9SQ0VELCBVU0VfTkFUSVZFLCBWSVJUVUFMX1BST1RPVFlQRTtcbiAgICB2YXIga2V5LCBzb3VyY2VQcm9wZXJ0eSwgdGFyZ2V0UHJvcGVydHksIG5hdGl2ZVByb3BlcnR5LCByZXN1bHRQcm9wZXJ0eSwgZGVzY3JpcHRvcjtcblxuICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgRk9SQ0VEID0gaXNGb3JjZWQoR0xPQkFMID8ga2V5IDogVEFSR0VUICsgKFNUQVRJQyA/ICcuJyA6ICcjJykgKyBrZXksIG9wdGlvbnMuZm9yY2VkKTsgLy8gY29udGFpbnMgaW4gbmF0aXZlXG5cbiAgICAgIFVTRV9OQVRJVkUgPSAhRk9SQ0VEICYmIG5hdGl2ZVNvdXJjZSAmJiBoYXNPd24kZChuYXRpdmVTb3VyY2UsIGtleSk7XG4gICAgICB0YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFtrZXldO1xuICAgICAgaWYgKFVTRV9OQVRJVkUpIGlmIChvcHRpb25zLm5vVGFyZ2V0R2V0KSB7XG4gICAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkNChuYXRpdmVTb3VyY2UsIGtleSk7XG4gICAgICAgIG5hdGl2ZVByb3BlcnR5ID0gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgfSBlbHNlIG5hdGl2ZVByb3BlcnR5ID0gbmF0aXZlU291cmNlW2tleV07IC8vIGV4cG9ydCBuYXRpdmUgb3IgaW1wbGVtZW50YXRpb25cblxuICAgICAgc291cmNlUHJvcGVydHkgPSBVU0VfTkFUSVZFICYmIG5hdGl2ZVByb3BlcnR5ID8gbmF0aXZlUHJvcGVydHkgOiBzb3VyY2Vba2V5XTtcbiAgICAgIGlmIChVU0VfTkFUSVZFICYmIHR5cGVvZiB0YXJnZXRQcm9wZXJ0eSA9PSB0eXBlb2Ygc291cmNlUHJvcGVydHkpIGNvbnRpbnVlOyAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuXG4gICAgICBpZiAob3B0aW9ucy5iaW5kICYmIFVTRV9OQVRJVkUpIHJlc3VsdFByb3BlcnR5ID0gYmluZCRiKHNvdXJjZVByb3BlcnR5LCBnbG9iYWwkdik7IC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ3MgaW4gdGhpcyB2ZXJzaW9uXG4gICAgICBlbHNlIGlmIChvcHRpb25zLndyYXAgJiYgVVNFX05BVElWRSkgcmVzdWx0UHJvcGVydHkgPSB3cmFwQ29uc3RydWN0b3Ioc291cmNlUHJvcGVydHkpOyAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICAgIGVsc2UgaWYgKFBST1RPICYmIGlzQ2FsbGFibGUkYShzb3VyY2VQcm9wZXJ0eSkpIHJlc3VsdFByb3BlcnR5ID0gdW5jdXJyeVRoaXMkbShzb3VyY2VQcm9wZXJ0eSk7IC8vIGRlZmF1bHQgY2FzZVxuICAgICAgZWxzZSByZXN1bHRQcm9wZXJ0eSA9IHNvdXJjZVByb3BlcnR5OyAvLyBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG5cbiAgICAgIGlmIChvcHRpb25zLnNoYW0gfHwgc291cmNlUHJvcGVydHkgJiYgc291cmNlUHJvcGVydHkuc2hhbSB8fCB0YXJnZXRQcm9wZXJ0eSAmJiB0YXJnZXRQcm9wZXJ0eS5zaGFtKSB7XG4gICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ1KHJlc3VsdFByb3BlcnR5LCAnc2hhbScsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNSh0YXJnZXQsIGtleSwgcmVzdWx0UHJvcGVydHkpO1xuXG4gICAgICBpZiAoUFJPVE8pIHtcbiAgICAgICAgVklSVFVBTF9QUk9UT1RZUEUgPSBUQVJHRVQgKyAnUHJvdG90eXBlJztcblxuICAgICAgICBpZiAoIWhhc093biRkKHBhdGgkbywgVklSVFVBTF9QUk9UT1RZUEUpKSB7XG4gICAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDUocGF0aCRvLCBWSVJUVUFMX1BST1RPVFlQRSwge30pO1xuICAgICAgICB9IC8vIGV4cG9ydCB2aXJ0dWFsIHByb3RvdHlwZSBtZXRob2RzXG5cblxuICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNShwYXRoJG9bVklSVFVBTF9QUk9UT1RZUEVdLCBrZXksIHNvdXJjZVByb3BlcnR5KTsgLy8gZXhwb3J0IHJlYWwgcHJvdG90eXBlIG1ldGhvZHNcblxuICAgICAgICBpZiAob3B0aW9ucy5yZWFsICYmIHRhcmdldFByb3RvdHlwZSAmJiAhdGFyZ2V0UHJvdG90eXBlW2tleV0pIHtcbiAgICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNSh0YXJnZXRQcm90b3R5cGUsIGtleSwgc291cmNlUHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciAkJEMgPSBfZXhwb3J0O1xuICB2YXIgREVTQ1JJUFRPUlMkYyA9IGRlc2NyaXB0b3JzO1xuICB2YXIgZGVmaW5lUHJvcGVydHkkYyA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7IC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcblxuICAkJEMoe1xuICAgIHRhcmdldDogJ09iamVjdCcsXG4gICAgc3RhdDogdHJ1ZSxcbiAgICBmb3JjZWQ6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAhPT0gZGVmaW5lUHJvcGVydHkkYyxcbiAgICBzaGFtOiAhREVTQ1JJUFRPUlMkY1xuICB9LCB7XG4gICAgZGVmaW5lUHJvcGVydHk6IGRlZmluZVByb3BlcnR5JGNcbiAgfSk7XG5cbiAgdmFyIHBhdGgkbiA9IHBhdGgkcTtcbiAgdmFyIE9iamVjdCQ2ID0gcGF0aCRuLk9iamVjdDtcblxuICB2YXIgZGVmaW5lUHJvcGVydHkkYiA9IGRlZmluZVByb3BlcnR5JGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpIHtcbiAgICByZXR1cm4gT2JqZWN0JDYuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG4gIH07XG5cbiAgaWYgKE9iamVjdCQ2LmRlZmluZVByb3BlcnR5LnNoYW0pIGRlZmluZVByb3BlcnR5JGIuc2hhbSA9IHRydWU7XG5cbiAgdmFyIHBhcmVudCRWID0gZGVmaW5lUHJvcGVydHkkZS5leHBvcnRzO1xuICB2YXIgZGVmaW5lUHJvcGVydHkkYSA9IHBhcmVudCRWO1xuXG4gIHZhciBwYXJlbnQkVSA9IGRlZmluZVByb3BlcnR5JGE7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSQ5ID0gcGFyZW50JFU7XG5cbiAgdmFyIHBhcmVudCRUID0gZGVmaW5lUHJvcGVydHkkOTtcbiAgdmFyIGRlZmluZVByb3BlcnR5JDggPSBwYXJlbnQkVDtcblxuICB2YXIgZGVmaW5lUHJvcGVydHkkNyA9IGRlZmluZVByb3BlcnR5JDg7XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXG4gICAgICBkZWZpbmVQcm9wZXJ0eSQ3KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG5cbiAgICBkZWZpbmVQcm9wZXJ0eSQ3KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcblxuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgZGVmaW5lUHJvcGVydHkkNyhvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgdW5jdXJyeVRoaXMkbCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBhcnJheVNsaWNlJDUgPSB1bmN1cnJ5VGhpcyRsKFtdLnNsaWNlKTtcblxuICB2YXIgZ2xvYmFsJHUgPSBnbG9iYWwkTTtcbiAgdmFyIHVuY3VycnlUaGlzJGsgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgYUNhbGxhYmxlJDQgPSBhQ2FsbGFibGUkNztcbiAgdmFyIGlzT2JqZWN0JGEgPSBpc09iamVjdCRmO1xuICB2YXIgaGFzT3duJGMgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgYXJyYXlTbGljZSQ0ID0gYXJyYXlTbGljZSQ1O1xuICB2YXIgTkFUSVZFX0JJTkQgPSBmdW5jdGlvbkJpbmROYXRpdmU7XG4gIHZhciBGdW5jdGlvbiQyID0gZ2xvYmFsJHUuRnVuY3Rpb247XG4gIHZhciBjb25jYXQkNiA9IHVuY3VycnlUaGlzJGsoW10uY29uY2F0KTtcbiAgdmFyIGpvaW4gPSB1bmN1cnJ5VGhpcyRrKFtdLmpvaW4pO1xuICB2YXIgZmFjdG9yaWVzID0ge307XG5cbiAgdmFyIGNvbnN0cnVjdCQ0ID0gZnVuY3Rpb24gKEMsIGFyZ3NMZW5ndGgsIGFyZ3MpIHtcbiAgICBpZiAoIWhhc093biRjKGZhY3RvcmllcywgYXJnc0xlbmd0aCkpIHtcbiAgICAgIGZvciAodmFyIGxpc3QgPSBbXSwgaSA9IDA7IGkgPCBhcmdzTGVuZ3RoOyBpKyspIGxpc3RbaV0gPSAnYVsnICsgaSArICddJztcblxuICAgICAgZmFjdG9yaWVzW2FyZ3NMZW5ndGhdID0gRnVuY3Rpb24kMignQyxhJywgJ3JldHVybiBuZXcgQygnICsgam9pbihsaXN0LCAnLCcpICsgJyknKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFjdG9yaWVzW2FyZ3NMZW5ndGhdKEMsIGFyZ3MpO1xuICB9OyAvLyBgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXG5cblxuICB2YXIgZnVuY3Rpb25CaW5kID0gTkFUSVZFX0JJTkQgPyBGdW5jdGlvbiQyLmJpbmQgOiBmdW5jdGlvbiBiaW5kKHRoYXRcbiAgLyogLCAuLi5hcmdzICovXG4gICkge1xuICAgIHZhciBGID0gYUNhbGxhYmxlJDQodGhpcyk7XG4gICAgdmFyIFByb3RvdHlwZSA9IEYucHJvdG90eXBlO1xuICAgIHZhciBwYXJ0QXJncyA9IGFycmF5U2xpY2UkNChhcmd1bWVudHMsIDEpO1xuXG4gICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBmdW5jdGlvblxuICAgICAgLyogYXJncy4uLiAqL1xuICAgIGJvdW5kKCkge1xuICAgICAgdmFyIGFyZ3MgPSBjb25jYXQkNihwYXJ0QXJncywgYXJyYXlTbGljZSQ0KGFyZ3VtZW50cykpO1xuICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBib3VuZEZ1bmN0aW9uID8gY29uc3RydWN0JDQoRiwgYXJncy5sZW5ndGgsIGFyZ3MpIDogRi5hcHBseSh0aGF0LCBhcmdzKTtcbiAgICB9O1xuXG4gICAgaWYgKGlzT2JqZWN0JGEoUHJvdG90eXBlKSkgYm91bmRGdW5jdGlvbi5wcm90b3R5cGUgPSBQcm90b3R5cGU7XG4gICAgcmV0dXJuIGJvdW5kRnVuY3Rpb247XG4gIH07XG5cbiAgdmFyICQkQiA9IF9leHBvcnQ7XG4gIHZhciBiaW5kJGEgPSBmdW5jdGlvbkJpbmQ7IC8vIGBGdW5jdGlvbi5wcm90b3R5cGUuYmluZGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcblxuICAkJEIoe1xuICAgIHRhcmdldDogJ0Z1bmN0aW9uJyxcbiAgICBwcm90bzogdHJ1ZSxcbiAgICBmb3JjZWQ6IEZ1bmN0aW9uLmJpbmQgIT09IGJpbmQkYVxuICB9LCB7XG4gICAgYmluZDogYmluZCRhXG4gIH0pO1xuXG4gIHZhciBwYXRoJG0gPSBwYXRoJHE7XG5cbiAgdmFyIGVudHJ5VmlydHVhbCRrID0gZnVuY3Rpb24gKENPTlNUUlVDVE9SKSB7XG4gICAgcmV0dXJuIHBhdGgkbVtDT05TVFJVQ1RPUiArICdQcm90b3R5cGUnXTtcbiAgfTtcblxuICB2YXIgZW50cnlWaXJ0dWFsJGogPSBlbnRyeVZpcnR1YWwkaztcbiAgdmFyIGJpbmQkOSA9IGVudHJ5VmlydHVhbCRqKCdGdW5jdGlvbicpLmJpbmQ7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkaCA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkZSA9IGJpbmQkOTtcbiAgdmFyIEZ1bmN0aW9uUHJvdG90eXBlJDEgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgdmFyIGJpbmQkOCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5iaW5kO1xuICAgIHJldHVybiBpdCA9PT0gRnVuY3Rpb25Qcm90b3R5cGUkMSB8fCBpc1Byb3RvdHlwZU9mJGgoRnVuY3Rpb25Qcm90b3R5cGUkMSwgaXQpICYmIG93biA9PT0gRnVuY3Rpb25Qcm90b3R5cGUkMS5iaW5kID8gbWV0aG9kJGUgOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRTID0gYmluZCQ4O1xuICB2YXIgYmluZCQ3ID0gcGFyZW50JFM7XG5cbiAgdmFyIGJpbmQkNiA9IGJpbmQkNztcblxuICB2YXIgY2VpbCA9IE1hdGguY2VpbDtcbiAgdmFyIGZsb29yJDEgPSBNYXRoLmZsb29yOyAvLyBgVG9JbnRlZ2VyT3JJbmZpbml0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9pbnRlZ2Vyb3JpbmZpbml0eVxuXG4gIHZhciB0b0ludGVnZXJPckluZmluaXR5JDQgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICB2YXIgbnVtYmVyID0gK2FyZ3VtZW50OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIHNhZmVcblxuICAgIHJldHVybiBudW1iZXIgIT09IG51bWJlciB8fCBudW1iZXIgPT09IDAgPyAwIDogKG51bWJlciA+IDAgPyBmbG9vciQxIDogY2VpbCkobnVtYmVyKTtcbiAgfTtcblxuICB2YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSQzID0gdG9JbnRlZ2VyT3JJbmZpbml0eSQ0O1xuICB2YXIgbWluJDIgPSBNYXRoLm1pbjsgLy8gYFRvTGVuZ3RoYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2xlbmd0aFxuXG4gIHZhciB0b0xlbmd0aCQxID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbiQyKHRvSW50ZWdlck9ySW5maW5pdHkkMyhhcmd1bWVudCksIDB4MUZGRkZGRkZGRkZGRkYpIDogMDsgLy8gMiAqKiA1MyAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuICB9O1xuXG4gIHZhciB0b0xlbmd0aCA9IHRvTGVuZ3RoJDE7IC8vIGBMZW5ndGhPZkFycmF5TGlrZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbGVuZ3Rob2ZhcnJheWxpa2VcblxuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdG9MZW5ndGgob2JqLmxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCR0ID0gZ2xvYmFsJE07XG4gIHZhciBhQ2FsbGFibGUkMyA9IGFDYWxsYWJsZSQ3O1xuICB2YXIgdG9PYmplY3QkYyA9IHRvT2JqZWN0JGU7XG4gIHZhciBJbmRleGVkT2JqZWN0JDIgPSBpbmRleGVkT2JqZWN0O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkYyA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBUeXBlRXJyb3IkZCA9IGdsb2JhbCR0LlR5cGVFcnJvcjsgLy8gYEFycmF5LnByb3RvdHlwZS57IHJlZHVjZSwgcmVkdWNlUmlnaHQgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxuXG4gIHZhciBjcmVhdGVNZXRob2QkNSA9IGZ1bmN0aW9uIChJU19SSUdIVCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGhhdCwgY2FsbGJhY2tmbiwgYXJndW1lbnRzTGVuZ3RoLCBtZW1vKSB7XG4gICAgICBhQ2FsbGFibGUkMyhjYWxsYmFja2ZuKTtcbiAgICAgIHZhciBPID0gdG9PYmplY3QkYyh0aGF0KTtcbiAgICAgIHZhciBzZWxmID0gSW5kZXhlZE9iamVjdCQyKE8pO1xuICAgICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlJGMoTyk7XG4gICAgICB2YXIgaW5kZXggPSBJU19SSUdIVCA/IGxlbmd0aCAtIDEgOiAwO1xuICAgICAgdmFyIGkgPSBJU19SSUdIVCA/IC0xIDogMTtcbiAgICAgIGlmIChhcmd1bWVudHNMZW5ndGggPCAyKSB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoaW5kZXggaW4gc2VsZikge1xuICAgICAgICAgIG1lbW8gPSBzZWxmW2luZGV4XTtcbiAgICAgICAgICBpbmRleCArPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXggKz0gaTtcblxuICAgICAgICBpZiAoSVNfUklHSFQgPyBpbmRleCA8IDAgOiBsZW5ndGggPD0gaW5kZXgpIHtcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IkZCgnUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoOyBJU19SSUdIVCA/IGluZGV4ID49IDAgOiBsZW5ndGggPiBpbmRleDsgaW5kZXggKz0gaSkgaWYgKGluZGV4IGluIHNlbGYpIHtcbiAgICAgICAgbWVtbyA9IGNhbGxiYWNrZm4obWVtbywgc2VsZltpbmRleF0sIGluZGV4LCBPKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICB2YXIgYXJyYXlSZWR1Y2UgPSB7XG4gICAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuICAgIGxlZnQ6IGNyZWF0ZU1ldGhvZCQ1KGZhbHNlKSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0YCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5yZWR1Y2VyaWdodFxuICAgIHJpZ2h0OiBjcmVhdGVNZXRob2QkNSh0cnVlKVxuICB9O1xuXG4gIHZhciBmYWlscyRqID0gZmFpbHMkcjtcblxuICB2YXIgYXJyYXlNZXRob2RJc1N0cmljdCQ1ID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FLCBhcmd1bWVudCkge1xuICAgIHZhciBtZXRob2QgPSBbXVtNRVRIT0RfTkFNRV07XG4gICAgcmV0dXJuICEhbWV0aG9kICYmIGZhaWxzJGooZnVuY3Rpb24gKCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtY2FsbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgICAgbWV0aG9kLmNhbGwobnVsbCwgYXJndW1lbnQgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0sIDEpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjbGFzc29mJGUgPSBjbGFzc29mUmF3JDE7XG4gIHZhciBnbG9iYWwkcyA9IGdsb2JhbCRNO1xuICB2YXIgZW5naW5lSXNOb2RlID0gY2xhc3NvZiRlKGdsb2JhbCRzLnByb2Nlc3MpID09ICdwcm9jZXNzJztcblxuICB2YXIgJCRBID0gX2V4cG9ydDtcbiAgdmFyICRyZWR1Y2UgPSBhcnJheVJlZHVjZS5sZWZ0O1xuICB2YXIgYXJyYXlNZXRob2RJc1N0cmljdCQ0ID0gYXJyYXlNZXRob2RJc1N0cmljdCQ1O1xuICB2YXIgQ0hST01FX1ZFUlNJT04gPSBlbmdpbmVWOFZlcnNpb247XG4gIHZhciBJU19OT0RFID0gZW5naW5lSXNOb2RlO1xuICB2YXIgU1RSSUNUX01FVEhPRCQ0ID0gYXJyYXlNZXRob2RJc1N0cmljdCQ0KCdyZWR1Y2UnKTsgLy8gQ2hyb21lIDgwLTgyIGhhcyBhIGNyaXRpY2FsIGJ1Z1xuICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMDQ5OTgyXG5cbiAgdmFyIENIUk9NRV9CVUcgPSAhSVNfTk9ERSAmJiBDSFJPTUVfVkVSU0lPTiA+IDc5ICYmIENIUk9NRV9WRVJTSU9OIDwgODM7IC8vIGBBcnJheS5wcm90b3R5cGUucmVkdWNlYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmVkdWNlXG5cbiAgJCRBKHtcbiAgICB0YXJnZXQ6ICdBcnJheScsXG4gICAgcHJvdG86IHRydWUsXG4gICAgZm9yY2VkOiAhU1RSSUNUX01FVEhPRCQ0IHx8IENIUk9NRV9CVUdcbiAgfSwge1xuICAgIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm5cbiAgICAvKiAsIGluaXRpYWxWYWx1ZSAqL1xuICAgICkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBsZW5ndGgsIGxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGVudHJ5VmlydHVhbCRpID0gZW50cnlWaXJ0dWFsJGs7XG4gIHZhciByZWR1Y2UkMyA9IGVudHJ5VmlydHVhbCRpKCdBcnJheScpLnJlZHVjZTtcblxuICB2YXIgaXNQcm90b3R5cGVPZiRnID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCRkID0gcmVkdWNlJDM7XG4gIHZhciBBcnJheVByb3RvdHlwZSRlID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciByZWR1Y2UkMiA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5yZWR1Y2U7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSRlIHx8IGlzUHJvdG90eXBlT2YkZyhBcnJheVByb3RvdHlwZSRlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZSRlLnJlZHVjZSA/IG1ldGhvZCRkIDogb3duO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkUiA9IHJlZHVjZSQyO1xuICB2YXIgcmVkdWNlJDEgPSBwYXJlbnQkUjtcblxuICB2YXIgcmVkdWNlID0gcmVkdWNlJDE7XG5cbiAgdmFyIGNsYXNzb2YkZCA9IGNsYXNzb2ZSYXckMTsgLy8gYElzQXJyYXlgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzYXJyYXlcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWFycmF5LWlzYXJyYXkgLS0gc2FmZVxuXG4gIHZhciBpc0FycmF5JGQgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gY2xhc3NvZiRkKGFyZ3VtZW50KSA9PSAnQXJyYXknO1xuICB9O1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkaCA9IHdlbGxLbm93blN5bWJvbCRqO1xuICB2YXIgVE9fU1RSSU5HX1RBRyQzID0gd2VsbEtub3duU3ltYm9sJGgoJ3RvU3RyaW5nVGFnJyk7XG4gIHZhciB0ZXN0JDIgPSB7fTtcbiAgdGVzdCQyW1RPX1NUUklOR19UQUckM10gPSAneic7XG4gIHZhciB0b1N0cmluZ1RhZ1N1cHBvcnQgPSBTdHJpbmcodGVzdCQyKSA9PT0gJ1tvYmplY3Qgel0nO1xuXG4gIHZhciBnbG9iYWwkciA9IGdsb2JhbCRNO1xuICB2YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUJDIgPSB0b1N0cmluZ1RhZ1N1cHBvcnQ7XG4gIHZhciBpc0NhbGxhYmxlJDkgPSBpc0NhbGxhYmxlJGg7XG4gIHZhciBjbGFzc29mUmF3ID0gY2xhc3NvZlJhdyQxO1xuICB2YXIgd2VsbEtub3duU3ltYm9sJGcgPSB3ZWxsS25vd25TeW1ib2wkajtcbiAgdmFyIFRPX1NUUklOR19UQUckMiA9IHdlbGxLbm93blN5bWJvbCRnKCd0b1N0cmluZ1RhZycpO1xuICB2YXIgT2JqZWN0JDUgPSBnbG9iYWwkci5PYmplY3Q7IC8vIEVTMyB3cm9uZyBoZXJlXG5cbiAgdmFyIENPUlJFQ1RfQVJHVU1FTlRTID0gY2xhc3NvZlJhdyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cztcbiAgfSgpKSA9PSAnQXJndW1lbnRzJzsgLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcblxuICB2YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGl0W2tleV07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8qIGVtcHR5ICovXG4gICAgfVxuICB9OyAvLyBnZXR0aW5nIHRhZyBmcm9tIEVTNisgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgXG5cblxuICB2YXIgY2xhc3NvZiRjID0gVE9fU1RSSU5HX1RBR19TVVBQT1JUJDIgPyBjbGFzc29mUmF3IDogZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIE8sIHRhZywgcmVzdWx0O1xuICAgIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJyAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAodGFnID0gdHJ5R2V0KE8gPSBPYmplY3QkNShpdCksIFRPX1NUUklOR19UQUckMikpID09ICdzdHJpbmcnID8gdGFnIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQ09SUkVDVF9BUkdVTUVOVFMgPyBjbGFzc29mUmF3KE8pIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChyZXN1bHQgPSBjbGFzc29mUmF3KE8pKSA9PSAnT2JqZWN0JyAmJiBpc0NhbGxhYmxlJDkoTy5jYWxsZWUpID8gJ0FyZ3VtZW50cycgOiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJGogPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgaXNDYWxsYWJsZSQ4ID0gaXNDYWxsYWJsZSRoO1xuICB2YXIgc3RvcmUkMSA9IHNoYXJlZFN0b3JlO1xuICB2YXIgZnVuY3Rpb25Ub1N0cmluZyA9IHVuY3VycnlUaGlzJGooRnVuY3Rpb24udG9TdHJpbmcpOyAvLyB0aGlzIGhlbHBlciBicm9rZW4gaW4gYGNvcmUtanNAMy40LjEtMy40LjRgLCBzbyB3ZSBjYW4ndCB1c2UgYHNoYXJlZGAgaGVscGVyXG5cbiAgaWYgKCFpc0NhbGxhYmxlJDgoc3RvcmUkMS5pbnNwZWN0U291cmNlKSkge1xuICAgIHN0b3JlJDEuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uVG9TdHJpbmcoaXQpO1xuICAgIH07XG4gIH1cblxuICB2YXIgaW5zcGVjdFNvdXJjZSQyID0gc3RvcmUkMS5pbnNwZWN0U291cmNlO1xuXG4gIHZhciB1bmN1cnJ5VGhpcyRpID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGZhaWxzJGkgPSBmYWlscyRyO1xuICB2YXIgaXNDYWxsYWJsZSQ3ID0gaXNDYWxsYWJsZSRoO1xuICB2YXIgY2xhc3NvZiRiID0gY2xhc3NvZiRjO1xuICB2YXIgZ2V0QnVpbHRJbiQ2ID0gZ2V0QnVpbHRJbiQ5O1xuICB2YXIgaW5zcGVjdFNvdXJjZSQxID0gaW5zcGVjdFNvdXJjZSQyO1xuXG4gIHZhciBub29wID0gZnVuY3Rpb24gKCkge1xuICAgIC8qIGVtcHR5ICovXG4gIH07XG5cbiAgdmFyIGVtcHR5ID0gW107XG4gIHZhciBjb25zdHJ1Y3QkMyA9IGdldEJ1aWx0SW4kNignUmVmbGVjdCcsICdjb25zdHJ1Y3QnKTtcbiAgdmFyIGNvbnN0cnVjdG9yUmVnRXhwID0gL15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLztcbiAgdmFyIGV4ZWMkMiA9IHVuY3VycnlUaGlzJGkoY29uc3RydWN0b3JSZWdFeHAuZXhlYyk7XG4gIHZhciBJTkNPUlJFQ1RfVE9fU1RSSU5HID0gIWNvbnN0cnVjdG9yUmVnRXhwLmV4ZWMobm9vcCk7XG5cbiAgdmFyIGlzQ29uc3RydWN0b3JNb2Rlcm4gPSBmdW5jdGlvbiBpc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSB7XG4gICAgaWYgKCFpc0NhbGxhYmxlJDcoYXJndW1lbnQpKSByZXR1cm4gZmFsc2U7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3RydWN0JDMobm9vcCwgZW1wdHksIGFyZ3VtZW50KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc0NvbnN0cnVjdG9yTGVnYWN5ID0gZnVuY3Rpb24gaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgIGlmICghaXNDYWxsYWJsZSQ3KGFyZ3VtZW50KSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgc3dpdGNoIChjbGFzc29mJGIoYXJndW1lbnQpKSB7XG4gICAgICBjYXNlICdBc3luY0Z1bmN0aW9uJzpcbiAgICAgIGNhc2UgJ0dlbmVyYXRvckZ1bmN0aW9uJzpcbiAgICAgIGNhc2UgJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nOlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIHdlIGNhbid0IGNoZWNrIC5wcm90b3R5cGUgc2luY2UgY29uc3RydWN0b3JzIHByb2R1Y2VkIGJ5IC5iaW5kIGhhdmVuJ3QgaXRcbiAgICAgIC8vIGBGdW5jdGlvbiN0b1N0cmluZ2AgdGhyb3dzIG9uIHNvbWUgYnVpbHQtaXQgZnVuY3Rpb24gaW4gc29tZSBsZWdhY3kgZW5naW5lc1xuICAgICAgLy8gKGZvciBleGFtcGxlLCBgRE9NUXVhZGAgYW5kIHNpbWlsYXIgaW4gRkY0MS0pXG4gICAgICByZXR1cm4gSU5DT1JSRUNUX1RPX1NUUklORyB8fCAhIWV4ZWMkMihjb25zdHJ1Y3RvclJlZ0V4cCwgaW5zcGVjdFNvdXJjZSQxKGFyZ3VtZW50KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBpc0NvbnN0cnVjdG9yTGVnYWN5LnNoYW0gPSB0cnVlOyAvLyBgSXNDb25zdHJ1Y3RvcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjb25zdHJ1Y3RvclxuXG4gIHZhciBpc0NvbnN0cnVjdG9yJDQgPSAhY29uc3RydWN0JDMgfHwgZmFpbHMkaShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhbGxlZDtcbiAgICByZXR1cm4gaXNDb25zdHJ1Y3Rvck1vZGVybihpc0NvbnN0cnVjdG9yTW9kZXJuLmNhbGwpIHx8ICFpc0NvbnN0cnVjdG9yTW9kZXJuKE9iamVjdCkgfHwgIWlzQ29uc3RydWN0b3JNb2Rlcm4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICB9KSB8fCBjYWxsZWQ7XG4gIH0pID8gaXNDb25zdHJ1Y3RvckxlZ2FjeSA6IGlzQ29uc3RydWN0b3JNb2Rlcm47XG5cbiAgdmFyIGdsb2JhbCRxID0gZ2xvYmFsJE07XG4gIHZhciBpc0FycmF5JGMgPSBpc0FycmF5JGQ7XG4gIHZhciBpc0NvbnN0cnVjdG9yJDMgPSBpc0NvbnN0cnVjdG9yJDQ7XG4gIHZhciBpc09iamVjdCQ5ID0gaXNPYmplY3QkZjtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCRmID0gd2VsbEtub3duU3ltYm9sJGo7XG4gIHZhciBTUEVDSUVTJDMgPSB3ZWxsS25vd25TeW1ib2wkZignc3BlY2llcycpO1xuICB2YXIgQXJyYXkkNSA9IGdsb2JhbCRxLkFycmF5OyAvLyBhIHBhcnQgb2YgYEFycmF5U3BlY2llc0NyZWF0ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXlzcGVjaWVzY3JlYXRlXG5cbiAgdmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yJDEgPSBmdW5jdGlvbiAob3JpZ2luYWxBcnJheSkge1xuICAgIHZhciBDO1xuXG4gICAgaWYgKGlzQXJyYXkkYyhvcmlnaW5hbEFycmF5KSkge1xuICAgICAgQyA9IG9yaWdpbmFsQXJyYXkuY29uc3RydWN0b3I7IC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG5cbiAgICAgIGlmIChpc0NvbnN0cnVjdG9yJDMoQykgJiYgKEMgPT09IEFycmF5JDUgfHwgaXNBcnJheSRjKEMucHJvdG90eXBlKSkpIEMgPSB1bmRlZmluZWQ7ZWxzZSBpZiAoaXNPYmplY3QkOShDKSkge1xuICAgICAgICBDID0gQ1tTUEVDSUVTJDNdO1xuICAgICAgICBpZiAoQyA9PT0gbnVsbCkgQyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkID8gQXJyYXkkNSA6IEM7XG4gIH07XG5cbiAgdmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yID0gYXJyYXlTcGVjaWVzQ29uc3RydWN0b3IkMTsgLy8gYEFycmF5U3BlY2llc0NyZWF0ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXlzcGVjaWVzY3JlYXRlXG5cbiAgdmFyIGFycmF5U3BlY2llc0NyZWF0ZSQ0ID0gZnVuY3Rpb24gKG9yaWdpbmFsQXJyYXksIGxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgKGFycmF5U3BlY2llc0NvbnN0cnVjdG9yKG9yaWdpbmFsQXJyYXkpKShsZW5ndGggPT09IDAgPyAwIDogbGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgYmluZCQ1ID0gZnVuY3Rpb25CaW5kQ29udGV4dDtcbiAgdmFyIHVuY3VycnlUaGlzJGggPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgSW5kZXhlZE9iamVjdCQxID0gaW5kZXhlZE9iamVjdDtcbiAgdmFyIHRvT2JqZWN0JGIgPSB0b09iamVjdCRlO1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkYiA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBhcnJheVNwZWNpZXNDcmVhdGUkMyA9IGFycmF5U3BlY2llc0NyZWF0ZSQ0O1xuICB2YXIgcHVzaCQ1ID0gdW5jdXJyeVRoaXMkaChbXS5wdXNoKTsgLy8gYEFycmF5LnByb3RvdHlwZS57IGZvckVhY2gsIG1hcCwgZmlsdGVyLCBzb21lLCBldmVyeSwgZmluZCwgZmluZEluZGV4LCBmaWx0ZXJSZWplY3QgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxuXG4gIHZhciBjcmVhdGVNZXRob2QkNCA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gICAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgICB2YXIgSVNfRklMVEVSID0gVFlQRSA9PSAyO1xuICAgIHZhciBJU19TT01FID0gVFlQRSA9PSAzO1xuICAgIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgICB2YXIgSVNfRklORF9JTkRFWCA9IFRZUEUgPT0gNjtcbiAgICB2YXIgSVNfRklMVEVSX1JFSkVDVCA9IFRZUEUgPT0gNztcbiAgICB2YXIgTk9fSE9MRVMgPSBUWVBFID09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBjYWxsYmFja2ZuLCB0aGF0LCBzcGVjaWZpY0NyZWF0ZSkge1xuICAgICAgdmFyIE8gPSB0b09iamVjdCRiKCR0aGlzKTtcbiAgICAgIHZhciBzZWxmID0gSW5kZXhlZE9iamVjdCQxKE8pO1xuICAgICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kJDUoY2FsbGJhY2tmbiwgdGhhdCk7XG4gICAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UkYihzZWxmKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgY3JlYXRlID0gc3BlY2lmaWNDcmVhdGUgfHwgYXJyYXlTcGVjaWVzQ3JlYXRlJDM7XG4gICAgICB2YXIgdGFyZ2V0ID0gSVNfTUFQID8gY3JlYXRlKCR0aGlzLCBsZW5ndGgpIDogSVNfRklMVEVSIHx8IElTX0ZJTFRFUl9SRUpFQ1QgPyBjcmVhdGUoJHRoaXMsIDApIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHZhbHVlLCByZXN1bHQ7XG5cbiAgICAgIGZvciAoOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgICAgdmFsdWUgPSBzZWxmW2luZGV4XTtcbiAgICAgICAgcmVzdWx0ID0gYm91bmRGdW5jdGlvbih2YWx1ZSwgaW5kZXgsIE8pO1xuXG4gICAgICAgIGlmIChUWVBFKSB7XG4gICAgICAgICAgaWYgKElTX01BUCkgdGFyZ2V0W2luZGV4XSA9IHJlc3VsdDsgLy8gbWFwXG4gICAgICAgICAgZWxzZSBpZiAocmVzdWx0KSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyBzb21lXG5cbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgLy8gZmluZFxuXG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgIC8vIGZpbmRJbmRleFxuXG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHB1c2gkNSh0YXJnZXQsIHZhbHVlKTtcbiAgICAgICAgICAgIC8vIGZpbHRlclxuICAgICAgICAgIH0gZWxzZSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgLy8gZXZlcnlcblxuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBwdXNoJDUodGFyZ2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICAvLyBmaWx0ZXJSZWplY3RcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIElTX0ZJTkRfSU5ERVggPyAtMSA6IElTX1NPTUUgfHwgSVNfRVZFUlkgPyBJU19FVkVSWSA6IHRhcmdldDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBhcnJheUl0ZXJhdGlvbiA9IHtcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbiAgICBmb3JFYWNoOiBjcmVhdGVNZXRob2QkNCgwKSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUubWFwXG4gICAgbWFwOiBjcmVhdGVNZXRob2QkNCgxKSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbHRlcmAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsdGVyXG4gICAgZmlsdGVyOiBjcmVhdGVNZXRob2QkNCgyKSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLnNvbWVgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNvbWVcbiAgICBzb21lOiBjcmVhdGVNZXRob2QkNCgzKSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLmV2ZXJ5YCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5ldmVyeVxuICAgIGV2ZXJ5OiBjcmVhdGVNZXRob2QkNCg0KSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbmRgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRcbiAgICBmaW5kOiBjcmVhdGVNZXRob2QkNCg1KSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4gICAgZmluZEluZGV4OiBjcmVhdGVNZXRob2QkNCg2KSxcbiAgICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbHRlclJlamVjdGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtYXJyYXktZmlsdGVyaW5nXG4gICAgZmlsdGVyUmVqZWN0OiBjcmVhdGVNZXRob2QkNCg3KVxuICB9O1xuXG4gIHZhciBmYWlscyRoID0gZmFpbHMkcjtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCRlID0gd2VsbEtub3duU3ltYm9sJGo7XG4gIHZhciBWOF9WRVJTSU9OJDEgPSBlbmdpbmVWOFZlcnNpb247XG4gIHZhciBTUEVDSUVTJDIgPSB3ZWxsS25vd25TeW1ib2wkZSgnc3BlY2llcycpO1xuXG4gIHZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDUgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUpIHtcbiAgICAvLyBXZSBjYW4ndCB1c2UgdGhpcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbiAgICAvLyBkZW9wdGltaXphdGlvbiBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NzdcbiAgICByZXR1cm4gVjhfVkVSU0lPTiQxID49IDUxIHx8ICFmYWlscyRoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgdmFyIGNvbnN0cnVjdG9yID0gYXJyYXkuY29uc3RydWN0b3IgPSB7fTtcblxuICAgICAgY29uc3RydWN0b3JbU1BFQ0lFUyQyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBmb286IDFcbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBhcnJheVtNRVRIT0RfTkFNRV0oQm9vbGVhbikuZm9vICE9PSAxO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciAkJHogPSBfZXhwb3J0O1xuICB2YXIgJGZpbHRlciA9IGFycmF5SXRlcmF0aW9uLmZpbHRlcjtcbiAgdmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkNCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkNTtcbiAgdmFyIEhBU19TUEVDSUVTX1NVUFBPUlQkMyA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkNCgnZmlsdGVyJyk7IC8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsdGVyXG4gIC8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBzcGVjaWVzXG5cbiAgJCR6KHtcbiAgICB0YXJnZXQ6ICdBcnJheScsXG4gICAgcHJvdG86IHRydWUsXG4gICAgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCQzXG4gIH0sIHtcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihjYWxsYmFja2ZuXG4gICAgLyogLCB0aGlzQXJnICovXG4gICAgKSB7XG4gICAgICByZXR1cm4gJGZpbHRlcih0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZW50cnlWaXJ0dWFsJGggPSBlbnRyeVZpcnR1YWwkaztcbiAgdmFyIGZpbHRlciQzID0gZW50cnlWaXJ0dWFsJGgoJ0FycmF5JykuZmlsdGVyO1xuXG4gIHZhciBpc1Byb3RvdHlwZU9mJGYgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJGMgPSBmaWx0ZXIkMztcbiAgdmFyIEFycmF5UHJvdG90eXBlJGQgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIGZpbHRlciQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LmZpbHRlcjtcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJGQgfHwgaXNQcm90b3R5cGVPZiRmKEFycmF5UHJvdG90eXBlJGQsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJGQuZmlsdGVyID8gbWV0aG9kJGMgOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRRID0gZmlsdGVyJDI7XG4gIHZhciBmaWx0ZXIkMSA9IHBhcmVudCRRO1xuXG4gIHZhciBmaWx0ZXIgPSBmaWx0ZXIkMTtcblxuICB2YXIgJCR5ID0gX2V4cG9ydDtcbiAgdmFyICRtYXAgPSBhcnJheUl0ZXJhdGlvbi5tYXA7XG4gIHZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDMgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDU7XG4gIHZhciBIQVNfU1BFQ0lFU19TVVBQT1JUJDIgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDMoJ21hcCcpOyAvLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLm1hcFxuICAvLyB3aXRoIGFkZGluZyBzdXBwb3J0IG9mIEBAc3BlY2llc1xuXG4gICQkeSh7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHByb3RvOiB0cnVlLFxuICAgIGZvcmNlZDogIUhBU19TUEVDSUVTX1NVUFBPUlQkMlxuICB9LCB7XG4gICAgbWFwOiBmdW5jdGlvbiBtYXAoY2FsbGJhY2tmblxuICAgIC8qICwgdGhpc0FyZyAqL1xuICAgICkge1xuICAgICAgcmV0dXJuICRtYXAodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGVudHJ5VmlydHVhbCRnID0gZW50cnlWaXJ0dWFsJGs7XG4gIHZhciBtYXAkNiA9IGVudHJ5VmlydHVhbCRnKCdBcnJheScpLm1hcDtcblxuICB2YXIgaXNQcm90b3R5cGVPZiRlID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCRiID0gbWFwJDY7XG4gIHZhciBBcnJheVByb3RvdHlwZSRjID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBtYXAkNSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5tYXA7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSRjIHx8IGlzUHJvdG90eXBlT2YkZShBcnJheVByb3RvdHlwZSRjLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZSRjLm1hcCA/IG1ldGhvZCRiIDogb3duO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkUCA9IG1hcCQ1O1xuICB2YXIgbWFwJDQgPSBwYXJlbnQkUDtcblxuICB2YXIgbWFwJDMgPSBtYXAkNDtcblxuICB2YXIgZ2xvYmFsJHAgPSBnbG9iYWwkTTtcbiAgdmFyIGlzQXJyYXkkYiA9IGlzQXJyYXkkZDtcbiAgdmFyIGxlbmd0aE9mQXJyYXlMaWtlJGEgPSBsZW5ndGhPZkFycmF5TGlrZSRkO1xuICB2YXIgYmluZCQ0ID0gZnVuY3Rpb25CaW5kQ29udGV4dDtcbiAgdmFyIFR5cGVFcnJvciRjID0gZ2xvYmFsJHAuVHlwZUVycm9yOyAvLyBgRmxhdHRlbkludG9BcnJheWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtZmxhdE1hcC8jc2VjLUZsYXR0ZW5JbnRvQXJyYXlcblxuICB2YXIgZmxhdHRlbkludG9BcnJheSQxID0gZnVuY3Rpb24gKHRhcmdldCwgb3JpZ2luYWwsIHNvdXJjZSwgc291cmNlTGVuLCBzdGFydCwgZGVwdGgsIG1hcHBlciwgdGhpc0FyZykge1xuICAgIHZhciB0YXJnZXRJbmRleCA9IHN0YXJ0O1xuICAgIHZhciBzb3VyY2VJbmRleCA9IDA7XG4gICAgdmFyIG1hcEZuID0gbWFwcGVyID8gYmluZCQ0KG1hcHBlciwgdGhpc0FyZykgOiBmYWxzZTtcbiAgICB2YXIgZWxlbWVudCwgZWxlbWVudExlbjtcblxuICAgIHdoaWxlIChzb3VyY2VJbmRleCA8IHNvdXJjZUxlbikge1xuICAgICAgaWYgKHNvdXJjZUluZGV4IGluIHNvdXJjZSkge1xuICAgICAgICBlbGVtZW50ID0gbWFwRm4gPyBtYXBGbihzb3VyY2Vbc291cmNlSW5kZXhdLCBzb3VyY2VJbmRleCwgb3JpZ2luYWwpIDogc291cmNlW3NvdXJjZUluZGV4XTtcblxuICAgICAgICBpZiAoZGVwdGggPiAwICYmIGlzQXJyYXkkYihlbGVtZW50KSkge1xuICAgICAgICAgIGVsZW1lbnRMZW4gPSBsZW5ndGhPZkFycmF5TGlrZSRhKGVsZW1lbnQpO1xuICAgICAgICAgIHRhcmdldEluZGV4ID0gZmxhdHRlbkludG9BcnJheSQxKHRhcmdldCwgb3JpZ2luYWwsIGVsZW1lbnQsIGVsZW1lbnRMZW4sIHRhcmdldEluZGV4LCBkZXB0aCAtIDEpIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGFyZ2V0SW5kZXggPj0gMHgxRkZGRkZGRkZGRkZGRikgdGhyb3cgVHlwZUVycm9yJGMoJ0V4Y2VlZCB0aGUgYWNjZXB0YWJsZSBhcnJheSBsZW5ndGgnKTtcbiAgICAgICAgICB0YXJnZXRbdGFyZ2V0SW5kZXhdID0gZWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldEluZGV4Kys7XG4gICAgICB9XG5cbiAgICAgIHNvdXJjZUluZGV4Kys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldEluZGV4O1xuICB9O1xuXG4gIHZhciBmbGF0dGVuSW50b0FycmF5XzEgPSBmbGF0dGVuSW50b0FycmF5JDE7XG5cbiAgdmFyICQkeCA9IF9leHBvcnQ7XG4gIHZhciBmbGF0dGVuSW50b0FycmF5ID0gZmxhdHRlbkludG9BcnJheV8xO1xuICB2YXIgYUNhbGxhYmxlJDIgPSBhQ2FsbGFibGUkNztcbiAgdmFyIHRvT2JqZWN0JGEgPSB0b09iamVjdCRlO1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkOSA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBhcnJheVNwZWNpZXNDcmVhdGUkMiA9IGFycmF5U3BlY2llc0NyZWF0ZSQ0OyAvLyBgQXJyYXkucHJvdG90eXBlLmZsYXRNYXBgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5mbGF0bWFwXG5cbiAgJCR4KHtcbiAgICB0YXJnZXQ6ICdBcnJheScsXG4gICAgcHJvdG86IHRydWVcbiAgfSwge1xuICAgIGZsYXRNYXA6IGZ1bmN0aW9uIGZsYXRNYXAoY2FsbGJhY2tmblxuICAgIC8qICwgdGhpc0FyZyAqL1xuICAgICkge1xuICAgICAgdmFyIE8gPSB0b09iamVjdCRhKHRoaXMpO1xuICAgICAgdmFyIHNvdXJjZUxlbiA9IGxlbmd0aE9mQXJyYXlMaWtlJDkoTyk7XG4gICAgICB2YXIgQTtcbiAgICAgIGFDYWxsYWJsZSQyKGNhbGxiYWNrZm4pO1xuICAgICAgQSA9IGFycmF5U3BlY2llc0NyZWF0ZSQyKE8sIDApO1xuICAgICAgQS5sZW5ndGggPSBmbGF0dGVuSW50b0FycmF5KEEsIE8sIE8sIHNvdXJjZUxlbiwgMCwgMSwgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgICAgcmV0dXJuIEE7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZW50cnlWaXJ0dWFsJGYgPSBlbnRyeVZpcnR1YWwkaztcbiAgdmFyIGZsYXRNYXAkMyA9IGVudHJ5VmlydHVhbCRmKCdBcnJheScpLmZsYXRNYXA7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkZCA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkYSA9IGZsYXRNYXAkMztcbiAgdmFyIEFycmF5UHJvdG90eXBlJGIgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIGZsYXRNYXAkMiA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5mbGF0TWFwO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUkYiB8fCBpc1Byb3RvdHlwZU9mJGQoQXJyYXlQcm90b3R5cGUkYiwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkYi5mbGF0TWFwID8gbWV0aG9kJGEgOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRPID0gZmxhdE1hcCQyO1xuICB2YXIgZmxhdE1hcCQxID0gcGFyZW50JE87XG5cbiAgdmFyIGZsYXRNYXAgPSBmbGF0TWFwJDE7XG5cbiAgLyoqXHJcbiAgICogQ3JlYXRlIG5ldyBkYXRhIHBpcGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBzb3VyY2UgZGF0YSBzZXQgb3IgZGF0YSB2aWV3LlxyXG4gICAqIEByZW1hcmtzXHJcbiAgICogRXhhbXBsZSB1c2FnZTpcclxuICAgKiBgYGB0eXBlc2NyaXB0XHJcbiAgICogaW50ZXJmYWNlIEFwcEl0ZW0ge1xyXG4gICAqICAgd2hvYW1pOiBzdHJpbmc7XHJcbiAgICogICBhcHBEYXRhOiB1bmtub3duO1xyXG4gICAqICAgdmlzRGF0YTogVmlzSXRlbTtcclxuICAgKiB9XHJcbiAgICogaW50ZXJmYWNlIFZpc0l0ZW0ge1xyXG4gICAqICAgaWQ6IG51bWJlcjtcclxuICAgKiAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICogICBjb2xvcjogc3RyaW5nO1xyXG4gICAqICAgeDogbnVtYmVyO1xyXG4gICAqICAgeTogbnVtYmVyO1xyXG4gICAqIH1cclxuICAgKlxyXG4gICAqIGNvbnN0IGRzMSA9IG5ldyBEYXRhU2V0PEFwcEl0ZW0sIFwid2hvYW1pXCI+KFtdLCB7IGZpZWxkSWQ6IFwid2hvYW1pXCIgfSk7XHJcbiAgICogY29uc3QgZHMyID0gbmV3IERhdGFTZXQ8VmlzSXRlbSwgXCJpZFwiPigpO1xyXG4gICAqXHJcbiAgICogY29uc3QgcGlwZSA9IGNyZWF0ZU5ld0RhdGFQaXBlRnJvbShkczEpXHJcbiAgICogICAuZmlsdGVyKChpdGVtKTogYm9vbGVhbiA9PiBpdGVtLmVuYWJsZWQgPT09IHRydWUpXHJcbiAgICogICAubWFwPFZpc0l0ZW0sIFwiaWRcIj4oKGl0ZW0pOiBWaXNJdGVtID0+IGl0ZW0udmlzRGF0YSlcclxuICAgKiAgIC50byhkczIpO1xyXG4gICAqXHJcbiAgICogcGlwZS5zdGFydCgpO1xyXG4gICAqIGBgYFxyXG4gICAqIEByZXR1cm5zIEEgZmFjdG9yeSB3aG9zZSBtZXRob2RzIGNhbiBiZSB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUgcGlwZS5cclxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlTmV3RGF0YVBpcGVGcm9tKGZyb20pIHtcbiAgICByZXR1cm4gbmV3IERhdGFQaXBlVW5kZXJDb25zdHJ1Y3Rpb24oZnJvbSk7XG4gIH1cbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIHBpcGUuIFRoaXMgc2hvdWxkIGJlIGFjY2Vzc2libGUgb25seSB0aHJvdWdoXHJcbiAgICogYGNyZWF0ZU5ld0RhdGFQaXBlRnJvbWAgZnJvbSB0aGUgb3V0c2lkZS5cclxuICAgKlxyXG4gICAqIEB0eXBlUGFyYW0gU0kgLSBTb3VyY2UgaXRlbSB0eXBlLlxyXG4gICAqIEB0eXBlUGFyYW0gU1AgLSBTb3VyY2UgaXRlbSB0eXBlJ3MgaWQgcHJvcGVydHkgbmFtZS5cclxuICAgKiBAdHlwZVBhcmFtIFRJIC0gVGFyZ2V0IGl0ZW0gdHlwZS5cclxuICAgKiBAdHlwZVBhcmFtIFRQIC0gVGFyZ2V0IGl0ZW0gdHlwZSdzIGlkIHByb3BlcnR5IG5hbWUuXHJcbiAgICovXG5cbiAgdmFyIFNpbXBsZURhdGFQaXBlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcclxuICAgICAqIEJvdW5kIGxpc3RlbmVycyBmb3IgdXNlIHdpdGggYERhdGFJbnRlcmZhY2VbJ29uJyB8ICdvZmYnXWAuXHJcbiAgICAgKi9cblxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGRhdGEgcGlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gX3NvdXJjZSAtIFRoZSBkYXRhIHNldCBvciBkYXRhIHZpZXcgdGhhdCB3aWxsIGJlIG9ic2VydmVkLlxyXG4gICAgICogQHBhcmFtIF90cmFuc2Zvcm1lcnMgLSBBbiBhcnJheSBvZiB0cmFuc2Zvcm1pbmcgZnVuY3Rpb25zIHRvIGJlIHVzZWQgdG9cclxuICAgICAqIGZpbHRlciBvciB0cmFuc2Zvcm0gdGhlIGl0ZW1zIGluIHRoZSBwaXBlLlxyXG4gICAgICogQHBhcmFtIF90YXJnZXQgLSBUaGUgZGF0YSBzZXQgb3IgZGF0YSB2aWV3IHRoYXQgd2lsbCByZWNlaXZlIHRoZSBpdGVtcy5cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZURhdGFQaXBlKF9zb3VyY2UsIF90cmFuc2Zvcm1lcnMsIF90YXJnZXQpIHtcbiAgICAgIHZhciBfY29udGV4dCwgX2NvbnRleHQyLCBfY29udGV4dDM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaW1wbGVEYXRhUGlwZSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zb3VyY2VcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RyYW5zZm9ybWVyc1wiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGFyZ2V0XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9saXN0ZW5lcnNcIiwge1xuICAgICAgICBhZGQ6IGJpbmQkNihfY29udGV4dCA9IHRoaXMuX2FkZCkuY2FsbChfY29udGV4dCwgdGhpcyksXG4gICAgICAgIHJlbW92ZTogYmluZCQ2KF9jb250ZXh0MiA9IHRoaXMuX3JlbW92ZSkuY2FsbChfY29udGV4dDIsIHRoaXMpLFxuICAgICAgICB1cGRhdGU6IGJpbmQkNihfY29udGV4dDMgPSB0aGlzLl91cGRhdGUpLmNhbGwoX2NvbnRleHQzLCB0aGlzKVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3NvdXJjZSA9IF9zb3VyY2U7XG4gICAgICB0aGlzLl90cmFuc2Zvcm1lcnMgPSBfdHJhbnNmb3JtZXJzO1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gX3RhcmdldDtcbiAgICB9XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhTaW1wbGVEYXRhUGlwZSwgW3tcbiAgICAgIGtleTogXCJhbGxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhbGwoKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldC51cGRhdGUodGhpcy5fdHJhbnNmb3JtSXRlbXModGhpcy5fc291cmNlLmdldCgpKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdGFydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLl9zb3VyY2Uub24oXCJhZGRcIiwgdGhpcy5fbGlzdGVuZXJzLmFkZCk7XG5cbiAgICAgICAgdGhpcy5fc291cmNlLm9uKFwicmVtb3ZlXCIsIHRoaXMuX2xpc3RlbmVycy5yZW1vdmUpO1xuXG4gICAgICAgIHRoaXMuX3NvdXJjZS5vbihcInVwZGF0ZVwiLCB0aGlzLl9saXN0ZW5lcnMudXBkYXRlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInN0b3BcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLl9zb3VyY2Uub2ZmKFwiYWRkXCIsIHRoaXMuX2xpc3RlbmVycy5hZGQpO1xuXG4gICAgICAgIHRoaXMuX3NvdXJjZS5vZmYoXCJyZW1vdmVcIiwgdGhpcy5fbGlzdGVuZXJzLnJlbW92ZSk7XG5cbiAgICAgICAgdGhpcy5fc291cmNlLm9mZihcInVwZGF0ZVwiLCB0aGlzLl9saXN0ZW5lcnMudXBkYXRlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBBcHBseSB0aGUgdHJhbnNmb3JtZXJzIHRvIHRoZSBpdGVtcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGl0ZW1zIC0gVGhlIGl0ZW1zIHRvIGJlIHRyYW5zZm9ybWVkLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgdHJhbnNmb3JtZWQgaXRlbXMuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl90cmFuc2Zvcm1JdGVtc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF90cmFuc2Zvcm1JdGVtcyhpdGVtcykge1xuICAgICAgICB2YXIgX2NvbnRleHQ0O1xuXG4gICAgICAgIHJldHVybiByZWR1Y2UoX2NvbnRleHQ0ID0gdGhpcy5fdHJhbnNmb3JtZXJzKS5jYWxsKF9jb250ZXh0NCwgZnVuY3Rpb24gKGl0ZW1zLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtKGl0ZW1zKTtcbiAgICAgICAgfSwgaXRlbXMpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEhhbmRsZSBhbiBhZGQgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBfbmFtZSAtIElnbm9yZWQuXHJcbiAgICAgICAqIEBwYXJhbSBwYXlsb2FkIC0gVGhlIHBheWxvYWQgY29udGFpbmluZyB0aGUgaWRzIG9mIHRoZSBhZGRlZCBpdGVtcy5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FkZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGQoX25hbWUsIHBheWxvYWQpIHtcbiAgICAgICAgaWYgKHBheWxvYWQgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RhcmdldC5hZGQodGhpcy5fdHJhbnNmb3JtSXRlbXModGhpcy5fc291cmNlLmdldChwYXlsb2FkLml0ZW1zKSkpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEhhbmRsZSBhbiB1cGRhdGUgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBfbmFtZSAtIElnbm9yZWQuXHJcbiAgICAgICAqIEBwYXJhbSBwYXlsb2FkIC0gVGhlIHBheWxvYWQgY29udGFpbmluZyB0aGUgaWRzIG9mIHRoZSB1cGRhdGVkIGl0ZW1zLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdXBkYXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZShfbmFtZSwgcGF5bG9hZCkge1xuICAgICAgICBpZiAocGF5bG9hZCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGFyZ2V0LnVwZGF0ZSh0aGlzLl90cmFuc2Zvcm1JdGVtcyh0aGlzLl9zb3VyY2UuZ2V0KHBheWxvYWQuaXRlbXMpKSk7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogSGFuZGxlIGEgcmVtb3ZlIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gX25hbWUgLSBJZ25vcmVkLlxyXG4gICAgICAgKiBAcGFyYW0gcGF5bG9hZCAtIFRoZSBwYXlsb2FkIGNvbnRhaW5pbmcgdGhlIGRhdGEgb2YgdGhlIHJlbW92ZWQgaXRlbXMuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlKF9uYW1lLCBwYXlsb2FkKSB7XG4gICAgICAgIGlmIChwYXlsb2FkID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90YXJnZXQucmVtb3ZlKHRoaXMuX3RyYW5zZm9ybUl0ZW1zKHBheWxvYWQub2xkRGF0YSkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTaW1wbGVEYXRhUGlwZTtcbiAgfSgpO1xuICAvKipcclxuICAgKiBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcGlwZSBmYWN0b3J5LiBUaGlzIHNob3VsZCBiZSBhY2Nlc3NpYmxlXHJcbiAgICogb25seSB0aHJvdWdoIGBjcmVhdGVOZXdEYXRhUGlwZUZyb21gIGZyb20gdGhlIG91dHNpZGUuXHJcbiAgICpcclxuICAgKiBAdHlwZVBhcmFtIFRJIC0gVGFyZ2V0IGl0ZW0gdHlwZS5cclxuICAgKiBAdHlwZVBhcmFtIFRQIC0gVGFyZ2V0IGl0ZW0gdHlwZSdzIGlkIHByb3BlcnR5IG5hbWUuXHJcbiAgICovXG5cblxuICB2YXIgRGF0YVBpcGVVbmRlckNvbnN0cnVjdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqXHJcbiAgICAgKiBBcnJheSB0cmFuc2Zvcm1lcnMgdXNlZCB0byB0cmFuc2Zvcm0gaXRlbXMgd2l0aGluIHRoZSBwaXBlLiBUaGlzIGlzIHR5cGVkXHJcbiAgICAgKiBhcyBhbnkgZm9yIHRoZSBzYWtlIG9mIHNpbXBsaWNpdHkuXHJcbiAgICAgKi9cblxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGRhdGEgcGlwZSBmYWN0b3J5LiBUaGlzIGlzIGFuIGludGVybmFsIGNvbnN0cnVjdG9yIHRoYXRcclxuICAgICAqIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgZnJvbSBvdXRzaWRlIG9mIHRoaXMgZmlsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gX3NvdXJjZSAtIFRoZSBzb3VyY2UgZGF0YSBzZXQgb3IgZGF0YSB2aWV3IGZvciB0aGlzIHBpcGUuXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEYXRhUGlwZVVuZGVyQ29uc3RydWN0aW9uKF9zb3VyY2UpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRhUGlwZVVuZGVyQ29uc3RydWN0aW9uKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NvdXJjZVwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdHJhbnNmb3JtZXJzXCIsIFtdKTtcblxuICAgICAgdGhpcy5fc291cmNlID0gX3NvdXJjZTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBGaWx0ZXIgdGhlIGl0ZW1zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIEEgZmlsdGVyaW5nIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGdpdmVuIGl0ZW1cclxuICAgICAqIHNob3VsZCBiZSBwaXBlZCBhbmQgZmFsc2UgaWYgbm90LlxyXG4gICAgICogQHJldHVybnMgVGhpcyBmYWN0b3J5IGZvciBmdXJ0aGVyIGNvbmZpZ3VyYXRpb24uXHJcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKERhdGFQaXBlVW5kZXJDb25zdHJ1Y3Rpb24sIFt7XG4gICAgICBrZXk6IFwiZmlsdGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyJDEoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXJzLnB1c2goZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuIGZpbHRlcihpbnB1dCkuY2FsbChpbnB1dCwgY2FsbGJhY2spO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBNYXAgZWFjaCBzb3VyY2UgaXRlbSB0byBhIG5ldyB0eXBlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIG1hcHBpbmcgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHNvdXJjZSBpdGVtIGFuZCByZXR1cm5zXHJcbiAgICAgICAqIGNvcnJlc3BvbmRpbmcgbWFwcGVkIGl0ZW0uXHJcbiAgICAgICAqIEB0eXBlUGFyYW0gVEkgLSBUYXJnZXQgaXRlbSB0eXBlLlxyXG4gICAgICAgKiBAdHlwZVBhcmFtIFRQIC0gVGFyZ2V0IGl0ZW0gdHlwZSdzIGlkIHByb3BlcnR5IG5hbWUuXHJcbiAgICAgICAqIEByZXR1cm5zIFRoaXMgZmFjdG9yeSBmb3IgZnVydGhlciBjb25maWd1cmF0aW9uLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJtYXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXJzLnB1c2goZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuIG1hcCQzKGlucHV0KS5jYWxsKGlucHV0LCBjYWxsYmFjayk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIE1hcCBlYWNoIHNvdXJjZSBpdGVtIHRvIHplcm8gb3IgbW9yZSBpdGVtcyBvZiBhIG5ldyB0eXBlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIG1hcHBpbmcgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHNvdXJjZSBpdGVtIGFuZCByZXR1cm5zXHJcbiAgICAgICAqIGFuIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgbWFwcGVkIGl0ZW1zLlxyXG4gICAgICAgKiBAdHlwZVBhcmFtIFRJIC0gVGFyZ2V0IGl0ZW0gdHlwZS5cclxuICAgICAgICogQHR5cGVQYXJhbSBUUCAtIFRhcmdldCBpdGVtIHR5cGUncyBpZCBwcm9wZXJ0eSBuYW1lLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGlzIGZhY3RvcnkgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZmxhdE1hcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZsYXRNYXAkMShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lcnMucHVzaChmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm4gZmxhdE1hcChpbnB1dCkuY2FsbChpbnB1dCwgY2FsbGJhY2spO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBDb25uZWN0IHRoaXMgcGlwZSB0byBnaXZlbiBkYXRhIHNldC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSBkYXRhIHNldCB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgaXRlbXMgZnJvbSB0aGlzIHBpcGUuXHJcbiAgICAgICAqIEByZXR1cm5zIFRoZSBwaXBlIGNvbm5lY3RlZCBiZXR3ZWVuIGdpdmVuIGRhdGEgc2V0cyBhbmQgcGVyZm9ybWluZ1xyXG4gICAgICAgKiBjb25maWd1cmVkIHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBwcm9jZXNzZWQgaXRlbXMuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInRvXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG8odGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlRGF0YVBpcGUodGhpcy5fc291cmNlLCB0aGlzLl90cmFuc2Zvcm1lcnMsIHRhcmdldCk7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERhdGFQaXBlVW5kZXJDb25zdHJ1Y3Rpb247XG4gIH0oKTtcblxuICB2YXIgZ2xvYmFsJG8gPSBnbG9iYWwkTTtcbiAgdmFyIGNsYXNzb2YkYSA9IGNsYXNzb2YkYztcbiAgdmFyIFN0cmluZyQyID0gZ2xvYmFsJG8uU3RyaW5nO1xuXG4gIHZhciB0b1N0cmluZyQ3ID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKGNsYXNzb2YkYShhcmd1bWVudCkgPT09ICdTeW1ib2wnKSB0aHJvdyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nJyk7XG4gICAgcmV0dXJuIFN0cmluZyQyKGFyZ3VtZW50KTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkZyA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciB0b0ludGVnZXJPckluZmluaXR5JDIgPSB0b0ludGVnZXJPckluZmluaXR5JDQ7XG4gIHZhciB0b1N0cmluZyQ2ID0gdG9TdHJpbmckNztcbiAgdmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUkMiA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUkNTtcbiAgdmFyIGNoYXJBdCQyID0gdW5jdXJyeVRoaXMkZygnJy5jaGFyQXQpO1xuICB2YXIgY2hhckNvZGVBdCQxID0gdW5jdXJyeVRoaXMkZygnJy5jaGFyQ29kZUF0KTtcbiAgdmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMkZygnJy5zbGljZSk7XG5cbiAgdmFyIGNyZWF0ZU1ldGhvZCQzID0gZnVuY3Rpb24gKENPTlZFUlRfVE9fU1RSSU5HKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgcG9zKSB7XG4gICAgICB2YXIgUyA9IHRvU3RyaW5nJDYocmVxdWlyZU9iamVjdENvZXJjaWJsZSQyKCR0aGlzKSk7XG4gICAgICB2YXIgcG9zaXRpb24gPSB0b0ludGVnZXJPckluZmluaXR5JDIocG9zKTtcbiAgICAgIHZhciBzaXplID0gUy5sZW5ndGg7XG4gICAgICB2YXIgZmlyc3QsIHNlY29uZDtcbiAgICAgIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gc2l6ZSkgcmV0dXJuIENPTlZFUlRfVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgICBmaXJzdCA9IGNoYXJDb2RlQXQkMShTLCBwb3NpdGlvbik7XG4gICAgICByZXR1cm4gZmlyc3QgPCAweEQ4MDAgfHwgZmlyc3QgPiAweERCRkYgfHwgcG9zaXRpb24gKyAxID09PSBzaXplIHx8IChzZWNvbmQgPSBjaGFyQ29kZUF0JDEoUywgcG9zaXRpb24gKyAxKSkgPCAweERDMDAgfHwgc2Vjb25kID4gMHhERkZGID8gQ09OVkVSVF9UT19TVFJJTkcgPyBjaGFyQXQkMihTLCBwb3NpdGlvbikgOiBmaXJzdCA6IENPTlZFUlRfVE9fU1RSSU5HID8gc3RyaW5nU2xpY2UoUywgcG9zaXRpb24sIHBvc2l0aW9uICsgMikgOiAoZmlyc3QgLSAweEQ4MDAgPDwgMTApICsgKHNlY29uZCAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIHN0cmluZ011bHRpYnl0ZSA9IHtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLmNvZGVwb2ludGF0XG4gICAgY29kZUF0OiBjcmVhdGVNZXRob2QkMyhmYWxzZSksXG4gICAgLy8gYFN0cmluZy5wcm90b3R5cGUuYXRgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRoaWFzYnluZW5zL1N0cmluZy5wcm90b3R5cGUuYXRcbiAgICBjaGFyQXQ6IGNyZWF0ZU1ldGhvZCQzKHRydWUpXG4gIH07XG5cbiAgdmFyIGdsb2JhbCRuID0gZ2xvYmFsJE07XG4gIHZhciBpc0NhbGxhYmxlJDYgPSBpc0NhbGxhYmxlJGg7XG4gIHZhciBpbnNwZWN0U291cmNlID0gaW5zcGVjdFNvdXJjZSQyO1xuICB2YXIgV2Vha01hcCQxID0gZ2xvYmFsJG4uV2Vha01hcDtcbiAgdmFyIG5hdGl2ZVdlYWtNYXAgPSBpc0NhbGxhYmxlJDYoV2Vha01hcCQxKSAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoaW5zcGVjdFNvdXJjZShXZWFrTWFwJDEpKTtcblxuICB2YXIgc2hhcmVkJDIgPSBzaGFyZWQkNC5leHBvcnRzO1xuICB2YXIgdWlkJDIgPSB1aWQkNDtcbiAgdmFyIGtleXMkNyA9IHNoYXJlZCQyKCdrZXlzJyk7XG5cbiAgdmFyIHNoYXJlZEtleSQ0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXlzJDdba2V5XSB8fCAoa2V5cyQ3W2tleV0gPSB1aWQkMihrZXkpKTtcbiAgfTtcblxuICB2YXIgaGlkZGVuS2V5cyQ2ID0ge307XG5cbiAgdmFyIE5BVElWRV9XRUFLX01BUCA9IG5hdGl2ZVdlYWtNYXA7XG4gIHZhciBnbG9iYWwkbSA9IGdsb2JhbCRNO1xuICB2YXIgdW5jdXJyeVRoaXMkZiA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBpc09iamVjdCQ4ID0gaXNPYmplY3QkZjtcbiAgdmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ0ID0gY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDY7XG4gIHZhciBoYXNPd24kYiA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBzaGFyZWQkMSA9IHNoYXJlZFN0b3JlO1xuICB2YXIgc2hhcmVkS2V5JDMgPSBzaGFyZWRLZXkkNDtcbiAgdmFyIGhpZGRlbktleXMkNSA9IGhpZGRlbktleXMkNjtcbiAgdmFyIE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEID0gJ09iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkJztcbiAgdmFyIFR5cGVFcnJvciRiID0gZ2xvYmFsJG0uVHlwZUVycm9yO1xuICB2YXIgV2Vha01hcCA9IGdsb2JhbCRtLldlYWtNYXA7XG4gIHZhciBzZXQkMywgZ2V0LCBoYXM7XG5cbiAgdmFyIGVuZm9yY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaGFzKGl0KSA/IGdldChpdCkgOiBzZXQkMyhpdCwge30pO1xuICB9O1xuXG4gIHZhciBnZXR0ZXJGb3IgPSBmdW5jdGlvbiAoVFlQRSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHZhciBzdGF0ZTtcblxuICAgICAgaWYgKCFpc09iamVjdCQ4KGl0KSB8fCAoc3RhdGUgPSBnZXQoaXQpKS50eXBlICE9PSBUWVBFKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvciRiKCdJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICcgKyBUWVBFICsgJyByZXF1aXJlZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgfTtcblxuICBpZiAoTkFUSVZFX1dFQUtfTUFQIHx8IHNoYXJlZCQxLnN0YXRlKSB7XG4gICAgdmFyIHN0b3JlID0gc2hhcmVkJDEuc3RhdGUgfHwgKHNoYXJlZCQxLnN0YXRlID0gbmV3IFdlYWtNYXAoKSk7XG4gICAgdmFyIHdtZ2V0ID0gdW5jdXJyeVRoaXMkZihzdG9yZS5nZXQpO1xuICAgIHZhciB3bWhhcyA9IHVuY3VycnlUaGlzJGYoc3RvcmUuaGFzKTtcbiAgICB2YXIgd21zZXQgPSB1bmN1cnJ5VGhpcyRmKHN0b3JlLnNldCk7XG5cbiAgICBzZXQkMyA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICAgIGlmICh3bWhhcyhzdG9yZSwgaXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yJGIoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgICAgbWV0YWRhdGEuZmFjYWRlID0gaXQ7XG4gICAgICB3bXNldChzdG9yZSwgaXQsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9O1xuXG4gICAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgICByZXR1cm4gd21nZXQoc3RvcmUsIGl0KSB8fCB7fTtcbiAgICB9O1xuXG4gICAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgICByZXR1cm4gd21oYXMoc3RvcmUsIGl0KTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBTVEFURSA9IHNoYXJlZEtleSQzKCdzdGF0ZScpO1xuICAgIGhpZGRlbktleXMkNVtTVEFURV0gPSB0cnVlO1xuXG4gICAgc2V0JDMgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgICBpZiAoaGFzT3duJGIoaXQsIFNUQVRFKSkgdGhyb3cgbmV3IFR5cGVFcnJvciRiKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDQoaXQsIFNUQVRFLCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfTtcblxuICAgIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIGhhc093biRiKGl0LCBTVEFURSkgPyBpdFtTVEFURV0gOiB7fTtcbiAgICB9O1xuXG4gICAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgICByZXR1cm4gaGFzT3duJGIoaXQsIFNUQVRFKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGludGVybmFsU3RhdGUgPSB7XG4gICAgc2V0OiBzZXQkMyxcbiAgICBnZXQ6IGdldCxcbiAgICBoYXM6IGhhcyxcbiAgICBlbmZvcmNlOiBlbmZvcmNlLFxuICAgIGdldHRlckZvcjogZ2V0dGVyRm9yXG4gIH07XG5cbiAgdmFyIERFU0NSSVBUT1JTJGIgPSBkZXNjcmlwdG9ycztcbiAgdmFyIGhhc093biRhID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG5cbiAgdmFyIGdldERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyRiICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gIHZhciBFWElTVFMgPSBoYXNPd24kYShGdW5jdGlvblByb3RvdHlwZSwgJ25hbWUnKTsgLy8gYWRkaXRpb25hbCBwcm90ZWN0aW9uIGZyb20gbWluaWZpZWQgLyBtYW5nbGVkIC8gZHJvcHBlZCBmdW5jdGlvbiBuYW1lc1xuXG4gIHZhciBQUk9QRVIgPSBFWElTVFMgJiYgZnVuY3Rpb24gc29tZXRoaW5nKCkge1xuICAgIC8qIGVtcHR5ICovXG4gIH0ubmFtZSA9PT0gJ3NvbWV0aGluZyc7XG5cbiAgdmFyIENPTkZJR1VSQUJMRSA9IEVYSVNUUyAmJiAoIURFU0NSSVBUT1JTJGIgfHwgREVTQ1JJUFRPUlMkYiAmJiBnZXREZXNjcmlwdG9yKEZ1bmN0aW9uUHJvdG90eXBlLCAnbmFtZScpLmNvbmZpZ3VyYWJsZSk7XG4gIHZhciBmdW5jdGlvbk5hbWUgPSB7XG4gICAgRVhJU1RTOiBFWElTVFMsXG4gICAgUFJPUEVSOiBQUk9QRVIsXG4gICAgQ09ORklHVVJBQkxFOiBDT05GSUdVUkFCTEVcbiAgfTtcblxuICB2YXIgb2JqZWN0RGVmaW5lUHJvcGVydGllcyA9IHt9O1xuXG4gIHZhciB0b0ludGVnZXJPckluZmluaXR5JDEgPSB0b0ludGVnZXJPckluZmluaXR5JDQ7XG4gIHZhciBtYXgkMyA9IE1hdGgubWF4O1xuICB2YXIgbWluJDEgPSBNYXRoLm1pbjsgLy8gSGVscGVyIGZvciBhIHBvcHVsYXIgcmVwZWF0aW5nIGNhc2Ugb2YgdGhlIHNwZWM6XG4gIC8vIExldCBpbnRlZ2VyIGJlID8gVG9JbnRlZ2VyKGluZGV4KS5cbiAgLy8gSWYgaW50ZWdlciA8IDAsIGxldCByZXN1bHQgYmUgbWF4KChsZW5ndGggKyBpbnRlZ2VyKSwgMCk7IGVsc2UgbGV0IHJlc3VsdCBiZSBtaW4oaW50ZWdlciwgbGVuZ3RoKS5cblxuICB2YXIgdG9BYnNvbHV0ZUluZGV4JDUgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICAgIHZhciBpbnRlZ2VyID0gdG9JbnRlZ2VyT3JJbmZpbml0eSQxKGluZGV4KTtcbiAgICByZXR1cm4gaW50ZWdlciA8IDAgPyBtYXgkMyhpbnRlZ2VyICsgbGVuZ3RoLCAwKSA6IG1pbiQxKGludGVnZXIsIGxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIHRvSW5kZXhlZE9iamVjdCQ5ID0gdG9JbmRleGVkT2JqZWN0JGI7XG4gIHZhciB0b0Fic29sdXRlSW5kZXgkNCA9IHRvQWJzb2x1dGVJbmRleCQ1O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkOCA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7IC8vIGBBcnJheS5wcm90b3R5cGUueyBpbmRleE9mLCBpbmNsdWRlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG5cbiAgdmFyIGNyZWF0ZU1ldGhvZCQyID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QkOSgkdGhpcyk7XG4gICAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UkOChPKTtcbiAgICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleCQ0KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICAgIHZhciB2YWx1ZTsgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZSAtLSBOYU4gY2hlY2tcblxuICAgICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgICAgdmFsdWUgPSBPW2luZGV4KytdOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPSB2YWx1ZSkgcmV0dXJuIHRydWU7IC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICAgIH0gZWxzZSBmb3IgKDsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSAmJiBPW2luZGV4XSA9PT0gZWwpIHJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBhcnJheUluY2x1ZGVzID0ge1xuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG4gICAgaW5jbHVkZXM6IGNyZWF0ZU1ldGhvZCQyKHRydWUpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuaW5kZXhPZmAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5kZXhvZlxuICAgIGluZGV4T2Y6IGNyZWF0ZU1ldGhvZCQyKGZhbHNlKVxuICB9O1xuXG4gIHZhciB1bmN1cnJ5VGhpcyRlID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGhhc093biQ5ID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIHRvSW5kZXhlZE9iamVjdCQ4ID0gdG9JbmRleGVkT2JqZWN0JGI7XG4gIHZhciBpbmRleE9mID0gYXJyYXlJbmNsdWRlcy5pbmRleE9mO1xuICB2YXIgaGlkZGVuS2V5cyQ0ID0gaGlkZGVuS2V5cyQ2O1xuICB2YXIgcHVzaCQ0ID0gdW5jdXJyeVRoaXMkZShbXS5wdXNoKTtcblxuICB2YXIgb2JqZWN0S2V5c0ludGVybmFsID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCQ4KG9iamVjdCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIga2V5O1xuXG4gICAgZm9yIChrZXkgaW4gTykgIWhhc093biQ5KGhpZGRlbktleXMkNCwga2V5KSAmJiBoYXNPd24kOShPLCBrZXkpICYmIHB1c2gkNChyZXN1bHQsIGtleSk7IC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcblxuXG4gICAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXNPd24kOShPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgICAgfmluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHB1c2gkNChyZXN1bHQsIGtleSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgZW51bUJ1Z0tleXMkMyA9IFsnY29uc3RydWN0b3InLCAnaGFzT3duUHJvcGVydHknLCAnaXNQcm90b3R5cGVPZicsICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICd0b0xvY2FsZVN0cmluZycsICd0b1N0cmluZycsICd2YWx1ZU9mJ107XG5cbiAgdmFyIGludGVybmFsT2JqZWN0S2V5cyQxID0gb2JqZWN0S2V5c0ludGVybmFsO1xuICB2YXIgZW51bUJ1Z0tleXMkMiA9IGVudW1CdWdLZXlzJDM7IC8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmtleXNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1rZXlzIC0tIHNhZmVcblxuICB2YXIgb2JqZWN0S2V5cyQ0ID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gICAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyQxKE8sIGVudW1CdWdLZXlzJDIpO1xuICB9O1xuXG4gIHZhciBERVNDUklQVE9SUyRhID0gZGVzY3JpcHRvcnM7XG4gIHZhciBWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA9IHY4UHJvdG90eXBlRGVmaW5lQnVnO1xuICB2YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUkMyA9IG9iamVjdERlZmluZVByb3BlcnR5O1xuICB2YXIgYW5PYmplY3QkOSA9IGFuT2JqZWN0JGI7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkNyA9IHRvSW5kZXhlZE9iamVjdCRiO1xuICB2YXIgb2JqZWN0S2V5cyQzID0gb2JqZWN0S2V5cyQ0OyAvLyBgT2JqZWN0LmRlZmluZVByb3BlcnRpZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0aWVzXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydGllcyAtLSBzYWZlXG5cbiAgb2JqZWN0RGVmaW5lUHJvcGVydGllcy5mID0gREVTQ1JJUFRPUlMkYSAmJiAhVjhfUFJPVE9UWVBFX0RFRklORV9CVUcgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICAgIGFuT2JqZWN0JDkoTyk7XG4gICAgdmFyIHByb3BzID0gdG9JbmRleGVkT2JqZWN0JDcoUHJvcGVydGllcyk7XG4gICAgdmFyIGtleXMgPSBvYmplY3RLZXlzJDMoUHJvcGVydGllcyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGtleTtcblxuICAgIHdoaWxlIChsZW5ndGggPiBpbmRleCkgZGVmaW5lUHJvcGVydHlNb2R1bGUkMy5mKE8sIGtleSA9IGtleXNbaW5kZXgrK10sIHByb3BzW2tleV0pO1xuXG4gICAgcmV0dXJuIE87XG4gIH07XG5cbiAgdmFyIGdldEJ1aWx0SW4kNSA9IGdldEJ1aWx0SW4kOTtcbiAgdmFyIGh0bWwkMSA9IGdldEJ1aWx0SW4kNSgnZG9jdW1lbnQnLCAnZG9jdW1lbnRFbGVtZW50Jyk7XG5cbiAgLyogZ2xvYmFsIEFjdGl2ZVhPYmplY3QgLS0gb2xkIElFLCBXU0ggKi9cbiAgdmFyIGFuT2JqZWN0JDggPSBhbk9iamVjdCRiO1xuICB2YXIgZGVmaW5lUHJvcGVydGllc01vZHVsZSQxID0gb2JqZWN0RGVmaW5lUHJvcGVydGllcztcbiAgdmFyIGVudW1CdWdLZXlzJDEgPSBlbnVtQnVnS2V5cyQzO1xuICB2YXIgaGlkZGVuS2V5cyQzID0gaGlkZGVuS2V5cyQ2O1xuICB2YXIgaHRtbCA9IGh0bWwkMTtcbiAgdmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudCQxO1xuICB2YXIgc2hhcmVkS2V5JDIgPSBzaGFyZWRLZXkkNDtcbiAgdmFyIEdUID0gJz4nO1xuICB2YXIgTFQgPSAnPCc7XG4gIHZhciBQUk9UT1RZUEUkMSA9ICdwcm90b3R5cGUnO1xuICB2YXIgU0NSSVBUID0gJ3NjcmlwdCc7XG4gIHZhciBJRV9QUk9UTyQxID0gc2hhcmVkS2V5JDIoJ0lFX1BST1RPJyk7XG5cbiAgdmFyIEVtcHR5Q29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyogZW1wdHkgKi9cbiAgfTtcblxuICB2YXIgc2NyaXB0VGFnID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICByZXR1cm4gTFQgKyBTQ1JJUFQgKyBHVCArIGNvbnRlbnQgKyBMVCArICcvJyArIFNDUklQVCArIEdUO1xuICB9OyAvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgQWN0aXZlWCBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxuXG5cbiAgdmFyIE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVggPSBmdW5jdGlvbiAoYWN0aXZlWERvY3VtZW50KSB7XG4gICAgYWN0aXZlWERvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnJykpO1xuICAgIGFjdGl2ZVhEb2N1bWVudC5jbG9zZSgpO1xuICAgIHZhciB0ZW1wID0gYWN0aXZlWERvY3VtZW50LnBhcmVudFdpbmRvdy5PYmplY3Q7XG4gICAgYWN0aXZlWERvY3VtZW50ID0gbnVsbDsgLy8gYXZvaWQgbWVtb3J5IGxlYWtcblxuICAgIHJldHVybiB0ZW1wO1xuICB9OyAvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG5cblxuICB2YXIgTnVsbFByb3RvT2JqZWN0VmlhSUZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgdmFyIEpTID0gJ2phdmEnICsgU0NSSVBUICsgJzonO1xuICAgIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBodG1sLmFwcGVuZENoaWxkKGlmcmFtZSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy80NzVcblxuICAgIGlmcmFtZS5zcmMgPSBTdHJpbmcoSlMpO1xuICAgIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICAgIGlmcmFtZURvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnZG9jdW1lbnQuRj1PYmplY3QnKSk7XG4gICAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgICByZXR1cm4gaWZyYW1lRG9jdW1lbnQuRjtcbiAgfTsgLy8gQ2hlY2sgZm9yIGRvY3VtZW50LmRvbWFpbiBhbmQgYWN0aXZlIHggc3VwcG9ydFxuICAvLyBObyBuZWVkIHRvIHVzZSBhY3RpdmUgeCBhcHByb2FjaCB3aGVuIGRvY3VtZW50LmRvbWFpbiBpcyBub3Qgc2V0XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vaXNzdWVzLzE1MFxuICAvLyB2YXJpYXRpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL2tpdGNhbWJyaWRnZS9lczUtc2hpbS9jb21taXQvNGY3MzhhYzA2NjM0NlxuICAvLyBhdm9pZCBJRSBHQyBidWdcblxuXG4gIHZhciBhY3RpdmVYRG9jdW1lbnQ7XG5cbiAgdmFyIE51bGxQcm90b09iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgYWN0aXZlWERvY3VtZW50ID0gbmV3IEFjdGl2ZVhPYmplY3QoJ2h0bWxmaWxlJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8qIGlnbm9yZSAqL1xuICAgIH1cblxuICAgIE51bGxQcm90b09iamVjdCA9IHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJyA/IGRvY3VtZW50LmRvbWFpbiAmJiBhY3RpdmVYRG9jdW1lbnQgPyBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYKGFjdGl2ZVhEb2N1bWVudCkgLy8gb2xkIElFXG4gICAgOiBOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUoKSA6IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KTsgLy8gV1NIXG5cbiAgICB2YXIgbGVuZ3RoID0gZW51bUJ1Z0tleXMkMS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIGRlbGV0ZSBOdWxsUHJvdG9PYmplY3RbUFJPVE9UWVBFJDFdW2VudW1CdWdLZXlzJDFbbGVuZ3RoXV07XG5cbiAgICByZXR1cm4gTnVsbFByb3RvT2JqZWN0KCk7XG4gIH07XG5cbiAgaGlkZGVuS2V5cyQzW0lFX1BST1RPJDFdID0gdHJ1ZTsgLy8gYE9iamVjdC5jcmVhdGVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5jcmVhdGVcblxuICB2YXIgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICAgIHZhciByZXN1bHQ7XG5cbiAgICBpZiAoTyAhPT0gbnVsbCkge1xuICAgICAgRW1wdHlDb25zdHJ1Y3RvcltQUk9UT1RZUEUkMV0gPSBhbk9iamVjdCQ4KE8pO1xuICAgICAgcmVzdWx0ID0gbmV3IEVtcHR5Q29uc3RydWN0b3IoKTtcbiAgICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFJDFdID0gbnVsbDsgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuXG4gICAgICByZXN1bHRbSUVfUFJPVE8kMV0gPSBPO1xuICAgIH0gZWxzZSByZXN1bHQgPSBOdWxsUHJvdG9PYmplY3QoKTtcblxuICAgIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlJDEuZihyZXN1bHQsIFByb3BlcnRpZXMpO1xuICB9O1xuXG4gIHZhciBmYWlscyRnID0gZmFpbHMkcjtcbiAgdmFyIGNvcnJlY3RQcm90b3R5cGVHZXR0ZXIgPSAhZmFpbHMkZyhmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRigpIHtcbiAgICAgIC8qIGVtcHR5ICovXG4gICAgfVxuXG4gICAgRi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBudWxsOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG5cbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBGKCkpICE9PSBGLnByb3RvdHlwZTtcbiAgfSk7XG5cbiAgdmFyIGdsb2JhbCRsID0gZ2xvYmFsJE07XG4gIHZhciBoYXNPd24kOCA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBpc0NhbGxhYmxlJDUgPSBpc0NhbGxhYmxlJGg7XG4gIHZhciB0b09iamVjdCQ5ID0gdG9PYmplY3QkZTtcbiAgdmFyIHNoYXJlZEtleSQxID0gc2hhcmVkS2V5JDQ7XG4gIHZhciBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIkMSA9IGNvcnJlY3RQcm90b3R5cGVHZXR0ZXI7XG4gIHZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSQxKCdJRV9QUk9UTycpO1xuICB2YXIgT2JqZWN0JDQgPSBnbG9iYWwkbC5PYmplY3Q7XG4gIHZhciBPYmplY3RQcm90b3R5cGUkMiA9IE9iamVjdCQ0LnByb3RvdHlwZTsgLy8gYE9iamVjdC5nZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldHByb3RvdHlwZW9mXG5cbiAgdmFyIG9iamVjdEdldFByb3RvdHlwZU9mID0gQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSJDEgPyBPYmplY3QkNC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIChPKSB7XG4gICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0JDkoTyk7XG4gICAgaWYgKGhhc093biQ4KG9iamVjdCwgSUVfUFJPVE8pKSByZXR1cm4gb2JqZWN0W0lFX1BST1RPXTtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG5cbiAgICBpZiAoaXNDYWxsYWJsZSQ1KGNvbnN0cnVjdG9yKSAmJiBvYmplY3QgaW5zdGFuY2VvZiBjb25zdHJ1Y3Rvcikge1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgT2JqZWN0JDQgPyBPYmplY3RQcm90b3R5cGUkMiA6IG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQzID0gY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDY7XG5cbiAgdmFyIHJlZGVmaW5lJDQgPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbnVtZXJhYmxlKSB0YXJnZXRba2V5XSA9IHZhbHVlO2Vsc2UgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDModGFyZ2V0LCBrZXksIHZhbHVlKTtcbiAgfTtcblxuICB2YXIgZmFpbHMkZiA9IGZhaWxzJHI7XG4gIHZhciBpc0NhbGxhYmxlJDQgPSBpc0NhbGxhYmxlJGg7XG4gIHZhciBjcmVhdGUkYSA9IG9iamVjdENyZWF0ZTtcbiAgdmFyIGdldFByb3RvdHlwZU9mJDYgPSBvYmplY3RHZXRQcm90b3R5cGVPZjtcbiAgdmFyIHJlZGVmaW5lJDMgPSByZWRlZmluZSQ0O1xuICB2YXIgd2VsbEtub3duU3ltYm9sJGQgPSB3ZWxsS25vd25TeW1ib2wkajtcbiAgdmFyIElURVJBVE9SJDUgPSB3ZWxsS25vd25TeW1ib2wkZCgnaXRlcmF0b3InKTtcbiAgdmFyIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMkMSA9IGZhbHNlOyAvLyBgJUl0ZXJhdG9yUHJvdG90eXBlJWAgb2JqZWN0XG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1vYmplY3RcblxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUkMSwgUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlLCBhcnJheUl0ZXJhdG9yO1xuICAvKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1hcnJheS1wcm90b3R5cGUta2V5cyAtLSBzYWZlICovXG5cbiAgaWYgKFtdLmtleXMpIHtcbiAgICBhcnJheUl0ZXJhdG9yID0gW10ua2V5cygpOyAvLyBTYWZhcmkgOCBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcblxuICAgIGlmICghKCduZXh0JyBpbiBhcnJheUl0ZXJhdG9yKSkgQlVHR1lfU0FGQVJJX0lURVJBVE9SUyQxID0gdHJ1ZTtlbHNlIHtcbiAgICAgIFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mJDYoZ2V0UHJvdG90eXBlT2YkNihhcnJheUl0ZXJhdG9yKSk7XG4gICAgICBpZiAoUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKSBJdGVyYXRvclByb3RvdHlwZSQxID0gUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBORVdfSVRFUkFUT1JfUFJPVE9UWVBFID0gSXRlcmF0b3JQcm90b3R5cGUkMSA9PSB1bmRlZmluZWQgfHwgZmFpbHMkZihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRlc3QgPSB7fTsgLy8gRkY0NC0gbGVnYWN5IGl0ZXJhdG9ycyBjYXNlXG5cbiAgICByZXR1cm4gSXRlcmF0b3JQcm90b3R5cGUkMVtJVEVSQVRPUiQ1XS5jYWxsKHRlc3QpICE9PSB0ZXN0O1xuICB9KTtcbiAgaWYgKE5FV19JVEVSQVRPUl9QUk9UT1RZUEUpIEl0ZXJhdG9yUHJvdG90eXBlJDEgPSB7fTtlbHNlIEl0ZXJhdG9yUHJvdG90eXBlJDEgPSBjcmVhdGUkYShJdGVyYXRvclByb3RvdHlwZSQxKTsgLy8gYCVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1AQGl0ZXJhdG9yXG5cbiAgaWYgKCFpc0NhbGxhYmxlJDQoSXRlcmF0b3JQcm90b3R5cGUkMVtJVEVSQVRPUiQ1XSkpIHtcbiAgICByZWRlZmluZSQzKEl0ZXJhdG9yUHJvdG90eXBlJDEsIElURVJBVE9SJDUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGl0ZXJhdG9yc0NvcmUgPSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGU6IEl0ZXJhdG9yUHJvdG90eXBlJDEsXG4gICAgQlVHR1lfU0FGQVJJX0lURVJBVE9SUzogQlVHR1lfU0FGQVJJX0lURVJBVE9SUyQxXG4gIH07XG5cbiAgdmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCQxID0gdG9TdHJpbmdUYWdTdXBwb3J0O1xuICB2YXIgY2xhc3NvZiQ5ID0gY2xhc3NvZiRjOyAvLyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZ1xuXG4gIHZhciBvYmplY3RUb1N0cmluZyA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCQxID8ge30udG9TdHJpbmcgOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ1tvYmplY3QgJyArIGNsYXNzb2YkOSh0aGlzKSArICddJztcbiAgfTtcblxuICB2YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gdG9TdHJpbmdUYWdTdXBwb3J0O1xuICB2YXIgZGVmaW5lUHJvcGVydHkkNiA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMiA9IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ2O1xuICB2YXIgaGFzT3duJDcgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgdG9TdHJpbmckNSA9IG9iamVjdFRvU3RyaW5nO1xuICB2YXIgd2VsbEtub3duU3ltYm9sJGMgPSB3ZWxsS25vd25TeW1ib2wkajtcbiAgdmFyIFRPX1NUUklOR19UQUckMSA9IHdlbGxLbm93blN5bWJvbCRjKCd0b1N0cmluZ1RhZycpO1xuXG4gIHZhciBzZXRUb1N0cmluZ1RhZyQ1ID0gZnVuY3Rpb24gKGl0LCBUQUcsIFNUQVRJQywgU0VUX01FVEhPRCkge1xuICAgIGlmIChpdCkge1xuICAgICAgdmFyIHRhcmdldCA9IFNUQVRJQyA/IGl0IDogaXQucHJvdG90eXBlO1xuXG4gICAgICBpZiAoIWhhc093biQ3KHRhcmdldCwgVE9fU1RSSU5HX1RBRyQxKSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSQ2KHRhcmdldCwgVE9fU1RSSU5HX1RBRyQxLCB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBUQUdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChTRVRfTUVUSE9EICYmICFUT19TVFJJTkdfVEFHX1NVUFBPUlQpIHtcbiAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDIodGFyZ2V0LCAndG9TdHJpbmcnLCB0b1N0cmluZyQ1KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGl0ZXJhdG9ycyA9IHt9O1xuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IGl0ZXJhdG9yc0NvcmUuSXRlcmF0b3JQcm90b3R5cGU7XG4gIHZhciBjcmVhdGUkOSA9IG9iamVjdENyZWF0ZTtcbiAgdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQyID0gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDU7XG4gIHZhciBzZXRUb1N0cmluZ1RhZyQ0ID0gc2V0VG9TdHJpbmdUYWckNTtcbiAgdmFyIEl0ZXJhdG9ycyQ1ID0gaXRlcmF0b3JzO1xuXG4gIHZhciByZXR1cm5UaGlzJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IkMSA9IGZ1bmN0aW9uIChJdGVyYXRvckNvbnN0cnVjdG9yLCBOQU1FLCBuZXh0LCBFTlVNRVJBQkxFX05FWFQpIHtcbiAgICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgICBJdGVyYXRvckNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZSQ5KEl0ZXJhdG9yUHJvdG90eXBlLCB7XG4gICAgICBuZXh0OiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMigrIUVOVU1FUkFCTEVfTkVYVCwgbmV4dClcbiAgICB9KTtcbiAgICBzZXRUb1N0cmluZ1RhZyQ0KEl0ZXJhdG9yQ29uc3RydWN0b3IsIFRPX1NUUklOR19UQUcsIGZhbHNlLCB0cnVlKTtcbiAgICBJdGVyYXRvcnMkNVtUT19TVFJJTkdfVEFHXSA9IHJldHVyblRoaXMkMTtcbiAgICByZXR1cm4gSXRlcmF0b3JDb25zdHJ1Y3RvcjtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJGsgPSBnbG9iYWwkTTtcbiAgdmFyIGlzQ2FsbGFibGUkMyA9IGlzQ2FsbGFibGUkaDtcbiAgdmFyIFN0cmluZyQxID0gZ2xvYmFsJGsuU3RyaW5nO1xuICB2YXIgVHlwZUVycm9yJGEgPSBnbG9iYWwkay5UeXBlRXJyb3I7XG5cbiAgdmFyIGFQb3NzaWJsZVByb3RvdHlwZSQxID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudCA9PSAnb2JqZWN0JyB8fCBpc0NhbGxhYmxlJDMoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gICAgdGhyb3cgVHlwZUVycm9yJGEoXCJDYW4ndCBzZXQgXCIgKyBTdHJpbmckMShhcmd1bWVudCkgKyAnIGFzIGEgcHJvdG90eXBlJyk7XG4gIH07XG5cbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gLS0gc2FmZSAqL1xuICB2YXIgdW5jdXJyeVRoaXMkZCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBhbk9iamVjdCQ3ID0gYW5PYmplY3QkYjtcbiAgdmFyIGFQb3NzaWJsZVByb3RvdHlwZSA9IGFQb3NzaWJsZVByb3RvdHlwZSQxOyAvLyBgT2JqZWN0LnNldFByb3RvdHlwZU9mYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Quc2V0cHJvdG90eXBlb2ZcbiAgLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3Qtc2V0cHJvdG90eXBlb2YgLS0gc2FmZVxuXG4gIHZhciBvYmplY3RTZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIENPUlJFQ1RfU0VUVEVSID0gZmFsc2U7XG4gICAgdmFyIHRlc3QgPSB7fTtcbiAgICB2YXIgc2V0dGVyO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbiAgICAgIHNldHRlciA9IHVuY3VycnlUaGlzJGQoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0KTtcbiAgICAgIHNldHRlcih0ZXN0LCBbXSk7XG4gICAgICBDT1JSRUNUX1NFVFRFUiA9IHRlc3QgaW5zdGFuY2VvZiBBcnJheTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLyogZW1wdHkgKi9cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICAgIGFuT2JqZWN0JDcoTyk7XG4gICAgICBhUG9zc2libGVQcm90b3R5cGUocHJvdG8pO1xuICAgICAgaWYgKENPUlJFQ1RfU0VUVEVSKSBzZXR0ZXIoTywgcHJvdG8pO2Vsc2UgTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgIHJldHVybiBPO1xuICAgIH07XG4gIH0oKSA6IHVuZGVmaW5lZCk7XG5cbiAgdmFyICQkdyA9IF9leHBvcnQ7XG4gIHZhciBjYWxsJDYgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBGdW5jdGlvbk5hbWUgPSBmdW5jdGlvbk5hbWU7XG4gIHZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yID0gY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvciQxO1xuICB2YXIgZ2V0UHJvdG90eXBlT2YkNSA9IG9iamVjdEdldFByb3RvdHlwZU9mO1xuICB2YXIgc2V0VG9TdHJpbmdUYWckMyA9IHNldFRvU3RyaW5nVGFnJDU7XG4gIHZhciByZWRlZmluZSQyID0gcmVkZWZpbmUkNDtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCRiID0gd2VsbEtub3duU3ltYm9sJGo7XG4gIHZhciBJdGVyYXRvcnMkNCA9IGl0ZXJhdG9ycztcbiAgdmFyIEl0ZXJhdG9yc0NvcmUgPSBpdGVyYXRvcnNDb3JlO1xuICB2YXIgUFJPUEVSX0ZVTkNUSU9OX05BTUUkMSA9IEZ1bmN0aW9uTmFtZS5QUk9QRVI7XG4gIHZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gSXRlcmF0b3JzQ29yZS5CVUdHWV9TQUZBUklfSVRFUkFUT1JTO1xuICB2YXIgSVRFUkFUT1IkNCA9IHdlbGxLbm93blN5bWJvbCRiKCdpdGVyYXRvcicpO1xuICB2YXIgS0VZUyA9ICdrZXlzJztcbiAgdmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xuICB2YXIgRU5UUklFUyA9ICdlbnRyaWVzJztcblxuICB2YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZGVmaW5lSXRlcmF0b3IkMyA9IGZ1bmN0aW9uIChJdGVyYWJsZSwgTkFNRSwgSXRlcmF0b3JDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgICBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yKEl0ZXJhdG9yQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuXG4gICAgdmFyIGdldEl0ZXJhdGlvbk1ldGhvZCA9IGZ1bmN0aW9uIChLSU5EKSB7XG4gICAgICBpZiAoS0lORCA9PT0gREVGQVVMVCAmJiBkZWZhdWx0SXRlcmF0b3IpIHJldHVybiBkZWZhdWx0SXRlcmF0b3I7XG4gICAgICBpZiAoIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgS0lORCBpbiBJdGVyYWJsZVByb3RvdHlwZSkgcmV0dXJuIEl0ZXJhYmxlUHJvdG90eXBlW0tJTkRdO1xuXG4gICAgICBzd2l0Y2ggKEtJTkQpIHtcbiAgICAgICAgY2FzZSBLRVlTOlxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBrZXlzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvckNvbnN0cnVjdG9yKHRoaXMsIEtJTkQpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSBWQUxVRVM6XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgRU5UUklFUzpcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTtcbiAgICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgICB2YXIgSU5DT1JSRUNUX1ZBTFVFU19OQU1FID0gZmFsc2U7XG4gICAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICAgIHZhciBuYXRpdmVJdGVyYXRvciA9IEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SJDRdIHx8IEl0ZXJhYmxlUHJvdG90eXBlWydAQGl0ZXJhdG9yJ10gfHwgREVGQVVMVCAmJiBJdGVyYWJsZVByb3RvdHlwZVtERUZBVUxUXTtcbiAgICB2YXIgZGVmYXVsdEl0ZXJhdG9yID0gIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgbmF0aXZlSXRlcmF0b3IgfHwgZ2V0SXRlcmF0aW9uTWV0aG9kKERFRkFVTFQpO1xuICAgIHZhciBhbnlOYXRpdmVJdGVyYXRvciA9IE5BTUUgPT0gJ0FycmF5JyA/IEl0ZXJhYmxlUHJvdG90eXBlLmVudHJpZXMgfHwgbmF0aXZlSXRlcmF0b3IgOiBuYXRpdmVJdGVyYXRvcjtcbiAgICB2YXIgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBtZXRob2RzLCBLRVk7IC8vIGZpeCBuYXRpdmVcblxuICAgIGlmIChhbnlOYXRpdmVJdGVyYXRvcikge1xuICAgICAgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YkNShhbnlOYXRpdmVJdGVyYXRvci5jYWxsKG5ldyBJdGVyYWJsZSgpKSk7XG5cbiAgICAgIGlmIChDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcblxuXG4gICAgICAgIHNldFRvU3RyaW5nVGFnJDMoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBUT19TVFJJTkdfVEFHLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgSXRlcmF0b3JzJDRbVE9fU1RSSU5HX1RBR10gPSByZXR1cm5UaGlzO1xuICAgICAgfVxuICAgIH0gLy8gZml4IEFycmF5LnByb3RvdHlwZS57IHZhbHVlcywgQEBpdGVyYXRvciB9Lm5hbWUgaW4gVjggLyBGRlxuXG5cbiAgICBpZiAoUFJPUEVSX0ZVTkNUSU9OX05BTUUkMSAmJiBERUZBVUxUID09IFZBTFVFUyAmJiBuYXRpdmVJdGVyYXRvciAmJiBuYXRpdmVJdGVyYXRvci5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICAgIHtcbiAgICAgICAgSU5DT1JSRUNUX1ZBTFVFU19OQU1FID0gdHJ1ZTtcblxuICAgICAgICBkZWZhdWx0SXRlcmF0b3IgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGwkNihuYXRpdmVJdGVyYXRvciwgdGhpcyk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSAvLyBleHBvcnQgYWRkaXRpb25hbCBtZXRob2RzXG5cblxuICAgIGlmIChERUZBVUxUKSB7XG4gICAgICBtZXRob2RzID0ge1xuICAgICAgICB2YWx1ZXM6IGdldEl0ZXJhdGlvbk1ldGhvZChWQUxVRVMpLFxuICAgICAgICBrZXlzOiBJU19TRVQgPyBkZWZhdWx0SXRlcmF0b3IgOiBnZXRJdGVyYXRpb25NZXRob2QoS0VZUyksXG4gICAgICAgIGVudHJpZXM6IGdldEl0ZXJhdGlvbk1ldGhvZChFTlRSSUVTKVxuICAgICAgfTtcbiAgICAgIGlmIChGT1JDRUQpIGZvciAoS0VZIGluIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIHx8ICEoS0VZIGluIEl0ZXJhYmxlUHJvdG90eXBlKSkge1xuICAgICAgICAgIHJlZGVmaW5lJDIoSXRlcmFibGVQcm90b3R5cGUsIEtFWSwgbWV0aG9kc1tLRVldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlICQkdyh7XG4gICAgICAgIHRhcmdldDogTkFNRSxcbiAgICAgICAgcHJvdG86IHRydWUsXG4gICAgICAgIGZvcmNlZDogQlVHR1lfU0FGQVJJX0lURVJBVE9SUyB8fCBJTkNPUlJFQ1RfVkFMVUVTX05BTUVcbiAgICAgIH0sIG1ldGhvZHMpO1xuICAgIH0gLy8gZGVmaW5lIGl0ZXJhdG9yXG5cblxuICAgIGlmICgoRk9SQ0VEKSAmJiBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUiQ0XSAhPT0gZGVmYXVsdEl0ZXJhdG9yKSB7XG4gICAgICByZWRlZmluZSQyKEl0ZXJhYmxlUHJvdG90eXBlLCBJVEVSQVRPUiQ0LCBkZWZhdWx0SXRlcmF0b3IsIHtcbiAgICAgICAgbmFtZTogREVGQVVMVFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgSXRlcmF0b3JzJDRbTkFNRV0gPSBkZWZhdWx0SXRlcmF0b3I7XG4gICAgcmV0dXJuIG1ldGhvZHM7XG4gIH07XG5cbiAgdmFyIGNoYXJBdCQxID0gc3RyaW5nTXVsdGlieXRlLmNoYXJBdDtcbiAgdmFyIHRvU3RyaW5nJDQgPSB0b1N0cmluZyQ3O1xuICB2YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSQ0ID0gaW50ZXJuYWxTdGF0ZTtcbiAgdmFyIGRlZmluZUl0ZXJhdG9yJDIgPSBkZWZpbmVJdGVyYXRvciQzO1xuICB2YXIgU1RSSU5HX0lURVJBVE9SID0gJ1N0cmluZyBJdGVyYXRvcic7XG4gIHZhciBzZXRJbnRlcm5hbFN0YXRlJDQgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDQuc2V0O1xuICB2YXIgZ2V0SW50ZXJuYWxTdGF0ZSQyID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQ0LmdldHRlckZvcihTVFJJTkdfSVRFUkFUT1IpOyAvLyBgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS1AQGl0ZXJhdG9yXG5cbiAgZGVmaW5lSXRlcmF0b3IkMihTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgICBzZXRJbnRlcm5hbFN0YXRlJDQodGhpcywge1xuICAgICAgdHlwZTogU1RSSU5HX0lURVJBVE9SLFxuICAgICAgc3RyaW5nOiB0b1N0cmluZyQ0KGl0ZXJhdGVkKSxcbiAgICAgIGluZGV4OiAwXG4gICAgfSk7IC8vIGAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJXN0cmluZ2l0ZXJhdG9ycHJvdG90eXBlJS5uZXh0XG4gIH0sIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSQyKHRoaXMpO1xuICAgIHZhciBzdHJpbmcgPSBzdGF0ZS5zdHJpbmc7XG4gICAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXg7XG4gICAgdmFyIHBvaW50O1xuICAgIGlmIChpbmRleCA+PSBzdHJpbmcubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGRvbmU6IHRydWVcbiAgICB9O1xuICAgIHBvaW50ID0gY2hhckF0JDEoc3RyaW5nLCBpbmRleCk7XG4gICAgc3RhdGUuaW5kZXggKz0gcG9pbnQubGVuZ3RoO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogcG9pbnQsXG4gICAgICBkb25lOiBmYWxzZVxuICAgIH07XG4gIH0pO1xuXG4gIHZhciBjYWxsJDUgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBhbk9iamVjdCQ2ID0gYW5PYmplY3QkYjtcbiAgdmFyIGdldE1ldGhvZCQxID0gZ2V0TWV0aG9kJDM7XG5cbiAgdmFyIGl0ZXJhdG9yQ2xvc2UkMiA9IGZ1bmN0aW9uIChpdGVyYXRvciwga2luZCwgdmFsdWUpIHtcbiAgICB2YXIgaW5uZXJSZXN1bHQsIGlubmVyRXJyb3I7XG4gICAgYW5PYmplY3QkNihpdGVyYXRvcik7XG5cbiAgICB0cnkge1xuICAgICAgaW5uZXJSZXN1bHQgPSBnZXRNZXRob2QkMShpdGVyYXRvciwgJ3JldHVybicpO1xuXG4gICAgICBpZiAoIWlubmVyUmVzdWx0KSB7XG4gICAgICAgIGlmIChraW5kID09PSAndGhyb3cnKSB0aHJvdyB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpbm5lclJlc3VsdCA9IGNhbGwkNShpbm5lclJlc3VsdCwgaXRlcmF0b3IpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpbm5lckVycm9yID0gdHJ1ZTtcbiAgICAgIGlubmVyUmVzdWx0ID0gZXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKGtpbmQgPT09ICd0aHJvdycpIHRocm93IHZhbHVlO1xuICAgIGlmIChpbm5lckVycm9yKSB0aHJvdyBpbm5lclJlc3VsdDtcbiAgICBhbk9iamVjdCQ2KGlubmVyUmVzdWx0KTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgdmFyIGFuT2JqZWN0JDUgPSBhbk9iamVjdCRiO1xuICB2YXIgaXRlcmF0b3JDbG9zZSQxID0gaXRlcmF0b3JDbG9zZSQyOyAvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG5cbiAgdmFyIGNhbGxXaXRoU2FmZUl0ZXJhdGlvbkNsb3NpbmckMSA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBFTlRSSUVTKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBFTlRSSUVTID8gZm4oYW5PYmplY3QkNSh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaXRlcmF0b3JDbG9zZSQxKGl0ZXJhdG9yLCAndGhyb3cnLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkYSA9IHdlbGxLbm93blN5bWJvbCRqO1xuICB2YXIgSXRlcmF0b3JzJDMgPSBpdGVyYXRvcnM7XG4gIHZhciBJVEVSQVRPUiQzID0gd2VsbEtub3duU3ltYm9sJGEoJ2l0ZXJhdG9yJyk7XG4gIHZhciBBcnJheVByb3RvdHlwZSRhID0gQXJyYXkucHJvdG90eXBlOyAvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG5cbiAgdmFyIGlzQXJyYXlJdGVyYXRvck1ldGhvZCQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycyQzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvdHlwZSRhW0lURVJBVE9SJDNdID09PSBpdCk7XG4gIH07XG5cbiAgdmFyIHRvUHJvcGVydHlLZXkkMSA9IHRvUHJvcGVydHlLZXkkNDtcbiAgdmFyIGRlZmluZVByb3BlcnR5TW9kdWxlJDIgPSBvYmplY3REZWZpbmVQcm9wZXJ0eTtcbiAgdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQxID0gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDU7XG5cbiAgdmFyIGNyZWF0ZVByb3BlcnR5JDYgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIHByb3BlcnR5S2V5ID0gdG9Qcm9wZXJ0eUtleSQxKGtleSk7XG4gICAgaWYgKHByb3BlcnR5S2V5IGluIG9iamVjdCkgZGVmaW5lUHJvcGVydHlNb2R1bGUkMi5mKG9iamVjdCwgcHJvcGVydHlLZXksIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQxKDAsIHZhbHVlKSk7ZWxzZSBvYmplY3RbcHJvcGVydHlLZXldID0gdmFsdWU7XG4gIH07XG5cbiAgdmFyIGNsYXNzb2YkOCA9IGNsYXNzb2YkYztcbiAgdmFyIGdldE1ldGhvZCA9IGdldE1ldGhvZCQzO1xuICB2YXIgSXRlcmF0b3JzJDIgPSBpdGVyYXRvcnM7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkOSA9IHdlbGxLbm93blN5bWJvbCRqO1xuICB2YXIgSVRFUkFUT1IkMiA9IHdlbGxLbm93blN5bWJvbCQ5KCdpdGVyYXRvcicpO1xuXG4gIHZhciBnZXRJdGVyYXRvck1ldGhvZCQ4ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGdldE1ldGhvZChpdCwgSVRFUkFUT1IkMikgfHwgZ2V0TWV0aG9kKGl0LCAnQEBpdGVyYXRvcicpIHx8IEl0ZXJhdG9ycyQyW2NsYXNzb2YkOChpdCldO1xuICB9O1xuXG4gIHZhciBnbG9iYWwkaiA9IGdsb2JhbCRNO1xuICB2YXIgY2FsbCQ0ID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgYUNhbGxhYmxlJDEgPSBhQ2FsbGFibGUkNztcbiAgdmFyIGFuT2JqZWN0JDQgPSBhbk9iamVjdCRiO1xuICB2YXIgdHJ5VG9TdHJpbmckMiA9IHRyeVRvU3RyaW5nJDQ7XG4gIHZhciBnZXRJdGVyYXRvck1ldGhvZCQ3ID0gZ2V0SXRlcmF0b3JNZXRob2QkODtcbiAgdmFyIFR5cGVFcnJvciQ5ID0gZ2xvYmFsJGouVHlwZUVycm9yO1xuXG4gIHZhciBnZXRJdGVyYXRvciQ3ID0gZnVuY3Rpb24gKGFyZ3VtZW50LCB1c2luZ0l0ZXJhdG9yKSB7XG4gICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBnZXRJdGVyYXRvck1ldGhvZCQ3KGFyZ3VtZW50KSA6IHVzaW5nSXRlcmF0b3I7XG4gICAgaWYgKGFDYWxsYWJsZSQxKGl0ZXJhdG9yTWV0aG9kKSkgcmV0dXJuIGFuT2JqZWN0JDQoY2FsbCQ0KGl0ZXJhdG9yTWV0aG9kLCBhcmd1bWVudCkpO1xuICAgIHRocm93IFR5cGVFcnJvciQ5KHRyeVRvU3RyaW5nJDIoYXJndW1lbnQpICsgJyBpcyBub3QgaXRlcmFibGUnKTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJGkgPSBnbG9iYWwkTTtcbiAgdmFyIGJpbmQkMyA9IGZ1bmN0aW9uQmluZENvbnRleHQ7XG4gIHZhciBjYWxsJDMgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciB0b09iamVjdCQ4ID0gdG9PYmplY3QkZTtcbiAgdmFyIGNhbGxXaXRoU2FmZUl0ZXJhdGlvbkNsb3NpbmcgPSBjYWxsV2l0aFNhZmVJdGVyYXRpb25DbG9zaW5nJDE7XG4gIHZhciBpc0FycmF5SXRlcmF0b3JNZXRob2QkMSA9IGlzQXJyYXlJdGVyYXRvck1ldGhvZCQyO1xuICB2YXIgaXNDb25zdHJ1Y3RvciQyID0gaXNDb25zdHJ1Y3RvciQ0O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkNyA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eSQ1ID0gY3JlYXRlUHJvcGVydHkkNjtcbiAgdmFyIGdldEl0ZXJhdG9yJDYgPSBnZXRJdGVyYXRvciQ3O1xuICB2YXIgZ2V0SXRlcmF0b3JNZXRob2QkNiA9IGdldEl0ZXJhdG9yTWV0aG9kJDg7XG4gIHZhciBBcnJheSQ0ID0gZ2xvYmFsJGkuQXJyYXk7IC8vIGBBcnJheS5mcm9tYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5mcm9tXG5cbiAgdmFyIGFycmF5RnJvbSA9IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlXG4gIC8qICwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQgKi9cbiAgKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdCQ4KGFycmF5TGlrZSk7XG4gICAgdmFyIElTX0NPTlNUUlVDVE9SID0gaXNDb25zdHJ1Y3RvciQyKHRoaXMpO1xuICAgIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBtYXBmbiA9IGFyZ3VtZW50c0xlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChtYXBwaW5nKSBtYXBmbiA9IGJpbmQkMyhtYXBmbiwgYXJndW1lbnRzTGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gZ2V0SXRlcmF0b3JNZXRob2QkNihPKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3IsIG5leHQsIHZhbHVlOyAvLyBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSBvciBpdCdzIGFuIGFycmF5IHdpdGggdGhlIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2UgYSBzaW1wbGUgY2FzZVxuXG4gICAgaWYgKGl0ZXJhdG9yTWV0aG9kICYmICEodGhpcyA9PSBBcnJheSQ0ICYmIGlzQXJyYXlJdGVyYXRvck1ldGhvZCQxKGl0ZXJhdG9yTWV0aG9kKSkpIHtcbiAgICAgIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IkNihPLCBpdGVyYXRvck1ldGhvZCk7XG4gICAgICBuZXh0ID0gaXRlcmF0b3IubmV4dDtcbiAgICAgIHJlc3VsdCA9IElTX0NPTlNUUlVDVE9SID8gbmV3IHRoaXMoKSA6IFtdO1xuXG4gICAgICBmb3IgKDsgIShzdGVwID0gY2FsbCQzKG5leHQsIGl0ZXJhdG9yKSkuZG9uZTsgaW5kZXgrKykge1xuICAgICAgICB2YWx1ZSA9IG1hcHBpbmcgPyBjYWxsV2l0aFNhZmVJdGVyYXRpb25DbG9zaW5nKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlO1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eSQ1KHJlc3VsdCwgaW5kZXgsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UkNyhPKTtcbiAgICAgIHJlc3VsdCA9IElTX0NPTlNUUlVDVE9SID8gbmV3IHRoaXMobGVuZ3RoKSA6IEFycmF5JDQobGVuZ3RoKTtcblxuICAgICAgZm9yICg7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIHZhbHVlID0gbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XTtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkkNShyZXN1bHQsIGluZGV4LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHdlbGxLbm93blN5bWJvbCQ4ID0gd2VsbEtub3duU3ltYm9sJGo7XG4gIHZhciBJVEVSQVRPUiQxID0gd2VsbEtub3duU3ltYm9sJDgoJ2l0ZXJhdG9yJyk7XG4gIHZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxuICB0cnkge1xuICAgIHZhciBjYWxsZWQgPSAwO1xuICAgIHZhciBpdGVyYXRvcldpdGhSZXR1cm4gPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZG9uZTogISFjYWxsZWQrK1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgICdyZXR1cm4nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFNBRkVfQ0xPU0lORyA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGl0ZXJhdG9yV2l0aFJldHVybltJVEVSQVRPUiQxXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1mcm9tLCBuby10aHJvdy1saXRlcmFsIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG5cblxuICAgIEFycmF5LmZyb20oaXRlcmF0b3JXaXRoUmV0dXJuLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyAyO1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8qIGVtcHR5ICovXG4gIH1cblxuICB2YXIgY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uJDEgPSBmdW5jdGlvbiAoZXhlYywgU0tJUF9DTE9TSU5HKSB7XG4gICAgaWYgKCFTS0lQX0NMT1NJTkcgJiYgIVNBRkVfQ0xPU0lORykgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBJVEVSQVRJT05fU1VQUE9SVCA9IGZhbHNlO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBvYmplY3QgPSB7fTtcblxuICAgICAgb2JqZWN0W0lURVJBVE9SJDFdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGRvbmU6IElURVJBVElPTl9TVVBQT1JUID0gdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBleGVjKG9iamVjdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8qIGVtcHR5ICovXG4gICAgfVxuXG4gICAgcmV0dXJuIElURVJBVElPTl9TVVBQT1JUO1xuICB9O1xuXG4gIHZhciAkJHYgPSBfZXhwb3J0O1xuICB2YXIgZnJvbSQ2ID0gYXJyYXlGcm9tO1xuICB2YXIgY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uID0gY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uJDE7XG4gIHZhciBJTkNPUlJFQ1RfSVRFUkFUSU9OID0gIWNoZWNrQ29ycmVjdG5lc3NPZkl0ZXJhdGlvbihmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tYXJyYXktZnJvbSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgIEFycmF5LmZyb20oaXRlcmFibGUpO1xuICB9KTsgLy8gYEFycmF5LmZyb21gIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LmZyb21cblxuICAkJHYoe1xuICAgIHRhcmdldDogJ0FycmF5JyxcbiAgICBzdGF0OiB0cnVlLFxuICAgIGZvcmNlZDogSU5DT1JSRUNUX0lURVJBVElPTlxuICB9LCB7XG4gICAgZnJvbTogZnJvbSQ2XG4gIH0pO1xuXG4gIHZhciBwYXRoJGwgPSBwYXRoJHE7XG4gIHZhciBmcm9tJDUgPSBwYXRoJGwuQXJyYXkuZnJvbTtcblxuICB2YXIgcGFyZW50JE4gPSBmcm9tJDU7XG4gIHZhciBmcm9tJDQgPSBwYXJlbnQkTjtcblxuICB2YXIgZnJvbSQzID0gZnJvbSQ0O1xuXG4gIHZhciB0b0luZGV4ZWRPYmplY3QkNiA9IHRvSW5kZXhlZE9iamVjdCRiO1xuICB2YXIgSXRlcmF0b3JzJDEgPSBpdGVyYXRvcnM7XG4gIHZhciBJbnRlcm5hbFN0YXRlTW9kdWxlJDMgPSBpbnRlcm5hbFN0YXRlO1xuICBvYmplY3REZWZpbmVQcm9wZXJ0eS5mO1xuICB2YXIgZGVmaW5lSXRlcmF0b3IkMSA9IGRlZmluZUl0ZXJhdG9yJDM7XG4gIHZhciBBUlJBWV9JVEVSQVRPUiA9ICdBcnJheSBJdGVyYXRvcic7XG4gIHZhciBzZXRJbnRlcm5hbFN0YXRlJDMgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDMuc2V0O1xuICB2YXIgZ2V0SW50ZXJuYWxTdGF0ZSQxID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQzLmdldHRlckZvcihBUlJBWV9JVEVSQVRPUik7IC8vIGBBcnJheS5wcm90b3R5cGUuZW50cmllc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmVudHJpZXNcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5rZXlzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUua2V5c1xuICAvLyBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnZhbHVlc1xuICAvLyBgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEBpdGVyYXRvclxuICAvLyBgQ3JlYXRlQXJyYXlJdGVyYXRvcmAgaW50ZXJuYWwgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlYXJyYXlpdGVyYXRvclxuXG4gIGRlZmluZUl0ZXJhdG9yJDEoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICAgIHNldEludGVybmFsU3RhdGUkMyh0aGlzLCB7XG4gICAgICB0eXBlOiBBUlJBWV9JVEVSQVRPUixcbiAgICAgIHRhcmdldDogdG9JbmRleGVkT2JqZWN0JDYoaXRlcmF0ZWQpLFxuICAgICAgLy8gdGFyZ2V0XG4gICAgICBpbmRleDogMCxcbiAgICAgIC8vIG5leHQgaW5kZXhcbiAgICAgIGtpbmQ6IGtpbmQgLy8ga2luZFxuXG4gICAgfSk7IC8vIGAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxuICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSQxKHRoaXMpO1xuICAgIHZhciB0YXJnZXQgPSBzdGF0ZS50YXJnZXQ7XG4gICAgdmFyIGtpbmQgPSBzdGF0ZS5raW5kO1xuICAgIHZhciBpbmRleCA9IHN0YXRlLmluZGV4Kys7XG5cbiAgICBpZiAoIXRhcmdldCB8fCBpbmRleCA+PSB0YXJnZXQubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBpbmRleCxcbiAgICAgIGRvbmU6IGZhbHNlXG4gICAgfTtcbiAgICBpZiAoa2luZCA9PSAndmFsdWVzJykgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB0YXJnZXRbaW5kZXhdLFxuICAgICAgZG9uZTogZmFsc2VcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogW2luZGV4LCB0YXJnZXRbaW5kZXhdXSxcbiAgICAgIGRvbmU6IGZhbHNlXG4gICAgfTtcbiAgfSwgJ3ZhbHVlcycpOyAvLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyVcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGV1bm1hcHBlZGFyZ3VtZW50c29iamVjdFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZW1hcHBlZGFyZ3VtZW50c29iamVjdFxuXG4gIEl0ZXJhdG9ycyQxLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycyQxLkFycmF5OyAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5cbiAgdmFyIGdldEl0ZXJhdG9yTWV0aG9kJDUgPSBnZXRJdGVyYXRvck1ldGhvZCQ4O1xuICB2YXIgZ2V0SXRlcmF0b3JNZXRob2RfMSA9IGdldEl0ZXJhdG9yTWV0aG9kJDU7XG5cbiAgLy8gZmxhZyAtIGBpdGVyYWJsZWAgaW50ZXJmYWNlIC0gJ2VudHJpZXMnLCAna2V5cycsICd2YWx1ZXMnLCAnZm9yRWFjaCcgbWV0aG9kc1xuXG4gIHZhciBkb21JdGVyYWJsZXMgPSB7XG4gICAgQ1NTUnVsZUxpc3Q6IDAsXG4gICAgQ1NTU3R5bGVEZWNsYXJhdGlvbjogMCxcbiAgICBDU1NWYWx1ZUxpc3Q6IDAsXG4gICAgQ2xpZW50UmVjdExpc3Q6IDAsXG4gICAgRE9NUmVjdExpc3Q6IDAsXG4gICAgRE9NU3RyaW5nTGlzdDogMCxcbiAgICBET01Ub2tlbkxpc3Q6IDEsXG4gICAgRGF0YVRyYW5zZmVySXRlbUxpc3Q6IDAsXG4gICAgRmlsZUxpc3Q6IDAsXG4gICAgSFRNTEFsbENvbGxlY3Rpb246IDAsXG4gICAgSFRNTENvbGxlY3Rpb246IDAsXG4gICAgSFRNTEZvcm1FbGVtZW50OiAwLFxuICAgIEhUTUxTZWxlY3RFbGVtZW50OiAwLFxuICAgIE1lZGlhTGlzdDogMCxcbiAgICBNaW1lVHlwZUFycmF5OiAwLFxuICAgIE5hbWVkTm9kZU1hcDogMCxcbiAgICBOb2RlTGlzdDogMSxcbiAgICBQYWludFJlcXVlc3RMaXN0OiAwLFxuICAgIFBsdWdpbjogMCxcbiAgICBQbHVnaW5BcnJheTogMCxcbiAgICBTVkdMZW5ndGhMaXN0OiAwLFxuICAgIFNWR051bWJlckxpc3Q6IDAsXG4gICAgU1ZHUGF0aFNlZ0xpc3Q6IDAsXG4gICAgU1ZHUG9pbnRMaXN0OiAwLFxuICAgIFNWR1N0cmluZ0xpc3Q6IDAsXG4gICAgU1ZHVHJhbnNmb3JtTGlzdDogMCxcbiAgICBTb3VyY2VCdWZmZXJMaXN0OiAwLFxuICAgIFN0eWxlU2hlZXRMaXN0OiAwLFxuICAgIFRleHRUcmFja0N1ZUxpc3Q6IDAsXG4gICAgVGV4dFRyYWNrTGlzdDogMCxcbiAgICBUb3VjaExpc3Q6IDBcbiAgfTtcblxuICB2YXIgRE9NSXRlcmFibGVzJDQgPSBkb21JdGVyYWJsZXM7XG4gIHZhciBnbG9iYWwkaCA9IGdsb2JhbCRNO1xuICB2YXIgY2xhc3NvZiQ3ID0gY2xhc3NvZiRjO1xuICB2YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDEgPSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNjtcbiAgdmFyIEl0ZXJhdG9ycyA9IGl0ZXJhdG9ycztcbiAgdmFyIHdlbGxLbm93blN5bWJvbCQ3ID0gd2VsbEtub3duU3ltYm9sJGo7XG4gIHZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sJDcoJ3RvU3RyaW5nVGFnJyk7XG5cbiAgZm9yICh2YXIgQ09MTEVDVElPTl9OQU1FIGluIERPTUl0ZXJhYmxlcyQ0KSB7XG4gICAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWwkaFtDT0xMRUNUSU9OX05BTUVdO1xuICAgIHZhciBDb2xsZWN0aW9uUHJvdG90eXBlID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcblxuICAgIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlICYmIGNsYXNzb2YkNyhDb2xsZWN0aW9uUHJvdG90eXBlKSAhPT0gVE9fU1RSSU5HX1RBRykge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDEoQ29sbGVjdGlvblByb3RvdHlwZSwgVE9fU1RSSU5HX1RBRywgQ09MTEVDVElPTl9OQU1FKTtcbiAgICB9XG5cbiAgICBJdGVyYXRvcnNbQ09MTEVDVElPTl9OQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbiAgfVxuXG4gIHZhciBwYXJlbnQkTSA9IGdldEl0ZXJhdG9yTWV0aG9kXzE7XG4gIHZhciBnZXRJdGVyYXRvck1ldGhvZCQ0ID0gcGFyZW50JE07XG5cbiAgdmFyIHBhcmVudCRMID0gZ2V0SXRlcmF0b3JNZXRob2QkNDtcbiAgdmFyIGdldEl0ZXJhdG9yTWV0aG9kJDMgPSBwYXJlbnQkTDtcblxuICB2YXIgcGFyZW50JEsgPSBnZXRJdGVyYXRvck1ldGhvZCQzO1xuICB2YXIgZ2V0SXRlcmF0b3JNZXRob2QkMiA9IHBhcmVudCRLO1xuXG4gIHZhciBnZXRJdGVyYXRvck1ldGhvZCQxID0gZ2V0SXRlcmF0b3JNZXRob2QkMjtcblxuICB2YXIgb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lcyA9IHt9O1xuXG4gIHZhciBpbnRlcm5hbE9iamVjdEtleXMgPSBvYmplY3RLZXlzSW50ZXJuYWw7XG4gIHZhciBlbnVtQnVnS2V5cyA9IGVudW1CdWdLZXlzJDM7XG4gIHZhciBoaWRkZW5LZXlzJDIgPSBlbnVtQnVnS2V5cy5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTsgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5bmFtZXMgLS0gc2FmZVxuXG4gIG9iamVjdEdldE93blByb3BlcnR5TmFtZXMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICAgIHJldHVybiBpbnRlcm5hbE9iamVjdEtleXMoTywgaGlkZGVuS2V5cyQyKTtcbiAgfTtcblxuICB2YXIgb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsID0ge307XG5cbiAgdmFyIGdsb2JhbCRnID0gZ2xvYmFsJE07XG4gIHZhciB0b0Fic29sdXRlSW5kZXgkMyA9IHRvQWJzb2x1dGVJbmRleCQ1O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkNiA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eSQ0ID0gY3JlYXRlUHJvcGVydHkkNjtcbiAgdmFyIEFycmF5JDMgPSBnbG9iYWwkZy5BcnJheTtcbiAgdmFyIG1heCQyID0gTWF0aC5tYXg7XG5cbiAgdmFyIGFycmF5U2xpY2VTaW1wbGUgPSBmdW5jdGlvbiAoTywgc3RhcnQsIGVuZCkge1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQ2KE8pO1xuICAgIHZhciBrID0gdG9BYnNvbHV0ZUluZGV4JDMoc3RhcnQsIGxlbmd0aCk7XG4gICAgdmFyIGZpbiA9IHRvQWJzb2x1dGVJbmRleCQzKGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpO1xuICAgIHZhciByZXN1bHQgPSBBcnJheSQzKG1heCQyKGZpbiAtIGssIDApKTtcblxuICAgIGZvciAodmFyIG4gPSAwOyBrIDwgZmluOyBrKyssIG4rKykgY3JlYXRlUHJvcGVydHkkNChyZXN1bHQsIG4sIE9ba10pO1xuXG4gICAgcmVzdWx0Lmxlbmd0aCA9IG47XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHluYW1lcyAtLSBzYWZlICovXG4gIHZhciBjbGFzc29mJDYgPSBjbGFzc29mUmF3JDE7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkNSA9IHRvSW5kZXhlZE9iamVjdCRiO1xuICB2YXIgJGdldE93blByb3BlcnR5TmFtZXMkMSA9IG9iamVjdEdldE93blByb3BlcnR5TmFtZXMuZjtcbiAgdmFyIGFycmF5U2xpY2UkMyA9IGFycmF5U2xpY2VTaW1wbGU7XG4gIHZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG4gIHZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gJGdldE93blByb3BlcnR5TmFtZXMkMShpdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBhcnJheVNsaWNlJDMod2luZG93TmFtZXMpO1xuICAgIH1cbiAgfTsgLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xuXG5cbiAgb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzICYmIGNsYXNzb2YkNihpdCkgPT0gJ1dpbmRvdycgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiAkZ2V0T3duUHJvcGVydHlOYW1lcyQxKHRvSW5kZXhlZE9iamVjdCQ1KGl0KSk7XG4gIH07XG5cbiAgdmFyIG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scyA9IHt9O1xuXG4gIG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuICB2YXIgd2VsbEtub3duU3ltYm9sV3JhcHBlZCA9IHt9O1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkNiA9IHdlbGxLbm93blN5bWJvbCRqO1xuICB3ZWxsS25vd25TeW1ib2xXcmFwcGVkLmYgPSB3ZWxsS25vd25TeW1ib2wkNjtcblxuICB2YXIgcGF0aCRrID0gcGF0aCRxO1xuICB2YXIgaGFzT3duJDYgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSQxID0gd2VsbEtub3duU3ltYm9sV3JhcHBlZDtcbiAgdmFyIGRlZmluZVByb3BlcnR5JDUgPSBvYmplY3REZWZpbmVQcm9wZXJ0eS5mO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkbCA9IGZ1bmN0aW9uIChOQU1FKSB7XG4gICAgdmFyIFN5bWJvbCA9IHBhdGgkay5TeW1ib2wgfHwgKHBhdGgkay5TeW1ib2wgPSB7fSk7XG4gICAgaWYgKCFoYXNPd24kNihTeW1ib2wsIE5BTUUpKSBkZWZpbmVQcm9wZXJ0eSQ1KFN5bWJvbCwgTkFNRSwge1xuICAgICAgdmFsdWU6IHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUkMS5mKE5BTUUpXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyICQkdSA9IF9leHBvcnQ7XG4gIHZhciBnbG9iYWwkZiA9IGdsb2JhbCRNO1xuICB2YXIgZ2V0QnVpbHRJbiQ0ID0gZ2V0QnVpbHRJbiQ5O1xuICB2YXIgYXBwbHkkNCA9IGZ1bmN0aW9uQXBwbHk7XG4gIHZhciBjYWxsJDIgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciB1bmN1cnJ5VGhpcyRjID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIERFU0NSSVBUT1JTJDkgPSBkZXNjcmlwdG9ycztcbiAgdmFyIE5BVElWRV9TWU1CT0wgPSBuYXRpdmVTeW1ib2w7XG4gIHZhciBmYWlscyRlID0gZmFpbHMkcjtcbiAgdmFyIGhhc093biQ1ID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIGlzQXJyYXkkYSA9IGlzQXJyYXkkZDtcbiAgdmFyIGlzQ2FsbGFibGUkMiA9IGlzQ2FsbGFibGUkaDtcbiAgdmFyIGlzT2JqZWN0JDcgPSBpc09iamVjdCRmO1xuICB2YXIgaXNQcm90b3R5cGVPZiRjID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIGlzU3ltYm9sID0gaXNTeW1ib2wkMztcbiAgdmFyIGFuT2JqZWN0JDMgPSBhbk9iamVjdCRiO1xuICB2YXIgdG9PYmplY3QkNyA9IHRvT2JqZWN0JGU7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkNCA9IHRvSW5kZXhlZE9iamVjdCRiO1xuICB2YXIgdG9Qcm9wZXJ0eUtleSA9IHRvUHJvcGVydHlLZXkkNDtcbiAgdmFyICR0b1N0cmluZyA9IHRvU3RyaW5nJDc7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNTtcbiAgdmFyIG5hdGl2ZU9iamVjdENyZWF0ZSA9IG9iamVjdENyZWF0ZTtcbiAgdmFyIG9iamVjdEtleXMkMiA9IG9iamVjdEtleXMkNDtcbiAgdmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUkMiA9IG9iamVjdEdldE93blByb3BlcnR5TmFtZXM7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWw7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMiA9IG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scztcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSQxID0gb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICB2YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUkMSA9IG9iamVjdERlZmluZVByb3BlcnR5O1xuICB2YXIgZGVmaW5lUHJvcGVydGllc01vZHVsZSA9IG9iamVjdERlZmluZVByb3BlcnRpZXM7XG4gIHZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSQxID0gb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHZhciBhcnJheVNsaWNlJDIgPSBhcnJheVNsaWNlJDU7XG4gIHZhciByZWRlZmluZSQxID0gcmVkZWZpbmUkNDtcbiAgdmFyIHNoYXJlZCA9IHNoYXJlZCQ0LmV4cG9ydHM7XG4gIHZhciBzaGFyZWRLZXkgPSBzaGFyZWRLZXkkNDtcbiAgdmFyIGhpZGRlbktleXMkMSA9IGhpZGRlbktleXMkNjtcbiAgdmFyIHVpZCQxID0gdWlkJDQ7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkNSA9IHdlbGxLbm93blN5bWJvbCRqO1xuICB2YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IHdlbGxLbm93blN5bWJvbFdyYXBwZWQ7XG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkayA9IGRlZmluZVdlbGxLbm93blN5bWJvbCRsO1xuICB2YXIgc2V0VG9TdHJpbmdUYWckMiA9IHNldFRvU3RyaW5nVGFnJDU7XG4gIHZhciBJbnRlcm5hbFN0YXRlTW9kdWxlJDIgPSBpbnRlcm5hbFN0YXRlO1xuICB2YXIgJGZvckVhY2gkMSA9IGFycmF5SXRlcmF0aW9uLmZvckVhY2g7XG4gIHZhciBISURERU4gPSBzaGFyZWRLZXkoJ2hpZGRlbicpO1xuICB2YXIgU1lNQk9MID0gJ1N5bWJvbCc7XG4gIHZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbiAgdmFyIFRPX1BSSU1JVElWRSA9IHdlbGxLbm93blN5bWJvbCQ1KCd0b1ByaW1pdGl2ZScpO1xuICB2YXIgc2V0SW50ZXJuYWxTdGF0ZSQyID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQyLnNldDtcbiAgdmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDIuZ2V0dGVyRm9yKFNZTUJPTCk7XG4gIHZhciBPYmplY3RQcm90b3R5cGUkMSA9IE9iamVjdFtQUk9UT1RZUEVdO1xuICB2YXIgJFN5bWJvbCA9IGdsb2JhbCRmLlN5bWJvbDtcbiAgdmFyIFN5bWJvbFByb3RvdHlwZSA9ICRTeW1ib2wgJiYgJFN5bWJvbFtQUk9UT1RZUEVdO1xuICB2YXIgVHlwZUVycm9yJDggPSBnbG9iYWwkZi5UeXBlRXJyb3I7XG4gIHZhciBRT2JqZWN0ID0gZ2xvYmFsJGYuUU9iamVjdDtcbiAgdmFyICRzdHJpbmdpZnkkMSA9IGdldEJ1aWx0SW4kNCgnSlNPTicsICdzdHJpbmdpZnknKTtcbiAgdmFyIG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciQxID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlJDEuZjtcbiAgdmFyIG5hdGl2ZURlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUkMS5mO1xuICB2YXIgbmF0aXZlR2V0T3duUHJvcGVydHlOYW1lcyA9IGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbC5mO1xuICB2YXIgbmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUgPSBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSQxLmY7XG4gIHZhciBwdXNoJDMgPSB1bmN1cnJ5VGhpcyRjKFtdLnB1c2gpO1xuICB2YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xuICB2YXIgT2JqZWN0UHJvdG90eXBlU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xuICB2YXIgU3RyaW5nVG9TeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeScpO1xuICB2YXIgU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeScpO1xuICB2YXIgV2VsbEtub3duU3ltYm9sc1N0b3JlID0gc2hhcmVkKCd3a3MnKTsgLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG5cbiAgdmFyIFVTRV9TRVRURVIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkOyAvLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcblxuICB2YXIgc2V0U3ltYm9sRGVzY3JpcHRvciA9IERFU0NSSVBUT1JTJDkgJiYgZmFpbHMkZShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5hdGl2ZU9iamVjdENyZWF0ZShuYXRpdmVEZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KHRoaXMsICdhJywge1xuICAgICAgICAgIHZhbHVlOiA3XG4gICAgICAgIH0pLmE7XG4gICAgICB9XG4gICAgfSkpLmEgIT0gNztcbiAgfSkgPyBmdW5jdGlvbiAoTywgUCwgQXR0cmlidXRlcykge1xuICAgIHZhciBPYmplY3RQcm90b3R5cGVEZXNjcmlwdG9yID0gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDEoT2JqZWN0UHJvdG90eXBlJDEsIFApO1xuICAgIGlmIChPYmplY3RQcm90b3R5cGVEZXNjcmlwdG9yKSBkZWxldGUgT2JqZWN0UHJvdG90eXBlJDFbUF07XG4gICAgbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG5cbiAgICBpZiAoT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvciAmJiBPICE9PSBPYmplY3RQcm90b3R5cGUkMSkge1xuICAgICAgbmF0aXZlRGVmaW5lUHJvcGVydHkoT2JqZWN0UHJvdG90eXBlJDEsIFAsIE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IpO1xuICAgIH1cbiAgfSA6IG5hdGl2ZURlZmluZVByb3BlcnR5O1xuXG4gIHZhciB3cmFwJDEgPSBmdW5jdGlvbiAodGFnLCBkZXNjcmlwdGlvbikge1xuICAgIHZhciBzeW1ib2wgPSBBbGxTeW1ib2xzW3RhZ10gPSBuYXRpdmVPYmplY3RDcmVhdGUoU3ltYm9sUHJvdG90eXBlKTtcbiAgICBzZXRJbnRlcm5hbFN0YXRlJDIoc3ltYm9sLCB7XG4gICAgICB0eXBlOiBTWU1CT0wsXG4gICAgICB0YWc6IHRhZyxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICAgIH0pO1xuICAgIGlmICghREVTQ1JJUFRPUlMkOSkgc3ltYm9sLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgcmV0dXJuIHN5bWJvbDtcbiAgfTtcblxuICB2YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICAgIGlmIChPID09PSBPYmplY3RQcm90b3R5cGUkMSkgJGRlZmluZVByb3BlcnR5KE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIFAsIEF0dHJpYnV0ZXMpO1xuICAgIGFuT2JqZWN0JDMoTyk7XG4gICAgdmFyIGtleSA9IHRvUHJvcGVydHlLZXkoUCk7XG4gICAgYW5PYmplY3QkMyhBdHRyaWJ1dGVzKTtcblxuICAgIGlmIChoYXNPd24kNShBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgICBpZiAoIUF0dHJpYnV0ZXMuZW51bWVyYWJsZSkge1xuICAgICAgICBpZiAoIWhhc093biQ1KE8sIEhJRERFTikpIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIEhJRERFTiwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHt9KSk7XG4gICAgICAgIE9bSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChoYXNPd24kNShPLCBISURERU4pICYmIE9bSElEREVOXVtrZXldKSBPW0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgICBBdHRyaWJ1dGVzID0gbmF0aXZlT2JqZWN0Q3JlYXRlKEF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMCwgZmFsc2UpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0U3ltYm9sRGVzY3JpcHRvcihPLCBrZXksIEF0dHJpYnV0ZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBrZXksIEF0dHJpYnV0ZXMpO1xuICB9O1xuXG4gIHZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICAgIGFuT2JqZWN0JDMoTyk7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB0b0luZGV4ZWRPYmplY3QkNChQcm9wZXJ0aWVzKTtcbiAgICB2YXIga2V5cyA9IG9iamVjdEtleXMkMihwcm9wZXJ0aWVzKS5jb25jYXQoJGdldE93blByb3BlcnR5U3ltYm9scyhwcm9wZXJ0aWVzKSk7XG4gICAgJGZvckVhY2gkMShrZXlzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIURFU0NSSVBUT1JTJDkgfHwgY2FsbCQyKCRwcm9wZXJ0eUlzRW51bWVyYWJsZSQxLCBwcm9wZXJ0aWVzLCBrZXkpKSAkZGVmaW5lUHJvcGVydHkoTywga2V5LCBwcm9wZXJ0aWVzW2tleV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBPO1xuICB9O1xuXG4gIHZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gbmF0aXZlT2JqZWN0Q3JlYXRlKE8pIDogJGRlZmluZVByb3BlcnRpZXMobmF0aXZlT2JqZWN0Q3JlYXRlKE8pLCBQcm9wZXJ0aWVzKTtcbiAgfTtcblxuICB2YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlJDEgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG4gICAgdmFyIFAgPSB0b1Byb3BlcnR5S2V5KFYpO1xuICAgIHZhciBlbnVtZXJhYmxlID0gY2FsbCQyKG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlLCB0aGlzLCBQKTtcbiAgICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG90eXBlJDEgJiYgaGFzT3duJDUoQWxsU3ltYm9scywgUCkgJiYgIWhhc093biQ1KE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIFApKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGVudW1lcmFibGUgfHwgIWhhc093biQ1KHRoaXMsIFApIHx8ICFoYXNPd24kNShBbGxTeW1ib2xzLCBQKSB8fCBoYXNPd24kNSh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtQXSA/IGVudW1lcmFibGUgOiB0cnVlO1xuICB9O1xuXG4gIHZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgICB2YXIgaXQgPSB0b0luZGV4ZWRPYmplY3QkNChPKTtcbiAgICB2YXIga2V5ID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgICBpZiAoaXQgPT09IE9iamVjdFByb3RvdHlwZSQxICYmIGhhc093biQ1KEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhc093biQ1KE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIGtleSkpIHJldHVybjtcbiAgICB2YXIgZGVzY3JpcHRvciA9IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciQxKGl0LCBrZXkpO1xuXG4gICAgaWYgKGRlc2NyaXB0b3IgJiYgaGFzT3duJDUoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhc093biQ1KGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIHtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gIH07XG5cbiAgdmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gICAgdmFyIG5hbWVzID0gbmF0aXZlR2V0T3duUHJvcGVydHlOYW1lcyh0b0luZGV4ZWRPYmplY3QkNChPKSk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICRmb3JFYWNoJDEobmFtZXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghaGFzT3duJDUoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzT3duJDUoaGlkZGVuS2V5cyQxLCBrZXkpKSBwdXNoJDMocmVzdWx0LCBrZXkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTykge1xuICAgIHZhciBJU19PQkpFQ1RfUFJPVE9UWVBFID0gTyA9PT0gT2JqZWN0UHJvdG90eXBlJDE7XG4gICAgdmFyIG5hbWVzID0gbmF0aXZlR2V0T3duUHJvcGVydHlOYW1lcyhJU19PQkpFQ1RfUFJPVE9UWVBFID8gT2JqZWN0UHJvdG90eXBlU3ltYm9scyA6IHRvSW5kZXhlZE9iamVjdCQ0KE8pKTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgJGZvckVhY2gkMShuYW1lcywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGhhc093biQ1KEFsbFN5bWJvbHMsIGtleSkgJiYgKCFJU19PQkpFQ1RfUFJPVE9UWVBFIHx8IGhhc093biQ1KE9iamVjdFByb3RvdHlwZSQxLCBrZXkpKSkge1xuICAgICAgICBwdXNoJDMocmVzdWx0LCBBbGxTeW1ib2xzW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07IC8vIGBTeW1ib2xgIGNvbnN0cnVjdG9yXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLWNvbnN0cnVjdG9yXG5cblxuICBpZiAoIU5BVElWRV9TWU1CT0wpIHtcbiAgICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgICAgaWYgKGlzUHJvdG90eXBlT2YkYyhTeW1ib2xQcm90b3R5cGUsIHRoaXMpKSB0aHJvdyBUeXBlRXJyb3IkOCgnU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG4gICAgICB2YXIgZGVzY3JpcHRpb24gPSAhYXJndW1lbnRzLmxlbmd0aCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6ICR0b1N0cmluZyhhcmd1bWVudHNbMF0pO1xuICAgICAgdmFyIHRhZyA9IHVpZCQxKGRlc2NyaXB0aW9uKTtcblxuICAgICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG90eXBlJDEpIGNhbGwkMihzZXR0ZXIsIE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIHZhbHVlKTtcbiAgICAgICAgaWYgKGhhc093biQ1KHRoaXMsIEhJRERFTikgJiYgaGFzT3duJDUodGhpc1tISURERU5dLCB0YWcpKSB0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgICBzZXRTeW1ib2xEZXNjcmlwdG9yKHRoaXMsIHRhZywgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHZhbHVlKSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoREVTQ1JJUFRPUlMkOSAmJiBVU0VfU0VUVEVSKSBzZXRTeW1ib2xEZXNjcmlwdG9yKE9iamVjdFByb3RvdHlwZSQxLCB0YWcsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBzZXQ6IHNldHRlclxuICAgICAgfSk7XG4gICAgICByZXR1cm4gd3JhcCQxKHRhZywgZGVzY3JpcHRpb24pO1xuICAgIH07XG5cbiAgICBTeW1ib2xQcm90b3R5cGUgPSAkU3ltYm9sW1BST1RPVFlQRV07XG4gICAgcmVkZWZpbmUkMShTeW1ib2xQcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIGdldEludGVybmFsU3RhdGUodGhpcykudGFnO1xuICAgIH0pO1xuICAgIHJlZGVmaW5lJDEoJFN5bWJvbCwgJ3dpdGhvdXRTZXR0ZXInLCBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiB3cmFwJDEodWlkJDEoZGVzY3JpcHRpb24pLCBkZXNjcmlwdGlvbik7XG4gICAgfSk7XG4gICAgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUkMS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlJDE7XG4gICAgZGVmaW5lUHJvcGVydHlNb2R1bGUkMS5mID0gJGRlZmluZVByb3BlcnR5O1xuICAgIGRlZmluZVByb3BlcnRpZXNNb2R1bGUuZiA9ICRkZWZpbmVQcm9wZXJ0aWVzO1xuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSQxLmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAgIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUkMi5mID0gZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsLmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMi5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICAgIHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUuZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gd3JhcCQxKHdlbGxLbm93blN5bWJvbCQ1KG5hbWUpLCBuYW1lKTtcbiAgICB9O1xuXG4gICAgaWYgKERFU0NSSVBUT1JTJDkpIHtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLVN5bWJvbC1kZXNjcmlwdGlvblxuICAgICAgbmF0aXZlRGVmaW5lUHJvcGVydHkoU3ltYm9sUHJvdG90eXBlLCAnZGVzY3JpcHRpb24nLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgJCR1KHtcbiAgICBnbG9iYWw6IHRydWUsXG4gICAgd3JhcDogdHJ1ZSxcbiAgICBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MLFxuICAgIHNoYW06ICFOQVRJVkVfU1lNQk9MXG4gIH0sIHtcbiAgICBTeW1ib2w6ICRTeW1ib2xcbiAgfSk7XG4gICRmb3JFYWNoJDEob2JqZWN0S2V5cyQyKFdlbGxLbm93blN5bWJvbHNTdG9yZSksIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgZGVmaW5lV2VsbEtub3duU3ltYm9sJGsobmFtZSk7XG4gIH0pO1xuICAkJHUoe1xuICAgIHRhcmdldDogU1lNQk9MLFxuICAgIHN0YXQ6IHRydWUsXG4gICAgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTFxuICB9LCB7XG4gICAgLy8gYFN5bWJvbC5mb3JgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmZvclxuICAgICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgc3RyaW5nID0gJHRvU3RyaW5nKGtleSk7XG4gICAgICBpZiAoaGFzT3duJDUoU3RyaW5nVG9TeW1ib2xSZWdpc3RyeSwgc3RyaW5nKSkgcmV0dXJuIFN0cmluZ1RvU3ltYm9sUmVnaXN0cnlbc3RyaW5nXTtcbiAgICAgIHZhciBzeW1ib2wgPSAkU3ltYm9sKHN0cmluZyk7XG4gICAgICBTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5W3N0cmluZ10gPSBzeW1ib2w7XG4gICAgICBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5W3N5bWJvbF0gPSBzdHJpbmc7XG4gICAgICByZXR1cm4gc3ltYm9sO1xuICAgIH0sXG4gICAgLy8gYFN5bWJvbC5rZXlGb3JgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmtleWZvclxuICAgIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgICAgaWYgKCFpc1N5bWJvbChzeW0pKSB0aHJvdyBUeXBlRXJyb3IkOChzeW0gKyAnIGlzIG5vdCBhIHN5bWJvbCcpO1xuICAgICAgaWYgKGhhc093biQ1KFN5bWJvbFRvU3RyaW5nUmVnaXN0cnksIHN5bSkpIHJldHVybiBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5W3N5bV07XG4gICAgfSxcbiAgICB1c2VTZXR0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIFVTRV9TRVRURVIgPSB0cnVlO1xuICAgIH0sXG4gICAgdXNlU2ltcGxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBVU0VfU0VUVEVSID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgJCR1KHtcbiAgICB0YXJnZXQ6ICdPYmplY3QnLFxuICAgIHN0YXQ6IHRydWUsXG4gICAgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCxcbiAgICBzaGFtOiAhREVTQ1JJUFRPUlMkOVxuICB9LCB7XG4gICAgLy8gYE9iamVjdC5jcmVhdGVgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuICAgIGNyZWF0ZTogJGNyZWF0ZSxcbiAgICAvLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuICAgIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gICAgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0aWVzXG4gICAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gICAgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvcnNcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcbiAgfSk7XG4gICQkdSh7XG4gICAgdGFyZ2V0OiAnT2JqZWN0JyxcbiAgICBzdGF0OiB0cnVlLFxuICAgIGZvcmNlZDogIU5BVElWRV9TWU1CT0xcbiAgfSwge1xuICAgIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuICAgIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAgIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eXN5bWJvbHNcbiAgICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbiAgfSk7IC8vIENocm9tZSAzOCBhbmQgMzkgYE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNgIGZhaWxzIG9uIHByaW1pdGl2ZXNcbiAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzQ0M1xuXG4gICQkdSh7XG4gICAgdGFyZ2V0OiAnT2JqZWN0JyxcbiAgICBzdGF0OiB0cnVlLFxuICAgIGZvcmNlZDogZmFpbHMkZShmdW5jdGlvbiAoKSB7XG4gICAgICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMi5mKDEpO1xuICAgIH0pXG4gIH0sIHtcbiAgICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkge1xuICAgICAgcmV0dXJuIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSQyLmYodG9PYmplY3QkNyhpdCkpO1xuICAgIH1cbiAgfSk7IC8vIGBKU09OLnN0cmluZ2lmeWAgbWV0aG9kIGJlaGF2aW9yIHdpdGggc3ltYm9sc1xuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWpzb24uc3RyaW5naWZ5XG5cbiAgaWYgKCRzdHJpbmdpZnkkMSkge1xuICAgIHZhciBGT1JDRURfSlNPTl9TVFJJTkdJRlkgPSAhTkFUSVZFX1NZTUJPTCB8fCBmYWlscyRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzeW1ib2wgPSAkU3ltYm9sKCk7IC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG5cbiAgICAgIHJldHVybiAkc3RyaW5naWZ5JDEoW3N5bWJvbF0pICE9ICdbbnVsbF0nIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAgICAgfHwgJHN0cmluZ2lmeSQxKHtcbiAgICAgICAgYTogc3ltYm9sXG4gICAgICB9KSAhPSAne30nIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gICAgICB8fCAkc3RyaW5naWZ5JDEoT2JqZWN0KHN5bWJvbCkpICE9ICd7fSc7XG4gICAgfSk7XG4gICAgJCR1KHtcbiAgICAgIHRhcmdldDogJ0pTT04nLFxuICAgICAgc3RhdDogdHJ1ZSxcbiAgICAgIGZvcmNlZDogRk9SQ0VEX0pTT05fU1RSSU5HSUZZXG4gICAgfSwge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbiAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0LCByZXBsYWNlciwgc3BhY2UpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcnJheVNsaWNlJDIoYXJndW1lbnRzKTtcbiAgICAgICAgdmFyICRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgICAgICBpZiAoIWlzT2JqZWN0JDcocmVwbGFjZXIpICYmIGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcblxuICAgICAgICBpZiAoIWlzQXJyYXkkYShyZXBsYWNlcikpIHJlcGxhY2VyID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICBpZiAoaXNDYWxsYWJsZSQyKCRyZXBsYWNlcikpIHZhbHVlID0gY2FsbCQyKCRyZXBsYWNlciwgdGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc1N5bWJvbCh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgICAgICByZXR1cm4gYXBwbHkkNCgkc3RyaW5naWZ5JDEsIG51bGwsIGFyZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IC8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLUBAdG9wcmltaXRpdmVcblxuXG4gIGlmICghU3ltYm9sUHJvdG90eXBlW1RPX1BSSU1JVElWRV0pIHtcbiAgICB2YXIgdmFsdWVPZiA9IFN5bWJvbFByb3RvdHlwZS52YWx1ZU9mOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIC5sZW5ndGhcblxuICAgIHJlZGVmaW5lJDEoU3ltYm9sUHJvdG90eXBlLCBUT19QUklNSVRJVkUsIGZ1bmN0aW9uIChoaW50KSB7XG4gICAgICAvLyBUT0RPOiBpbXByb3ZlIGhpbnQgbG9naWNcbiAgICAgIHJldHVybiBjYWxsJDIodmFsdWVPZiwgdGhpcyk7XG4gICAgfSk7XG4gIH0gLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11gIHByb3BlcnR5XG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS1AQHRvc3RyaW5ndGFnXG5cblxuICBzZXRUb1N0cmluZ1RhZyQyKCRTeW1ib2wsIFNZTUJPTCk7XG4gIGhpZGRlbktleXMkMVtISURERU5dID0gdHJ1ZTtcblxuICB2YXIgcGF0aCRqID0gcGF0aCRxO1xuICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzJDIgPSBwYXRoJGouT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuICB2YXIgcGFyZW50JEogPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMkMjtcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyQxID0gcGFyZW50JEo7XG5cbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyQxO1xuXG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMyA9IHtleHBvcnRzOiB7fX07XG5cbiAgdmFyICQkdCA9IF9leHBvcnQ7XG4gIHZhciBmYWlscyRkID0gZmFpbHMkcjtcbiAgdmFyIHRvSW5kZXhlZE9iamVjdCQzID0gdG9JbmRleGVkT2JqZWN0JGI7XG4gIHZhciBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuZjtcbiAgdmFyIERFU0NSSVBUT1JTJDggPSBkZXNjcmlwdG9ycztcbiAgdmFyIEZBSUxTX09OX1BSSU1JVElWRVMkMyA9IGZhaWxzJGQoZnVuY3Rpb24gKCkge1xuICAgIG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcigxKTtcbiAgfSk7XG4gIHZhciBGT1JDRUQkNSA9ICFERVNDUklQVE9SUyQ4IHx8IEZBSUxTX09OX1BSSU1JVElWRVMkMzsgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JcblxuICAkJHQoe1xuICAgIHRhcmdldDogJ09iamVjdCcsXG4gICAgc3RhdDogdHJ1ZSxcbiAgICBmb3JjZWQ6IEZPUkNFRCQ1LFxuICAgIHNoYW06ICFERVNDUklQVE9SUyQ4XG4gIH0sIHtcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgICByZXR1cm4gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSW5kZXhlZE9iamVjdCQzKGl0KSwga2V5KTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBwYXRoJGkgPSBwYXRoJHE7XG4gIHZhciBPYmplY3QkMyA9IHBhdGgkaS5PYmplY3Q7XG5cbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciQyID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDMuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgcmV0dXJuIE9iamVjdCQzLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KTtcbiAgfTtcblxuICBpZiAoT2JqZWN0JDMuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLnNoYW0pIGdldE93blByb3BlcnR5RGVzY3JpcHRvciQyLnNoYW0gPSB0cnVlO1xuXG4gIHZhciBwYXJlbnQkSSA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciQzLmV4cG9ydHM7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMSA9IHBhcmVudCRJO1xuXG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMTtcblxuICB2YXIgZ2V0QnVpbHRJbiQzID0gZ2V0QnVpbHRJbiQ5O1xuICB2YXIgdW5jdXJyeVRoaXMkYiA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlJDEgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlJDEgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG4gIHZhciBhbk9iamVjdCQyID0gYW5PYmplY3QkYjtcbiAgdmFyIGNvbmNhdCQ1ID0gdW5jdXJyeVRoaXMkYihbXS5jb25jYXQpOyAvLyBhbGwgb2JqZWN0IGtleXMsIGluY2x1ZGVzIG5vbi1lbnVtZXJhYmxlIGFuZCBzeW1ib2xzXG5cbiAgdmFyIG93bktleXMkNiA9IGdldEJ1aWx0SW4kMygnUmVmbGVjdCcsICdvd25LZXlzJykgfHwgZnVuY3Rpb24gb3duS2V5cyhpdCkge1xuICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSQxLmYoYW5PYmplY3QkMihpdCkpO1xuICAgIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMS5mO1xuICAgIHJldHVybiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyBjb25jYXQkNShrZXlzLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpKSA6IGtleXM7XG4gIH07XG5cbiAgdmFyICQkcyA9IF9leHBvcnQ7XG4gIHZhciBERVNDUklQVE9SUyQ3ID0gZGVzY3JpcHRvcnM7XG4gIHZhciBvd25LZXlzJDUgPSBvd25LZXlzJDY7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkMiA9IHRvSW5kZXhlZE9iamVjdCRiO1xuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlID0gb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICB2YXIgY3JlYXRlUHJvcGVydHkkMyA9IGNyZWF0ZVByb3BlcnR5JDY7IC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvcnNcblxuICAkJHMoe1xuICAgIHRhcmdldDogJ09iamVjdCcsXG4gICAgc3RhdDogdHJ1ZSxcbiAgICBzaGFtOiAhREVTQ1JJUFRPUlMkN1xuICB9LCB7XG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmplY3QpIHtcbiAgICAgIHZhciBPID0gdG9JbmRleGVkT2JqZWN0JDIob2JqZWN0KTtcbiAgICAgIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZjtcbiAgICAgIHZhciBrZXlzID0gb3duS2V5cyQ1KE8pO1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHZhciBrZXksIGRlc2NyaXB0b3I7XG5cbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCA+IGluZGV4KSB7XG4gICAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywga2V5ID0ga2V5c1tpbmRleCsrXSk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yICE9PSB1bmRlZmluZWQpIGNyZWF0ZVByb3BlcnR5JDMocmVzdWx0LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHBhdGgkaCA9IHBhdGgkcTtcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMkMiA9IHBhdGgkaC5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcblxuICB2YXIgcGFyZW50JEggPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzJDI7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzJDEgPSBwYXJlbnQkSDtcblxuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMkMTtcblxuICB2YXIgZGVmaW5lUHJvcGVydGllcyQ0ID0ge2V4cG9ydHM6IHt9fTtcblxuICB2YXIgJCRyID0gX2V4cG9ydDtcbiAgdmFyIERFU0NSSVBUT1JTJDYgPSBkZXNjcmlwdG9ycztcbiAgdmFyIGRlZmluZVByb3BlcnRpZXMkMyA9IG9iamVjdERlZmluZVByb3BlcnRpZXMuZjsgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydGllc1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnRpZXMgLS0gc2FmZVxuXG4gICQkcih7XG4gICAgdGFyZ2V0OiAnT2JqZWN0JyxcbiAgICBzdGF0OiB0cnVlLFxuICAgIGZvcmNlZDogT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgIT09IGRlZmluZVByb3BlcnRpZXMkMyxcbiAgICBzaGFtOiAhREVTQ1JJUFRPUlMkNlxuICB9LCB7XG4gICAgZGVmaW5lUHJvcGVydGllczogZGVmaW5lUHJvcGVydGllcyQzXG4gIH0pO1xuXG4gIHZhciBwYXRoJGcgPSBwYXRoJHE7XG4gIHZhciBPYmplY3QkMiA9IHBhdGgkZy5PYmplY3Q7XG5cbiAgdmFyIGRlZmluZVByb3BlcnRpZXMkMiA9IGRlZmluZVByb3BlcnRpZXMkNC5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhULCBEKSB7XG4gICAgcmV0dXJuIE9iamVjdCQyLmRlZmluZVByb3BlcnRpZXMoVCwgRCk7XG4gIH07XG5cbiAgaWYgKE9iamVjdCQyLmRlZmluZVByb3BlcnRpZXMuc2hhbSkgZGVmaW5lUHJvcGVydGllcyQyLnNoYW0gPSB0cnVlO1xuXG4gIHZhciBwYXJlbnQkRyA9IGRlZmluZVByb3BlcnRpZXMkNC5leHBvcnRzO1xuICB2YXIgZGVmaW5lUHJvcGVydGllcyQxID0gcGFyZW50JEc7XG5cbiAgdmFyIGRlZmluZVByb3BlcnRpZXMgPSBkZWZpbmVQcm9wZXJ0aWVzJDE7XG5cbiAgdmFyIGRlZmluZVByb3BlcnR5JDQgPSBkZWZpbmVQcm9wZXJ0eSRhO1xuXG4gIHZhciAkJHEgPSBfZXhwb3J0O1xuICB2YXIgaXNBcnJheSQ5ID0gaXNBcnJheSRkOyAvLyBgQXJyYXkuaXNBcnJheWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkuaXNhcnJheVxuXG4gICQkcSh7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHN0YXQ6IHRydWVcbiAgfSwge1xuICAgIGlzQXJyYXk6IGlzQXJyYXkkOVxuICB9KTtcblxuICB2YXIgcGF0aCRmID0gcGF0aCRxO1xuICB2YXIgaXNBcnJheSQ4ID0gcGF0aCRmLkFycmF5LmlzQXJyYXk7XG5cbiAgdmFyIHBhcmVudCRGID0gaXNBcnJheSQ4O1xuICB2YXIgaXNBcnJheSQ3ID0gcGFyZW50JEY7XG5cbiAgdmFyIHBhcmVudCRFID0gaXNBcnJheSQ3O1xuICB2YXIgaXNBcnJheSQ2ID0gcGFyZW50JEU7XG5cbiAgdmFyIHBhcmVudCREID0gaXNBcnJheSQ2O1xuICB2YXIgaXNBcnJheSQ1ID0gcGFyZW50JEQ7XG5cbiAgdmFyIGlzQXJyYXkkNCA9IGlzQXJyYXkkNTtcblxuICBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gICAgaWYgKGlzQXJyYXkkNChhcnIpKSByZXR1cm4gYXJyO1xuICB9XG5cbiAgdmFyICQkcCA9IF9leHBvcnQ7XG4gIHZhciBnbG9iYWwkZSA9IGdsb2JhbCRNO1xuICB2YXIgZmFpbHMkYyA9IGZhaWxzJHI7XG4gIHZhciBpc0FycmF5JDMgPSBpc0FycmF5JGQ7XG4gIHZhciBpc09iamVjdCQ2ID0gaXNPYmplY3QkZjtcbiAgdmFyIHRvT2JqZWN0JDYgPSB0b09iamVjdCRlO1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkNSA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eSQyID0gY3JlYXRlUHJvcGVydHkkNjtcbiAgdmFyIGFycmF5U3BlY2llc0NyZWF0ZSQxID0gYXJyYXlTcGVjaWVzQ3JlYXRlJDQ7XG4gIHZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDIgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDU7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkNCA9IHdlbGxLbm93blN5bWJvbCRqO1xuICB2YXIgVjhfVkVSU0lPTiA9IGVuZ2luZVY4VmVyc2lvbjtcbiAgdmFyIElTX0NPTkNBVF9TUFJFQURBQkxFID0gd2VsbEtub3duU3ltYm9sJDQoJ2lzQ29uY2F0U3ByZWFkYWJsZScpO1xuICB2YXIgTUFYX1NBRkVfSU5URUdFUiQxID0gMHgxRkZGRkZGRkZGRkZGRjtcbiAgdmFyIE1BWElNVU1fQUxMT1dFRF9JTkRFWF9FWENFRURFRCA9ICdNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWQnO1xuICB2YXIgVHlwZUVycm9yJDcgPSBnbG9iYWwkZS5UeXBlRXJyb3I7IC8vIFdlIGNhbid0IHVzZSB0aGlzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAvLyBkZW9wdGltaXphdGlvbiBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjc5XG5cbiAgdmFyIElTX0NPTkNBVF9TUFJFQURBQkxFX1NVUFBPUlQgPSBWOF9WRVJTSU9OID49IDUxIHx8ICFmYWlscyRjKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBhcnJheVtJU19DT05DQVRfU1BSRUFEQUJMRV0gPSBmYWxzZTtcbiAgICByZXR1cm4gYXJyYXkuY29uY2F0KClbMF0gIT09IGFycmF5O1xuICB9KTtcbiAgdmFyIFNQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkMignY29uY2F0Jyk7XG5cbiAgdmFyIGlzQ29uY2F0U3ByZWFkYWJsZSA9IGZ1bmN0aW9uIChPKSB7XG4gICAgaWYgKCFpc09iamVjdCQ2KE8pKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHNwcmVhZGFibGUgPSBPW0lTX0NPTkNBVF9TUFJFQURBQkxFXTtcbiAgICByZXR1cm4gc3ByZWFkYWJsZSAhPT0gdW5kZWZpbmVkID8gISFzcHJlYWRhYmxlIDogaXNBcnJheSQzKE8pO1xuICB9O1xuXG4gIHZhciBGT1JDRUQkNCA9ICFJU19DT05DQVRfU1BSRUFEQUJMRV9TVVBQT1JUIHx8ICFTUEVDSUVTX1NVUFBPUlQ7IC8vIGBBcnJheS5wcm90b3R5cGUuY29uY2F0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuY29uY2F0XG4gIC8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBpc0NvbmNhdFNwcmVhZGFibGUgYW5kIEBAc3BlY2llc1xuXG4gICQkcCh7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHByb3RvOiB0cnVlLFxuICAgIGZvcmNlZDogRk9SQ0VEJDRcbiAgfSwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gICAgY29uY2F0OiBmdW5jdGlvbiBjb25jYXQoYXJnKSB7XG4gICAgICB2YXIgTyA9IHRvT2JqZWN0JDYodGhpcyk7XG4gICAgICB2YXIgQSA9IGFycmF5U3BlY2llc0NyZWF0ZSQxKE8sIDApO1xuICAgICAgdmFyIG4gPSAwO1xuICAgICAgdmFyIGksIGssIGxlbmd0aCwgbGVuLCBFO1xuXG4gICAgICBmb3IgKGkgPSAtMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIEUgPSBpID09PSAtMSA/IE8gOiBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgaWYgKGlzQ29uY2F0U3ByZWFkYWJsZShFKSkge1xuICAgICAgICAgIGxlbiA9IGxlbmd0aE9mQXJyYXlMaWtlJDUoRSk7XG4gICAgICAgICAgaWYgKG4gKyBsZW4gPiBNQVhfU0FGRV9JTlRFR0VSJDEpIHRocm93IFR5cGVFcnJvciQ3KE1BWElNVU1fQUxMT1dFRF9JTkRFWF9FWENFRURFRCk7XG5cbiAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbGVuOyBrKyssIG4rKykgaWYgKGsgaW4gRSkgY3JlYXRlUHJvcGVydHkkMihBLCBuLCBFW2tdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobiA+PSBNQVhfU0FGRV9JTlRFR0VSJDEpIHRocm93IFR5cGVFcnJvciQ3KE1BWElNVU1fQUxMT1dFRF9JTkRFWF9FWENFRURFRCk7XG4gICAgICAgICAgY3JlYXRlUHJvcGVydHkkMihBLCBuKyssIEUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIEEubGVuZ3RoID0gbjtcbiAgICAgIHJldHVybiBBO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRqID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuYXN5bmNJdGVyYXRvcmAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuYXN5bmNpdGVyYXRvclxuXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCRqKCdhc3luY0l0ZXJhdG9yJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRpID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuaGFzSW5zdGFuY2VgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmhhc2luc3RhbmNlXG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJGkoJ2hhc0luc3RhbmNlJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRoID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5pc2NvbmNhdHNwcmVhZGFibGVcblxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkaCgnaXNDb25jYXRTcHJlYWRhYmxlJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRnID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuaXRlcmF0b3JgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLml0ZXJhdG9yXG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJGcoJ2l0ZXJhdG9yJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRmID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wubWF0Y2hgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLm1hdGNoXG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJGYoJ21hdGNoJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRlID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wubWF0Y2hBbGxgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLm1hdGNoYWxsXG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJGUoJ21hdGNoQWxsJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRkID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wucmVwbGFjZWAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucmVwbGFjZVxuXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCRkKCdyZXBsYWNlJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRjID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuc2VhcmNoYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5zZWFyY2hcblxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkYygnc2VhcmNoJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRiID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuc3BlY2llc2Agd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuc3BlY2llc1xuXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCRiKCdzcGVjaWVzJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRhID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuc3BsaXRgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnNwbGl0XG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJGEoJ3NwbGl0Jyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCQ5ID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wudG9QcmltaXRpdmVgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnRvcHJpbWl0aXZlXG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDkoJ3RvUHJpbWl0aXZlJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCQ4ID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wudG9TdHJpbmdUYWdgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnRvc3RyaW5ndGFnXG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDgoJ3RvU3RyaW5nVGFnJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCQ3ID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wudW5zY29wYWJsZXNgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnVuc2NvcGFibGVzXG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDcoJ3Vuc2NvcGFibGVzJyk7XG5cbiAgdmFyIGdsb2JhbCRkID0gZ2xvYmFsJE07XG4gIHZhciBzZXRUb1N0cmluZ1RhZyQxID0gc2V0VG9TdHJpbmdUYWckNTsgLy8gSlNPTltAQHRvU3RyaW5nVGFnXSBwcm9wZXJ0eVxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWpzb24tQEB0b3N0cmluZ3RhZ1xuXG4gIHNldFRvU3RyaW5nVGFnJDEoZ2xvYmFsJGQuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuICB2YXIgcGF0aCRlID0gcGF0aCRxO1xuICB2YXIgc3ltYm9sJDUgPSBwYXRoJGUuU3ltYm9sO1xuXG4gIHZhciBwYXJlbnQkQyA9IHN5bWJvbCQ1O1xuICB2YXIgc3ltYm9sJDQgPSBwYXJlbnQkQztcblxuICB2YXIgcGFyZW50JEIgPSBzeW1ib2wkNDtcbiAgdmFyIHN5bWJvbCQzID0gcGFyZW50JEI7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCQ2ID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuYXN5bmNEaXNwb3NlYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC11c2luZy1zdGF0ZW1lbnRcblxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkNignYXN5bmNEaXNwb3NlJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCQ1ID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7IC8vIGBTeW1ib2wuZGlzcG9zZWAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtdXNpbmctc3RhdGVtZW50XG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDUoJ2Rpc3Bvc2UnKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJDQgPSBkZWZpbmVXZWxsS25vd25TeW1ib2wkbDsgLy8gYFN5bWJvbC5tYXRjaGVyYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wYXR0ZXJuLW1hdGNoaW5nXG5cbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDQoJ21hdGNoZXInKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJDMgPSBkZWZpbmVXZWxsS25vd25TeW1ib2wkbDsgLy8gYFN5bWJvbC5tZXRhZGF0YWAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZGVjb3JhdG9yc1xuXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCQzKCdtZXRhZGF0YScpO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkMiA9IGRlZmluZVdlbGxLbm93blN5bWJvbCRsOyAvLyBgU3ltYm9sLm9ic2VydmFibGVgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9ic2VydmFibGVcblxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkMignb2JzZXJ2YWJsZScpO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkMSA9IGRlZmluZVdlbGxLbm93blN5bWJvbCRsOyAvLyBgU3ltYm9sLnBhdHRlcm5NYXRjaGAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcGF0dGVybi1tYXRjaGluZ1xuXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCQxKCdwYXR0ZXJuTWF0Y2gnKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gZGVmaW5lV2VsbEtub3duU3ltYm9sJGw7XG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCgncmVwbGFjZUFsbCcpO1xuXG4gIHZhciBwYXJlbnQkQSA9IHN5bWJvbCQzOyAvLyBUT0RPOiBSZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxuICAvLyBUT0RPOiBSZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxuXG4gIHZhciBzeW1ib2wkMiA9IHBhcmVudCRBO1xuXG4gIHZhciBzeW1ib2wkMSA9IHN5bWJvbCQyO1xuXG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2Ygc3ltYm9sJDEgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2V0SXRlcmF0b3JNZXRob2QkMShhcnIpIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcblxuICAgIHZhciBfcywgX2U7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfYXJyO1xuICB9XG5cbiAgdmFyICQkbyA9IF9leHBvcnQ7XG4gIHZhciBnbG9iYWwkYyA9IGdsb2JhbCRNO1xuICB2YXIgaXNBcnJheSQyID0gaXNBcnJheSRkO1xuICB2YXIgaXNDb25zdHJ1Y3RvciQxID0gaXNDb25zdHJ1Y3RvciQ0O1xuICB2YXIgaXNPYmplY3QkNSA9IGlzT2JqZWN0JGY7XG4gIHZhciB0b0Fic29sdXRlSW5kZXgkMiA9IHRvQWJzb2x1dGVJbmRleCQ1O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkNCA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkMSA9IHRvSW5kZXhlZE9iamVjdCRiO1xuICB2YXIgY3JlYXRlUHJvcGVydHkkMSA9IGNyZWF0ZVByb3BlcnR5JDY7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkMyA9IHdlbGxLbm93blN5bWJvbCRqO1xuICB2YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQxID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQ1O1xuICB2YXIgdW4kU2xpY2UgPSBhcnJheVNsaWNlJDU7XG4gIHZhciBIQVNfU1BFQ0lFU19TVVBQT1JUJDEgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDEoJ3NsaWNlJyk7XG4gIHZhciBTUEVDSUVTJDEgPSB3ZWxsS25vd25TeW1ib2wkMygnc3BlY2llcycpO1xuICB2YXIgQXJyYXkkMiA9IGdsb2JhbCRjLkFycmF5O1xuICB2YXIgbWF4JDEgPSBNYXRoLm1heDsgLy8gYEFycmF5LnByb3RvdHlwZS5zbGljZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNsaWNlXG4gIC8vIGZhbGxiYWNrIGZvciBub3QgYXJyYXktbGlrZSBFUzMgc3RyaW5ncyBhbmQgRE9NIG9iamVjdHNcblxuICAkJG8oe1xuICAgIHRhcmdldDogJ0FycmF5JyxcbiAgICBwcm90bzogdHJ1ZSxcbiAgICBmb3JjZWQ6ICFIQVNfU1BFQ0lFU19TVVBQT1JUJDFcbiAgfSwge1xuICAgIHNsaWNlOiBmdW5jdGlvbiBzbGljZShzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCQxKHRoaXMpO1xuICAgICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlJDQoTyk7XG4gICAgICB2YXIgayA9IHRvQWJzb2x1dGVJbmRleCQyKHN0YXJ0LCBsZW5ndGgpO1xuICAgICAgdmFyIGZpbiA9IHRvQWJzb2x1dGVJbmRleCQyKGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpOyAvLyBpbmxpbmUgYEFycmF5U3BlY2llc0NyZWF0ZWAgZm9yIHVzYWdlIG5hdGl2ZSBgQXJyYXkjc2xpY2VgIHdoZXJlIGl0J3MgcG9zc2libGVcblxuICAgICAgdmFyIENvbnN0cnVjdG9yLCByZXN1bHQsIG47XG5cbiAgICAgIGlmIChpc0FycmF5JDIoTykpIHtcbiAgICAgICAgQ29uc3RydWN0b3IgPSBPLmNvbnN0cnVjdG9yOyAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuXG4gICAgICAgIGlmIChpc0NvbnN0cnVjdG9yJDEoQ29uc3RydWN0b3IpICYmIChDb25zdHJ1Y3RvciA9PT0gQXJyYXkkMiB8fCBpc0FycmF5JDIoQ29uc3RydWN0b3IucHJvdG90eXBlKSkpIHtcbiAgICAgICAgICBDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdCQ1KENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgIENvbnN0cnVjdG9yID0gQ29uc3RydWN0b3JbU1BFQ0lFUyQxXTtcbiAgICAgICAgICBpZiAoQ29uc3RydWN0b3IgPT09IG51bGwpIENvbnN0cnVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKENvbnN0cnVjdG9yID09PSBBcnJheSQyIHx8IENvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gdW4kU2xpY2UoTywgaywgZmluKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXN1bHQgPSBuZXcgKENvbnN0cnVjdG9yID09PSB1bmRlZmluZWQgPyBBcnJheSQyIDogQ29uc3RydWN0b3IpKG1heCQxKGZpbiAtIGssIDApKTtcblxuICAgICAgZm9yIChuID0gMDsgayA8IGZpbjsgaysrLCBuKyspIGlmIChrIGluIE8pIGNyZWF0ZVByb3BlcnR5JDEocmVzdWx0LCBuLCBPW2tdKTtcblxuICAgICAgcmVzdWx0Lmxlbmd0aCA9IG47XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGVudHJ5VmlydHVhbCRlID0gZW50cnlWaXJ0dWFsJGs7XG4gIHZhciBzbGljZSQ2ID0gZW50cnlWaXJ0dWFsJGUoJ0FycmF5Jykuc2xpY2U7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkYiA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkOSA9IHNsaWNlJDY7XG4gIHZhciBBcnJheVByb3RvdHlwZSQ5ID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBzbGljZSQ1ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LnNsaWNlO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUkOSB8fCBpc1Byb3RvdHlwZU9mJGIoQXJyYXlQcm90b3R5cGUkOSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkOS5zbGljZSA/IG1ldGhvZCQ5IDogb3duO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkeiA9IHNsaWNlJDU7XG4gIHZhciBzbGljZSQ0ID0gcGFyZW50JHo7XG5cbiAgdmFyIHBhcmVudCR5ID0gc2xpY2UkNDtcbiAgdmFyIHNsaWNlJDMgPSBwYXJlbnQkeTtcblxuICB2YXIgcGFyZW50JHggPSBzbGljZSQzO1xuICB2YXIgc2xpY2UkMiA9IHBhcmVudCR4O1xuXG4gIHZhciBzbGljZSQxID0gc2xpY2UkMjtcblxuICB2YXIgcGFyZW50JHcgPSBmcm9tJDQ7XG4gIHZhciBmcm9tJDIgPSBwYXJlbnQkdztcblxuICB2YXIgcGFyZW50JHYgPSBmcm9tJDI7XG4gIHZhciBmcm9tJDEgPSBwYXJlbnQkdjtcblxuICB2YXIgZnJvbSA9IGZyb20kMTtcblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQ0KGFyciwgbGVuKSB7XG4gICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFycjJbaV0gPSBhcnJbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycjI7XG4gIH1cblxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkNChvLCBtaW5MZW4pIHtcbiAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ0KG8sIG1pbkxlbik7XG5cbiAgICB2YXIgbiA9IHNsaWNlJDEoX2NvbnRleHQgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpLmNhbGwoX2NvbnRleHQsIDgsIC0xKTtcblxuICAgIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIGZyb20obyk7XG4gICAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ0KG8sIG1pbkxlbik7XG4gIH1cblxuICBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gIH1cblxuICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG4gIH1cblxuICB2YXIgV3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IHdlbGxLbm93blN5bWJvbFdyYXBwZWQ7XG4gIHZhciBpdGVyYXRvciQ1ID0gV3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZS5mKCdpdGVyYXRvcicpO1xuXG4gIHZhciBwYXJlbnQkdSA9IGl0ZXJhdG9yJDU7XG4gIHZhciBpdGVyYXRvciQ0ID0gcGFyZW50JHU7XG5cbiAgdmFyIHBhcmVudCR0ID0gaXRlcmF0b3IkNDtcbiAgdmFyIGl0ZXJhdG9yJDMgPSBwYXJlbnQkdDtcblxuICB2YXIgcGFyZW50JHMgPSBpdGVyYXRvciQzO1xuICB2YXIgaXRlcmF0b3IkMiA9IHBhcmVudCRzO1xuXG4gIHZhciBpdGVyYXRvciQxID0gaXRlcmF0b3IkMjtcblxuICBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICAgIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBzeW1ib2wkMSAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBpdGVyYXRvciQxID8gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBzeW1ib2wkMSAmJiBvYmouY29uc3RydWN0b3IgPT09IHN5bWJvbCQxICYmIG9iaiAhPT0gc3ltYm9sJDEucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfSwgX3R5cGVvZihvYmopO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICAgIGlmIChpc0FycmF5JDQoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDQoYXJyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICAgIGlmICh0eXBlb2Ygc3ltYm9sJDEgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2V0SXRlcmF0b3JNZXRob2QkMShpdGVyKSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBmcm9tKGl0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICAgIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDQoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbiAgfVxuXG4gIHZhciBzeW1ib2wgPSBzeW1ib2wkNDtcblxuICB2YXIgZW50cnlWaXJ0dWFsJGQgPSBlbnRyeVZpcnR1YWwkaztcbiAgdmFyIGNvbmNhdCQ0ID0gZW50cnlWaXJ0dWFsJGQoJ0FycmF5JykuY29uY2F0O1xuXG4gIHZhciBpc1Byb3RvdHlwZU9mJGEgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJDggPSBjb25jYXQkNDtcbiAgdmFyIEFycmF5UHJvdG90eXBlJDggPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIGNvbmNhdCQzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LmNvbmNhdDtcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJDggfHwgaXNQcm90b3R5cGVPZiRhKEFycmF5UHJvdG90eXBlJDgsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDguY29uY2F0ID8gbWV0aG9kJDggOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRyID0gY29uY2F0JDM7XG4gIHZhciBjb25jYXQkMiA9IHBhcmVudCRyO1xuXG4gIHZhciBjb25jYXQkMSA9IGNvbmNhdCQyO1xuXG4gIHZhciBzbGljZSA9IHNsaWNlJDQ7XG5cbiAgdmFyICQkbiA9IF9leHBvcnQ7XG4gIHZhciBvd25LZXlzJDQgPSBvd25LZXlzJDY7IC8vIGBSZWZsZWN0Lm93bktleXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZmxlY3Qub3dua2V5c1xuXG4gICQkbih7XG4gICAgdGFyZ2V0OiAnUmVmbGVjdCcsXG4gICAgc3RhdDogdHJ1ZVxuICB9LCB7XG4gICAgb3duS2V5czogb3duS2V5cyQ0XG4gIH0pO1xuXG4gIHZhciBwYXRoJGQgPSBwYXRoJHE7XG4gIHZhciBvd25LZXlzJDMgPSBwYXRoJGQuUmVmbGVjdC5vd25LZXlzO1xuXG4gIHZhciBwYXJlbnQkcSA9IG93bktleXMkMztcbiAgdmFyIG93bktleXMkMiA9IHBhcmVudCRxO1xuXG4gIHZhciBvd25LZXlzJDEgPSBvd25LZXlzJDI7XG5cbiAgdmFyIGlzQXJyYXkkMSA9IGlzQXJyYXkkNztcblxuICB2YXIgJCRtID0gX2V4cG9ydDtcbiAgdmFyIHRvT2JqZWN0JDUgPSB0b09iamVjdCRlO1xuICB2YXIgbmF0aXZlS2V5cyA9IG9iamVjdEtleXMkNDtcbiAgdmFyIGZhaWxzJGIgPSBmYWlscyRyO1xuICB2YXIgRkFJTFNfT05fUFJJTUlUSVZFUyQyID0gZmFpbHMkYihmdW5jdGlvbiAoKSB7XG4gICAgbmF0aXZlS2V5cygxKTtcbiAgfSk7IC8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmtleXNcblxuICAkJG0oe1xuICAgIHRhcmdldDogJ09iamVjdCcsXG4gICAgc3RhdDogdHJ1ZSxcbiAgICBmb3JjZWQ6IEZBSUxTX09OX1BSSU1JVElWRVMkMlxuICB9LCB7XG4gICAga2V5czogZnVuY3Rpb24ga2V5cyhpdCkge1xuICAgICAgcmV0dXJuIG5hdGl2ZUtleXModG9PYmplY3QkNShpdCkpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHBhdGgkYyA9IHBhdGgkcTtcbiAgdmFyIGtleXMkNiA9IHBhdGgkYy5PYmplY3Qua2V5cztcblxuICB2YXIgcGFyZW50JHAgPSBrZXlzJDY7XG4gIHZhciBrZXlzJDUgPSBwYXJlbnQkcDtcblxuICB2YXIga2V5cyQ0ID0ga2V5cyQ1O1xuXG4gIHZhciAkJGwgPSBfZXhwb3J0O1xuICB2YXIgZ2xvYmFsJGIgPSBnbG9iYWwkTTtcbiAgdmFyIHVuY3VycnlUaGlzJGEgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgRGF0ZSQxID0gZ2xvYmFsJGIuRGF0ZTtcbiAgdmFyIGdldFRpbWUgPSB1bmN1cnJ5VGhpcyRhKERhdGUkMS5wcm90b3R5cGUuZ2V0VGltZSk7IC8vIGBEYXRlLm5vd2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZGF0ZS5ub3dcblxuICAkJGwoe1xuICAgIHRhcmdldDogJ0RhdGUnLFxuICAgIHN0YXQ6IHRydWVcbiAgfSwge1xuICAgIG5vdzogZnVuY3Rpb24gbm93KCkge1xuICAgICAgcmV0dXJuIGdldFRpbWUobmV3IERhdGUkMSgpKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBwYXRoJGIgPSBwYXRoJHE7XG4gIHBhdGgkYi5EYXRlLm5vdztcblxuICB2YXIgJGZvckVhY2ggPSBhcnJheUl0ZXJhdGlvbi5mb3JFYWNoO1xuICB2YXIgYXJyYXlNZXRob2RJc1N0cmljdCQzID0gYXJyYXlNZXRob2RJc1N0cmljdCQ1O1xuICB2YXIgU1RSSUNUX01FVEhPRCQzID0gYXJyYXlNZXRob2RJc1N0cmljdCQzKCdmb3JFYWNoJyk7IC8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcblxuICB2YXIgYXJyYXlGb3JFYWNoID0gIVNUUklDVF9NRVRIT0QkMyA/IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmblxuICAvKiAsIHRoaXNBcmcgKi9cbiAgKSB7XG4gICAgcmV0dXJuICRmb3JFYWNoKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWFycmF5LXByb3RvdHlwZS1mb3JlYWNoIC0tIHNhZmVcbiAgfSA6IFtdLmZvckVhY2g7XG5cbiAgdmFyICQkayA9IF9leHBvcnQ7XG4gIHZhciBmb3JFYWNoJDUgPSBhcnJheUZvckVhY2g7IC8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWFycmF5LXByb3RvdHlwZS1mb3JlYWNoIC0tIHNhZmVcblxuICAkJGsoe1xuICAgIHRhcmdldDogJ0FycmF5JyxcbiAgICBwcm90bzogdHJ1ZSxcbiAgICBmb3JjZWQ6IFtdLmZvckVhY2ggIT0gZm9yRWFjaCQ1XG4gIH0sIHtcbiAgICBmb3JFYWNoOiBmb3JFYWNoJDVcbiAgfSk7XG5cbiAgdmFyIGVudHJ5VmlydHVhbCRjID0gZW50cnlWaXJ0dWFsJGs7XG4gIHZhciBmb3JFYWNoJDQgPSBlbnRyeVZpcnR1YWwkYygnQXJyYXknKS5mb3JFYWNoO1xuXG4gIHZhciBwYXJlbnQkbyA9IGZvckVhY2gkNDtcbiAgdmFyIGZvckVhY2gkMyA9IHBhcmVudCRvO1xuXG4gIHZhciBjbGFzc29mJDUgPSBjbGFzc29mJGM7XG4gIHZhciBoYXNPd24kNCA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBpc1Byb3RvdHlwZU9mJDkgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJDcgPSBmb3JFYWNoJDM7XG4gIHZhciBBcnJheVByb3RvdHlwZSQ3ID0gQXJyYXkucHJvdG90eXBlO1xuICB2YXIgRE9NSXRlcmFibGVzJDMgPSB7XG4gICAgRE9NVG9rZW5MaXN0OiB0cnVlLFxuICAgIE5vZGVMaXN0OiB0cnVlXG4gIH07XG5cbiAgdmFyIGZvckVhY2gkMiA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5mb3JFYWNoO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUkNyB8fCBpc1Byb3RvdHlwZU9mJDkoQXJyYXlQcm90b3R5cGUkNywgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkNy5mb3JFYWNoIHx8IGhhc093biQ0KERPTUl0ZXJhYmxlcyQzLCBjbGFzc29mJDUoaXQpKSA/IG1ldGhvZCQ3IDogb3duO1xuICB9O1xuXG4gIHZhciBmb3JFYWNoJDEgPSBmb3JFYWNoJDI7XG5cbiAgdmFyICQkaiA9IF9leHBvcnQ7XG4gIHZhciB1bmN1cnJ5VGhpcyQ5ID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGlzQXJyYXkgPSBpc0FycmF5JGQ7XG4gIHZhciB1biRSZXZlcnNlID0gdW5jdXJyeVRoaXMkOShbXS5yZXZlcnNlKTtcbiAgdmFyIHRlc3QkMSA9IFsxLCAyXTsgLy8gYEFycmF5LnByb3RvdHlwZS5yZXZlcnNlYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmV2ZXJzZVxuICAvLyBmaXggZm9yIFNhZmFyaSAxMi4wIGJ1Z1xuICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTg4Nzk0XG5cbiAgJCRqKHtcbiAgICB0YXJnZXQ6ICdBcnJheScsXG4gICAgcHJvdG86IHRydWUsXG4gICAgZm9yY2VkOiBTdHJpbmcodGVzdCQxKSA9PT0gU3RyaW5nKHRlc3QkMS5yZXZlcnNlKCkpXG4gIH0sIHtcbiAgICByZXZlcnNlOiBmdW5jdGlvbiByZXZlcnNlKCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtYXNzaWduIC0tIGRpcnR5IGhhY2tcbiAgICAgIGlmIChpc0FycmF5KHRoaXMpKSB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIHVuJFJldmVyc2UodGhpcyk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZW50cnlWaXJ0dWFsJGIgPSBlbnRyeVZpcnR1YWwkaztcbiAgdmFyIHJldmVyc2UkMyA9IGVudHJ5VmlydHVhbCRiKCdBcnJheScpLnJldmVyc2U7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkOCA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkNiA9IHJldmVyc2UkMztcbiAgdmFyIEFycmF5UHJvdG90eXBlJDYgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIHJldmVyc2UkMiA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5yZXZlcnNlO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUkNiB8fCBpc1Byb3RvdHlwZU9mJDgoQXJyYXlQcm90b3R5cGUkNiwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkNi5yZXZlcnNlID8gbWV0aG9kJDYgOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRuID0gcmV2ZXJzZSQyO1xuICB2YXIgcmV2ZXJzZSQxID0gcGFyZW50JG47XG5cbiAgdmFyIHJldmVyc2UgPSByZXZlcnNlJDE7XG5cbiAgdmFyICQkaSA9IF9leHBvcnQ7XG4gIHZhciBnbG9iYWwkYSA9IGdsb2JhbCRNO1xuICB2YXIgdG9BYnNvbHV0ZUluZGV4JDEgPSB0b0Fic29sdXRlSW5kZXgkNTtcbiAgdmFyIHRvSW50ZWdlck9ySW5maW5pdHkgPSB0b0ludGVnZXJPckluZmluaXR5JDQ7XG4gIHZhciBsZW5ndGhPZkFycmF5TGlrZSQzID0gbGVuZ3RoT2ZBcnJheUxpa2UkZDtcbiAgdmFyIHRvT2JqZWN0JDQgPSB0b09iamVjdCRlO1xuICB2YXIgYXJyYXlTcGVjaWVzQ3JlYXRlID0gYXJyYXlTcGVjaWVzQ3JlYXRlJDQ7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eSA9IGNyZWF0ZVByb3BlcnR5JDY7XG4gIHZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0ID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQ1O1xuICB2YXIgSEFTX1NQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQoJ3NwbGljZScpO1xuICB2YXIgVHlwZUVycm9yJDYgPSBnbG9iYWwkYS5UeXBlRXJyb3I7XG4gIHZhciBtYXggPSBNYXRoLm1heDtcbiAgdmFyIG1pbiA9IE1hdGgubWluO1xuICB2YXIgTUFYX1NBRkVfSU5URUdFUiA9IDB4MUZGRkZGRkZGRkZGRkY7XG4gIHZhciBNQVhJTVVNX0FMTE9XRURfTEVOR1RIX0VYQ0VFREVEID0gJ01heGltdW0gYWxsb3dlZCBsZW5ndGggZXhjZWVkZWQnOyAvLyBgQXJyYXkucHJvdG90eXBlLnNwbGljZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNwbGljZVxuICAvLyB3aXRoIGFkZGluZyBzdXBwb3J0IG9mIEBAc3BlY2llc1xuXG4gICQkaSh7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHByb3RvOiB0cnVlLFxuICAgIGZvcmNlZDogIUhBU19TUEVDSUVTX1NVUFBPUlRcbiAgfSwge1xuICAgIHNwbGljZTogZnVuY3Rpb24gc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudFxuICAgIC8qICwgLi4uaXRlbXMgKi9cbiAgICApIHtcbiAgICAgIHZhciBPID0gdG9PYmplY3QkNCh0aGlzKTtcbiAgICAgIHZhciBsZW4gPSBsZW5ndGhPZkFycmF5TGlrZSQzKE8pO1xuICAgICAgdmFyIGFjdHVhbFN0YXJ0ID0gdG9BYnNvbHV0ZUluZGV4JDEoc3RhcnQsIGxlbik7XG4gICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIHZhciBpbnNlcnRDb3VudCwgYWN0dWFsRGVsZXRlQ291bnQsIEEsIGssIGZyb20sIHRvO1xuXG4gICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGluc2VydENvdW50ID0gYWN0dWFsRGVsZXRlQ291bnQgPSAwO1xuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgaW5zZXJ0Q291bnQgPSAwO1xuICAgICAgICBhY3R1YWxEZWxldGVDb3VudCA9IGxlbiAtIGFjdHVhbFN0YXJ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zZXJ0Q291bnQgPSBhcmd1bWVudHNMZW5ndGggLSAyO1xuICAgICAgICBhY3R1YWxEZWxldGVDb3VudCA9IG1pbihtYXgodG9JbnRlZ2VyT3JJbmZpbml0eShkZWxldGVDb3VudCksIDApLCBsZW4gLSBhY3R1YWxTdGFydCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsZW4gKyBpbnNlcnRDb3VudCAtIGFjdHVhbERlbGV0ZUNvdW50ID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IkNihNQVhJTVVNX0FMTE9XRURfTEVOR1RIX0VYQ0VFREVEKTtcbiAgICAgIH1cblxuICAgICAgQSA9IGFycmF5U3BlY2llc0NyZWF0ZShPLCBhY3R1YWxEZWxldGVDb3VudCk7XG5cbiAgICAgIGZvciAoayA9IDA7IGsgPCBhY3R1YWxEZWxldGVDb3VudDsgaysrKSB7XG4gICAgICAgIGZyb20gPSBhY3R1YWxTdGFydCArIGs7XG4gICAgICAgIGlmIChmcm9tIGluIE8pIGNyZWF0ZVByb3BlcnR5KEEsIGssIE9bZnJvbV0pO1xuICAgICAgfVxuXG4gICAgICBBLmxlbmd0aCA9IGFjdHVhbERlbGV0ZUNvdW50O1xuXG4gICAgICBpZiAoaW5zZXJ0Q291bnQgPCBhY3R1YWxEZWxldGVDb3VudCkge1xuICAgICAgICBmb3IgKGsgPSBhY3R1YWxTdGFydDsgayA8IGxlbiAtIGFjdHVhbERlbGV0ZUNvdW50OyBrKyspIHtcbiAgICAgICAgICBmcm9tID0gayArIGFjdHVhbERlbGV0ZUNvdW50O1xuICAgICAgICAgIHRvID0gayArIGluc2VydENvdW50O1xuICAgICAgICAgIGlmIChmcm9tIGluIE8pIE9bdG9dID0gT1tmcm9tXTtlbHNlIGRlbGV0ZSBPW3RvXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoayA9IGxlbjsgayA+IGxlbiAtIGFjdHVhbERlbGV0ZUNvdW50ICsgaW5zZXJ0Q291bnQ7IGstLSkgZGVsZXRlIE9bayAtIDFdO1xuICAgICAgfSBlbHNlIGlmIChpbnNlcnRDb3VudCA+IGFjdHVhbERlbGV0ZUNvdW50KSB7XG4gICAgICAgIGZvciAoayA9IGxlbiAtIGFjdHVhbERlbGV0ZUNvdW50OyBrID4gYWN0dWFsU3RhcnQ7IGstLSkge1xuICAgICAgICAgIGZyb20gPSBrICsgYWN0dWFsRGVsZXRlQ291bnQgLSAxO1xuICAgICAgICAgIHRvID0gayArIGluc2VydENvdW50IC0gMTtcbiAgICAgICAgICBpZiAoZnJvbSBpbiBPKSBPW3RvXSA9IE9bZnJvbV07ZWxzZSBkZWxldGUgT1t0b107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChrID0gMDsgayA8IGluc2VydENvdW50OyBrKyspIHtcbiAgICAgICAgT1trICsgYWN0dWFsU3RhcnRdID0gYXJndW1lbnRzW2sgKyAyXTtcbiAgICAgIH1cblxuICAgICAgTy5sZW5ndGggPSBsZW4gLSBhY3R1YWxEZWxldGVDb3VudCArIGluc2VydENvdW50O1xuICAgICAgcmV0dXJuIEE7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZW50cnlWaXJ0dWFsJGEgPSBlbnRyeVZpcnR1YWwkaztcbiAgdmFyIHNwbGljZSQzID0gZW50cnlWaXJ0dWFsJGEoJ0FycmF5Jykuc3BsaWNlO1xuXG4gIHZhciBpc1Byb3RvdHlwZU9mJDcgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJDUgPSBzcGxpY2UkMztcbiAgdmFyIEFycmF5UHJvdG90eXBlJDUgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIHNwbGljZSQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LnNwbGljZTtcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJDUgfHwgaXNQcm90b3R5cGVPZiQ3KEFycmF5UHJvdG90eXBlJDUsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDUuc3BsaWNlID8gbWV0aG9kJDUgOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRtID0gc3BsaWNlJDI7XG4gIHZhciBzcGxpY2UkMSA9IHBhcmVudCRtO1xuXG4gIHZhciBzcGxpY2UgPSBzcGxpY2UkMTtcblxuICB2YXIgREVTQ1JJUFRPUlMkNSA9IGRlc2NyaXB0b3JzO1xuICB2YXIgdW5jdXJyeVRoaXMkOCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBjYWxsJDEgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBmYWlscyRhID0gZmFpbHMkcjtcbiAgdmFyIG9iamVjdEtleXMkMSA9IG9iamVjdEtleXMkNDtcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scztcbiAgdmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHZhciB0b09iamVjdCQzID0gdG9PYmplY3QkZTtcbiAgdmFyIEluZGV4ZWRPYmplY3QgPSBpbmRleGVkT2JqZWN0OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWFzc2lnbiAtLSBzYWZlXG5cbiAgdmFyICRhc3NpZ24gPSBPYmplY3QuYXNzaWduOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG5cbiAgdmFyIGRlZmluZVByb3BlcnR5JDMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4gIHZhciBjb25jYXQgPSB1bmN1cnJ5VGhpcyQ4KFtdLmNvbmNhdCk7IC8vIGBPYmplY3QuYXNzaWduYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuYXNzaWduXG5cbiAgdmFyIG9iamVjdEFzc2lnbiA9ICEkYXNzaWduIHx8IGZhaWxzJGEoZnVuY3Rpb24gKCkge1xuICAgIC8vIHNob3VsZCBoYXZlIGNvcnJlY3Qgb3JkZXIgb2Ygb3BlcmF0aW9ucyAoRWRnZSBidWcpXG4gICAgaWYgKERFU0NSSVBUT1JTJDUgJiYgJGFzc2lnbih7XG4gICAgICBiOiAxXG4gICAgfSwgJGFzc2lnbihkZWZpbmVQcm9wZXJ0eSQzKHt9LCAnYScsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkkMyh0aGlzLCAnYicsIHtcbiAgICAgICAgICB2YWx1ZTogMyxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSwge1xuICAgICAgYjogMlxuICAgIH0pKS5iICE9PSAxKSByZXR1cm4gdHJ1ZTsgLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5cbiAgICB2YXIgQSA9IHt9O1xuICAgIHZhciBCID0ge307IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1zeW1ib2wgLS0gc2FmZVxuXG4gICAgdmFyIHN5bWJvbCA9IFN5bWJvbCgpO1xuICAgIHZhciBhbHBoYWJldCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gICAgQVtzeW1ib2xdID0gNztcbiAgICBhbHBoYWJldC5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoY2hyKSB7XG4gICAgICBCW2Nocl0gPSBjaHI7XG4gICAgfSk7XG4gICAgcmV0dXJuICRhc3NpZ24oe30sIEEpW3N5bWJvbF0gIT0gNyB8fCBvYmplY3RLZXlzJDEoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IGFscGhhYmV0O1xuICB9KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICAgIHZhciBUID0gdG9PYmplY3QkMyh0YXJnZXQpO1xuICAgIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBpbmRleCA9IDE7XG4gICAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICAgIHZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmY7XG5cbiAgICB3aGlsZSAoYXJndW1lbnRzTGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhciBTID0gSW5kZXhlZE9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pO1xuICAgICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyBjb25jYXQob2JqZWN0S2V5cyQxKFMpLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoUykpIDogb2JqZWN0S2V5cyQxKFMpO1xuICAgICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgdmFyIGogPSAwO1xuICAgICAgdmFyIGtleTtcblxuICAgICAgd2hpbGUgKGxlbmd0aCA+IGopIHtcbiAgICAgICAga2V5ID0ga2V5c1tqKytdO1xuICAgICAgICBpZiAoIURFU0NSSVBUT1JTJDUgfHwgY2FsbCQxKHByb3BlcnR5SXNFbnVtZXJhYmxlLCBTLCBrZXkpKSBUW2tleV0gPSBTW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFQ7XG4gIH0gOiAkYXNzaWduO1xuXG4gIHZhciAkJGggPSBfZXhwb3J0O1xuICB2YXIgYXNzaWduJDUgPSBvYmplY3RBc3NpZ247IC8vIGBPYmplY3QuYXNzaWduYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuYXNzaWduXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtYXNzaWduIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG5cbiAgJCRoKHtcbiAgICB0YXJnZXQ6ICdPYmplY3QnLFxuICAgIHN0YXQ6IHRydWUsXG4gICAgZm9yY2VkOiBPYmplY3QuYXNzaWduICE9PSBhc3NpZ24kNVxuICB9LCB7XG4gICAgYXNzaWduOiBhc3NpZ24kNVxuICB9KTtcblxuICB2YXIgcGF0aCRhID0gcGF0aCRxO1xuICB2YXIgYXNzaWduJDQgPSBwYXRoJGEuT2JqZWN0LmFzc2lnbjtcblxuICB2YXIgcGFyZW50JGwgPSBhc3NpZ24kNDtcbiAgdmFyIGFzc2lnbiQzID0gcGFyZW50JGw7XG5cbiAgdmFyIGFzc2lnbiQyID0gYXNzaWduJDM7XG5cbiAgdmFyICQkZyA9IF9leHBvcnQ7XG4gIHZhciAkaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLmluY2x1ZGVzO1xuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuXG4gICQkZyh7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHByb3RvOiB0cnVlXG4gIH0sIHtcbiAgICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoZWxcbiAgICAvKiAsIGZyb21JbmRleCA9IDAgKi9cbiAgICApIHtcbiAgICAgIHJldHVybiAkaW5jbHVkZXModGhpcywgZWwsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0pOyAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5cbiAgdmFyIGVudHJ5VmlydHVhbCQ5ID0gZW50cnlWaXJ0dWFsJGs7XG4gIGVudHJ5VmlydHVhbCQ5KCdBcnJheScpLmluY2x1ZGVzO1xuXG4gIHZhciBpc09iamVjdCQ0ID0gaXNPYmplY3QkZjtcbiAgdmFyIGNsYXNzb2YkNCA9IGNsYXNzb2ZSYXckMTtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCQyID0gd2VsbEtub3duU3ltYm9sJGo7XG4gIHZhciBNQVRDSCQxID0gd2VsbEtub3duU3ltYm9sJDIoJ21hdGNoJyk7IC8vIGBJc1JlZ0V4cGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNyZWdleHBcblxuICB2YXIgaXNSZWdleHAgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgaXNSZWdFeHA7XG4gICAgcmV0dXJuIGlzT2JqZWN0JDQoaXQpICYmICgoaXNSZWdFeHAgPSBpdFtNQVRDSCQxXSkgIT09IHVuZGVmaW5lZCA/ICEhaXNSZWdFeHAgOiBjbGFzc29mJDQoaXQpID09ICdSZWdFeHAnKTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJDkgPSBnbG9iYWwkTTtcbiAgdmFyIGlzUmVnRXhwID0gaXNSZWdleHA7XG4gIHZhciBUeXBlRXJyb3IkNSA9IGdsb2JhbCQ5LlR5cGVFcnJvcjtcblxuICB2YXIgbm90QVJlZ2V4cCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIGlmIChpc1JlZ0V4cChpdCkpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvciQ1KFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBpdDtcbiAgfTtcblxuICB2YXIgd2VsbEtub3duU3ltYm9sJDEgPSB3ZWxsS25vd25TeW1ib2wkajtcbiAgdmFyIE1BVENIID0gd2VsbEtub3duU3ltYm9sJDEoJ21hdGNoJyk7XG5cbiAgdmFyIGNvcnJlY3RJc1JlZ2V4cExvZ2ljID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FKSB7XG4gICAgdmFyIHJlZ2V4cCA9IC8uLztcblxuICAgIHRyeSB7XG4gICAgICAnLy4vJ1tNRVRIT0RfTkFNRV0ocmVnZXhwKTtcbiAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlZ2V4cFtNQVRDSF0gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuICcvLi8nW01FVEhPRF9OQU1FXShyZWdleHApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIC8qIGVtcHR5ICovXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciAkJGYgPSBfZXhwb3J0O1xuICB2YXIgdW5jdXJyeVRoaXMkNyA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBub3RBUmVnRXhwID0gbm90QVJlZ2V4cDtcbiAgdmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUkMSA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUkNTtcbiAgdmFyIHRvU3RyaW5nJDMgPSB0b1N0cmluZyQ3O1xuICB2YXIgY29ycmVjdElzUmVnRXhwTG9naWMgPSBjb3JyZWN0SXNSZWdleHBMb2dpYztcbiAgdmFyIHN0cmluZ0luZGV4T2YgPSB1bmN1cnJ5VGhpcyQ3KCcnLmluZGV4T2YpOyAvLyBgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1xuXG4gICQkZih7XG4gICAgdGFyZ2V0OiAnU3RyaW5nJyxcbiAgICBwcm90bzogdHJ1ZSxcbiAgICBmb3JjZWQ6ICFjb3JyZWN0SXNSZWdFeHBMb2dpYygnaW5jbHVkZXMnKVxuICB9LCB7XG4gICAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFN0cmluZ1xuICAgIC8qICwgcG9zaXRpb24gPSAwICovXG4gICAgKSB7XG4gICAgICByZXR1cm4gISF+c3RyaW5nSW5kZXhPZih0b1N0cmluZyQzKHJlcXVpcmVPYmplY3RDb2VyY2libGUkMSh0aGlzKSksIHRvU3RyaW5nJDMobm90QVJlZ0V4cChzZWFyY2hTdHJpbmcpKSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGVudHJ5VmlydHVhbCQ4ID0gZW50cnlWaXJ0dWFsJGs7XG4gIGVudHJ5VmlydHVhbCQ4KCdTdHJpbmcnKS5pbmNsdWRlcztcblxuICB2YXIgJCRlID0gX2V4cG9ydDtcbiAgdmFyIGZhaWxzJDkgPSBmYWlscyRyO1xuICB2YXIgdG9PYmplY3QkMiA9IHRvT2JqZWN0JGU7XG4gIHZhciBuYXRpdmVHZXRQcm90b3R5cGVPZiA9IG9iamVjdEdldFByb3RvdHlwZU9mO1xuICB2YXIgQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSID0gY29ycmVjdFByb3RvdHlwZUdldHRlcjtcbiAgdmFyIEZBSUxTX09OX1BSSU1JVElWRVMkMSA9IGZhaWxzJDkoZnVuY3Rpb24gKCkge1xuICAgIG5hdGl2ZUdldFByb3RvdHlwZU9mKDEpO1xuICB9KTsgLy8gYE9iamVjdC5nZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldHByb3RvdHlwZW9mXG5cbiAgJCRlKHtcbiAgICB0YXJnZXQ6ICdPYmplY3QnLFxuICAgIHN0YXQ6IHRydWUsXG4gICAgZm9yY2VkOiBGQUlMU19PTl9QUklNSVRJVkVTJDEsXG4gICAgc2hhbTogIUNPUlJFQ1RfUFJPVE9UWVBFX0dFVFRFUlxuICB9LCB7XG4gICAgZ2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKGl0KSB7XG4gICAgICByZXR1cm4gbmF0aXZlR2V0UHJvdG90eXBlT2YodG9PYmplY3QkMihpdCkpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHBhdGgkOSA9IHBhdGgkcTtcbiAgdmFyIGdldFByb3RvdHlwZU9mJDQgPSBwYXRoJDkuT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG4gIHZhciBwYXJlbnQkayA9IGdldFByb3RvdHlwZU9mJDQ7XG4gIHZhciBnZXRQcm90b3R5cGVPZiQzID0gcGFyZW50JGs7XG5cbiAgdmFyIERFU0NSSVBUT1JTJDQgPSBkZXNjcmlwdG9ycztcbiAgdmFyIHVuY3VycnlUaGlzJDYgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgb2JqZWN0S2V5cyA9IG9iamVjdEtleXMkNDtcbiAgdmFyIHRvSW5kZXhlZE9iamVjdCA9IHRvSW5kZXhlZE9iamVjdCRiO1xuICB2YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGUuZjtcbiAgdmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gdW5jdXJyeVRoaXMkNigkcHJvcGVydHlJc0VudW1lcmFibGUpO1xuICB2YXIgcHVzaCQyID0gdW5jdXJyeVRoaXMkNihbXS5wdXNoKTsgLy8gYE9iamVjdC57IGVudHJpZXMsIHZhbHVlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG5cbiAgdmFyIGNyZWF0ZU1ldGhvZCQxID0gZnVuY3Rpb24gKFRPX0VOVFJJRVMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdChpdCk7XG4gICAgICB2YXIga2V5cyA9IG9iamVjdEtleXMoTyk7XG4gICAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB2YXIga2V5O1xuXG4gICAgICB3aGlsZSAobGVuZ3RoID4gaSkge1xuICAgICAgICBrZXkgPSBrZXlzW2krK107XG5cbiAgICAgICAgaWYgKCFERVNDUklQVE9SUyQ0IHx8IHByb3BlcnR5SXNFbnVtZXJhYmxlKE8sIGtleSkpIHtcbiAgICAgICAgICBwdXNoJDIocmVzdWx0LCBUT19FTlRSSUVTID8gW2tleSwgT1trZXldXSA6IE9ba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBvYmplY3RUb0FycmF5ID0ge1xuICAgIC8vIGBPYmplY3QuZW50cmllc2AgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZW50cmllc1xuICAgIGVudHJpZXM6IGNyZWF0ZU1ldGhvZCQxKHRydWUpLFxuICAgIC8vIGBPYmplY3QudmFsdWVzYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC52YWx1ZXNcbiAgICB2YWx1ZXM6IGNyZWF0ZU1ldGhvZCQxKGZhbHNlKVxuICB9O1xuXG4gIHZhciAkJGQgPSBfZXhwb3J0O1xuICB2YXIgJHZhbHVlcyA9IG9iamVjdFRvQXJyYXkudmFsdWVzOyAvLyBgT2JqZWN0LnZhbHVlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnZhbHVlc1xuXG4gICQkZCh7XG4gICAgdGFyZ2V0OiAnT2JqZWN0JyxcbiAgICBzdGF0OiB0cnVlXG4gIH0sIHtcbiAgICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcyhPKSB7XG4gICAgICByZXR1cm4gJHZhbHVlcyhPKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBwYXRoJDggPSBwYXRoJHE7XG4gIHBhdGgkOC5PYmplY3QudmFsdWVzO1xuXG4gIHZhciB3aGl0ZXNwYWNlcyQzID0gJ1xcdTAwMDlcXHUwMDBBXFx1MDAwQlxcdTAwMENcXHUwMDBEXFx1MDAyMFxcdTAwQTBcXHUxNjgwXFx1MjAwMFxcdTIwMDFcXHUyMDAyJyArICdcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRic7XG5cbiAgdmFyIHVuY3VycnlUaGlzJDUgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUkNTtcbiAgdmFyIHRvU3RyaW5nJDIgPSB0b1N0cmluZyQ3O1xuICB2YXIgd2hpdGVzcGFjZXMkMiA9IHdoaXRlc3BhY2VzJDM7XG4gIHZhciByZXBsYWNlJDEgPSB1bmN1cnJ5VGhpcyQ1KCcnLnJlcGxhY2UpO1xuICB2YXIgd2hpdGVzcGFjZSA9ICdbJyArIHdoaXRlc3BhY2VzJDIgKyAnXSc7XG4gIHZhciBsdHJpbSA9IFJlZ0V4cCgnXicgKyB3aGl0ZXNwYWNlICsgd2hpdGVzcGFjZSArICcqJyk7XG4gIHZhciBydHJpbSA9IFJlZ0V4cCh3aGl0ZXNwYWNlICsgd2hpdGVzcGFjZSArICcqJCcpOyAvLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW0sIHRyaW1TdGFydCwgdHJpbUVuZCwgdHJpbUxlZnQsIHRyaW1SaWdodCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG5cbiAgdmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcykge1xuICAgICAgdmFyIHN0cmluZyA9IHRvU3RyaW5nJDIocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuICAgICAgaWYgKFRZUEUgJiAxKSBzdHJpbmcgPSByZXBsYWNlJDEoc3RyaW5nLCBsdHJpbSwgJycpO1xuICAgICAgaWYgKFRZUEUgJiAyKSBzdHJpbmcgPSByZXBsYWNlJDEoc3RyaW5nLCBydHJpbSwgJycpO1xuICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9O1xuICB9O1xuXG4gIHZhciBzdHJpbmdUcmltID0ge1xuICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLnsgdHJpbUxlZnQsIHRyaW1TdGFydCB9YCBtZXRob2RzXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1zdGFydFxuICAgIHN0YXJ0OiBjcmVhdGVNZXRob2QoMSksXG4gICAgLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltUmlnaHQsIHRyaW1FbmQgfWAgbWV0aG9kc1xuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltZW5kXG4gICAgZW5kOiBjcmVhdGVNZXRob2QoMiksXG4gICAgLy8gYFN0cmluZy5wcm90b3R5cGUudHJpbWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1cbiAgICB0cmltOiBjcmVhdGVNZXRob2QoMylcbiAgfTtcblxuICB2YXIgZ2xvYmFsJDggPSBnbG9iYWwkTTtcbiAgdmFyIGZhaWxzJDggPSBmYWlscyRyO1xuICB2YXIgdW5jdXJyeVRoaXMkNCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciB0b1N0cmluZyQxID0gdG9TdHJpbmckNztcbiAgdmFyIHRyaW0gPSBzdHJpbmdUcmltLnRyaW07XG4gIHZhciB3aGl0ZXNwYWNlcyQxID0gd2hpdGVzcGFjZXMkMztcbiAgdmFyICRwYXJzZUludCQxID0gZ2xvYmFsJDgucGFyc2VJbnQ7XG4gIHZhciBTeW1ib2wkMSA9IGdsb2JhbCQ4LlN5bWJvbDtcbiAgdmFyIElURVJBVE9SID0gU3ltYm9sJDEgJiYgU3ltYm9sJDEuaXRlcmF0b3I7XG4gIHZhciBoZXggPSAvXlsrLV0/MHgvaTtcbiAgdmFyIGV4ZWMkMSA9IHVuY3VycnlUaGlzJDQoaGV4LmV4ZWMpO1xuICB2YXIgRk9SQ0VEJDMgPSAkcGFyc2VJbnQkMSh3aGl0ZXNwYWNlcyQxICsgJzA4JykgIT09IDggfHwgJHBhcnNlSW50JDEod2hpdGVzcGFjZXMkMSArICcweDE2JykgIT09IDIyIC8vIE1TIEVkZ2UgMTgtIGJyb2tlbiB3aXRoIGJveGVkIHN5bWJvbHNcbiAgfHwgSVRFUkFUT1IgJiYgIWZhaWxzJDgoZnVuY3Rpb24gKCkge1xuICAgICRwYXJzZUludCQxKE9iamVjdChJVEVSQVRPUikpO1xuICB9KTsgLy8gYHBhcnNlSW50YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wYXJzZWludC1zdHJpbmctcmFkaXhcblxuICB2YXIgbnVtYmVyUGFyc2VJbnQgPSBGT1JDRUQkMyA/IGZ1bmN0aW9uIHBhcnNlSW50KHN0cmluZywgcmFkaXgpIHtcbiAgICB2YXIgUyA9IHRyaW0odG9TdHJpbmckMShzdHJpbmcpKTtcbiAgICByZXR1cm4gJHBhcnNlSW50JDEoUywgcmFkaXggPj4+IDAgfHwgKGV4ZWMkMShoZXgsIFMpID8gMTYgOiAxMCkpO1xuICB9IDogJHBhcnNlSW50JDE7XG5cbiAgdmFyICQkYyA9IF9leHBvcnQ7XG4gIHZhciAkcGFyc2VJbnQgPSBudW1iZXJQYXJzZUludDsgLy8gYHBhcnNlSW50YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wYXJzZWludC1zdHJpbmctcmFkaXhcblxuICAkJGMoe1xuICAgIGdsb2JhbDogdHJ1ZSxcbiAgICBmb3JjZWQ6IHBhcnNlSW50ICE9ICRwYXJzZUludFxuICB9LCB7XG4gICAgcGFyc2VJbnQ6ICRwYXJzZUludFxuICB9KTtcblxuICB2YXIgcGF0aCQ3ID0gcGF0aCRxO1xuICBwYXRoJDcucGFyc2VJbnQ7XG5cbiAgLyogZXNsaW50LWRpc2FibGUgZXMvbm8tYXJyYXktcHJvdG90eXBlLWluZGV4b2YgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cblxuXG4gIHZhciAkJGIgPSBfZXhwb3J0O1xuICB2YXIgdW5jdXJyeVRoaXMkMyA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciAkSW5kZXhPZiA9IGFycmF5SW5jbHVkZXMuaW5kZXhPZjtcbiAgdmFyIGFycmF5TWV0aG9kSXNTdHJpY3QkMiA9IGFycmF5TWV0aG9kSXNTdHJpY3QkNTtcbiAgdmFyIHVuJEluZGV4T2YgPSB1bmN1cnJ5VGhpcyQzKFtdLmluZGV4T2YpO1xuICB2YXIgTkVHQVRJVkVfWkVSTyA9ICEhdW4kSW5kZXhPZiAmJiAxIC8gdW4kSW5kZXhPZihbMV0sIDEsIC0wKSA8IDA7XG4gIHZhciBTVFJJQ1RfTUVUSE9EJDIgPSBhcnJheU1ldGhvZElzU3RyaWN0JDIoJ2luZGV4T2YnKTsgLy8gYEFycmF5LnByb3RvdHlwZS5pbmRleE9mYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5kZXhvZlxuXG4gICQkYih7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHByb3RvOiB0cnVlLFxuICAgIGZvcmNlZDogTkVHQVRJVkVfWkVSTyB8fCAhU1RSSUNUX01FVEhPRCQyXG4gIH0sIHtcbiAgICBpbmRleE9mOiBmdW5jdGlvbiBpbmRleE9mKHNlYXJjaEVsZW1lbnRcbiAgICAvKiAsIGZyb21JbmRleCA9IDAgKi9cbiAgICApIHtcbiAgICAgIHZhciBmcm9tSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBORUdBVElWRV9aRVJPIC8vIGNvbnZlcnQgLTAgdG8gKzBcbiAgICAgID8gdW4kSW5kZXhPZih0aGlzLCBzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHx8IDAgOiAkSW5kZXhPZih0aGlzLCBzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGVudHJ5VmlydHVhbCQ3ID0gZW50cnlWaXJ0dWFsJGs7XG4gIGVudHJ5VmlydHVhbCQ3KCdBcnJheScpLmluZGV4T2Y7XG5cbiAgdmFyIFBST1BFUl9GVU5DVElPTl9OQU1FID0gZnVuY3Rpb25OYW1lLlBST1BFUjtcbiAgdmFyIGZhaWxzJDcgPSBmYWlscyRyO1xuICB2YXIgd2hpdGVzcGFjZXMgPSB3aGl0ZXNwYWNlcyQzO1xuICB2YXIgbm9uID0gJ1xcdTIwMEJcXHUwMDg1XFx1MTgwRSc7IC8vIGNoZWNrIHRoYXQgYSBtZXRob2Qgd29ya3Mgd2l0aCB0aGUgY29ycmVjdCBsaXN0XG4gIC8vIG9mIHdoaXRlc3BhY2VzIGFuZCBoYXMgYSBjb3JyZWN0IG5hbWVcblxuICB2YXIgc3RyaW5nVHJpbUZvcmNlZCA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICAgIHJldHVybiBmYWlscyQ3KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhIXdoaXRlc3BhY2VzW01FVEhPRF9OQU1FXSgpIHx8IG5vbltNRVRIT0RfTkFNRV0oKSAhPT0gbm9uIHx8IFBST1BFUl9GVU5DVElPTl9OQU1FICYmIHdoaXRlc3BhY2VzW01FVEhPRF9OQU1FXS5uYW1lICE9PSBNRVRIT0RfTkFNRTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgJCRhID0gX2V4cG9ydDtcbiAgdmFyICR0cmltID0gc3RyaW5nVHJpbS50cmltO1xuICB2YXIgZm9yY2VkU3RyaW5nVHJpbU1ldGhvZCA9IHN0cmluZ1RyaW1Gb3JjZWQ7IC8vIGBTdHJpbmcucHJvdG90eXBlLnRyaW1gIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbVxuXG4gICQkYSh7XG4gICAgdGFyZ2V0OiAnU3RyaW5nJyxcbiAgICBwcm90bzogdHJ1ZSxcbiAgICBmb3JjZWQ6IGZvcmNlZFN0cmluZ1RyaW1NZXRob2QoJ3RyaW0nKVxuICB9LCB7XG4gICAgdHJpbTogZnVuY3Rpb24gdHJpbSgpIHtcbiAgICAgIHJldHVybiAkdHJpbSh0aGlzKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBlbnRyeVZpcnR1YWwkNiA9IGVudHJ5VmlydHVhbCRrO1xuICBlbnRyeVZpcnR1YWwkNignU3RyaW5nJykudHJpbTtcblxuICB2YXIgJCQ5ID0gX2V4cG9ydDtcbiAgdmFyIERFU0NSSVBUT1JTJDMgPSBkZXNjcmlwdG9ycztcbiAgdmFyIGNyZWF0ZSQ4ID0gb2JqZWN0Q3JlYXRlOyAvLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuXG4gICQkOSh7XG4gICAgdGFyZ2V0OiAnT2JqZWN0JyxcbiAgICBzdGF0OiB0cnVlLFxuICAgIHNoYW06ICFERVNDUklQVE9SUyQzXG4gIH0sIHtcbiAgICBjcmVhdGU6IGNyZWF0ZSQ4XG4gIH0pO1xuXG4gIHZhciBwYXRoJDYgPSBwYXRoJHE7XG4gIHZhciBPYmplY3QkMSA9IHBhdGgkNi5PYmplY3Q7XG5cbiAgdmFyIGNyZWF0ZSQ3ID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpIHtcbiAgICByZXR1cm4gT2JqZWN0JDEuY3JlYXRlKFAsIEQpO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkaiA9IGNyZWF0ZSQ3O1xuICB2YXIgY3JlYXRlJDYgPSBwYXJlbnQkajtcblxuICB2YXIgY3JlYXRlJDUgPSBjcmVhdGUkNjtcblxuICB2YXIgJCQ4ID0gX2V4cG9ydDtcbiAgdmFyIGdsb2JhbCQ3ID0gZ2xvYmFsJE07XG4gIHZhciBnZXRCdWlsdEluJDIgPSBnZXRCdWlsdEluJDk7XG4gIHZhciBhcHBseSQzID0gZnVuY3Rpb25BcHBseTtcbiAgdmFyIHVuY3VycnlUaGlzJDIgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgZmFpbHMkNiA9IGZhaWxzJHI7XG4gIHZhciBBcnJheSQxID0gZ2xvYmFsJDcuQXJyYXk7XG4gIHZhciAkc3RyaW5naWZ5ID0gZ2V0QnVpbHRJbiQyKCdKU09OJywgJ3N0cmluZ2lmeScpO1xuICB2YXIgZXhlYyA9IHVuY3VycnlUaGlzJDIoLy4vLmV4ZWMpO1xuICB2YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMkMignJy5jaGFyQXQpO1xuICB2YXIgY2hhckNvZGVBdCA9IHVuY3VycnlUaGlzJDIoJycuY2hhckNvZGVBdCk7XG4gIHZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMkMignJy5yZXBsYWNlKTtcbiAgdmFyIG51bWJlclRvU3RyaW5nID0gdW5jdXJyeVRoaXMkMigxLjAudG9TdHJpbmcpO1xuICB2YXIgdGVzdGVyID0gL1tcXHVEODAwLVxcdURGRkZdL2c7XG4gIHZhciBsb3cgPSAvXltcXHVEODAwLVxcdURCRkZdJC87XG4gIHZhciBoaSA9IC9eW1xcdURDMDAtXFx1REZGRl0kLztcblxuICB2YXIgZml4ID0gZnVuY3Rpb24gKG1hdGNoLCBvZmZzZXQsIHN0cmluZykge1xuICAgIHZhciBwcmV2ID0gY2hhckF0KHN0cmluZywgb2Zmc2V0IC0gMSk7XG4gICAgdmFyIG5leHQgPSBjaGFyQXQoc3RyaW5nLCBvZmZzZXQgKyAxKTtcblxuICAgIGlmIChleGVjKGxvdywgbWF0Y2gpICYmICFleGVjKGhpLCBuZXh0KSB8fCBleGVjKGhpLCBtYXRjaCkgJiYgIWV4ZWMobG93LCBwcmV2KSkge1xuICAgICAgcmV0dXJuICdcXFxcdScgKyBudW1iZXJUb1N0cmluZyhjaGFyQ29kZUF0KG1hdGNoLCAwKSwgMTYpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaDtcbiAgfTtcblxuICB2YXIgRk9SQ0VEJDIgPSBmYWlscyQ2KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJHN0cmluZ2lmeSgnXFx1REYwNlxcdUQ4MzQnKSAhPT0gJ1wiXFxcXHVkZjA2XFxcXHVkODM0XCInIHx8ICRzdHJpbmdpZnkoJ1xcdURFQUQnKSAhPT0gJ1wiXFxcXHVkZWFkXCInO1xuICB9KTtcblxuICBpZiAoJHN0cmluZ2lmeSkge1xuICAgIC8vIGBKU09OLnN0cmluZ2lmeWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1qc29uLnN0cmluZ2lmeVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXdlbGwtZm9ybWVkLXN0cmluZ2lmeVxuICAgICQkOCh7XG4gICAgICB0YXJnZXQ6ICdKU09OJyxcbiAgICAgIHN0YXQ6IHRydWUsXG4gICAgICBmb3JjZWQ6IEZPUkNFRCQyXG4gICAgfSwge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbiAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0LCByZXBsYWNlciwgc3BhY2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkkMShsKTsgaSA8IGw7IGkrKykgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gYXBwbHkkMygkc3RyaW5naWZ5LCBudWxsLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiByZXN1bHQgPT0gJ3N0cmluZycgPyByZXBsYWNlKHJlc3VsdCwgdGVzdGVyLCBmaXgpIDogcmVzdWx0O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHBhdGgkNSA9IHBhdGgkcTtcbiAgdmFyIGFwcGx5JDIgPSBmdW5jdGlvbkFwcGx5OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tanNvbiAtLSBzYWZlXG5cbiAgaWYgKCFwYXRoJDUuSlNPTikgcGF0aCQ1LkpTT04gPSB7XG4gICAgc3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeVxuICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuXG4gIHZhciBzdHJpbmdpZnkkMyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCwgcmVwbGFjZXIsIHNwYWNlKSB7XG4gICAgcmV0dXJuIGFwcGx5JDIocGF0aCQ1LkpTT04uc3RyaW5naWZ5LCBudWxsLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkaSA9IHN0cmluZ2lmeSQzO1xuICB2YXIgc3RyaW5naWZ5JDIgPSBwYXJlbnQkaTtcblxuICB2YXIgc3RyaW5naWZ5JDEgPSBzdHJpbmdpZnkkMjtcblxuICB2YXIgZ2xvYmFsJDYgPSBnbG9iYWwkTTtcbiAgdmFyIFR5cGVFcnJvciQ0ID0gZ2xvYmFsJDYuVHlwZUVycm9yO1xuXG4gIHZhciB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aCQxID0gZnVuY3Rpb24gKHBhc3NlZCwgcmVxdWlyZWQpIHtcbiAgICBpZiAocGFzc2VkIDwgcmVxdWlyZWQpIHRocm93IFR5cGVFcnJvciQ0KCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuICAgIHJldHVybiBwYXNzZWQ7XG4gIH07XG5cbiAgdmFyICQkNyA9IF9leHBvcnQ7XG4gIHZhciBnbG9iYWwkNSA9IGdsb2JhbCRNO1xuICB2YXIgYXBwbHkkMSA9IGZ1bmN0aW9uQXBwbHk7XG4gIHZhciBpc0NhbGxhYmxlJDEgPSBpc0NhbGxhYmxlJGg7XG4gIHZhciB1c2VyQWdlbnQkMiA9IGVuZ2luZVVzZXJBZ2VudDtcbiAgdmFyIGFycmF5U2xpY2UkMSA9IGFycmF5U2xpY2UkNTtcbiAgdmFyIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoID0gdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgkMTtcbiAgdmFyIE1TSUUgPSAvTVNJRSAuXFwuLy50ZXN0KHVzZXJBZ2VudCQyKTsgLy8gPC0gZGlydHkgaWU5LSBjaGVja1xuXG4gIHZhciBGdW5jdGlvbiQxID0gZ2xvYmFsJDUuRnVuY3Rpb247XG5cbiAgdmFyIHdyYXAgPSBmdW5jdGlvbiAoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChoYW5kbGVyLCB0aW1lb3V0XG4gICAgLyogLCAuLi5hcmd1bWVudHMgKi9cbiAgICApIHtcbiAgICAgIHZhciBib3VuZEFyZ3MgPSB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKSA+IDI7XG4gICAgICB2YXIgZm4gPSBpc0NhbGxhYmxlJDEoaGFuZGxlcikgPyBoYW5kbGVyIDogRnVuY3Rpb24kMShoYW5kbGVyKTtcbiAgICAgIHZhciBhcmdzID0gYm91bmRBcmdzID8gYXJyYXlTbGljZSQxKGFyZ3VtZW50cywgMikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gc2NoZWR1bGVyKGJvdW5kQXJncyA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXBwbHkkMShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9IDogZm4sIHRpbWVvdXQpO1xuICAgIH07XG4gIH07IC8vIGllOS0gc2V0VGltZW91dCAmIHNldEludGVydmFsIGFkZGl0aW9uYWwgcGFyYW1ldGVycyBmaXhcbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvdGltZXJzLWFuZC11c2VyLXByb21wdHMuaHRtbCN0aW1lcnNcblxuXG4gICQkNyh7XG4gICAgZ2xvYmFsOiB0cnVlLFxuICAgIGJpbmQ6IHRydWUsXG4gICAgZm9yY2VkOiBNU0lFXG4gIH0sIHtcbiAgICAvLyBgc2V0VGltZW91dGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvdGltZXJzLWFuZC11c2VyLXByb21wdHMuaHRtbCNkb20tc2V0dGltZW91dFxuICAgIHNldFRpbWVvdXQ6IHdyYXAoZ2xvYmFsJDUuc2V0VGltZW91dCksXG4gICAgLy8gYHNldEludGVydmFsYCBtZXRob2RcbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS90aW1lcnMtYW5kLXVzZXItcHJvbXB0cy5odG1sI2RvbS1zZXRpbnRlcnZhbFxuICAgIHNldEludGVydmFsOiB3cmFwKGdsb2JhbCQ1LnNldEludGVydmFsKVxuICB9KTtcblxuICB2YXIgcGF0aCQ0ID0gcGF0aCRxO1xuICB2YXIgc2V0VGltZW91dCQyID0gcGF0aCQ0LnNldFRpbWVvdXQ7XG5cbiAgdmFyIHNldFRpbWVvdXQkMSA9IHNldFRpbWVvdXQkMjtcblxuICB2YXIgdG9PYmplY3QkMSA9IHRvT2JqZWN0JGU7XG4gIHZhciB0b0Fic29sdXRlSW5kZXggPSB0b0Fic29sdXRlSW5kZXgkNTtcbiAgdmFyIGxlbmd0aE9mQXJyYXlMaWtlJDIgPSBsZW5ndGhPZkFycmF5TGlrZSRkOyAvLyBgQXJyYXkucHJvdG90eXBlLmZpbGxgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maWxsXG5cbiAgdmFyIGFycmF5RmlsbCA9IGZ1bmN0aW9uIGZpbGwodmFsdWVcbiAgLyogLCBzdGFydCA9IDAsIGVuZCA9IEBsZW5ndGggKi9cbiAgKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdCQxKHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQyKE8pO1xuICAgIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChhcmd1bWVudHNMZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkLCBsZW5ndGgpO1xuICAgIHZhciBlbmQgPSBhcmd1bWVudHNMZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICAgIHZhciBlbmRQb3MgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvQWJzb2x1dGVJbmRleChlbmQsIGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoZW5kUG9zID4gaW5kZXgpIE9baW5kZXgrK10gPSB2YWx1ZTtcblxuICAgIHJldHVybiBPO1xuICB9O1xuXG4gIHZhciAkJDYgPSBfZXhwb3J0O1xuICB2YXIgZmlsbCA9IGFycmF5RmlsbDtcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsbFxuXG4gICQkNih7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHByb3RvOiB0cnVlXG4gIH0sIHtcbiAgICBmaWxsOiBmaWxsXG4gIH0pOyAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5cbiAgdmFyIGVudHJ5VmlydHVhbCQ1ID0gZW50cnlWaXJ0dWFsJGs7XG4gIGVudHJ5VmlydHVhbCQ1KCdBcnJheScpLmZpbGw7XG5cbiAgdmFyIGNvbXBvbmVudEVtaXR0ZXIgPSB7ZXhwb3J0czoge319O1xuXG4gIChmdW5jdGlvbiAobW9kdWxlKSB7XG4gICAgLyoqXHJcbiAgICAgKiBFeHBvc2UgYEVtaXR0ZXJgLlxyXG4gICAgICovXG4gICAge1xuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxyXG4gICAgICpcclxuICAgICAqIEBhcGkgcHVibGljXHJcbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcbiAgICAgIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9ialxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICogQGFwaSBwcml2YXRlXHJcbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIG1peGluKG9iaikge1xuICAgICAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XG4gICAgICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICAgICAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAgICAgKiBAYXBpIHB1YmxpY1xyXG4gICAgICovXG5cblxuICAgIEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcbiAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgICAgICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSkucHVzaChmbik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxyXG4gICAgICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlXHJcbiAgICAgKiB0aW1lIHRoZW4gYXV0b21hdGljYWxseSByZW1vdmVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICAgICAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAgICAgKiBAYXBpIHB1YmxpY1xyXG4gICAgICovXG5cblxuICAgIEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG4gICAgICBmdW5jdGlvbiBvbigpIHtcbiAgICAgICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcbiAgICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgb24uZm4gPSBmbjtcbiAgICAgIHRoaXMub24oZXZlbnQsIG9uKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxyXG4gICAgICogcmVnaXN0ZXJlZCBjYWxsYmFja3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gICAgICogQHJldHVybiB7RW1pdHRlcn1cclxuICAgICAqIEBhcGkgcHVibGljXHJcbiAgICAgKi9cblxuXG4gICAgRW1pdHRlci5wcm90b3R5cGUub2ZmID0gRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9OyAvLyBhbGxcblxuICAgICAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IC8vIHNwZWNpZmljIGV2ZW50XG5cblxuICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gICAgICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7IC8vIHJlbW92ZSBhbGwgaGFuZGxlcnNcblxuICAgICAgaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXG5cblxuICAgICAgdmFyIGNiO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYiA9IGNhbGxiYWNrc1tpXTtcblxuICAgICAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gUmVtb3ZlIGV2ZW50IHNwZWNpZmljIGFycmF5cyBmb3IgZXZlbnQgdHlwZXMgdGhhdCBub1xuICAgICAgLy8gb25lIGlzIHN1YnNjcmliZWQgZm9yIHRvIGF2b2lkIG1lbW9yeSBsZWFrLlxuXG5cbiAgICAgIGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxyXG4gICAgICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge01peGVkfSAuLi5cclxuICAgICAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAgICAgKi9cblxuXG4gICAgRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpLFxuICAgICAgICAgIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHJldHVybiB7QXJyYXl9XHJcbiAgICAgKiBAYXBpIHB1YmxpY1xyXG4gICAgICovXG5cblxuICAgIEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICAgICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XG4gICAgfTtcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKiBAYXBpIHB1YmxpY1xyXG4gICAgICovXG5cblxuICAgIEVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcbiAgICB9O1xuICB9KShjb21wb25lbnRFbWl0dGVyKTtcblxuICB2YXIgRW1pdHRlciA9IGNvbXBvbmVudEVtaXR0ZXIuZXhwb3J0cztcblxuICAvKiEgSGFtbWVyLkpTIC0gdjIuMC4xNy1yYyAtIDIwMTktMTItMTZcbiAgICogaHR0cDovL25hdmVyLmdpdGh1Yi5pby9lZ2pzXG4gICAqXG4gICAqIEZvcmtlZCBCeSBOYXZlciBlZ2pzXG4gICAqIENvcHlyaWdodCAoYykgaGFtbWVyanNcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovXG4gIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH1cblxuICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkJDEoc2VsZikge1xuICAgIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogZXh0ZW5kIG9iamVjdC5cbiAgICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAgICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHRhcmdldFxuICAgKi9cblxuXG4gIHZhciBhc3NpZ247XG5cbiAgaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuXG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcblxuICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbiAgfVxuXG4gIHZhciBhc3NpZ24kMSA9IGFzc2lnbjtcbiAgdmFyIFZFTkRPUl9QUkVGSVhFUyA9IFsnJywgJ3dlYmtpdCcsICdNb3onLCAnTVMnLCAnbXMnLCAnbyddO1xuICB2YXIgVEVTVF9FTEVNRU5UID0gdHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiID8ge1xuICAgIHN0eWxlOiB7fVxuICB9IDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcbiAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZCxcbiAgICAgIGFicyA9IE1hdGguYWJzO1xuICB2YXIgbm93ID0gRGF0ZS5ub3c7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBnZXQgdGhlIHByZWZpeGVkIHByb3BlcnR5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAqIEByZXR1cm5zIHtTdHJpbmd8VW5kZWZpbmVkfSBwcmVmaXhlZFxuICAgKi9cblxuICBmdW5jdGlvbiBwcmVmaXhlZChvYmosIHByb3BlcnR5KSB7XG4gICAgdmFyIHByZWZpeDtcbiAgICB2YXIgcHJvcDtcbiAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuICAgICAgcHJlZml4ID0gVkVORE9SX1BSRUZJWEVTW2ldO1xuICAgICAgcHJvcCA9IHByZWZpeCA/IHByZWZpeCArIGNhbWVsUHJvcCA6IHByb3BlcnR5O1xuXG4gICAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICB9XG5cbiAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldy1mdW5jLCBuby1uZXN0ZWQtdGVybmFyeSAqL1xuXG5cbiAgdmFyIHdpbjtcblxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIC8vIHdpbmRvdyBpcyB1bmRlZmluZWQgaW4gbm9kZS5qc1xuICAgIHdpbiA9IHt9O1xuICB9IGVsc2Uge1xuICAgIHdpbiA9IHdpbmRvdztcbiAgfVxuXG4gIHZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpO1xuICB2YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uUHJvcHMoKSB7XG4gICAgaWYgKCFOQVRJVkVfVE9VQ0hfQUNUSU9OKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHRvdWNoTWFwID0ge307XG4gICAgdmFyIGNzc1N1cHBvcnRzID0gd2luLkNTUyAmJiB3aW4uQ1NTLnN1cHBvcnRzO1xuICAgIFsnYXV0bycsICdtYW5pcHVsYXRpb24nLCAncGFuLXknLCAncGFuLXgnLCAncGFuLXggcGFuLXknLCAnbm9uZSddLmZvckVhY2goZnVuY3Rpb24gKHZhbCkge1xuICAgICAgLy8gSWYgY3NzLnN1cHBvcnRzIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IHRoZXJlIGlzIG5hdGl2ZSB0b3VjaC1hY3Rpb24gYXNzdW1lIGl0IHN1cHBvcnRzXG4gICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICByZXR1cm4gdG91Y2hNYXBbdmFsXSA9IGNzc1N1cHBvcnRzID8gd2luLkNTUy5zdXBwb3J0cygndG91Y2gtYWN0aW9uJywgdmFsKSA6IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvdWNoTWFwO1xuICB9XG5cbiAgdmFyIFRPVUNIX0FDVElPTl9DT01QVVRFID0gJ2NvbXB1dGUnO1xuICB2YXIgVE9VQ0hfQUNUSU9OX0FVVE8gPSAnYXV0byc7XG4gIHZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxuXG4gIHZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJztcbiAgdmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG4gIHZhciBUT1VDSF9BQ1RJT05fUEFOX1kgPSAncGFuLXknO1xuICB2YXIgVE9VQ0hfQUNUSU9OX01BUCA9IGdldFRvdWNoQWN0aW9uUHJvcHMoKTtcbiAgdmFyIE1PQklMRV9SRUdFWCA9IC9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaTtcbiAgdmFyIFNVUFBPUlRfVE9VQ0ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luKTtcbiAgdmFyIFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMgPSBwcmVmaXhlZCh3aW4sICdQb2ludGVyRXZlbnQnKSAhPT0gdW5kZWZpbmVkO1xuICB2YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgdmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xuICB2YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJztcbiAgdmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xuICB2YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcbiAgdmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcbiAgdmFyIElOUFVUX1NUQVJUID0gMTtcbiAgdmFyIElOUFVUX01PVkUgPSAyO1xuICB2YXIgSU5QVVRfRU5EID0gNDtcbiAgdmFyIElOUFVUX0NBTkNFTCA9IDg7XG4gIHZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG4gIHZhciBESVJFQ1RJT05fTEVGVCA9IDI7XG4gIHZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xuICB2YXIgRElSRUNUSU9OX1VQID0gODtcbiAgdmFyIERJUkVDVElPTl9ET1dOID0gMTY7XG4gIHZhciBESVJFQ1RJT05fSE9SSVpPTlRBTCA9IERJUkVDVElPTl9MRUZUIHwgRElSRUNUSU9OX1JJR0hUO1xuICB2YXIgRElSRUNUSU9OX1ZFUlRJQ0FMID0gRElSRUNUSU9OX1VQIHwgRElSRUNUSU9OX0RPV047XG4gIHZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG4gIHZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG4gIHZhciBQUk9QU19DTElFTlRfWFkgPSBbJ2NsaWVudFgnLCAnY2xpZW50WSddO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvclxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKi9cblxuICBmdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9iai5mb3JFYWNoKSB7XG4gICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGkgPSAwO1xuXG4gICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICBvYmouaGFzT3duUHJvcGVydHkoaSkgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICAgKiB0aGlzIGZpcnN0IGl0ZW0gaW4gYXJncyB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnRleHRcbiAgICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWxcbiAgICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuICAgIGlmICh0eXBlb2YgdmFsID09PSBUWVBFX0ZVTkNUSU9OKSB7XG4gICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAgICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gaW5TdHIoc3RyLCBmaW5kKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKGZpbmQpID4gLTE7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uc1xuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG5cblxuICBmdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpOyAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuXG4gICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH0gLy8gcGFuLXggT1IgcGFuLXlcblxuXG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgcmV0dXJuIGhhc1BhblggPyBUT1VDSF9BQ1RJT05fUEFOX1ggOiBUT1VDSF9BQ1RJT05fUEFOX1k7XG4gICAgfSAvLyBtYW5pcHVsYXRpb25cblxuXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04pKSB7XG4gICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTjtcbiAgICB9XG5cbiAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX0FVVE87XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFRvdWNoIEFjdGlvblxuICAgKiBzZXRzIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBvciB1c2VzIHRoZSBqcyBhbHRlcm5hdGl2ZVxuICAgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cblxuXG4gIHZhciBUb3VjaEFjdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgICB0aGlzLnNldCh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBUb3VjaEFjdGlvbi5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc2V0ID0gZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgaWYgKHZhbHVlID09PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBqdXN0IHJlLXNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWVcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmNvbXB1dGUgPSBmdW5jdGlvbiBjb21wdXRlKCkge1xuICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbiAocmVjb2duaXplcikge1xuICAgICAgICBpZiAoYm9vbE9yRm4ocmVjb2duaXplci5vcHRpb25zLmVuYWJsZSwgW3JlY29nbml6ZXJdKSkge1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ucHJldmVudERlZmF1bHRzID0gZnVuY3Rpb24gcHJldmVudERlZmF1bHRzKGlucHV0KSB7XG4gICAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247IC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuXG4gICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7XG4gICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXG4gICAgICBpZiAoaGFzTm9uZSkge1xuICAgICAgICAvLyBkbyBub3QgcHJldmVudCBkZWZhdWx0cyBpZiB0aGlzIGlzIGEgdGFwIGdlc3R1cmVcbiAgICAgICAgdmFyIGlzVGFwUG9pbnRlciA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG4gICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICBpZiAoaXNUYXBQb2ludGVyICYmIGlzVGFwTW92ZW1lbnQgJiYgaXNUYXBUb3VjaFRpbWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAvLyBgcGFuLXggcGFuLXlgIG1lYW5zIGJyb3dzZXIgaGFuZGxlcyBhbGwgc2Nyb2xsaW5nL3Bhbm5pbmcsIGRvIG5vdCBwcmV2ZW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc05vbmUgfHwgaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8fCBoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG5cblxuICAgIF9wcm90by5wcmV2ZW50U3JjID0gZnVuY3Rpb24gcHJldmVudFNyYyhzcmNFdmVudCkge1xuICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUb3VjaEFjdGlvbjtcbiAgfSgpO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICAgKiBAbWV0aG9kIGhhc1BhcmVudFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBmb3VuZFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgaWYgKG5vZGUgPT09IHBhcmVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCB0aGUgY2VudGVyIG9mIGFsbCB0aGUgcG9pbnRlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnNcbiAgICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldENlbnRlcihwb2ludGVycykge1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDsgLy8gbm8gbmVlZCB0byBsb29wIHdoZW4gb25seSBvbmUgdG91Y2hcblxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgIHk6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFkpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeSA9IDA7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBwb2ludGVyc0xlbmd0aCkge1xuICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgeSArPSBwb2ludGVyc1tpXS5jbGllbnRZO1xuICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgeTogcm91bmQoeSAvIHBvaW50ZXJzTGVuZ3RoKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGNsb25lZElucHV0RGF0YVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KSB7XG4gICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG4gICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zXG4gICAgdmFyIHBvaW50ZXJzID0gW107XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgIHBvaW50ZXJzW2ldID0ge1xuICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgY2xpZW50WTogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WSlcbiAgICAgIH07XG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVTdGFtcDogbm93KCksXG4gICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG4gICAgICBkZWx0YVg6IGlucHV0LmRlbHRhWCxcbiAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAgICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuICAgKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cblxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dO1xuICAgIHZhciB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IHAxXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXTtcbiAgICB2YXIgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldERpcmVjdGlvbih4LCB5KSB7XG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgcmV0dXJuIHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXI7IC8vIGxldCB7IG9mZnNldERlbHRhOm9mZnNldCA9IHt9LCBwcmV2RGVsdGEgPSB7fSwgcHJldklucHV0ID0ge30gfSA9IHNlc3Npb247XG4gICAgLy8ganNjcyB0aHJvd2luZyBlcnJvciBvbiBkZWZhbHV0IGRlc3RydWN0dXJlZCB2YWx1ZXMgYW5kIHdpdGhvdXQgZGVmYXVsdHMgdGVzdHMgZmFpbFxuXG4gICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2SW5wdXQgPSBzZXNzaW9uLnByZXZJbnB1dCB8fCB7fTtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX1NUQVJUIHx8IHByZXZJbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX0VORCkge1xuICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgIHg6IHByZXZJbnB1dC5kZWx0YVggfHwgMCxcbiAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG4gICAgICB9O1xuICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcbiAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgIHk6IGNlbnRlci55XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVRpbWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICogQHJldHVybiB7T2JqZWN0fSB2ZWxvY2l0eSBgeGAgYW5kIGB5YFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsXG4gICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBjYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvciBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICAgKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcbiAgICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gICAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBjYWxjdWxhdGUgdGhlIHJvdGF0aW9uIGRlZ3JlZXMgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAgICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gICAqIEByZXR1cm4ge051bWJlcn0gcm90YXRpb25cbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpICsgZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiB2ZWxvY2l0eSBpcyBjYWxjdWxhdGVkIGV2ZXJ5IHggbXNcbiAgICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGxhc3QgPSBzZXNzaW9uLmxhc3RJbnRlcnZhbCB8fCBpbnB1dDtcbiAgICB2YXIgZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gbGFzdC50aW1lU3RhbXA7XG4gICAgdmFyIHZlbG9jaXR5O1xuICAgIHZhciB2ZWxvY2l0eVg7XG4gICAgdmFyIHZlbG9jaXR5WTtcbiAgICB2YXIgZGlyZWN0aW9uO1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPT0gSU5QVVRfQ0FOQ0VMICYmIChkZWx0YVRpbWUgPiBDT01QVVRFX0lOVEVSVkFMIHx8IGxhc3QudmVsb2NpdHkgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgIHZhciBkZWx0YVkgPSBpbnB1dC5kZWx0YVkgLSBsYXN0LmRlbHRhWTtcbiAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICB2ZWxvY2l0eVggPSB2Lng7XG4gICAgICB2ZWxvY2l0eVkgPSB2Lnk7XG4gICAgICB2ZWxvY2l0eSA9IGFicyh2LngpID4gYWJzKHYueSkgPyB2LnggOiB2Lnk7XG4gICAgICBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlIGxhdGVzdCB2ZWxvY2l0eSBpbmZvIGlmIGl0IGRvZXNuJ3Qgb3ZlcnRha2UgYSBtaW5pbXVtIHBlcmlvZFxuICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgdmVsb2NpdHlYID0gbGFzdC52ZWxvY2l0eVg7XG4gICAgICB2ZWxvY2l0eVkgPSBsYXN0LnZlbG9jaXR5WTtcbiAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gIH1cbiAgLyoqXG4gICogQHByaXZhdGVcbiAgICogZXh0ZW5kIHRoZSBkYXRhIHdpdGggc29tZSB1c2FibGUgcHJvcGVydGllcyBsaWtlIHNjYWxlLCByb3RhdGUsIHZlbG9jaXR5IGV0Y1xuICAgKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICovXG5cblxuICBmdW5jdGlvbiBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KSB7XG4gICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG4gICAgdmFyIHBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnM7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoOyAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG5cbiAgICBpZiAoIXNlc3Npb24uZmlyc3RJbnB1dCkge1xuICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gLy8gdG8gY29tcHV0ZSBzY2FsZSBhbmQgcm90YXRpb24gd2UgbmVlZCB0byBzdG9yZSB0aGUgbXVsdGlwbGUgdG91Y2hlc1xuXG5cbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZmlyc3RJbnB1dCA9IHNlc3Npb24uZmlyc3RJbnB1dCxcbiAgICAgICAgZmlyc3RNdWx0aXBsZSA9IHNlc3Npb24uZmlyc3RNdWx0aXBsZTtcbiAgICB2YXIgb2Zmc2V0Q2VudGVyID0gZmlyc3RNdWx0aXBsZSA/IGZpcnN0TXVsdGlwbGUuY2VudGVyIDogZmlyc3RJbnB1dC5jZW50ZXI7XG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG4gICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG4gICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG4gICAgY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpO1xuICAgIGlucHV0Lm9mZnNldERpcmVjdGlvbiA9IGdldERpcmVjdGlvbihpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gYWJzKG92ZXJhbGxWZWxvY2l0eS54KSA+IGFicyhvdmVyYWxsVmVsb2NpdHkueSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuICAgIGlucHV0LnNjYWxlID0gZmlyc3RNdWx0aXBsZSA/IGdldFNjYWxlKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDE7XG4gICAgaW5wdXQucm90YXRpb24gPSBmaXJzdE11bHRpcGxlID8gZ2V0Um90YXRpb24oZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMDtcbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA+IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnM7XG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTsgLy8gZmluZCB0aGUgY29ycmVjdCB0YXJnZXRcblxuICAgIHZhciB0YXJnZXQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgdmFyIHNyY0V2ZW50VGFyZ2V0O1xuXG4gICAgaWYgKHNyY0V2ZW50LmNvbXBvc2VkUGF0aCkge1xuICAgICAgc3JjRXZlbnRUYXJnZXQgPSBzcmNFdmVudC5jb21wb3NlZFBhdGgoKVswXTtcbiAgICB9IGVsc2UgaWYgKHNyY0V2ZW50LnBhdGgpIHtcbiAgICAgIHNyY0V2ZW50VGFyZ2V0ID0gc3JjRXZlbnQucGF0aFswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3JjRXZlbnRUYXJnZXQgPSBzcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKGhhc1BhcmVudChzcmNFdmVudFRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgdGFyZ2V0ID0gc3JjRXZlbnRUYXJnZXQ7XG4gICAgfVxuXG4gICAgaW5wdXQudGFyZ2V0ID0gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gICAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGlucHV0SGFuZGxlcihtYW5hZ2VyLCBldmVudFR5cGUsIGlucHV0KSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBpc0ZpcnN0ID0gZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgcG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDA7XG4gICAgdmFyIGlzRmluYWwgPSBldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiBwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMDtcbiAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuICAgIGlucHV0LmlzRmluYWwgPSAhIWlzRmluYWw7XG5cbiAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgbWFuYWdlci5zZXNzaW9uID0ge307XG4gICAgfSAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50c1xuICAgIC8vIGxpa2UgJ3RvdWNoc3RhcnQsIG1vdXNldXAsIHBvaW50ZXJkb3duJ1xuXG5cbiAgICBpbnB1dC5ldmVudFR5cGUgPSBldmVudFR5cGU7IC8vIGNvbXB1dGUgc2NhbGUsIHJvdGF0aW9uIGV0Y1xuXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7IC8vIGVtaXQgc2VjcmV0IGV2ZW50XG5cbiAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcbiAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7XG4gICAgbWFuYWdlci5zZXNzaW9uLnByZXZJbnB1dCA9IGlucHV0O1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAqIEByZXR1cm5zIHtBcnJheX0gd29yZHNcbiAgICovXG5cblxuICBmdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogYWRkRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnRcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJucyB7RG9jdW1lbnRWaWV3fFdpbmRvd31cbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRXaW5kb3dGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG4gICAgcmV0dXJuIGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdztcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAgICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtJbnB1dH1cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuXG5cbiAgdmFyIElucHV0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0OyAvLyBzbWFsbGVyIHdyYXBwZXIgYXJvdW5kIHRoZSBoYW5kbGVyLCBmb3IgdGhlIHNjb3BlIGFuZCB0aGUgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWFuYWdlcixcbiAgICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cblxuICAgICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIGlmIChib29sT3JGbihtYW5hZ2VyLm9wdGlvbnMuZW5hYmxlLCBbbWFuYWdlcl0pKSB7XG4gICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBJbnB1dC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoKSB7fTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIGJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuXG5cbiAgICBfcHJvdG8uaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB0aGlzLmV2RWwgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgdGhpcy5ldldpbiAmJiBhZGRFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG5cblxuICAgIF9wcm90by5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgIHRoaXMuZXZUYXJnZXQgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIElucHV0O1xuICB9KCk7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNyY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAgICogQHJldHVybiB7Qm9vbGVhbnxOdW1iZXJ9IGZhbHNlIHdoZW4gbm90IGZvdW5kLCBvciB0aGUgaW5kZXhcbiAgICovXG5cblxuICBmdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG4gICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcbiAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kIHx8ICFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSB7XG4gICAgICAgICAgLy8gZG8gbm90IHVzZSA9PT0gaGVyZSwgdGVzdCBmYWlsc1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG5cbiAgICAgICAgaSsrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG5cbiAgdmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuICAgIHBvaW50ZXJkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcbiAgICBwb2ludGVydXA6IElOUFVUX0VORCxcbiAgICBwb2ludGVyY2FuY2VsOiBJTlBVVF9DQU5DRUwsXG4gICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG4gIH07IC8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG5cbiAgdmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG4gICAgMjogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAzOiBJTlBVVF9UWVBFX1BFTixcbiAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuICAgIDU6IElOUFVUX1RZUEVfS0lORUNUIC8vIHNlZSBodHRwczovL3R3aXR0ZXIuY29tL2phY29icm9zc2kvc3RhdHVzLzQ4MDU5NjQzODQ4OTg5MDgxNlxuXG4gIH07XG4gIHZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcbiAgdmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7IC8vIElFMTAgaGFzIHByZWZpeGVkIHN1cHBvcnQsIGFuZCBjYXNlLXNlbnNpdGl2ZVxuXG4gIGlmICh3aW4uTVNQb2ludGVyRXZlbnQgJiYgIXdpbi5Qb2ludGVyRXZlbnQpIHtcbiAgICBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ01TUG9pbnRlckRvd24nO1xuICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyBJbnB1dFxuICAgKi9cblxuXG4gIHZhciBQb2ludGVyRXZlbnRJbnB1dCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0lucHV0KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUG9pbnRlckV2ZW50SW5wdXQsIF9JbnB1dCk7XG5cbiAgICBmdW5jdGlvbiBQb2ludGVyRXZlbnRJbnB1dCgpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgdmFyIHByb3RvID0gUG9pbnRlckV2ZW50SW5wdXQucHJvdG90eXBlO1xuICAgICAgcHJvdG8uZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgICBwcm90by5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcbiAgICAgIF90aGlzID0gX0lucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgIF90aGlzLnN0b3JlID0gX3RoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBQb2ludGVyRXZlbnRJbnB1dC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoZXYpIHtcbiAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuICAgICAgdmFyIGV2ZW50VHlwZU5vcm1hbGl6ZWQgPSBldi50eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnbXMnLCAnJyk7XG4gICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcbiAgICAgIHZhciBpc1RvdWNoID0gcG9pbnRlclR5cGUgPT09IElOUFVUX1RZUEVfVE9VQ0g7IC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG5cbiAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7IC8vIHN0YXJ0IGFuZCBtb3VzZSBtdXN0IGJlIGRvd25cblxuICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChldi5idXR0b24gPT09IDAgfHwgaXNUb3VjaCkpIHtcbiAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgcmVtb3ZlUG9pbnRlciA9IHRydWU7XG4gICAgICB9IC8vIGl0IG5vdCBmb3VuZCwgc28gdGhlIHBvaW50ZXIgaGFzbid0IGJlZW4gZG93biAoc28gaXQncyBwcm9iYWJseSBhIGhvdmVyKVxuXG5cbiAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIHVwZGF0ZSB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG5cblxuICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcbiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgcG9pbnRlcnM6IHN0b3JlLFxuICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgIHBvaW50ZXJUeXBlOiBwb2ludGVyVHlwZSxcbiAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFBvaW50ZXJFdmVudElucHV0O1xuICB9KElucHV0KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIHVuaXF1ZSBhcnJheSB3aXRoIG9iamVjdHMgYmFzZWQgb24gYSBrZXkgKGxpa2UgJ2lkJykgb3IganVzdCBieSB0aGUgYXJyYXkncyB2YWx1ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2tleV1cbiAgICogQHBhcmFtIHtCb29sZWFufSBbc29ydD1GYWxzZV1cbiAgICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAgICovXG5cblxuICBmdW5jdGlvbiB1bmlxdWVBcnJheShzcmMsIGtleSwgc29ydCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuXG4gICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChzcmNbaV0pO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKHNvcnQpIHtcbiAgICAgIGlmICgha2V5KSB7XG4gICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gYVtrZXldID4gYltrZXldO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIHZhciBUT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxuICB9O1xuICB2YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgSW5wdXRcbiAgICovXG5cbiAgdmFyIFRvdWNoSW5wdXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9JbnB1dCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFRvdWNoSW5wdXQsIF9JbnB1dCk7XG5cbiAgICBmdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBUb3VjaElucHV0LnByb3RvdHlwZS5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgICBfdGhpcyA9IF9JbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy50YXJnZXRJZHMgPSB7fTsgLy8gdGhpcy5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gVG91Y2hJbnB1dC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoZXYpIHtcbiAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXG4gICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRvdWNoSW5wdXQ7XG4gIH0oSW5wdXQpO1xuXG4gIGZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIHRhcmdldElkcyA9IHRoaXMudGFyZ2V0SWRzOyAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGFyZ2V0SWRzW2FsbFRvdWNoZXNbMF0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgcmV0dXJuIFthbGxUb3VjaGVzLCBhbGxUb3VjaGVzXTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgdGFyZ2V0VG91Y2hlcztcbiAgICB2YXIgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcbiAgICB2YXIgY2hhbmdlZFRhcmdldFRvdWNoZXMgPSBbXTtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7IC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcblxuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbiAodG91Y2gpIHtcbiAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuICAgIH0pOyAvLyBjb2xsZWN0IHRvdWNoZXNcblxuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChpIDwgdGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG5cblxuICAgIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBjaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMucHVzaChjaGFuZ2VkVG91Y2hlc1tpXSk7XG4gICAgICB9IC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG5cblxuICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuICAgICAgfVxuXG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gWy8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgIHVuaXF1ZUFycmF5KHRhcmdldFRvdWNoZXMuY29uY2F0KGNoYW5nZWRUYXJnZXRUb3VjaGVzKSwgJ2lkZW50aWZpZXInLCB0cnVlKSwgY2hhbmdlZFRhcmdldFRvdWNoZXNdO1xuICB9XG5cbiAgdmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcbiAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSxcbiAgICBtb3VzZXVwOiBJTlBVVF9FTkRcbiAgfTtcbiAgdmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG4gIHZhciBNT1VTRV9XSU5ET1dfRVZFTlRTID0gJ21vdXNlbW92ZSBtb3VzZXVwJztcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgSW5wdXRcbiAgICovXG5cbiAgdmFyIE1vdXNlSW5wdXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9JbnB1dCkge1xuICAgIF9pbmhlcml0c0xvb3NlKE1vdXNlSW5wdXQsIF9JbnB1dCk7XG5cbiAgICBmdW5jdGlvbiBNb3VzZUlucHV0KCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICB2YXIgcHJvdG8gPSBNb3VzZUlucHV0LnByb3RvdHlwZTtcbiAgICAgIHByb3RvLmV2RWwgPSBNT1VTRV9FTEVNRU5UX0VWRU5UUztcbiAgICAgIHByb3RvLmV2V2luID0gTU9VU0VfV0lORE9XX0VWRU5UUztcbiAgICAgIF90aGlzID0gX0lucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgIF90aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBNb3VzZUlucHV0LnByb3RvdHlwZTtcblxuICAgIF9wcm90by5oYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcihldikge1xuICAgICAgdmFyIGV2ZW50VHlwZSA9IE1PVVNFX0lOUFVUX01BUFtldi50eXBlXTsgLy8gb24gc3RhcnQgd2Ugd2FudCB0byBoYXZlIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG5cbiAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBldi5idXR0b24gPT09IDApIHtcbiAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgZXZlbnRUeXBlID0gSU5QVVRfRU5EO1xuICAgICAgfSAvLyBtb3VzZSBtdXN0IGJlIGRvd25cblxuXG4gICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgcG9pbnRlcnM6IFtldl0sXG4gICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBNb3VzZUlucHV0O1xuICB9KElucHV0KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIENvbWJpbmVkIHRvdWNoIGFuZCBtb3VzZSBpbnB1dFxuICAgKlxuICAgKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAgICogVGhpcyBiZWNhdXNlIHRvdWNoIGRldmljZXMgYWxzbyBlbWl0IG1vdXNlIGV2ZW50cyB3aGlsZSBkb2luZyBhIHRvdWNoLlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgSW5wdXRcbiAgICovXG5cblxuICB2YXIgREVEVVBfVElNRU9VVCA9IDI1MDA7XG4gIHZhciBERURVUF9ESVNUQU5DRSA9IDI1O1xuXG4gIGZ1bmN0aW9uIHNldExhc3RUb3VjaChldmVudERhdGEpIHtcbiAgICB2YXIgX2V2ZW50RGF0YSRjaGFuZ2VkUG9pID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVycyxcbiAgICAgICAgdG91Y2ggPSBfZXZlbnREYXRhJGNoYW5nZWRQb2lbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgIHZhciBsYXN0VG91Y2ggPSB7XG4gICAgICAgIHg6IHRvdWNoLmNsaWVudFgsXG4gICAgICAgIHk6IHRvdWNoLmNsaWVudFlcbiAgICAgIH07XG4gICAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcbiAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuXG4gICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24gcmVtb3ZlTGFzdFRvdWNoKCkge1xuICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG5cbiAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgIGx0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNldFRpbWVvdXQocmVtb3ZlTGFzdFRvdWNoLCBERURVUF9USU1FT1VUKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWNvcmRUb3VjaGVzKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG4gICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICB0aGlzLnByaW1hcnlUb3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF0uaWRlbnRpZmllcjtcbiAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KGV2ZW50RGF0YSkge1xuICAgIHZhciB4ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFg7XG4gICAgdmFyIHkgPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHQgPSB0aGlzLmxhc3RUb3VjaGVzW2ldO1xuICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCk7XG4gICAgICB2YXIgZHkgPSBNYXRoLmFicyh5IC0gdC55KTtcblxuICAgICAgaWYgKGR4IDw9IERFRFVQX0RJU1RBTkNFICYmIGR5IDw9IERFRFVQX0RJU1RBTkNFKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBUb3VjaE1vdXNlSW5wdXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIHZhciBUb3VjaE1vdXNlSW5wdXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9JbnB1dCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoVG91Y2hNb3VzZUlucHV0LCBfSW5wdXQpO1xuXG4gICAgICBmdW5jdGlvbiBUb3VjaE1vdXNlSW5wdXQoX21hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcztcblxuICAgICAgICBfdGhpcyA9IF9JbnB1dC5jYWxsKHRoaXMsIF9tYW5hZ2VyLCBjYWxsYmFjaykgfHwgdGhpcztcblxuICAgICAgICBfdGhpcy5oYW5kbGVyID0gZnVuY3Rpb24gKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICAgIHZhciBpc1RvdWNoID0gaW5wdXREYXRhLnBvaW50ZXJUeXBlID09PSBJTlBVVF9UWVBFX1RPVUNIO1xuICAgICAgICAgIHZhciBpc01vdXNlID0gaW5wdXREYXRhLnBvaW50ZXJUeXBlID09PSBJTlBVVF9UWVBFX01PVVNFO1xuXG4gICAgICAgICAgaWYgKGlzTW91c2UgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG5cblxuICAgICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICByZWNvcmRUb3VjaGVzLmNhbGwoX2Fzc2VydFRoaXNJbml0aWFsaXplZCQxKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQkMShfdGhpcykpLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNb3VzZSAmJiBpc1N5bnRoZXRpY0V2ZW50LmNhbGwoX2Fzc2VydFRoaXNJbml0aWFsaXplZCQxKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQkMShfdGhpcykpLCBpbnB1dERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy50b3VjaCA9IG5ldyBUb3VjaElucHV0KF90aGlzLm1hbmFnZXIsIF90aGlzLmhhbmRsZXIpO1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KF90aGlzLm1hbmFnZXIsIF90aGlzLmhhbmRsZXIpO1xuICAgICAgICBfdGhpcy5wcmltYXJ5VG91Y2ggPSBudWxsO1xuICAgICAgICBfdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBoYW5kbGUgbW91c2UgYW5kIHRvdWNoIGV2ZW50c1xuICAgICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dEV2ZW50XG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICAgKi9cblxuXG4gICAgICB2YXIgX3Byb3RvID0gVG91Y2hNb3VzZUlucHV0LnByb3RvdHlwZTtcbiAgICAgIC8qKlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgKi9cblxuICAgICAgX3Byb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gVG91Y2hNb3VzZUlucHV0O1xuICAgIH0oSW5wdXQpO1xuXG4gICAgcmV0dXJuIFRvdWNoTW91c2VJbnB1dDtcbiAgfSgpO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAgICogY2FsbGVkIGJ5IHRoZSBNYW5hZ2VyIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gICAqIEByZXR1cm5zIHtJbnB1dH1cbiAgICovXG5cblxuICBmdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcbiAgICB2YXIgVHlwZTsgLy8gbGV0IGlucHV0Q2xhc3MgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRDbGFzcztcblxuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgVHlwZSA9IGlucHV0Q2xhc3M7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG4gICAgICBUeXBlID0gUG9pbnRlckV2ZW50SW5wdXQ7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX09OTFlfVE9VQ0gpIHtcbiAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgIFR5cGUgPSBNb3VzZUlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICBUeXBlID0gVG91Y2hNb3VzZUlucHV0O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVHlwZShtYW5hZ2VyLCBpbnB1dEhhbmRsZXIpO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuICAgKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAgICogdGhpcyBpcyB1c2VkIGJ5IGFsbCB0aGUgbWV0aG9kcyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhbmQgYXJyYXkgYXJndW1lbnQuXG4gICAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICBlYWNoKGFyZywgY29udGV4dFtmbl0sIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcbiAgdmFyIFNUQVRFX0JFR0FOID0gMjtcbiAgdmFyIFNUQVRFX0NIQU5HRUQgPSA0O1xuICB2YXIgU1RBVEVfRU5ERUQgPSA4O1xuICB2YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xuICB2YXIgU1RBVEVfQ0FOQ0VMTEVEID0gMTY7XG4gIHZhciBTVEFURV9GQUlMRUQgPSAzMjtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCBhIHVuaXF1ZSBpZFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICAgKi9cblxuICB2YXIgX3VuaXF1ZUlkID0gMTtcblxuICBmdW5jdGlvbiB1bmlxdWVJZCgpIHtcbiAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gb3RoZXJSZWNvZ25pemVyXG4gICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyO1xuXG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCBhIHVzYWJsZSBzdHJpbmcsIHVzZWQgYXMgZXZlbnQgcG9zdGZpeFxuICAgKiBAcGFyYW0ge2NvbnN0YW50fSBzdGF0ZVxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHN0YXRlU3RyKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG4gICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICByZXR1cm4gJ2VuZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcbiAgICAgIHJldHVybiAnbW92ZSc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG4gICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFJlY29nbml6ZXIgZmxvdyBleHBsYWluZWQ7ICpcbiAgICogQWxsIHJlY29nbml6ZXJzIGhhdmUgdGhlIGluaXRpYWwgc3RhdGUgb2YgUE9TU0lCTEUgd2hlbiBhIGlucHV0IHNlc3Npb24gc3RhcnRzLlxuICAgKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAgICogRXhhbXBsZSBzZXNzaW9uIGZvciBtb3VzZS1pbnB1dDogbW91c2Vkb3duIC0+IG1vdXNlbW92ZSAtPiBtb3VzZXVwXG4gICAqXG4gICAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAgICogd2hpY2ggZGV0ZXJtaW5lcyB3aXRoIHN0YXRlIGl0IHNob3VsZCBiZS5cbiAgICpcbiAgICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICAgKiBQT1NTSUJMRSB0byBnaXZlIGl0IGFub3RoZXIgY2hhbmdlIG9uIHRoZSBuZXh0IGN5Y2xlLlxuICAgKlxuICAgKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gICAqICAgICAgICAgICAgICAgICAgfFxuICAgKiAgICAgICAgICAgICstLS0tLSstLS0tLS0tLS0tLS0tLS0rXG4gICAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAgICogICAgICArLS0tLS0rLS0tLS0rICAgICAgICAgICAgICAgfFxuICAgKiAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4gICAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKy0tLS0tLStcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAgICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbmdlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmRlZC9SZWNvZ25pemVkXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBSZWNvZ25pemVyXG4gICAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuXG5cbiAgdmFyIFJlY29nbml6ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlY29nbml6ZXIob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucyA9IF9leHRlbmRzKHtcbiAgICAgICAgZW5hYmxlOiB0cnVlXG4gICAgICB9LCBvcHRpb25zKTtcbiAgICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuICAgICAgdGhpcy5tYW5hZ2VyID0gbnVsbDsgLy8gZGVmYXVsdCBpcyBlbmFibGUgdHJ1ZVxuXG4gICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgICAgdGhpcy5yZXF1aXJlRmFpbCA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gUmVjb2duaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc2V0ID0gZnVuY3Rpb24gc2V0KG9wdGlvbnMpIHtcbiAgICAgIGFzc2lnbiQxKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7IC8vIGFsc28gdXBkYXRlIHRoZSB0b3VjaEFjdGlvbiwgaW4gY2FzZSBzb21ldGhpbmcgY2hhbmdlZCBhYm91dCB0aGUgZGlyZWN0aW9ucy9lbmFibGVkIHN0YXRlXG5cbiAgICAgIHRoaXMubWFuYWdlciAmJiB0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ucmVjb2duaXplV2l0aCA9IGZ1bmN0aW9uIHJlY29nbml6ZVdpdGgob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG4gICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cbiAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHtcbiAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG4gICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogZHJvcCB0aGUgc2ltdWx0YW5lb3VzIGxpbmsuIGl0IGRvZXNudCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuXG5cbiAgICBfcHJvdG8uZHJvcFJlY29nbml6ZVdpdGggPSBmdW5jdGlvbiBkcm9wUmVjb2duaXplV2l0aChvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICBkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiByZWNvZ25pemVyIGNhbiBvbmx5IHJ1biB3aGVuIGFuIG90aGVyIGlzIGZhaWxpbmdcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG5cblxuICAgIF9wcm90by5yZXF1aXJlRmFpbHVyZSA9IGZ1bmN0aW9uIHJlcXVpcmVGYWlsdXJlKG90aGVyUmVjb2duaXplcikge1xuICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXF1aXJlRmFpbCA9IHRoaXMucmVxdWlyZUZhaWw7XG4gICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cbiAgICAgIGlmIChpbkFycmF5KHJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpID09PSAtMSkge1xuICAgICAgICByZXF1aXJlRmFpbC5wdXNoKG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIGRyb3AgdGhlIHJlcXVpcmVGYWlsdXJlIGxpbmsuIGl0IGRvZXMgbm90IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG5cblxuICAgIF9wcm90by5kcm9wUmVxdWlyZUZhaWx1cmUgPSBmdW5jdGlvbiBkcm9wUmVxdWlyZUZhaWx1cmUob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgIHZhciBpbmRleCA9IGluQXJyYXkodGhpcy5yZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy5yZXF1aXJlRmFpbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogaGFzIHJlcXVpcmUgZmFpbHVyZXMgYm9vbGVhblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8uaGFzUmVxdWlyZUZhaWx1cmVzID0gZnVuY3Rpb24gaGFzUmVxdWlyZUZhaWx1cmVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogaWYgdGhlIHJlY29nbml6ZXIgY2FuIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmNhblJlY29nbml6ZVdpdGggPSBmdW5jdGlvbiBjYW5SZWNvZ25pemVXaXRoKG90aGVyUmVjb2duaXplcikge1xuICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrXG4gICAgICogdGhhdCBhbGwgdGhlIG5lZWRlZCByZWNvZ25pemVycyBoYXMgZmFpbGVkIGJlZm9yZSBlbWl0dGluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGlucHV0KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgIHNlbGYubWFuYWdlci5lbWl0KGV2ZW50LCBpbnB1dCk7XG4gICAgICB9IC8vICdwYW5zdGFydCcgYW5kICdwYW5tb3ZlJ1xuXG5cbiAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgIH1cblxuICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cbiAgICAgIGlmIChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gYWRkaXRpb25hbCBldmVudChwYW5sZWZ0LCBwYW5yaWdodCwgcGluY2hpbiwgcGluY2hvdXQuLi4pXG4gICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcbiAgICAgIH0gLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcblxuXG4gICAgICBpZiAoc3RhdGUgPj0gU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBDaGVjayB0aGF0IGFsbCB0aGUgcmVxdWlyZSBmYWlsdXJlIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQsXG4gICAgICogaWYgdHJ1ZSwgaXQgZW1pdHMgYSBnZXN0dXJlIGV2ZW50LFxuICAgICAqIG90aGVyd2lzZSwgc2V0dXAgdGhlIHN0YXRlIHRvIEZBSUxFRC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLnRyeUVtaXQgPSBmdW5jdGlvbiB0cnlFbWl0KGlucHV0KSB7XG4gICAgICBpZiAodGhpcy5jYW5FbWl0KCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChpbnB1dCk7XG4gICAgICB9IC8vIGl0J3MgZmFpbGluZyBhbnl3YXlcblxuXG4gICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBjYW4gd2UgZW1pdD9cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmNhbkVtaXQgPSBmdW5jdGlvbiBjYW5FbWl0KCkge1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICB3aGlsZSAoaSA8IHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoKSB7XG4gICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkrKztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLnJlY29nbml6ZSA9IGZ1bmN0aW9uIHJlY29nbml6ZShpbnB1dERhdGEpIHtcbiAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAvLyBzbyB3ZSBjYW4gY2hhbmdlIHRoZSBpbnB1dERhdGEgd2l0aG91dCBtZXNzaW5nIHVwIHRoZSBvdGhlciByZWNvZ25pemVyc1xuICAgICAgdmFyIGlucHV0RGF0YUNsb25lID0gYXNzaWduJDEoe30sIGlucHV0RGF0YSk7IC8vIGlzIGlzIGVuYWJsZWQgYW5kIGFsbG93IHJlY29nbml6aW5nP1xuXG4gICAgICBpZiAoIWJvb2xPckZuKHRoaXMub3B0aW9ucy5lbmFibGUsIFt0aGlzLCBpbnB1dERhdGFDbG9uZV0pKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuXG5cbiAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucHJvY2VzcyhpbnB1dERhdGFDbG9uZSk7IC8vIHRoZSByZWNvZ25pemVyIGhhcyByZWNvZ25pemVkIGEgZ2VzdHVyZVxuICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuXG4gICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgdGhpcy50cnlFbWl0KGlucHV0RGF0YUNsb25lKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtjb25zdGFudH0gU1RBVEVcbiAgICAgKi9cblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cblxuXG4gICAgX3Byb3RvLnByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzKGlucHV0RGF0YSkge307XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG5cblxuICAgIF9wcm90by5nZXRUb3VjaEFjdGlvbiA9IGZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uKCkge307XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHt9O1xuXG4gICAgcmV0dXJuIFJlY29nbml6ZXI7XG4gIH0oKTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEEgdGFwIGlzIHJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG4gICAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICAgKiBhIHNpbmdsZSB0YXAuXG4gICAqXG4gICAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICAgKiBtdWx0aS10YXBzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gICAqL1xuXG5cbiAgdmFyIFRhcFJlY29nbml6ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWNvZ25pemVyKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoVGFwUmVjb2duaXplciwgX1JlY29nbml6ZXIpO1xuXG4gICAgZnVuY3Rpb24gVGFwUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBfdGhpcyA9IF9SZWNvZ25pemVyLmNhbGwodGhpcywgX2V4dGVuZHMoe1xuICAgICAgICBldmVudDogJ3RhcCcsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0YXBzOiAxLFxuICAgICAgICBpbnRlcnZhbDogMzAwLFxuICAgICAgICAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwc1xuICAgICAgICB0aW1lOiAyNTAsXG4gICAgICAgIC8vIG1heCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIGRvd24gKGxpa2UgZmluZ2VyIG9uIHRoZSBzY3JlZW4pXG4gICAgICAgIHRocmVzaG9sZDogOSxcbiAgICAgICAgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICAgICAgcG9zVGhyZXNob2xkOiAxMFxuICAgICAgfSwgb3B0aW9ucykpIHx8IHRoaXM7IC8vIHByZXZpb3VzIHRpbWUgYW5kIGNlbnRlcixcbiAgICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuXG4gICAgICBfdGhpcy5wVGltZSA9IGZhbHNlO1xuICAgICAgX3RoaXMucENlbnRlciA9IGZhbHNlO1xuICAgICAgX3RoaXMuX3RpbWVyID0gbnVsbDtcbiAgICAgIF90aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFRhcFJlY29nbml6ZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmdldFRvdWNoQWN0aW9uID0gZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb24oKSB7XG4gICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuICAgIH07XG5cbiAgICBfcHJvdG8ucHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3MoaW5wdXQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lO1xuICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgdGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgfSAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuXG5cbiAgICAgIGlmICh2YWxpZE1vdmVtZW50ICYmIHZhbGlkVG91Y2hUaW1lICYmIHZhbGlkUG9pbnRlcnMpIHtcbiAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPT0gSU5QVVRfRU5EKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IGlucHV0LnRpbWVTdGFtcCAtIHRoaXMucFRpbWUgPCBvcHRpb25zLmludGVydmFsIDogdHJ1ZTtcbiAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICB0aGlzLnBDZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG5cbiAgICAgICAgaWYgKCF2YWxpZE11bHRpVGFwIHx8ICF2YWxpZEludGVydmFsKSB7XG4gICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDsgLy8gaWYgdGFwIGNvdW50IG1hdGNoZXMgd2UgaGF2ZSByZWNvZ25pemVkIGl0LFxuICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuXG4gICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG5cbiAgICAgICAgaWYgKHRhcENvdW50ID09PSAwKSB7XG4gICAgICAgICAgLy8gbm8gZmFpbGluZyByZXF1aXJlbWVudHMsIGltbWVkaWF0ZWx5IHRyaWdnZXIgdGhlIHRhcCBldmVudFxuICAgICAgICAgIC8vIG9yIHdhaXQgYXMgbG9uZyBhcyB0aGUgbXVsdGl0YXAgaW50ZXJ2YWwgdG8gdHJpZ2dlclxuICAgICAgICAgIGlmICghdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG5cbiAgICAgICAgICAgICAgX3RoaXMyLnRyeUVtaXQoKTtcbiAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZmFpbFRpbWVvdXQgPSBmdW5jdGlvbiBmYWlsVGltZW91dCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpO1xuICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZW1pdCA9IGZ1bmN0aW9uIGVtaXQoKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGFwUmVjb2duaXplcjtcbiAgfShSZWNvZ25pemVyKTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAgICovXG5cblxuICB2YXIgQXR0clJlY29nbml6ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWNvZ25pemVyKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoQXR0clJlY29nbml6ZXIsIF9SZWNvZ25pemVyKTtcblxuICAgIGZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX1JlY29nbml6ZXIuY2FsbCh0aGlzLCBfZXh0ZW5kcyh7XG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgICB9LCBvcHRpb25zKSkgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IEF0dHJSZWNvZ25pemVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5hdHRyVGVzdCA9IGZ1bmN0aW9uIGF0dHJUZXN0KGlucHV0KSB7XG4gICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7XG4gICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG5cblxuICAgIF9wcm90by5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyhpbnB1dCkge1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG4gICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7IC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcblxuICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkge1xuICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcbiAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEF0dHJSZWNvZ25pemVyO1xuICB9KFJlY29nbml6ZXIpO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogZGlyZWN0aW9uIGNvbnMgdG8gc3RyaW5nXG4gICAqIEBwYXJhbSB7Y29uc3RhbnR9IGRpcmVjdGlvblxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGRpcmVjdGlvblN0cihkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgcmV0dXJuICdkb3duJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX1VQKSB7XG4gICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX0xFRlQpIHtcbiAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBQYW5cbiAgICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gICAqL1xuXG5cbiAgdmFyIFBhblJlY29nbml6ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BdHRyUmVjb2duaXplcikge1xuICAgIF9pbmhlcml0c0xvb3NlKFBhblJlY29nbml6ZXIsIF9BdHRyUmVjb2duaXplcik7XG5cbiAgICBmdW5jdGlvbiBQYW5SZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX0F0dHJSZWNvZ25pemVyLmNhbGwodGhpcywgX2V4dGVuZHMoe1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICAgIH0sIG9wdGlvbnMpKSB8fCB0aGlzO1xuICAgICAgX3RoaXMucFggPSBudWxsO1xuICAgICAgX3RoaXMucFkgPSBudWxsO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBQYW5SZWNvZ25pemVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5nZXRUb3VjaEFjdGlvbiA9IGZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uKCkge1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuXG4gICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlyZWN0aW9uVGVzdCA9IGZ1bmN0aW9uIGRpcmVjdGlvblRlc3QoaW5wdXQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGhhc01vdmVkID0gdHJ1ZTtcbiAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0LmRpcmVjdGlvbjtcbiAgICAgIHZhciB4ID0gaW5wdXQuZGVsdGFYO1xuICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7IC8vIGxvY2sgdG8gYXhpcz9cblxuICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgZGlyZWN0aW9uID0geCA9PT0gMCA/IERJUkVDVElPTl9OT05FIDogeCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICAgICAgICBoYXNNb3ZlZCA9IHggIT09IHRoaXMucFg7XG4gICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpcmVjdGlvbiA9IHkgPT09IDAgPyBESVJFQ1RJT05fTk9ORSA6IHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG4gICAgICAgICAgaGFzTW92ZWQgPSB5ICE9PSB0aGlzLnBZO1xuICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFZKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmF0dHJUZXN0ID0gZnVuY3Rpb24gYXR0clRlc3QoaW5wdXQpIHtcbiAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiYgKCAvLyByZXBsYWNlIHdpdGggYSBzdXBlciBjYWxsXG4gICAgICB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZW1pdCA9IGZ1bmN0aW9uIGVtaXQoaW5wdXQpIHtcbiAgICAgIHRoaXMucFggPSBpbnB1dC5kZWx0YVg7XG4gICAgICB0aGlzLnBZID0gaW5wdXQuZGVsdGFZO1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5kaXJlY3Rpb24pO1xuXG4gICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbjtcbiAgICAgIH1cblxuICAgICAgX0F0dHJSZWNvZ25pemVyLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFuUmVjb2duaXplcjtcbiAgfShBdHRyUmVjb2duaXplcik7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBTd2lwZVxuICAgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92aW5nIGZhc3QgKHZlbG9jaXR5KSwgd2l0aCBlbm91Z2ggZGlzdGFuY2UgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAgICovXG5cblxuICB2YXIgU3dpcGVSZWNvZ25pemVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXR0clJlY29nbml6ZXIpIHtcbiAgICBfaW5oZXJpdHNMb29zZShTd2lwZVJlY29nbml6ZXIsIF9BdHRyUmVjb2duaXplcik7XG5cbiAgICBmdW5jdGlvbiBTd2lwZVJlY29nbml6ZXIob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfQXR0clJlY29nbml6ZXIuY2FsbCh0aGlzLCBfZXh0ZW5kcyh7XG4gICAgICAgIGV2ZW50OiAnc3dpcGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICB2ZWxvY2l0eTogMC4zLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgICAgICBwb2ludGVyczogMVxuICAgICAgfSwgb3B0aW9ucykpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFN3aXBlUmVjb2duaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZ2V0VG91Y2hBY3Rpb24gPSBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvbigpIHtcbiAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYXR0clRlc3QgPSBmdW5jdGlvbiBhdHRyVGVzdChpbnB1dCkge1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICB2YXIgdmVsb2NpdHk7XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmIGRpcmVjdGlvbiAmIGlucHV0Lm9mZnNldERpcmVjdGlvbiAmJiBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiYgaW5wdXQubWF4UG9pbnRlcnMgPT09IHRoaXMub3B0aW9ucy5wb2ludGVycyAmJiBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGlucHV0KSB7XG4gICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0Lm9mZnNldERpcmVjdGlvbik7XG5cbiAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uLCBpbnB1dCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3dpcGVSZWNvZ25pemVyO1xuICB9KEF0dHJSZWNvZ25pemVyKTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFBpbmNoXG4gICAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gICAqL1xuXG5cbiAgdmFyIFBpbmNoUmVjb2duaXplciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0F0dHJSZWNvZ25pemVyKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUGluY2hSZWNvZ25pemVyLCBfQXR0clJlY29nbml6ZXIpO1xuXG4gICAgZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX0F0dHJSZWNvZ25pemVyLmNhbGwodGhpcywgX2V4dGVuZHMoe1xuICAgICAgICBldmVudDogJ3BpbmNoJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgICAgfSwgb3B0aW9ucykpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFBpbmNoUmVjb2duaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZ2V0VG91Y2hBY3Rpb24gPSBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvbigpIHtcbiAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYXR0clRlc3QgPSBmdW5jdGlvbiBhdHRyVGVzdChpbnB1dCkge1xuICAgICAgcmV0dXJuIF9BdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiYgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfTtcblxuICAgIF9wcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChpbnB1dCkge1xuICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG4gICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0JztcbiAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICB9XG5cbiAgICAgIF9BdHRyUmVjb2duaXplci5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBpbmNoUmVjb2duaXplcjtcbiAgfShBdHRyUmVjb2duaXplcik7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBSb3RhdGVcbiAgICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXIgYXJlIG1vdmluZyBpbiBhIGNpcmN1bGFyIG1vdGlvbi5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gICAqL1xuXG5cbiAgdmFyIFJvdGF0ZVJlY29nbml6ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BdHRyUmVjb2duaXplcikge1xuICAgIF9pbmhlcml0c0xvb3NlKFJvdGF0ZVJlY29nbml6ZXIsIF9BdHRyUmVjb2duaXplcik7XG5cbiAgICBmdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX0F0dHJSZWNvZ25pemVyLmNhbGwodGhpcywgX2V4dGVuZHMoe1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICAgIH0sIG9wdGlvbnMpKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBSb3RhdGVSZWNvZ25pemVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5nZXRUb3VjaEFjdGlvbiA9IGZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uKCkge1xuICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfTtcblxuICAgIF9wcm90by5hdHRyVGVzdCA9IGZ1bmN0aW9uIGF0dHJUZXN0KGlucHV0KSB7XG4gICAgICByZXR1cm4gX0F0dHJSZWNvZ25pemVyLnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJiAoTWF0aC5hYnMoaW5wdXQucm90YXRpb24pID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH07XG5cbiAgICByZXR1cm4gUm90YXRlUmVjb2duaXplcjtcbiAgfShBdHRyUmVjb2duaXplcik7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBQcmVzc1xuICAgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBmb3IgeCBtcyB3aXRob3V0IGFueSBtb3ZlbWVudC5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAgICovXG5cblxuICB2YXIgUHJlc3NSZWNvZ25pemVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVjb2duaXplcikge1xuICAgIF9pbmhlcml0c0xvb3NlKFByZXNzUmVjb2duaXplciwgX1JlY29nbml6ZXIpO1xuXG4gICAgZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX1JlY29nbml6ZXIuY2FsbCh0aGlzLCBfZXh0ZW5kcyh7XG4gICAgICAgIGV2ZW50OiAncHJlc3MnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGltZTogMjUxLFxuICAgICAgICAvLyBtaW5pbWFsIHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgcHJlc3NlZFxuICAgICAgICB0aHJlc2hvbGQ6IDlcbiAgICAgIH0sIG9wdGlvbnMpKSB8fCB0aGlzO1xuICAgICAgX3RoaXMuX3RpbWVyID0gbnVsbDtcbiAgICAgIF90aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFByZXNzUmVjb2duaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZ2V0VG91Y2hBY3Rpb24gPSBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvbigpIHtcbiAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuICAgIH07XG5cbiAgICBfcHJvdG8ucHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3MoaW5wdXQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgdmFyIHZhbGlkVGltZSA9IGlucHV0LmRlbHRhVGltZSA+IG9wdGlvbnMudGltZTtcbiAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7IC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG5cbiAgICAgIGlmICghdmFsaWRNb3ZlbWVudCB8fCAhdmFsaWRQb2ludGVycyB8fCBpbnB1dC5ldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAhdmFsaWRUaW1lKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG5cbiAgICAgICAgICBfdGhpczIudHJ5RW1pdCgpO1xuICAgICAgICB9LCBvcHRpb25zLnRpbWUpO1xuICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfTtcblxuICAgIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGlucHV0KSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgXCJ1cFwiLCBpbnB1dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBQcmVzc1JlY29nbml6ZXI7XG4gIH0oUmVjb2duaXplcik7XG5cbiAgdmFyIGRlZmF1bHRzID0ge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cbiAgICAgKiBCdXQgdGhpcyBpcyBzbG93ZXIgYW5kIHVudXNlZCBieSBzaW1wbGUgaW1wbGVtZW50YXRpb25zLCBzbyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZG9tRXZlbnRzOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgZW5hYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBFWFBFUklNRU5UQUwgRkVBVFVSRSAtLSBjYW4gYmUgcmVtb3ZlZC9jaGFuZ2VkXG4gICAgICogQ2hhbmdlIHRoZSBwYXJlbnQgaW5wdXQgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7TnVsbHxFdmVudFRhcmdldH1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRUYXJnZXQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICovXG4gICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgKi9cbiAgICAgIHRvdWNoU2VsZWN0OiBcIm5vbmVcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuICAgICAgICogYSBjYWxsb3V0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxpbmsuIFRoaXMgcHJvcGVydHkgYWxsb3dzIHlvdSB0byBkaXNhYmxlIHRoYXQgY2FsbG91dC5cbiAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAqL1xuICAgICAgdG91Y2hDYWxsb3V0OiBcIm5vbmVcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgem9vbWluZyBpcyBlbmFibGVkLiBVc2VkIGJ5IElFMTA+XG4gICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnRab29taW5nOiBcIm5vbmVcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogU3BlY2lmaWVzIHRoYXQgYW4gZW50aXJlIGVsZW1lbnQgc2hvdWxkIGJlIGRyYWdnYWJsZSBpbnN0ZWFkIG9mIGl0cyBjb250ZW50cy4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICovXG4gICAgICB1c2VyRHJhZzogXCJub25lXCIsXG5cbiAgICAgIC8qKlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqIE92ZXJyaWRlcyB0aGUgaGlnaGxpZ2h0IGNvbG9yIHNob3duIHdoZW4gdGhlIHVzZXIgdGFwcyBhIGxpbmsgb3IgYSBKYXZhU2NyaXB0XG4gICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICogQGRlZmF1bHQgJ3JnYmEoMCwwLDAsMCknXG4gICAgICAgKi9cbiAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiBcInJnYmEoMCwwLDAsMClcIlxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYFxuICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgKiBUaGlzIGlzIHNlcGFyYXRlZCB3aXRoIG90aGVyIGRlZmF1bHRzIGJlY2F1c2Ugb2YgdHJlZS1zaGFraW5nLlxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqL1xuXG4gIHZhciBwcmVzZXQgPSBbW1JvdGF0ZVJlY29nbml6ZXIsIHtcbiAgICBlbmFibGU6IGZhbHNlXG4gIH1dLCBbUGluY2hSZWNvZ25pemVyLCB7XG4gICAgZW5hYmxlOiBmYWxzZVxuICB9LCBbJ3JvdGF0ZSddXSwgW1N3aXBlUmVjb2duaXplciwge1xuICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUxcbiAgfV0sIFtQYW5SZWNvZ25pemVyLCB7XG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTFxuICB9LCBbJ3N3aXBlJ11dLCBbVGFwUmVjb2duaXplcl0sIFtUYXBSZWNvZ25pemVyLCB7XG4gICAgZXZlbnQ6ICdkb3VibGV0YXAnLFxuICAgIHRhcHM6IDJcbiAgfSwgWyd0YXAnXV0sIFtQcmVzc1JlY29nbml6ZXJdXTtcbiAgdmFyIFNUT1AgPSAxO1xuICB2YXIgRk9SQ0VEX1NUT1AgPSAyO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogYWRkL3JlbW92ZSB0aGUgY3NzIHByb3BlcnRpZXMgYXMgZGVmaW5lZCBpbiBtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHNcbiAgICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuXG4gICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHByb3A7XG4gICAgZWFjaChtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHMsIGZ1bmN0aW9uICh2YWx1ZSwgbmFtZSkge1xuICAgICAgcHJvcCA9IHByZWZpeGVkKGVsZW1lbnQuc3R5bGUsIG5hbWUpO1xuXG4gICAgICBpZiAoYWRkKSB7XG4gICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSB8fCBcIlwiO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFhZGQpIHtcbiAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHMgPSB7fTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO1xuICAgIGdlc3R1cmVFdmVudC5pbml0RXZlbnQoZXZlbnQsIHRydWUsIHRydWUpO1xuICAgIGdlc3R1cmVFdmVudC5nZXN0dXJlID0gZGF0YTtcbiAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGdlc3R1cmVFdmVudCk7XG4gIH1cbiAgLyoqXG4gICogQHByaXZhdGVcbiAgICogTWFuYWdlclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuXG5cbiAgdmFyIE1hbmFnZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5vcHRpb25zID0gYXNzaWduJDEoe30sIGRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcbiAgICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgICB0aGlzLnJlY29nbml6ZXJzID0gW107XG4gICAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG4gICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5pbnB1dCA9IGNyZWF0ZUlucHV0SW5zdGFuY2UodGhpcyk7XG4gICAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbik7XG4gICAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcbiAgICAgIGVhY2godGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgcmVjb2duaXplciA9IF90aGlzLmFkZChuZXcgaXRlbVswXShpdGVtWzFdKSk7XG5cbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IE1hbmFnZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnNldCA9IGZ1bmN0aW9uIHNldChvcHRpb25zKSB7XG4gICAgICBhc3NpZ24kMSh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOyAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG5cbiAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgIC8vIENsZWFuIHVwIGV4aXN0aW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVpbml0aWFsaXplXG4gICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgIHRoaXMuaW5wdXQuaW5pdCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG5cblxuICAgIF9wcm90by5zdG9wID0gZnVuY3Rpb24gc3RvcChmb3JjZSkge1xuICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ucmVjb2duaXplID0gZnVuY3Rpb24gcmVjb2duaXplKGlucHV0RGF0YSkge1xuICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG5cbiAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuXG5cbiAgICAgIHRoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKGlucHV0RGF0YSk7XG4gICAgICB2YXIgcmVjb2duaXplcjtcbiAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7IC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuICAgICAgLy8gaWYgbm8gcmVjb2duaXplciBpcyBkZXRlY3RpbmcgYSB0aGluZywgaXQgaXMgc2V0IHRvIGBudWxsYFxuXG4gICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjsgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgIC8vIG9yIHdoZW4gd2UncmUgaW4gYSBuZXcgc2Vzc2lvblxuXG4gICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICBjdXJSZWNvZ25pemVyID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICByZWNvZ25pemVyID0gcmVjb2duaXplcnNbaV07IC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS5cbiAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG4gICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG4gICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuXG4gICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQgIT09IEZPUkNFRF9TVE9QICYmICggLy8gMVxuICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09PSBjdXJSZWNvZ25pemVyIHx8IC8vIDJcbiAgICAgICAgcmVjb2duaXplci5jYW5SZWNvZ25pemVXaXRoKGN1clJlY29nbml6ZXIpKSkge1xuICAgICAgICAgIC8vIDNcbiAgICAgICAgICByZWNvZ25pemVyLnJlY29nbml6ZShpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgfSAvLyBpZiB0aGUgcmVjb2duaXplciBoYXMgYmVlbiByZWNvZ25pemluZyB0aGUgaW5wdXQgYXMgYSB2YWxpZCBnZXN0dXJlLCB3ZSB3YW50IHRvIHN0b3JlIHRoaXMgb25lIGFzIHRoZVxuICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSByZWNvZ25pemVyLiBidXQgb25seSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIHJlY29nbml6ZXJcblxuXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuICAgICAgICAgIHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIGdldCBhIHJlY29nbml6ZXIgYnkgaXRzIGV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE51bGx9XG4gICAgICovXG5cblxuICAgIF9wcm90by5nZXQgPSBmdW5jdGlvbiBnZXQocmVjb2duaXplcikge1xuICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09PSByZWNvZ25pemVyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXJzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgYWRkIGEgcmVjb2duaXplciB0byB0aGUgbWFuYWdlclxuICAgICAqIGV4aXN0aW5nIHJlY29nbml6ZXJzIHdpdGggdGhlIHNhbWUgZXZlbnQgbmFtZSB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxNYW5hZ2VyfVxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKHJlY29nbml6ZXIpIHtcbiAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCBcImFkZFwiLCB0aGlzKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gLy8gcmVtb3ZlIGV4aXN0aW5nXG5cblxuICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcblxuICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKGV4aXN0aW5nKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpO1xuICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpcztcbiAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogcmVtb3ZlIGEgcmVjb2duaXplciBieSBuYW1lIG9yIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKHJlY29nbml6ZXIpIHtcbiAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCBcInJlbW92ZVwiLCB0aGlzKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIHRhcmdldFJlY29nbml6ZXIgPSB0aGlzLmdldChyZWNvZ25pemVyKTsgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcblxuICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheShyZWNvZ25pemVycywgdGFyZ2V0UmVjb2duaXplcik7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogYmluZCBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ub24gPSBmdW5jdGlvbiBvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCB8fCBoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgIGhhbmRsZXJzW2V2ZW50XS5wdXNoKGhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlIHVuYmluZCBldmVudCwgbGVhdmUgZW1pdCBibGFuayB0byByZW1vdmUgYWxsIGhhbmRsZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXVxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLm9mZiA9IGZ1bmN0aW9uIG9mZihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgIGRlbGV0ZSBoYW5kbGVyc1tldmVudF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG5cblxuICAgIF9wcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgZGF0YSkge1xuICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5kb21FdmVudHMpIHtcbiAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgIH0gLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsXG5cblxuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcblxuICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZGF0YS50eXBlID0gZXZlbnQ7XG5cbiAgICAgIGRhdGEucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRhdGEuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgd2hpbGUgKGkgPCBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcbiAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWFuYWdlcjtcbiAgfSgpO1xuXG4gIHZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbiAgfTtcbiAgdmFyIFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQnO1xuICB2YXIgU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogVG91Y2ggZXZlbnRzIGlucHV0XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyBJbnB1dFxuICAgKi9cblxuICB2YXIgU2luZ2xlVG91Y2hJbnB1dCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0lucHV0KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoU2luZ2xlVG91Y2hJbnB1dCwgX0lucHV0KTtcblxuICAgIGZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIHZhciBwcm90byA9IFNpbmdsZVRvdWNoSW5wdXQucHJvdG90eXBlO1xuICAgICAgcHJvdG8uZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICAgIHByb3RvLmV2V2luID0gU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFM7XG4gICAgICBfdGhpcyA9IF9JbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFNpbmdsZVRvdWNoSW5wdXQucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKGV2KSB7XG4gICAgICB2YXIgdHlwZSA9IFNJTkdMRV9UT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07IC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cblxuICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpOyAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG5cbiAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTaW5nbGVUb3VjaElucHV0O1xuICB9KElucHV0KTtcblxuICBmdW5jdGlvbiBub3JtYWxpemVTaW5nbGVUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcblxuICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiB3cmFwIGEgbWV0aG9kIHdpdGggYSBkZXByZWNhdGlvbiB3YXJuaW5nIGFuZCBzdGFjayB0cmFjZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZShtZXRob2QsIG5hbWUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgZGVwcmVjYXRpb25NZXNzYWdlID0gXCJERVBSRUNBVEVEIE1FVEhPRDogXCIgKyBuYW1lICsgXCJcXG5cIiArIG1lc3NhZ2UgKyBcIiBBVCBcXG5cIjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ2dldC1zdGFjay10cmFjZScpO1xuICAgICAgdmFyIHN0YWNrID0gZSAmJiBlLnN0YWNrID8gZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sICcnKS5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLCAne2Fub255bW91c30oKUAnKSA6ICdVbmtub3duIFN0YWNrIFRyYWNlJztcbiAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuXG4gICAgICBpZiAobG9nKSB7XG4gICAgICAgIGxvZy5jYWxsKHdpbmRvdy5jb25zb2xlLCBkZXByZWNhdGlvbk1lc3NhZ2UsIHN0YWNrKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGV4dGVuZCBvYmplY3QuXG4gICAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICAgKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gICAqL1xuXG5cbiAgdmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiAoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG4gICAgICBpZiAoIW1lcmdlIHx8IG1lcmdlICYmIGRlc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgfVxuXG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc3Q7XG4gIH0sICdleHRlbmQnLCAnVXNlIGBhc3NpZ25gLicpO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cbiAgICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAgICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAgICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gICAqL1xuXG4gIHZhciBtZXJnZSQxID0gZGVwcmVjYXRlKGZ1bmN0aW9uIChkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG4gIH0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBzaW1wbGUgY2xhc3MgaW5oZXJpdGFuY2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gYmFzZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgYmFzZVAgPSBiYXNlLnByb3RvdHlwZTtcbiAgICB2YXIgY2hpbGRQO1xuICAgIGNoaWxkUCA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYmFzZVApO1xuICAgIGNoaWxkUC5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuICAgIGNoaWxkUC5fc3VwZXIgPSBiYXNlUDtcblxuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICBhc3NpZ24kMShjaGlsZFAsIHByb3BlcnRpZXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBib3VuZEZuKCkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cblxuXG4gIHZhciBIYW1tZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIHZhciBIYW1tZXIgPVxuICAgIC8qKlxuICAgICAgKiBAcHJpdmF0ZVxuICAgICAgKiBAY29uc3Qge3N0cmluZ31cbiAgICAgICovXG4gICAgZnVuY3Rpb24gSGFtbWVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgX2V4dGVuZHMoe1xuICAgICAgICByZWNvZ25pemVyczogcHJlc2V0LmNvbmNhdCgpXG4gICAgICB9LCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIEhhbW1lci5WRVJTSU9OID0gXCIyLjAuMTctcmNcIjtcbiAgICBIYW1tZXIuRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9BTEw7XG4gICAgSGFtbWVyLkRJUkVDVElPTl9ET1dOID0gRElSRUNUSU9OX0RPV047XG4gICAgSGFtbWVyLkRJUkVDVElPTl9MRUZUID0gRElSRUNUSU9OX0xFRlQ7XG4gICAgSGFtbWVyLkRJUkVDVElPTl9SSUdIVCA9IERJUkVDVElPTl9SSUdIVDtcbiAgICBIYW1tZXIuRElSRUNUSU9OX1VQID0gRElSRUNUSU9OX1VQO1xuICAgIEhhbW1lci5ESVJFQ1RJT05fSE9SSVpPTlRBTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMO1xuICAgIEhhbW1lci5ESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVkVSVElDQUw7XG4gICAgSGFtbWVyLkRJUkVDVElPTl9OT05FID0gRElSRUNUSU9OX05PTkU7XG4gICAgSGFtbWVyLkRJUkVDVElPTl9ET1dOID0gRElSRUNUSU9OX0RPV047XG4gICAgSGFtbWVyLklOUFVUX1NUQVJUID0gSU5QVVRfU1RBUlQ7XG4gICAgSGFtbWVyLklOUFVUX01PVkUgPSBJTlBVVF9NT1ZFO1xuICAgIEhhbW1lci5JTlBVVF9FTkQgPSBJTlBVVF9FTkQ7XG4gICAgSGFtbWVyLklOUFVUX0NBTkNFTCA9IElOUFVUX0NBTkNFTDtcbiAgICBIYW1tZXIuU1RBVEVfUE9TU0lCTEUgPSBTVEFURV9QT1NTSUJMRTtcbiAgICBIYW1tZXIuU1RBVEVfQkVHQU4gPSBTVEFURV9CRUdBTjtcbiAgICBIYW1tZXIuU1RBVEVfQ0hBTkdFRCA9IFNUQVRFX0NIQU5HRUQ7XG4gICAgSGFtbWVyLlNUQVRFX0VOREVEID0gU1RBVEVfRU5ERUQ7XG4gICAgSGFtbWVyLlNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgIEhhbW1lci5TVEFURV9DQU5DRUxMRUQgPSBTVEFURV9DQU5DRUxMRUQ7XG4gICAgSGFtbWVyLlNUQVRFX0ZBSUxFRCA9IFNUQVRFX0ZBSUxFRDtcbiAgICBIYW1tZXIuTWFuYWdlciA9IE1hbmFnZXI7XG4gICAgSGFtbWVyLklucHV0ID0gSW5wdXQ7XG4gICAgSGFtbWVyLlRvdWNoQWN0aW9uID0gVG91Y2hBY3Rpb247XG4gICAgSGFtbWVyLlRvdWNoSW5wdXQgPSBUb3VjaElucHV0O1xuICAgIEhhbW1lci5Nb3VzZUlucHV0ID0gTW91c2VJbnB1dDtcbiAgICBIYW1tZXIuUG9pbnRlckV2ZW50SW5wdXQgPSBQb2ludGVyRXZlbnRJbnB1dDtcbiAgICBIYW1tZXIuVG91Y2hNb3VzZUlucHV0ID0gVG91Y2hNb3VzZUlucHV0O1xuICAgIEhhbW1lci5TaW5nbGVUb3VjaElucHV0ID0gU2luZ2xlVG91Y2hJbnB1dDtcbiAgICBIYW1tZXIuUmVjb2duaXplciA9IFJlY29nbml6ZXI7XG4gICAgSGFtbWVyLkF0dHJSZWNvZ25pemVyID0gQXR0clJlY29nbml6ZXI7XG4gICAgSGFtbWVyLlRhcCA9IFRhcFJlY29nbml6ZXI7XG4gICAgSGFtbWVyLlBhbiA9IFBhblJlY29nbml6ZXI7XG4gICAgSGFtbWVyLlN3aXBlID0gU3dpcGVSZWNvZ25pemVyO1xuICAgIEhhbW1lci5QaW5jaCA9IFBpbmNoUmVjb2duaXplcjtcbiAgICBIYW1tZXIuUm90YXRlID0gUm90YXRlUmVjb2duaXplcjtcbiAgICBIYW1tZXIuUHJlc3MgPSBQcmVzc1JlY29nbml6ZXI7XG4gICAgSGFtbWVyLm9uID0gYWRkRXZlbnRMaXN0ZW5lcnM7XG4gICAgSGFtbWVyLm9mZiA9IHJlbW92ZUV2ZW50TGlzdGVuZXJzO1xuICAgIEhhbW1lci5lYWNoID0gZWFjaDtcbiAgICBIYW1tZXIubWVyZ2UgPSBtZXJnZSQxO1xuICAgIEhhbW1lci5leHRlbmQgPSBleHRlbmQ7XG4gICAgSGFtbWVyLmJpbmRGbiA9IGJpbmRGbjtcbiAgICBIYW1tZXIuYXNzaWduID0gYXNzaWduJDE7XG4gICAgSGFtbWVyLmluaGVyaXQgPSBpbmhlcml0O1xuICAgIEhhbW1lci5iaW5kRm4gPSBiaW5kRm47XG4gICAgSGFtbWVyLnByZWZpeGVkID0gcHJlZml4ZWQ7XG4gICAgSGFtbWVyLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIEhhbW1lci5pbkFycmF5ID0gaW5BcnJheTtcbiAgICBIYW1tZXIudW5pcXVlQXJyYXkgPSB1bmlxdWVBcnJheTtcbiAgICBIYW1tZXIuc3BsaXRTdHIgPSBzcGxpdFN0cjtcbiAgICBIYW1tZXIuYm9vbE9yRm4gPSBib29sT3JGbjtcbiAgICBIYW1tZXIuaGFzUGFyZW50ID0gaGFzUGFyZW50O1xuICAgIEhhbW1lci5hZGRFdmVudExpc3RlbmVycyA9IGFkZEV2ZW50TGlzdGVuZXJzO1xuICAgIEhhbW1lci5yZW1vdmVFdmVudExpc3RlbmVycyA9IHJlbW92ZUV2ZW50TGlzdGVuZXJzO1xuICAgIEhhbW1lci5kZWZhdWx0cyA9IGFzc2lnbiQxKHt9LCBkZWZhdWx0cywge1xuICAgICAgcHJlc2V0OiBwcmVzZXRcbiAgICB9KTtcbiAgICByZXR1cm4gSGFtbWVyO1xuICB9KCk7IC8vICBzdHlsZSBsb2FkZXIgYnV0IGJ5IHNjcmlwdCB0YWcsIG5vdCBieSB0aGUgbG9hZGVyLlxuICB2YXIgUmVhbEhhbW1lciA9IEhhbW1lcjtcblxuICBmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQzKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBzeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2V0SXRlcmF0b3JNZXRob2QkMShvKSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoaXNBcnJheSQxKG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQzKG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMyhvLCBtaW5MZW4pIHsgdmFyIF9jb250ZXh0MjE7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQzKG8sIG1pbkxlbik7IHZhciBuID0gc2xpY2UoX2NvbnRleHQyMSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSkuY2FsbChfY29udGV4dDIxLCA4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBmcm9tJDMobyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMyhvLCBtaW5MZW4pOyB9XG5cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkMyhhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cbiAgLyoqXHJcbiAgICogVXNlIHRoaXMgc3ltYm9sIHRvIGRlbGV0ZSBwcm9wZXJpZXMgaW4gZGVlcE9iamVjdEFzc2lnbi5cclxuICAgKi9cblxuICB2YXIgREVMRVRFID0gc3ltYm9sKFwiREVMRVRFXCIpO1xuICAvKipcclxuICAgKiBQdXJlIHZlcnNpb24gb2YgZGVlcE9iamVjdEFzc2lnbiwgaXQgZG9lc24ndCBtb2RpZnkgYW55IG9mIGl0J3MgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGJhc2UgLSBUaGUgYmFzZSBvYmplY3QgdGhhdCBmdWxsZmlscyB0aGUgd2hvbGUgaW50ZXJmYWNlIFQuXHJcbiAgICogQHBhcmFtIHVwZGF0ZXMgLSBVcGRhdGVzIHRoYXQgbWF5IGNoYW5nZSBvciBkZWxldGUgcHJvcHMuXHJcbiAgICogQHJldHVybnMgQSBicmFuZCBuZXcgaW5zdGFuY2Ugd2l0aCBhbGwgdGhlIHN1cHBsaWVkIG9iamVjdHMgZGVlcGx5IG1lcmdlZC5cclxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHB1cmVEZWVwT2JqZWN0QXNzaWduKGJhc2UpIHtcbiAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdXBkYXRlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICB1cGRhdGVzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVlcE9iamVjdEFzc2lnbi5hcHBseSh2b2lkIDAsIGNvbmNhdCQxKF9jb250ZXh0ID0gW3t9LCBiYXNlXSkuY2FsbChfY29udGV4dCwgdXBkYXRlcykpO1xuICB9XG4gIC8qKlxyXG4gICAqIERlZXAgdmVyc2lvbiBvZiBvYmplY3QgYXNzaWduIHdpdGggYWRkaXRpb25hbCBkZWxldGluZyBieSB0aGUgREVMRVRFIHN5bWJvbC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB2YWx1ZXMgLSBPYmplY3RzIHRvIGJlIGRlZXBseSBtZXJnZWQuXHJcbiAgICogQHJldHVybnMgVGhlIGZpcnN0IG9iamVjdCBmcm9tIHZhbHVlcy5cclxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGRlZXBPYmplY3RBc3NpZ24oKSB7XG4gICAgdmFyIG1lcmdlZCA9IGRlZXBPYmplY3RBc3NpZ25Ob25lbnRyeS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgc3RyaXBEZWxldGUobWVyZ2VkKTtcbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9XG4gIC8qKlxyXG4gICAqIERlZXAgdmVyc2lvbiBvZiBvYmplY3QgYXNzaWduIHdpdGggYWRkaXRpb25hbCBkZWxldGluZyBieSB0aGUgREVMRVRFIHN5bWJvbC5cclxuICAgKlxyXG4gICAqIEByZW1hcmtzXHJcbiAgICogVGhpcyBkb2Vzbid0IHN0cmlwIHRoZSBERUxFVEUgc3ltYm9scyBzbyB0aGV5IG1heSBlbmQgdXAgaW4gdGhlIGZpbmFsIG9iamVjdC5cclxuICAgKiBAcGFyYW0gdmFsdWVzIC0gT2JqZWN0cyB0byBiZSBkZWVwbHkgbWVyZ2VkLlxyXG4gICAqIEByZXR1cm5zIFRoZSBmaXJzdCBvYmplY3QgZnJvbSB2YWx1ZXMuXHJcbiAgICovXG5cblxuICBmdW5jdGlvbiBkZWVwT2JqZWN0QXNzaWduTm9uZW50cnkoKSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIHZhbHVlc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZXMubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPiAyKSB7XG4gICAgICB2YXIgX2NvbnRleHQyO1xuXG4gICAgICByZXR1cm4gZGVlcE9iamVjdEFzc2lnbk5vbmVudHJ5LmFwcGx5KHZvaWQgMCwgY29uY2F0JDEoX2NvbnRleHQyID0gW2RlZXBPYmplY3RBc3NpZ24odmFsdWVzWzBdLCB2YWx1ZXNbMV0pXSkuY2FsbChfY29udGV4dDIsIF90b0NvbnN1bWFibGVBcnJheShzbGljZSh2YWx1ZXMpLmNhbGwodmFsdWVzLCAyKSkpKTtcbiAgICB9XG5cbiAgICB2YXIgYSA9IHZhbHVlc1swXTtcbiAgICB2YXIgYiA9IHZhbHVlc1sxXTtcblxuICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQzKG93bktleXMkMShiKSksXG4gICAgICAgIF9zdGVwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBwcm9wID0gX3N0ZXAudmFsdWU7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGIsIHByb3ApKSA7ZWxzZSBpZiAoYltwcm9wXSA9PT0gREVMRVRFKSB7XG4gICAgICAgICAgZGVsZXRlIGFbcHJvcF07XG4gICAgICAgIH0gZWxzZSBpZiAoYVtwcm9wXSAhPT0gbnVsbCAmJiBiW3Byb3BdICE9PSBudWxsICYmIF90eXBlb2YoYVtwcm9wXSkgPT09IFwib2JqZWN0XCIgJiYgX3R5cGVvZihiW3Byb3BdKSA9PT0gXCJvYmplY3RcIiAmJiAhaXNBcnJheSQxKGFbcHJvcF0pICYmICFpc0FycmF5JDEoYltwcm9wXSkpIHtcbiAgICAgICAgICBhW3Byb3BdID0gZGVlcE9iamVjdEFzc2lnbk5vbmVudHJ5KGFbcHJvcF0sIGJbcHJvcF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFbcHJvcF0gPSBjbG9uZShiW3Byb3BdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfVxuICAvKipcclxuICAgKiBEZWVwIGNsb25lIGdpdmVuIG9iamVjdCBvciBhcnJheS4gSW4gY2FzZSBvZiBwcmltaXRpdmUgc2ltcGx5IHJldHVybi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBhIC0gQW55dGhpbmcuXHJcbiAgICogQHJldHVybnMgRGVlcCBjbG9uZWQgb2JqZWN0L2FycmF5IG9yIHVuY2hhbmdlZCBhLlxyXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY2xvbmUoYSkge1xuICAgIGlmIChpc0FycmF5JDEoYSkpIHtcbiAgICAgIHJldHVybiBtYXAkMyhhKS5jYWxsKGEsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY2xvbmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChfdHlwZW9mKGEpID09PSBcIm9iamVjdFwiICYmIGEgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBkZWVwT2JqZWN0QXNzaWduTm9uZW50cnkoe30sIGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogU3RyaXAgREVMRVRFIGZyb20gZ2l2ZW4gb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGEgLSBPYmplY3Qgd2hpY2ggbWF5IGNvbnRhaW4gREVMRVRFIGJ1dCB3b24ndCBhZnRlciB0aGlzIGlzIGV4ZWN1dGVkLlxyXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gc3RyaXBEZWxldGUoYSkge1xuICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRrZXlzID0ga2V5cyQ0KGEpOyBfaSA8IF9PYmplY3Qka2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBwcm9wID0gX09iamVjdCRrZXlzW19pXTtcblxuICAgICAgaWYgKGFbcHJvcF0gPT09IERFTEVURSkge1xuICAgICAgICBkZWxldGUgYVtwcm9wXTtcbiAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZihhW3Byb3BdKSA9PT0gXCJvYmplY3RcIiAmJiBhW3Byb3BdICE9PSBudWxsKSB7XG4gICAgICAgIHN0cmlwRGVsZXRlKGFbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0dXAgYSBtb2NrIGhhbW1lci5qcyBvYmplY3QsIGZvciB1bml0IHRlc3RpbmcuXG4gICAqXG4gICAqIEluc3BpcmF0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vdWJlci9kZWNrLmdsL3B1bGwvNjU4XG4gICAqXG4gICAqIEByZXR1cm5zIHt7b246IG5vb3AsIG9mZjogbm9vcCwgZGVzdHJveTogbm9vcCwgZW1pdDogbm9vcCwgZ2V0OiBnZXR9fVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGhhbW1lck1vY2soKSB7XG4gICAgdmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5cbiAgICByZXR1cm4ge1xuICAgICAgb246IG5vb3AsXG4gICAgICBvZmY6IG5vb3AsXG4gICAgICBkZXN0cm95OiBub29wLFxuICAgICAgZW1pdDogbm9vcCxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldDogbm9vcFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgSGFtbWVyJDEgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LkhhbW1lciB8fCBSZWFsSGFtbWVyIDogZnVuY3Rpb24gKCkge1xuICAgIC8vIGhhbW1lci5qcyBpcyBvbmx5IGF2YWlsYWJsZSBpbiBhIGJyb3dzZXIsIG5vdCBpbiBub2RlLmpzLiBSZXBsYWNpbmcgaXQgd2l0aCBhIG1vY2sgb2JqZWN0LlxuICAgIHJldHVybiBoYW1tZXJNb2NrKCk7XG4gIH07XG4gIC8qKlxuICAgKiBUdXJuIGFuIGVsZW1lbnQgaW50byBhbiBjbGlja1RvVXNlIGVsZW1lbnQuXG4gICAqIFdoZW4gbm90IGFjdGl2ZSwgdGhlIGVsZW1lbnQgaGFzIGEgdHJhbnNwYXJlbnQgb3ZlcmxheS4gV2hlbiB0aGUgb3ZlcmxheSBpc1xuICAgKiBjbGlja2VkLCB0aGUgbW9kZSBpcyBjaGFuZ2VkIHRvIGFjdGl2ZS5cbiAgICogV2hlbiBhY3RpdmUsIHRoZSBlbGVtZW50IGlzIGRpc3BsYXllZCB3aXRoIGEgYmx1ZSBib3JkZXIgYXJvdW5kIGl0LCBhbmRcbiAgICogdGhlIGludGVyYWN0aXZlIGNvbnRlbnRzIG9mIHRoZSBlbGVtZW50IGNhbiBiZSB1c2VkLiBXaGVuIGNsaWNrZWQgb3V0c2lkZVxuICAgKiB0aGUgZWxlbWVudCwgdGhlIGVsZW1lbnRzIG1vZGUgaXMgY2hhbmdlZCB0byBpbmFjdGl2ZS5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXJcbiAgICogQGNsYXNzIEFjdGl2YXRvclxuICAgKi9cblxuICBmdW5jdGlvbiBBY3RpdmF0b3IkMShjb250YWluZXIpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBfY29udGV4dDM7XG5cbiAgICB0aGlzLl9jbGVhbnVwUXVldWUgPSBbXTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuX2RvbSA9IHtcbiAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgb3ZlcmxheTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgIH07XG5cbiAgICB0aGlzLl9kb20ub3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwidmlzLW92ZXJsYXlcIik7XG5cbiAgICB0aGlzLl9kb20uY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2RvbS5vdmVybGF5KTtcblxuICAgIHRoaXMuX2NsZWFudXBRdWV1ZS5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLl9kb20ub3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzLl9kb20ub3ZlcmxheSk7XG4gICAgfSk7XG5cbiAgICB2YXIgaGFtbWVyID0gSGFtbWVyJDEodGhpcy5fZG9tLm92ZXJsYXkpO1xuICAgIGhhbW1lci5vbihcInRhcFwiLCBiaW5kJDYoX2NvbnRleHQzID0gdGhpcy5fb25UYXBPdmVybGF5KS5jYWxsKF9jb250ZXh0MywgdGhpcykpO1xuXG4gICAgdGhpcy5fY2xlYW51cFF1ZXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgaGFtbWVyLmRlc3Ryb3koKTsgLy8gRklYTUU6IGNsZWFuaW5nIHVwIGhhbW1lciBpbnN0YW5jZXMgZG9lc24ndCB3b3JrIChUaW1lbGluZSBub3QgcmVtb3ZlZFxuICAgICAgLy8gZnJvbSBtZW1vcnkpXG4gICAgfSk7IC8vIGJsb2NrIGFsbCB0b3VjaCBldmVudHMgKGV4Y2VwdCB0YXApXG5cblxuICAgIHZhciBldmVudHMgPSBbXCJ0YXBcIiwgXCJkb3VibGV0YXBcIiwgXCJwcmVzc1wiLCBcInBpbmNoXCIsIFwicGFuXCIsIFwicGFuc3RhcnRcIiwgXCJwYW5tb3ZlXCIsIFwicGFuZW5kXCJdO1xuXG4gICAgZm9yRWFjaCQxKGV2ZW50cykuY2FsbChldmVudHMsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaGFtbWVyLm9uKGV2ZW50LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcbiAgICB9KTsgLy8gYXR0YWNoIGEgY2xpY2sgZXZlbnQgdG8gdGhlIHdpbmRvdywgaW4gb3JkZXIgdG8gZGVhY3RpdmF0ZSB3aGVuIGNsaWNraW5nIG91dHNpZGUgdGhlIHRpbWVsaW5lXG5cblxuICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5ib2R5KSB7XG4gICAgICB0aGlzLl9vbkNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghX2hhc1BhcmVudChldmVudC50YXJnZXQsIGNvbnRhaW5lcikpIHtcbiAgICAgICAgICBfdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX29uQ2xpY2spO1xuXG4gICAgICB0aGlzLl9jbGVhbnVwUXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF90aGlzLl9vbkNsaWNrKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gcHJlcGFyZSBlc2NhcGUga2V5IGxpc3RlbmVyIGZvciBkZWFjdGl2YXRpbmcgd2hlbiBhY3RpdmVcblxuXG4gICAgdGhpcy5fZXNjTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChcImtleVwiIGluIGV2ZW50ID8gZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiIDogZXZlbnQua2V5Q29kZSA9PT0gMjdcbiAgICAgIC8qIHRoZSBrZXlDb2RlIGlzIGZvciBJRTExICovXG4gICAgICApIHtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH0gLy8gdHVybiBpbnRvIGFuIGV2ZW50IGVtaXR0ZXJcblxuXG4gIEVtaXR0ZXIoQWN0aXZhdG9yJDEucHJvdG90eXBlKTsgLy8gVGhlIGN1cnJlbnRseSBhY3RpdmUgYWN0aXZhdG9yXG5cbiAgQWN0aXZhdG9yJDEuY3VycmVudCA9IG51bGw7XG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBhY3RpdmF0b3IuIENsZWFucyB1cCBhbGwgY3JlYXRlZCBET00gYW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKi9cblxuICBBY3RpdmF0b3IkMS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2NvbnRleHQ0LCBfY29udGV4dDU7XG5cbiAgICB0aGlzLmRlYWN0aXZhdGUoKTtcblxuICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMyhyZXZlcnNlKF9jb250ZXh0NCA9IHNwbGljZShfY29udGV4dDUgPSB0aGlzLl9jbGVhbnVwUXVldWUpLmNhbGwoX2NvbnRleHQ1LCAwKSkuY2FsbChfY29udGV4dDQpKSxcbiAgICAgICAgX3N0ZXAyO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBBY3RpdmF0ZSB0aGUgZWxlbWVudFxuICAgKiBPdmVybGF5IGlzIGhpZGRlbiwgZWxlbWVudCBpcyBkZWNvcmF0ZWQgd2l0aCBhIGJsdWUgc2hhZG93IGJvcmRlclxuICAgKi9cblxuXG4gIEFjdGl2YXRvciQxLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyB3ZSBhbGxvdyBvbmx5IG9uZSBhY3RpdmUgYWN0aXZhdG9yIGF0IGEgdGltZVxuICAgIGlmIChBY3RpdmF0b3IkMS5jdXJyZW50KSB7XG4gICAgICBBY3RpdmF0b3IkMS5jdXJyZW50LmRlYWN0aXZhdGUoKTtcbiAgICB9XG5cbiAgICBBY3RpdmF0b3IkMS5jdXJyZW50ID0gdGhpcztcbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5fZG9tLm92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgdGhpcy5fZG9tLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidmlzLWFjdGl2ZVwiKTtcblxuICAgIHRoaXMuZW1pdChcImNoYW5nZVwiKTtcbiAgICB0aGlzLmVtaXQoXCJhY3RpdmF0ZVwiKTsgLy8gdWdseSBoYWNrOiBiaW5kIEVTQyBhZnRlciBlbWl0dGluZyB0aGUgZXZlbnRzLCBhcyB0aGUgTmV0d29yayByZWJpbmRzIGFsbFxuICAgIC8vIGtleWJvYXJkIGV2ZW50cyBvbiBhICdjaGFuZ2UnIGV2ZW50XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2VzY0xpc3RlbmVyKTtcbiAgfTtcbiAgLyoqXG4gICAqIERlYWN0aXZhdGUgdGhlIGVsZW1lbnRcbiAgICogT3ZlcmxheSBpcyBkaXNwbGF5ZWQgb24gdG9wIG9mIHRoZSBlbGVtZW50XG4gICAqL1xuXG5cbiAgQWN0aXZhdG9yJDEucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLl9kb20ub3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgdGhpcy5fZG9tLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwidmlzLWFjdGl2ZVwiKTtcblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fZXNjTGlzdGVuZXIpO1xuICAgIHRoaXMuZW1pdChcImNoYW5nZVwiKTtcbiAgICB0aGlzLmVtaXQoXCJkZWFjdGl2YXRlXCIpO1xuICB9O1xuICAvKipcbiAgICogSGFuZGxlIGEgdGFwIGV2ZW50OiBhY3RpdmF0ZSB0aGUgY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9ICBldmVudCAgIFRoZSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIEFjdGl2YXRvciQxLnByb3RvdHlwZS5fb25UYXBPdmVybGF5ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gYWN0aXZhdGUgdGhlIGNvbnRhaW5lclxuICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0aGUgZWxlbWVudCBoYXMgdGhlIHJlcXVlc3RlZCBwYXJlbnQgZWxlbWVudCBzb21ld2hlcmUgaW5cbiAgICogaXRzIGNoYWluIG9mIHBhcmVudCBub2Rlcy5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBwYXJlbnQgaXMgZm91bmQgc29tZXdoZXJlIGluIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgY2hhaW4gb2YgcGFyZW50IG5vZGVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9oYXNQYXJlbnQoZWxlbWVudCwgcGFyZW50KSB7XG4gICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50ID09PSBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIHV0aWxpdHkgZnVuY3Rpb25zXG5cbiAgdmFyIGdsb2JhbCQ0ID0gZ2xvYmFsJE07XG4gIHZhciBpc0NvbnN0cnVjdG9yID0gaXNDb25zdHJ1Y3RvciQ0O1xuICB2YXIgdHJ5VG9TdHJpbmckMSA9IHRyeVRvU3RyaW5nJDQ7XG4gIHZhciBUeXBlRXJyb3IkMyA9IGdsb2JhbCQ0LlR5cGVFcnJvcjsgLy8gYEFzc2VydDogSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkgaXMgdHJ1ZWBcblxuICB2YXIgYUNvbnN0cnVjdG9yJDEgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICBpZiAoaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgICB0aHJvdyBUeXBlRXJyb3IkMyh0cnlUb1N0cmluZyQxKGFyZ3VtZW50KSArICcgaXMgbm90IGEgY29uc3RydWN0b3InKTtcbiAgfTtcblxuICB2YXIgJCQ1ID0gX2V4cG9ydDtcbiAgdmFyIGdldEJ1aWx0SW4kMSA9IGdldEJ1aWx0SW4kOTtcbiAgdmFyIGFwcGx5ID0gZnVuY3Rpb25BcHBseTtcbiAgdmFyIGJpbmQkMiA9IGZ1bmN0aW9uQmluZDtcbiAgdmFyIGFDb25zdHJ1Y3RvciA9IGFDb25zdHJ1Y3RvciQxO1xuICB2YXIgYW5PYmplY3QkMSA9IGFuT2JqZWN0JGI7XG4gIHZhciBpc09iamVjdCQzID0gaXNPYmplY3QkZjtcbiAgdmFyIGNyZWF0ZSQ0ID0gb2JqZWN0Q3JlYXRlO1xuICB2YXIgZmFpbHMkNSA9IGZhaWxzJHI7XG4gIHZhciBuYXRpdmVDb25zdHJ1Y3QgPSBnZXRCdWlsdEluJDEoJ1JlZmxlY3QnLCAnY29uc3RydWN0Jyk7XG4gIHZhciBPYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgcHVzaCQxID0gW10ucHVzaDsgLy8gYFJlZmxlY3QuY29uc3RydWN0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZWZsZWN0LmNvbnN0cnVjdFxuICAvLyBNUyBFZGdlIHN1cHBvcnRzIG9ubHkgMiBhcmd1bWVudHMgYW5kIGFyZ3VtZW50c0xpc3QgYXJndW1lbnQgaXMgb3B0aW9uYWxcbiAgLy8gRkYgTmlnaHRseSBzZXRzIHRoaXJkIGFyZ3VtZW50IGFzIGBuZXcudGFyZ2V0YCwgYnV0IGRvZXMgbm90IGNyZWF0ZSBgdGhpc2AgZnJvbSBpdFxuXG4gIHZhciBORVdfVEFSR0VUX0JVRyA9IGZhaWxzJDUoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEYoKSB7XG4gICAgICAvKiBlbXB0eSAqL1xuICAgIH1cblxuICAgIHJldHVybiAhKG5hdGl2ZUNvbnN0cnVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAvKiBlbXB0eSAqL1xuICAgIH0sIFtdLCBGKSBpbnN0YW5jZW9mIEYpO1xuICB9KTtcbiAgdmFyIEFSR1NfQlVHID0gIWZhaWxzJDUoZnVuY3Rpb24gKCkge1xuICAgIG5hdGl2ZUNvbnN0cnVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAvKiBlbXB0eSAqL1xuICAgIH0pO1xuICB9KTtcbiAgdmFyIEZPUkNFRCQxID0gTkVXX1RBUkdFVF9CVUcgfHwgQVJHU19CVUc7XG4gICQkNSh7XG4gICAgdGFyZ2V0OiAnUmVmbGVjdCcsXG4gICAgc3RhdDogdHJ1ZSxcbiAgICBmb3JjZWQ6IEZPUkNFRCQxLFxuICAgIHNoYW06IEZPUkNFRCQxXG4gIH0sIHtcbiAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIGNvbnN0cnVjdChUYXJnZXQsIGFyZ3NcbiAgICAvKiAsIG5ld1RhcmdldCAqL1xuICAgICkge1xuICAgICAgYUNvbnN0cnVjdG9yKFRhcmdldCk7XG4gICAgICBhbk9iamVjdCQxKGFyZ3MpO1xuICAgICAgdmFyIG5ld1RhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPCAzID8gVGFyZ2V0IDogYUNvbnN0cnVjdG9yKGFyZ3VtZW50c1syXSk7XG4gICAgICBpZiAoQVJHU19CVUcgJiYgIU5FV19UQVJHRVRfQlVHKSByZXR1cm4gbmF0aXZlQ29uc3RydWN0KFRhcmdldCwgYXJncywgbmV3VGFyZ2V0KTtcblxuICAgICAgaWYgKFRhcmdldCA9PSBuZXdUYXJnZXQpIHtcbiAgICAgICAgLy8gdy9vIGFsdGVyZWQgbmV3VGFyZ2V0LCBvcHRpbWl6YXRpb24gZm9yIDAtNCBhcmd1bWVudHNcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGFyZ2V0KCk7XG5cbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRhcmdldChhcmdzWzBdKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGFyZ2V0KGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRhcmdldChhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgfSAvLyB3L28gYWx0ZXJlZCBuZXdUYXJnZXQsIGxvdCBvZiBhcmd1bWVudHMgY2FzZVxuXG5cbiAgICAgICAgdmFyICRhcmdzID0gW251bGxdO1xuICAgICAgICBhcHBseShwdXNoJDEsICRhcmdzLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIG5ldyAoYXBwbHkoYmluZCQyLCBUYXJnZXQsICRhcmdzKSkoKTtcbiAgICAgIH0gLy8gd2l0aCBhbHRlcmVkIG5ld1RhcmdldCwgbm90IHN1cHBvcnQgYnVpbHQtaW4gY29uc3RydWN0b3JzXG5cblxuICAgICAgdmFyIHByb3RvID0gbmV3VGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IGNyZWF0ZSQ0KGlzT2JqZWN0JDMocHJvdG8pID8gcHJvdG8gOiBPYmplY3RQcm90b3R5cGUpO1xuICAgICAgdmFyIHJlc3VsdCA9IGFwcGx5KFRhcmdldCwgaW5zdGFuY2UsIGFyZ3MpO1xuICAgICAgcmV0dXJuIGlzT2JqZWN0JDMocmVzdWx0KSA/IHJlc3VsdCA6IGluc3RhbmNlO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHBhdGgkMyA9IHBhdGgkcTtcbiAgdmFyIGNvbnN0cnVjdCQyID0gcGF0aCQzLlJlZmxlY3QuY29uc3RydWN0O1xuXG4gIHZhciBwYXJlbnQkaCA9IGNvbnN0cnVjdCQyO1xuICB2YXIgY29uc3RydWN0JDEgPSBwYXJlbnQkaDtcblxuICB2YXIgY29uc3RydWN0ID0gY29uc3RydWN0JDE7XG5cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgdmFyIHBhcmVudCRnID0gY3JlYXRlJDY7XG4gIHZhciBjcmVhdGUkMyA9IHBhcmVudCRnO1xuXG4gIHZhciBwYXJlbnQkZiA9IGNyZWF0ZSQzO1xuICB2YXIgY3JlYXRlJDIgPSBwYXJlbnQkZjtcblxuICB2YXIgY3JlYXRlJDEgPSBjcmVhdGUkMjtcblxuICB2YXIgJCQ0ID0gX2V4cG9ydDtcbiAgdmFyIHNldFByb3RvdHlwZU9mJDUgPSBvYmplY3RTZXRQcm90b3R5cGVPZjsgLy8gYE9iamVjdC5zZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnNldHByb3RvdHlwZW9mXG5cbiAgJCQ0KHtcbiAgICB0YXJnZXQ6ICdPYmplY3QnLFxuICAgIHN0YXQ6IHRydWVcbiAgfSwge1xuICAgIHNldFByb3RvdHlwZU9mOiBzZXRQcm90b3R5cGVPZiQ1XG4gIH0pO1xuXG4gIHZhciBwYXRoJDIgPSBwYXRoJHE7XG4gIHZhciBzZXRQcm90b3R5cGVPZiQ0ID0gcGF0aCQyLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuICB2YXIgcGFyZW50JGUgPSBzZXRQcm90b3R5cGVPZiQ0O1xuICB2YXIgc2V0UHJvdG90eXBlT2YkMyA9IHBhcmVudCRlO1xuXG4gIHZhciBwYXJlbnQkZCA9IHNldFByb3RvdHlwZU9mJDM7XG4gIHZhciBzZXRQcm90b3R5cGVPZiQyID0gcGFyZW50JGQ7XG5cbiAgdmFyIHBhcmVudCRjID0gc2V0UHJvdG90eXBlT2YkMjtcbiAgdmFyIHNldFByb3RvdHlwZU9mJDEgPSBwYXJlbnQkYztcblxuICB2YXIgc2V0UHJvdG90eXBlT2YgPSBzZXRQcm90b3R5cGVPZiQxO1xuXG4gIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgX3NldFByb3RvdHlwZU9mID0gc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IGNyZWF0ZSQxKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVmaW5lUHJvcGVydHkkNyhzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwge1xuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgfVxuXG4gIHZhciBwYXJlbnQkYiA9IGdldFByb3RvdHlwZU9mJDM7XG4gIHZhciBnZXRQcm90b3R5cGVPZiQyID0gcGFyZW50JGI7XG5cbiAgdmFyIHBhcmVudCRhID0gZ2V0UHJvdG90eXBlT2YkMjtcbiAgdmFyIGdldFByb3RvdHlwZU9mJDEgPSBwYXJlbnQkYTtcblxuICB2YXIgZ2V0UHJvdG90eXBlT2YgPSBnZXRQcm90b3R5cGVPZiQxO1xuXG4gIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgX2dldFByb3RvdHlwZU9mID0gc2V0UHJvdG90eXBlT2YgPyBnZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgZ2V0UHJvdG90eXBlT2Yobyk7XG4gICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgdmFyIHJ1bnRpbWUgPSB7ZXhwb3J0czoge319O1xuXG4gIC8qKlxuICAgKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gICAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG5cbiAgKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICB2YXIgcnVudGltZSA9IGZ1bmN0aW9uIChleHBvcnRzKSB7XG5cbiAgICAgIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gICAgICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gICAgICB2YXIgdW5kZWZpbmVkJDE7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuXG4gICAgICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICAgICAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgICAgIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gICAgICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gICAgICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBJRSA4IGhhcyBhIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGhhdCBvbmx5IHdvcmtzIG9uIERPTSBvYmplY3RzLlxuICAgICAgICBkZWZpbmUoe30sIFwiXCIpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGRlZmluZSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgICAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICAgICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pOyAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cblxuICAgICAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBnZW5lcmF0b3I7XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydHMud3JhcCA9IHdyYXA7IC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAgICAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gICAgICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgICAgIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgICAgIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgICAgIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgICAgIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gICAgICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgICAgIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgICAgIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cblxuICAgICAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBhcmc6IGZuLmNhbGwob2JqLCBhcmcpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwidGhyb3dcIixcbiAgICAgICAgICAgIGFyZzogZXJyXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgICAgIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICAgICAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgICAgIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7IC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgICAgIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cblxuICAgICAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gICAgICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgICAgIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gICAgICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuXG4gICAgICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuXG4gICAgICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG5cbiAgICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAgICAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cblxuXG4gICAgICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgICAgIGRlZmluZShJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9KTtcbiAgICAgIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgICAgIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcblxuICAgICAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJiBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICAgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgICAgIH1cblxuICAgICAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICAgICAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoR3AsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgICAgZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uKTtcbiAgICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTsgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgICAgIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG5cbiAgICAgIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICAgICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIGN0b3IgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiIDogZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgICAgICByZXR1cm4gZ2VuRnVuO1xuICAgICAgfTsgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gICAgICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAgICAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAgICAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cblxuXG4gICAgICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9fYXdhaXQ6IGFyZ1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHtcbiAgICAgICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICAgICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPSAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgICAgIH0gLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAgICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG5cblxuICAgICAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICAgICAgfVxuXG4gICAgICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgICAgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSk7XG4gICAgICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yOyAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gICAgICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgICAgIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuXG4gICAgICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgICAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuICAgICAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLCBQcm9taXNlSW1wbCk7XG4gICAgICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgICAgIH0gLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcblxuXG4gICAgICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG5cbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG4gICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmUgPyBHZW5TdGF0ZUNvbXBsZXRlZCA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDsgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuXG4gICAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgICAgIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgICAgIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAgICAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG5cblxuICAgICAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuXG4gICAgICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCQxKSB7XG4gICAgICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgICAgIGlmICghaW5mbykge1xuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTsgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuXG4gICAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYzsgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgIH0gLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAgICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cblxuXG4gICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH0gLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgICAgIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cblxuXG4gICAgICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuICAgICAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7IC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gICAgICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAgICAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgICAgIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICAgIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9KTtcbiAgICAgIGRlZmluZShHcCwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgICB0cnlMb2M6IGxvY3NbMF1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgICAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICAgICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgICAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAgICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgICAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgICAgIHRoaXMudHJ5RW50cmllcyA9IFt7XG4gICAgICAgICAgdHJ5TG9jOiBcInJvb3RcIlxuICAgICAgICB9XTtcbiAgICAgICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgICAgICB0aGlzLnJlc2V0KHRydWUpO1xuICAgICAgfVxuXG4gICAgICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIHZhciBrZXlzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5yZXZlcnNlKCk7IC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cblxuXG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgICAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG5cbiAgICAgICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICAgICAgdmFyIGkgPSAtMSxcbiAgICAgICAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG5cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5leHQ6IGRvbmVSZXN1bHRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgICAgIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCQxLFxuICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuICAgICAgICByZXNldDogZnVuY3Rpb24gKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgICAgIHRoaXMubmV4dCA9IDA7IC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cblxuICAgICAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcbiAgICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuXG4gICAgICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICEhY2F1Z2h0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFicnVwdDogZnVuY3Rpb24gKHR5cGUsIGFyZykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJiAodHlwZSA9PT0gXCJicmVha1wiIHx8IHR5cGUgPT09IFwiY29udGludWVcIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHwgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9LFxuICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uIChmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJjYXRjaFwiOiBmdW5jdGlvbiAodHJ5TG9jKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG5cblxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgICAgIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAgICAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gICAgICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuXG4gICAgICByZXR1cm4gZXhwb3J0cztcbiAgICB9KCAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAgIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gICAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAgIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgKTtcblxuICAgIHRyeSB7XG4gICAgICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICAgIH0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gICAgICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAgICAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gICAgICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIGluIG1vZGVybiBlbmdpbmVzXG4gICAgICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlXG4gICAgICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgICAgIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAgICAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgICAgIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gICAgICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgICAgIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9KShydW50aW1lKTtcblxuICB2YXIgcmVnZW5lcmF0b3IgPSBydW50aW1lLmV4cG9ydHM7XG5cbiAgdmFyIGludGVybmFsTWV0YWRhdGEgPSB7ZXhwb3J0czoge319O1xuXG4gIHZhciBmYWlscyQ0ID0gZmFpbHMkcjtcbiAgdmFyIGFycmF5QnVmZmVyTm9uRXh0ZW5zaWJsZSA9IGZhaWxzJDQoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig4KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1pc2V4dGVuc2libGUsIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG5cbiAgICAgIGlmIChPYmplY3QuaXNFeHRlbnNpYmxlKGJ1ZmZlcikpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShidWZmZXIsICdhJywge1xuICAgICAgICB2YWx1ZTogOFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZmFpbHMkMyA9IGZhaWxzJHI7XG4gIHZhciBpc09iamVjdCQyID0gaXNPYmplY3QkZjtcbiAgdmFyIGNsYXNzb2YkMyA9IGNsYXNzb2ZSYXckMTtcbiAgdmFyIEFSUkFZX0JVRkZFUl9OT05fRVhURU5TSUJMRSA9IGFycmF5QnVmZmVyTm9uRXh0ZW5zaWJsZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1pc2V4dGVuc2libGUgLS0gc2FmZVxuXG4gIHZhciAkaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcbiAgdmFyIEZBSUxTX09OX1BSSU1JVElWRVMgPSBmYWlscyQzKGZ1bmN0aW9uICgpIHtcbiAgICAkaXNFeHRlbnNpYmxlKDEpO1xuICB9KTsgLy8gYE9iamVjdC5pc0V4dGVuc2libGVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5pc2V4dGVuc2libGVcblxuICB2YXIgb2JqZWN0SXNFeHRlbnNpYmxlID0gRkFJTFNfT05fUFJJTUlUSVZFUyB8fCBBUlJBWV9CVUZGRVJfTk9OX0VYVEVOU0lCTEUgPyBmdW5jdGlvbiBpc0V4dGVuc2libGUoaXQpIHtcbiAgICBpZiAoIWlzT2JqZWN0JDIoaXQpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKEFSUkFZX0JVRkZFUl9OT05fRVhURU5TSUJMRSAmJiBjbGFzc29mJDMoaXQpID09ICdBcnJheUJ1ZmZlcicpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gJGlzRXh0ZW5zaWJsZSA/ICRpc0V4dGVuc2libGUoaXQpIDogdHJ1ZTtcbiAgfSA6ICRpc0V4dGVuc2libGU7XG5cbiAgdmFyIGZhaWxzJDIgPSBmYWlscyRyO1xuICB2YXIgZnJlZXppbmcgPSAhZmFpbHMkMihmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1pc2V4dGVuc2libGUsIGVzL25vLW9iamVjdC1wcmV2ZW50ZXh0ZW5zaW9ucyAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgIHJldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xuICB9KTtcblxuICB2YXIgJCQzID0gX2V4cG9ydDtcbiAgdmFyIHVuY3VycnlUaGlzJDEgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgaGlkZGVuS2V5cyA9IGhpZGRlbktleXMkNjtcbiAgdmFyIGlzT2JqZWN0JDEgPSBpc09iamVjdCRmO1xuICB2YXIgaGFzT3duJDMgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgZGVmaW5lUHJvcGVydHkkMiA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlID0gb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lcztcbiAgdmFyIGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbE1vZHVsZSA9IG9iamVjdEdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbDtcbiAgdmFyIGlzRXh0ZW5zaWJsZSA9IG9iamVjdElzRXh0ZW5zaWJsZTtcbiAgdmFyIHVpZCA9IHVpZCQ0O1xuICB2YXIgRlJFRVpJTkcgPSBmcmVlemluZztcbiAgdmFyIFJFUVVJUkVEID0gZmFsc2U7XG4gIHZhciBNRVRBREFUQSA9IHVpZCgnbWV0YScpO1xuICB2YXIgaWQgPSAwO1xuXG4gIHZhciBzZXRNZXRhZGF0YSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIGRlZmluZVByb3BlcnR5JDIoaXQsIE1FVEFEQVRBLCB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBvYmplY3RJRDogJ08nICsgaWQrKyxcbiAgICAgICAgLy8gb2JqZWN0IElEXG4gICAgICAgIHdlYWtEYXRhOiB7fSAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGZhc3RLZXkkMSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gICAgLy8gcmV0dXJuIGEgcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gICAgaWYgKCFpc09iamVjdCQxKGl0KSkgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcblxuICAgIGlmICghaGFzT3duJDMoaXQsIE1FVEFEQVRBKSkge1xuICAgICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJzsgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcblxuICAgICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7IC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG5cbiAgICAgIHNldE1ldGFkYXRhKGl0KTsgLy8gcmV0dXJuIG9iamVjdCBJRFxuICAgIH1cblxuICAgIHJldHVybiBpdFtNRVRBREFUQV0ub2JqZWN0SUQ7XG4gIH07XG5cbiAgdmFyIGdldFdlYWtEYXRhID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgICBpZiAoIWhhc093biQzKGl0LCBNRVRBREFUQSkpIHtcbiAgICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlOyAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuXG4gICAgICBpZiAoIWNyZWF0ZSkgcmV0dXJuIGZhbHNlOyAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuXG4gICAgICBzZXRNZXRhZGF0YShpdCk7IC8vIHJldHVybiB0aGUgc3RvcmUgb2Ygd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgICB9XG5cbiAgICByZXR1cm4gaXRbTUVUQURBVEFdLndlYWtEYXRhO1xuICB9OyAvLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcblxuXG4gIHZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIGlmIChGUkVFWklORyAmJiBSRVFVSVJFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXNPd24kMyhpdCwgTUVUQURBVEEpKSBzZXRNZXRhZGF0YShpdCk7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuXG4gIHZhciBlbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbWV0YS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICBSRVFVSVJFRCA9IHRydWU7XG4gICAgdmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmY7XG4gICAgdmFyIHNwbGljZSA9IHVuY3VycnlUaGlzJDEoW10uc3BsaWNlKTtcbiAgICB2YXIgdGVzdCA9IHt9O1xuICAgIHRlc3RbTUVUQURBVEFdID0gMTsgLy8gcHJldmVudCBleHBvc2luZyBvZiBtZXRhZGF0YSBrZXlcblxuICAgIGlmIChnZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QpLmxlbmd0aCkge1xuICAgICAgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdFtpXSA9PT0gTUVUQURBVEEpIHtcbiAgICAgICAgICAgIHNwbGljZShyZXN1bHQsIGksIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgICQkMyh7XG4gICAgICAgIHRhcmdldDogJ09iamVjdCcsXG4gICAgICAgIHN0YXQ6IHRydWUsXG4gICAgICAgIGZvcmNlZDogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWxNb2R1bGUuZlxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBtZXRhID0gaW50ZXJuYWxNZXRhZGF0YS5leHBvcnRzID0ge1xuICAgIGVuYWJsZTogZW5hYmxlLFxuICAgIGZhc3RLZXk6IGZhc3RLZXkkMSxcbiAgICBnZXRXZWFrRGF0YTogZ2V0V2Vha0RhdGEsXG4gICAgb25GcmVlemU6IG9uRnJlZXplXG4gIH07XG4gIGhpZGRlbktleXNbTUVUQURBVEFdID0gdHJ1ZTtcblxuICB2YXIgZ2xvYmFsJDMgPSBnbG9iYWwkTTtcbiAgdmFyIGJpbmQkMSA9IGZ1bmN0aW9uQmluZENvbnRleHQ7XG4gIHZhciBjYWxsID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgYW5PYmplY3QgPSBhbk9iamVjdCRiO1xuICB2YXIgdHJ5VG9TdHJpbmcgPSB0cnlUb1N0cmluZyQ0O1xuICB2YXIgaXNBcnJheUl0ZXJhdG9yTWV0aG9kID0gaXNBcnJheUl0ZXJhdG9yTWV0aG9kJDI7XG4gIHZhciBsZW5ndGhPZkFycmF5TGlrZSQxID0gbGVuZ3RoT2ZBcnJheUxpa2UkZDtcbiAgdmFyIGlzUHJvdG90eXBlT2YkNiA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBnZXRJdGVyYXRvciQ1ID0gZ2V0SXRlcmF0b3IkNztcbiAgdmFyIGdldEl0ZXJhdG9yTWV0aG9kID0gZ2V0SXRlcmF0b3JNZXRob2QkODtcbiAgdmFyIGl0ZXJhdG9yQ2xvc2UgPSBpdGVyYXRvckNsb3NlJDI7XG4gIHZhciBUeXBlRXJyb3IkMiA9IGdsb2JhbCQzLlR5cGVFcnJvcjtcblxuICB2YXIgUmVzdWx0ID0gZnVuY3Rpb24gKHN0b3BwZWQsIHJlc3VsdCkge1xuICAgIHRoaXMuc3RvcHBlZCA9IHN0b3BwZWQ7XG4gICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIFJlc3VsdFByb3RvdHlwZSA9IFJlc3VsdC5wcm90b3R5cGU7XG5cbiAgdmFyIGl0ZXJhdGUkMiA9IGZ1bmN0aW9uIChpdGVyYWJsZSwgdW5ib3VuZEZ1bmN0aW9uLCBvcHRpb25zKSB7XG4gICAgdmFyIHRoYXQgPSBvcHRpb25zICYmIG9wdGlvbnMudGhhdDtcbiAgICB2YXIgQVNfRU5UUklFUyA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5BU19FTlRSSUVTKTtcbiAgICB2YXIgSVNfSVRFUkFUT1IgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuSVNfSVRFUkFUT1IpO1xuICAgIHZhciBJTlRFUlJVUFRFRCA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JTlRFUlJVUFRFRCk7XG4gICAgdmFyIGZuID0gYmluZCQxKHVuYm91bmRGdW5jdGlvbiwgdGhhdCk7XG4gICAgdmFyIGl0ZXJhdG9yLCBpdGVyRm4sIGluZGV4LCBsZW5ndGgsIHJlc3VsdCwgbmV4dCwgc3RlcDtcblxuICAgIHZhciBzdG9wID0gZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICAgICAgaWYgKGl0ZXJhdG9yKSBpdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCAnbm9ybWFsJywgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBuZXcgUmVzdWx0KHRydWUsIGNvbmRpdGlvbik7XG4gICAgfTtcblxuICAgIHZhciBjYWxsRm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChBU19FTlRSSUVTKSB7XG4gICAgICAgIGFuT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIElOVEVSUlVQVEVEID8gZm4odmFsdWVbMF0sIHZhbHVlWzFdLCBzdG9wKSA6IGZuKHZhbHVlWzBdLCB2YWx1ZVsxXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBJTlRFUlJVUFRFRCA/IGZuKHZhbHVlLCBzdG9wKSA6IGZuKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgaWYgKElTX0lURVJBVE9SKSB7XG4gICAgICBpdGVyYXRvciA9IGl0ZXJhYmxlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyRm4gPSBnZXRJdGVyYXRvck1ldGhvZChpdGVyYWJsZSk7XG4gICAgICBpZiAoIWl0ZXJGbikgdGhyb3cgVHlwZUVycm9yJDIodHJ5VG9TdHJpbmcoaXRlcmFibGUpICsgJyBpcyBub3QgaXRlcmFibGUnKTsgLy8gb3B0aW1pc2F0aW9uIGZvciBhcnJheSBpdGVyYXRvcnNcblxuICAgICAgaWYgKGlzQXJyYXlJdGVyYXRvck1ldGhvZChpdGVyRm4pKSB7XG4gICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQxKGl0ZXJhYmxlKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgICByZXN1bHQgPSBjYWxsRm4oaXRlcmFibGVbaW5kZXhdKTtcbiAgICAgICAgICBpZiAocmVzdWx0ICYmIGlzUHJvdG90eXBlT2YkNihSZXN1bHRQcm90b3R5cGUsIHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJlc3VsdChmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IkNShpdGVyYWJsZSwgaXRlckZuKTtcbiAgICB9XG5cbiAgICBuZXh0ID0gaXRlcmF0b3IubmV4dDtcblxuICAgIHdoaWxlICghKHN0ZXAgPSBjYWxsKG5leHQsIGl0ZXJhdG9yKSkuZG9uZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gY2FsbEZuKHN0ZXAudmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaXRlcmF0b3JDbG9zZShpdGVyYXRvciwgJ3Rocm93JywgZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSAnb2JqZWN0JyAmJiByZXN1bHQgJiYgaXNQcm90b3R5cGVPZiQ2KFJlc3VsdFByb3RvdHlwZSwgcmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3VsdChmYWxzZSk7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCQyID0gZ2xvYmFsJE07XG4gIHZhciBpc1Byb3RvdHlwZU9mJDUgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgVHlwZUVycm9yJDEgPSBnbG9iYWwkMi5UeXBlRXJyb3I7XG5cbiAgdmFyIGFuSW5zdGFuY2UkMiA9IGZ1bmN0aW9uIChpdCwgUHJvdG90eXBlKSB7XG4gICAgaWYgKGlzUHJvdG90eXBlT2YkNShQcm90b3R5cGUsIGl0KSkgcmV0dXJuIGl0O1xuICAgIHRocm93IFR5cGVFcnJvciQxKCdJbmNvcnJlY3QgaW52b2NhdGlvbicpO1xuICB9O1xuXG4gIHZhciAkJDIgPSBfZXhwb3J0O1xuICB2YXIgZ2xvYmFsJDEgPSBnbG9iYWwkTTtcbiAgdmFyIEludGVybmFsTWV0YWRhdGFNb2R1bGUgPSBpbnRlcm5hbE1ldGFkYXRhLmV4cG9ydHM7XG4gIHZhciBmYWlscyQxID0gZmFpbHMkcjtcbiAgdmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ2O1xuICB2YXIgaXRlcmF0ZSQxID0gaXRlcmF0ZSQyO1xuICB2YXIgYW5JbnN0YW5jZSQxID0gYW5JbnN0YW5jZSQyO1xuICB2YXIgaXNDYWxsYWJsZSA9IGlzQ2FsbGFibGUkaDtcbiAgdmFyIGlzT2JqZWN0ID0gaXNPYmplY3QkZjtcbiAgdmFyIHNldFRvU3RyaW5nVGFnID0gc2V0VG9TdHJpbmdUYWckNTtcbiAgdmFyIGRlZmluZVByb3BlcnR5JDEgPSBvYmplY3REZWZpbmVQcm9wZXJ0eS5mO1xuICB2YXIgZm9yRWFjaCA9IGFycmF5SXRlcmF0aW9uLmZvckVhY2g7XG4gIHZhciBERVNDUklQVE9SUyQyID0gZGVzY3JpcHRvcnM7XG4gIHZhciBJbnRlcm5hbFN0YXRlTW9kdWxlJDEgPSBpbnRlcm5hbFN0YXRlO1xuICB2YXIgc2V0SW50ZXJuYWxTdGF0ZSQxID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQxLnNldDtcbiAgdmFyIGludGVybmFsU3RhdGVHZXR0ZXJGb3IkMSA9IEludGVybmFsU3RhdGVNb2R1bGUkMS5nZXR0ZXJGb3I7XG5cbiAgdmFyIGNvbGxlY3Rpb24kMiA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUl9OQU1FLCB3cmFwcGVyLCBjb21tb24pIHtcbiAgICB2YXIgSVNfTUFQID0gQ09OU1RSVUNUT1JfTkFNRS5pbmRleE9mKCdNYXAnKSAhPT0gLTE7XG4gICAgdmFyIElTX1dFQUsgPSBDT05TVFJVQ1RPUl9OQU1FLmluZGV4T2YoJ1dlYWsnKSAhPT0gLTE7XG4gICAgdmFyIEFEREVSID0gSVNfTUFQID8gJ3NldCcgOiAnYWRkJztcbiAgICB2YXIgTmF0aXZlQ29uc3RydWN0b3IgPSBnbG9iYWwkMVtDT05TVFJVQ1RPUl9OQU1FXTtcbiAgICB2YXIgTmF0aXZlUHJvdG90eXBlID0gTmF0aXZlQ29uc3RydWN0b3IgJiYgTmF0aXZlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgIHZhciBleHBvcnRlZCA9IHt9O1xuICAgIHZhciBDb25zdHJ1Y3RvcjtcblxuICAgIGlmICghREVTQ1JJUFRPUlMkMiB8fCAhaXNDYWxsYWJsZShOYXRpdmVDb25zdHJ1Y3RvcikgfHwgIShJU19XRUFLIHx8IE5hdGl2ZVByb3RvdHlwZS5mb3JFYWNoICYmICFmYWlscyQxKGZ1bmN0aW9uICgpIHtcbiAgICAgIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpLmVudHJpZXMoKS5uZXh0KCk7XG4gICAgfSkpKSB7XG4gICAgICAvLyBjcmVhdGUgY29sbGVjdGlvbiBjb25zdHJ1Y3RvclxuICAgICAgQ29uc3RydWN0b3IgPSBjb21tb24uZ2V0Q29uc3RydWN0b3Iod3JhcHBlciwgQ09OU1RSVUNUT1JfTkFNRSwgSVNfTUFQLCBBRERFUik7XG4gICAgICBJbnRlcm5hbE1ldGFkYXRhTW9kdWxlLmVuYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBDb25zdHJ1Y3RvciA9IHdyYXBwZXIoZnVuY3Rpb24gKHRhcmdldCwgaXRlcmFibGUpIHtcbiAgICAgICAgc2V0SW50ZXJuYWxTdGF0ZSQxKGFuSW5zdGFuY2UkMSh0YXJnZXQsIFByb3RvdHlwZSksIHtcbiAgICAgICAgICB0eXBlOiBDT05TVFJVQ1RPUl9OQU1FLFxuICAgICAgICAgIGNvbGxlY3Rpb246IG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXRlcmFibGUgIT0gdW5kZWZpbmVkKSBpdGVyYXRlJDEoaXRlcmFibGUsIHRhcmdldFtBRERFUl0sIHtcbiAgICAgICAgICB0aGF0OiB0YXJnZXQsXG4gICAgICAgICAgQVNfRU5UUklFUzogSVNfTUFQXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB2YXIgUHJvdG90eXBlID0gQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgdmFyIGdldEludGVybmFsU3RhdGUgPSBpbnRlcm5hbFN0YXRlR2V0dGVyRm9yJDEoQ09OU1RSVUNUT1JfTkFNRSk7XG4gICAgICBmb3JFYWNoKFsnYWRkJywgJ2NsZWFyJywgJ2RlbGV0ZScsICdmb3JFYWNoJywgJ2dldCcsICdoYXMnLCAnc2V0JywgJ2tleXMnLCAndmFsdWVzJywgJ2VudHJpZXMnXSwgZnVuY3Rpb24gKEtFWSkge1xuICAgICAgICB2YXIgSVNfQURERVIgPSBLRVkgPT0gJ2FkZCcgfHwgS0VZID09ICdzZXQnO1xuXG4gICAgICAgIGlmIChLRVkgaW4gTmF0aXZlUHJvdG90eXBlICYmICEoSVNfV0VBSyAmJiBLRVkgPT0gJ2NsZWFyJykpIHtcbiAgICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoUHJvdG90eXBlLCBLRVksIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IGdldEludGVybmFsU3RhdGUodGhpcykuY29sbGVjdGlvbjtcbiAgICAgICAgICAgIGlmICghSVNfQURERVIgJiYgSVNfV0VBSyAmJiAhaXNPYmplY3QoYSkpIHJldHVybiBLRVkgPT0gJ2dldCcgPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjb2xsZWN0aW9uW0tFWV0oYSA9PT0gMCA/IDAgOiBhLCBiKTtcbiAgICAgICAgICAgIHJldHVybiBJU19BRERFUiA/IHRoaXMgOiByZXN1bHQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgSVNfV0VBSyB8fCBkZWZpbmVQcm9wZXJ0eSQxKFByb3RvdHlwZSwgJ3NpemUnLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEludGVybmFsU3RhdGUodGhpcykuY29sbGVjdGlvbi5zaXplO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgQ09OU1RSVUNUT1JfTkFNRSwgZmFsc2UsIHRydWUpO1xuICAgIGV4cG9ydGVkW0NPTlNUUlVDVE9SX05BTUVdID0gQ29uc3RydWN0b3I7XG4gICAgJCQyKHtcbiAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgIGZvcmNlZDogdHJ1ZVxuICAgIH0sIGV4cG9ydGVkKTtcbiAgICBpZiAoIUlTX1dFQUspIGNvbW1vbi5zZXRTdHJvbmcoQ29uc3RydWN0b3IsIENPTlNUUlVDVE9SX05BTUUsIElTX01BUCk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xuXG4gIHZhciByZWRlZmluZSA9IHJlZGVmaW5lJDQ7XG5cbiAgdmFyIHJlZGVmaW5lQWxsJDEgPSBmdW5jdGlvbiAodGFyZ2V0LCBzcmMsIG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnVuc2FmZSAmJiB0YXJnZXRba2V5XSkgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtlbHNlIHJlZGVmaW5lKHRhcmdldCwga2V5LCBzcmNba2V5XSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICB2YXIgZ2V0QnVpbHRJbiA9IGdldEJ1aWx0SW4kOTtcbiAgdmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wgPSB3ZWxsS25vd25TeW1ib2wkajtcbiAgdmFyIERFU0NSSVBUT1JTJDEgPSBkZXNjcmlwdG9ycztcbiAgdmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcblxuICB2YXIgc2V0U3BlY2llcyQxID0gZnVuY3Rpb24gKENPTlNUUlVDVE9SX05BTUUpIHtcbiAgICB2YXIgQ29uc3RydWN0b3IgPSBnZXRCdWlsdEluKENPTlNUUlVDVE9SX05BTUUpO1xuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5TW9kdWxlLmY7XG5cbiAgICBpZiAoREVTQ1JJUFRPUlMkMSAmJiBDb25zdHJ1Y3RvciAmJiAhQ29uc3RydWN0b3JbU1BFQ0lFU10pIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBTUEVDSUVTLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBvYmplY3REZWZpbmVQcm9wZXJ0eS5mO1xuICB2YXIgY3JlYXRlID0gb2JqZWN0Q3JlYXRlO1xuICB2YXIgcmVkZWZpbmVBbGwgPSByZWRlZmluZUFsbCQxO1xuICB2YXIgYmluZCA9IGZ1bmN0aW9uQmluZENvbnRleHQ7XG4gIHZhciBhbkluc3RhbmNlID0gYW5JbnN0YW5jZSQyO1xuICB2YXIgaXRlcmF0ZSA9IGl0ZXJhdGUkMjtcbiAgdmFyIGRlZmluZUl0ZXJhdG9yID0gZGVmaW5lSXRlcmF0b3IkMztcbiAgdmFyIHNldFNwZWNpZXMgPSBzZXRTcGVjaWVzJDE7XG4gIHZhciBERVNDUklQVE9SUyA9IGRlc2NyaXB0b3JzO1xuICB2YXIgZmFzdEtleSA9IGludGVybmFsTWV0YWRhdGEuZXhwb3J0cy5mYXN0S2V5O1xuICB2YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IGludGVybmFsU3RhdGU7XG4gIHZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG4gIHZhciBpbnRlcm5hbFN0YXRlR2V0dGVyRm9yID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3I7XG4gIHZhciBjb2xsZWN0aW9uU3Ryb25nJDIgPSB7XG4gICAgZ2V0Q29uc3RydWN0b3I6IGZ1bmN0aW9uICh3cmFwcGVyLCBDT05TVFJVQ1RPUl9OQU1FLCBJU19NQVAsIEFEREVSKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBpdGVyYWJsZSkge1xuICAgICAgICBhbkluc3RhbmNlKHRoYXQsIFByb3RvdHlwZSk7XG4gICAgICAgIHNldEludGVybmFsU3RhdGUodGhhdCwge1xuICAgICAgICAgIHR5cGU6IENPTlNUUlVDVE9SX05BTUUsXG4gICAgICAgICAgaW5kZXg6IGNyZWF0ZShudWxsKSxcbiAgICAgICAgICBmaXJzdDogdW5kZWZpbmVkLFxuICAgICAgICAgIGxhc3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgICBzaXplOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIURFU0NSSVBUT1JTKSB0aGF0LnNpemUgPSAwO1xuICAgICAgICBpZiAoaXRlcmFibGUgIT0gdW5kZWZpbmVkKSBpdGVyYXRlKGl0ZXJhYmxlLCB0aGF0W0FEREVSXSwge1xuICAgICAgICAgIHRoYXQ6IHRoYXQsXG4gICAgICAgICAgQVNfRU5UUklFUzogSVNfTUFQXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB2YXIgUHJvdG90eXBlID0gQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgdmFyIGdldEludGVybmFsU3RhdGUgPSBpbnRlcm5hbFN0YXRlR2V0dGVyRm9yKENPTlNUUlVDVE9SX05BTUUpO1xuXG4gICAgICB2YXIgZGVmaW5lID0gZnVuY3Rpb24gKHRoYXQsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGF0KTtcbiAgICAgICAgdmFyIGVudHJ5ID0gZ2V0RW50cnkodGhhdCwga2V5KTtcbiAgICAgICAgdmFyIHByZXZpb3VzLCBpbmRleDsgLy8gY2hhbmdlIGV4aXN0aW5nIGVudHJ5XG5cbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgZW50cnkudmFsdWUgPSB2YWx1ZTsgLy8gY3JlYXRlIG5ldyBlbnRyeVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLmxhc3QgPSBlbnRyeSA9IHtcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCA9IGZhc3RLZXkoa2V5LCB0cnVlKSxcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcHJldmlvdXM6IHByZXZpb3VzID0gc3RhdGUubGFzdCxcbiAgICAgICAgICAgIG5leHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlbW92ZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoIXN0YXRlLmZpcnN0KSBzdGF0ZS5maXJzdCA9IGVudHJ5O1xuICAgICAgICAgIGlmIChwcmV2aW91cykgcHJldmlvdXMubmV4dCA9IGVudHJ5O1xuICAgICAgICAgIGlmIChERVNDUklQVE9SUykgc3RhdGUuc2l6ZSsrO2Vsc2UgdGhhdC5zaXplKys7IC8vIGFkZCB0byBpbmRleFxuXG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAnRicpIHN0YXRlLmluZGV4W2luZGV4XSA9IGVudHJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZ2V0RW50cnkgPSBmdW5jdGlvbiAodGhhdCwga2V5KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhhdCk7IC8vIGZhc3QgY2FzZVxuXG4gICAgICAgIHZhciBpbmRleCA9IGZhc3RLZXkoa2V5KTtcbiAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICBpZiAoaW5kZXggIT09ICdGJykgcmV0dXJuIHN0YXRlLmluZGV4W2luZGV4XTsgLy8gZnJvemVuIG9iamVjdCBjYXNlXG5cbiAgICAgICAgZm9yIChlbnRyeSA9IHN0YXRlLmZpcnN0OyBlbnRyeTsgZW50cnkgPSBlbnRyeS5uZXh0KSB7XG4gICAgICAgICAgaWYgKGVudHJ5LmtleSA9PSBrZXkpIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmVkZWZpbmVBbGwoUHJvdG90eXBlLCB7XG4gICAgICAgIC8vIGB7IE1hcCwgU2V0IH0ucHJvdG90eXBlLmNsZWFyKClgIG1ldGhvZHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmNsZWFyXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5jbGVhclxuICAgICAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhhdCk7XG4gICAgICAgICAgdmFyIGRhdGEgPSBzdGF0ZS5pbmRleDtcbiAgICAgICAgICB2YXIgZW50cnkgPSBzdGF0ZS5maXJzdDtcblxuICAgICAgICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgICAgICAgZW50cnkucmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoZW50cnkucHJldmlvdXMpIGVudHJ5LnByZXZpb3VzID0gZW50cnkucHJldmlvdXMubmV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2VudHJ5LmluZGV4XTtcbiAgICAgICAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzdGF0ZS5maXJzdCA9IHN0YXRlLmxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKERFU0NSSVBUT1JTKSBzdGF0ZS5zaXplID0gMDtlbHNlIHRoYXQuc2l6ZSA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGB7IE1hcCwgU2V0IH0ucHJvdG90eXBlLmRlbGV0ZShrZXkpYCBtZXRob2RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLnByb3RvdHlwZS5kZWxldGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zZXQucHJvdG90eXBlLmRlbGV0ZVxuICAgICAgICAnZGVsZXRlJzogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoYXQpO1xuICAgICAgICAgIHZhciBlbnRyeSA9IGdldEVudHJ5KHRoYXQsIGtleSk7XG5cbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gZW50cnkubmV4dDtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gZW50cnkucHJldmlvdXM7XG4gICAgICAgICAgICBkZWxldGUgc3RhdGUuaW5kZXhbZW50cnkuaW5kZXhdO1xuICAgICAgICAgICAgZW50cnkucmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAocHJldikgcHJldi5uZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIGlmIChuZXh0KSBuZXh0LnByZXZpb3VzID0gcHJldjtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5maXJzdCA9PSBlbnRyeSkgc3RhdGUuZmlyc3QgPSBuZXh0O1xuICAgICAgICAgICAgaWYgKHN0YXRlLmxhc3QgPT0gZW50cnkpIHN0YXRlLmxhc3QgPSBwcmV2O1xuICAgICAgICAgICAgaWYgKERFU0NSSVBUT1JTKSBzdGF0ZS5zaXplLS07ZWxzZSB0aGF0LnNpemUtLTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gISFlbnRyeTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gYHsgTWFwLCBTZXQgfS5wcm90b3R5cGUuZm9yRWFjaChjYWxsYmFja2ZuLCB0aGlzQXJnID0gdW5kZWZpbmVkKWAgbWV0aG9kc1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUuZm9yZWFjaFxuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuZm9yZWFjaFxuICAgICAgICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm5cbiAgICAgICAgLyogLCB0aGF0ID0gdW5kZWZpbmVkICovXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gICAgICAgICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kKGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICB2YXIgZW50cnk7XG5cbiAgICAgICAgICB3aGlsZSAoZW50cnkgPSBlbnRyeSA/IGVudHJ5Lm5leHQgOiBzdGF0ZS5maXJzdCkge1xuICAgICAgICAgICAgYm91bmRGdW5jdGlvbihlbnRyeS52YWx1ZSwgZW50cnkua2V5LCB0aGlzKTsgLy8gcmV2ZXJ0IHRvIHRoZSBsYXN0IGV4aXN0aW5nIGVudHJ5XG5cbiAgICAgICAgICAgIHdoaWxlIChlbnRyeSAmJiBlbnRyeS5yZW1vdmVkKSBlbnRyeSA9IGVudHJ5LnByZXZpb3VzO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLy8gYHsgTWFwLCBTZXR9LnByb3RvdHlwZS5oYXMoa2V5KWAgbWV0aG9kc1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUuaGFzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5oYXNcbiAgICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICEhZ2V0RW50cnkodGhpcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZWRlZmluZUFsbChQcm90b3R5cGUsIElTX01BUCA/IHtcbiAgICAgICAgLy8gYE1hcC5wcm90b3R5cGUuZ2V0KGtleSlgIG1ldGhvZFxuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUuZ2V0XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgICAgICAgIHZhciBlbnRyeSA9IGdldEVudHJ5KHRoaXMsIGtleSk7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICAvLyBgTWFwLnByb3RvdHlwZS5zZXQoa2V5LCB2YWx1ZSlgIG1ldGhvZFxuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUuc2V0XG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lKHRoaXMsIGtleSA9PT0gMCA/IDAgOiBrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSA6IHtcbiAgICAgICAgLy8gYFNldC5wcm90b3R5cGUuYWRkKHZhbHVlKWAgbWV0aG9kXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5hZGRcbiAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lKHRoaXMsIHZhbHVlID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoREVTQ1JJUFRPUlMpIGRlZmluZVByb3BlcnR5KFByb3RvdHlwZSwgJ3NpemUnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpLnNpemU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgIH0sXG4gICAgc2V0U3Ryb25nOiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIENPTlNUUlVDVE9SX05BTUUsIElTX01BUCkge1xuICAgICAgdmFyIElURVJBVE9SX05BTUUgPSBDT05TVFJVQ1RPUl9OQU1FICsgJyBJdGVyYXRvcic7XG4gICAgICB2YXIgZ2V0SW50ZXJuYWxDb2xsZWN0aW9uU3RhdGUgPSBpbnRlcm5hbFN0YXRlR2V0dGVyRm9yKENPTlNUUlVDVE9SX05BTUUpO1xuICAgICAgdmFyIGdldEludGVybmFsSXRlcmF0b3JTdGF0ZSA9IGludGVybmFsU3RhdGVHZXR0ZXJGb3IoSVRFUkFUT1JfTkFNRSk7IC8vIGB7IE1hcCwgU2V0IH0ucHJvdG90eXBlLnsga2V5cywgdmFsdWVzLCBlbnRyaWVzLCBAQGl0ZXJhdG9yIH0oKWAgbWV0aG9kc1xuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmVudHJpZXNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLnByb3RvdHlwZS5rZXlzXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUudmFsdWVzXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUtQEBpdGVyYXRvclxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zZXQucHJvdG90eXBlLmVudHJpZXNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5rZXlzXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUudmFsdWVzXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUtQEBpdGVyYXRvclxuXG4gICAgICBkZWZpbmVJdGVyYXRvcihDb25zdHJ1Y3RvciwgQ09OU1RSVUNUT1JfTkFNRSwgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gICAgICAgIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgICAgICAgIHR5cGU6IElURVJBVE9SX05BTUUsXG4gICAgICAgICAgdGFyZ2V0OiBpdGVyYXRlZCxcbiAgICAgICAgICBzdGF0ZTogZ2V0SW50ZXJuYWxDb2xsZWN0aW9uU3RhdGUoaXRlcmF0ZWQpLFxuICAgICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgICAgbGFzdDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbEl0ZXJhdG9yU3RhdGUodGhpcyk7XG4gICAgICAgIHZhciBraW5kID0gc3RhdGUua2luZDtcbiAgICAgICAgdmFyIGVudHJ5ID0gc3RhdGUubGFzdDsgLy8gcmV2ZXJ0IHRvIHRoZSBsYXN0IGV4aXN0aW5nIGVudHJ5XG5cbiAgICAgICAgd2hpbGUgKGVudHJ5ICYmIGVudHJ5LnJlbW92ZWQpIGVudHJ5ID0gZW50cnkucHJldmlvdXM7IC8vIGdldCBuZXh0IGVudHJ5XG5cblxuICAgICAgICBpZiAoIXN0YXRlLnRhcmdldCB8fCAhKHN0YXRlLmxhc3QgPSBlbnRyeSA9IGVudHJ5ID8gZW50cnkubmV4dCA6IHN0YXRlLnN0YXRlLmZpcnN0KSkge1xuICAgICAgICAgIC8vIG9yIGZpbmlzaCB0aGUgaXRlcmF0aW9uXG4gICAgICAgICAgc3RhdGUudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH0gLy8gcmV0dXJuIHN0ZXAgYnkga2luZFxuXG5cbiAgICAgICAgaWYgKGtpbmQgPT0gJ2tleXMnKSByZXR1cm4ge1xuICAgICAgICAgIHZhbHVlOiBlbnRyeS5rZXksXG4gICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IGVudHJ5LnZhbHVlLFxuICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXSxcbiAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfSwgSVNfTUFQID8gJ2VudHJpZXMnIDogJ3ZhbHVlcycsICFJU19NQVAsIHRydWUpOyAvLyBgeyBNYXAsIFNldCB9LnByb3RvdHlwZVtAQHNwZWNpZXNdYCBhY2Nlc3NvcnNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0LW1hcC1AQHNwZWNpZXNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0LXNldC1AQHNwZWNpZXNcblxuICAgICAgc2V0U3BlY2llcyhDT05TVFJVQ1RPUl9OQU1FKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNvbGxlY3Rpb24kMSA9IGNvbGxlY3Rpb24kMjtcbiAgdmFyIGNvbGxlY3Rpb25TdHJvbmckMSA9IGNvbGxlY3Rpb25TdHJvbmckMjsgLy8gYE1hcGAgY29uc3RydWN0b3JcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAtb2JqZWN0c1xuXG4gIGNvbGxlY3Rpb24kMSgnTWFwJywgZnVuY3Rpb24gKGluaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gTWFwKCkge1xuICAgICAgcmV0dXJuIGluaXQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgfSwgY29sbGVjdGlvblN0cm9uZyQxKTtcblxuICB2YXIgcGF0aCQxID0gcGF0aCRxO1xuICB2YXIgbWFwJDIgPSBwYXRoJDEuTWFwO1xuXG4gIHZhciBwYXJlbnQkOSA9IG1hcCQyO1xuICB2YXIgbWFwJDEgPSBwYXJlbnQkOTtcblxuICB2YXIgbWFwID0gbWFwJDE7XG5cbiAgdmFyICQkMSA9IF9leHBvcnQ7XG4gIHZhciAkc29tZSA9IGFycmF5SXRlcmF0aW9uLnNvbWU7XG4gIHZhciBhcnJheU1ldGhvZElzU3RyaWN0JDEgPSBhcnJheU1ldGhvZElzU3RyaWN0JDU7XG4gIHZhciBTVFJJQ1RfTUVUSE9EJDEgPSBhcnJheU1ldGhvZElzU3RyaWN0JDEoJ3NvbWUnKTsgLy8gYEFycmF5LnByb3RvdHlwZS5zb21lYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc29tZVxuXG4gICQkMSh7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHByb3RvOiB0cnVlLFxuICAgIGZvcmNlZDogIVNUUklDVF9NRVRIT0QkMVxuICB9LCB7XG4gICAgc29tZTogZnVuY3Rpb24gc29tZShjYWxsYmFja2ZuXG4gICAgLyogLCB0aGlzQXJnICovXG4gICAgKSB7XG4gICAgICByZXR1cm4gJHNvbWUodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGVudHJ5VmlydHVhbCQ0ID0gZW50cnlWaXJ0dWFsJGs7XG4gIHZhciBzb21lJDMgPSBlbnRyeVZpcnR1YWwkNCgnQXJyYXknKS5zb21lO1xuXG4gIHZhciBpc1Byb3RvdHlwZU9mJDQgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJDQgPSBzb21lJDM7XG4gIHZhciBBcnJheVByb3RvdHlwZSQ0ID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBzb21lJDIgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgb3duID0gaXQuc29tZTtcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJDQgfHwgaXNQcm90b3R5cGVPZiQ0KEFycmF5UHJvdG90eXBlJDQsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDQuc29tZSA/IG1ldGhvZCQ0IDogb3duO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkOCA9IHNvbWUkMjtcbiAgdmFyIHNvbWUkMSA9IHBhcmVudCQ4O1xuXG4gIHZhciBzb21lID0gc29tZSQxO1xuXG4gIHZhciBlbnRyeVZpcnR1YWwkMyA9IGVudHJ5VmlydHVhbCRrO1xuICB2YXIga2V5cyQzID0gZW50cnlWaXJ0dWFsJDMoJ0FycmF5Jykua2V5cztcblxuICB2YXIgcGFyZW50JDcgPSBrZXlzJDM7XG4gIHZhciBrZXlzJDIgPSBwYXJlbnQkNztcblxuICB2YXIgY2xhc3NvZiQyID0gY2xhc3NvZiRjO1xuICB2YXIgaGFzT3duJDIgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgaXNQcm90b3R5cGVPZiQzID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCQzID0ga2V5cyQyO1xuICB2YXIgQXJyYXlQcm90b3R5cGUkMyA9IEFycmF5LnByb3RvdHlwZTtcbiAgdmFyIERPTUl0ZXJhYmxlcyQyID0ge1xuICAgIERPTVRva2VuTGlzdDogdHJ1ZSxcbiAgICBOb2RlTGlzdDogdHJ1ZVxuICB9O1xuXG4gIHZhciBrZXlzJDEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgb3duID0gaXQua2V5cztcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJDMgfHwgaXNQcm90b3R5cGVPZiQzKEFycmF5UHJvdG90eXBlJDMsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDMua2V5cyB8fCBoYXNPd24kMihET01JdGVyYWJsZXMkMiwgY2xhc3NvZiQyKGl0KSkgPyBtZXRob2QkMyA6IG93bjtcbiAgfTtcblxuICB2YXIga2V5cyA9IGtleXMkMTtcblxuICB2YXIgYXJyYXlTbGljZSA9IGFycmF5U2xpY2VTaW1wbGU7XG4gIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cbiAgdmFyIG1lcmdlU29ydCA9IGZ1bmN0aW9uIChhcnJheSwgY29tcGFyZWZuKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB2YXIgbWlkZGxlID0gZmxvb3IobGVuZ3RoIC8gMik7XG4gICAgcmV0dXJuIGxlbmd0aCA8IDggPyBpbnNlcnRpb25Tb3J0KGFycmF5LCBjb21wYXJlZm4pIDogbWVyZ2UoYXJyYXksIG1lcmdlU29ydChhcnJheVNsaWNlKGFycmF5LCAwLCBtaWRkbGUpLCBjb21wYXJlZm4pLCBtZXJnZVNvcnQoYXJyYXlTbGljZShhcnJheSwgbWlkZGxlKSwgY29tcGFyZWZuKSwgY29tcGFyZWZuKTtcbiAgfTtcblxuICB2YXIgaW5zZXJ0aW9uU29ydCA9IGZ1bmN0aW9uIChhcnJheSwgY29tcGFyZWZuKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIGVsZW1lbnQsIGo7XG5cbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgaiA9IGk7XG4gICAgICBlbGVtZW50ID0gYXJyYXlbaV07XG5cbiAgICAgIHdoaWxlIChqICYmIGNvbXBhcmVmbihhcnJheVtqIC0gMV0sIGVsZW1lbnQpID4gMCkge1xuICAgICAgICBhcnJheVtqXSA9IGFycmF5Wy0tal07XG4gICAgICB9XG5cbiAgICAgIGlmIChqICE9PSBpKyspIGFycmF5W2pdID0gZWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG5cbiAgdmFyIG1lcmdlID0gZnVuY3Rpb24gKGFycmF5LCBsZWZ0LCByaWdodCwgY29tcGFyZWZuKSB7XG4gICAgdmFyIGxsZW5ndGggPSBsZWZ0Lmxlbmd0aDtcbiAgICB2YXIgcmxlbmd0aCA9IHJpZ2h0Lmxlbmd0aDtcbiAgICB2YXIgbGluZGV4ID0gMDtcbiAgICB2YXIgcmluZGV4ID0gMDtcblxuICAgIHdoaWxlIChsaW5kZXggPCBsbGVuZ3RoIHx8IHJpbmRleCA8IHJsZW5ndGgpIHtcbiAgICAgIGFycmF5W2xpbmRleCArIHJpbmRleF0gPSBsaW5kZXggPCBsbGVuZ3RoICYmIHJpbmRleCA8IHJsZW5ndGggPyBjb21wYXJlZm4obGVmdFtsaW5kZXhdLCByaWdodFtyaW5kZXhdKSA8PSAwID8gbGVmdFtsaW5kZXgrK10gOiByaWdodFtyaW5kZXgrK10gOiBsaW5kZXggPCBsbGVuZ3RoID8gbGVmdFtsaW5kZXgrK10gOiByaWdodFtyaW5kZXgrK107XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xuICB9O1xuXG4gIHZhciBhcnJheVNvcnQgPSBtZXJnZVNvcnQ7XG5cbiAgdmFyIHVzZXJBZ2VudCQxID0gZW5naW5lVXNlckFnZW50O1xuICB2YXIgZmlyZWZveCA9IHVzZXJBZ2VudCQxLm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpO1xuICB2YXIgZW5naW5lRmZWZXJzaW9uID0gISFmaXJlZm94ICYmICtmaXJlZm94WzFdO1xuXG4gIHZhciBVQSA9IGVuZ2luZVVzZXJBZ2VudDtcbiAgdmFyIGVuZ2luZUlzSWVPckVkZ2UgPSAvTVNJRXxUcmlkZW50Ly50ZXN0KFVBKTtcblxuICB2YXIgdXNlckFnZW50ID0gZW5naW5lVXNlckFnZW50O1xuICB2YXIgd2Via2l0ID0gdXNlckFnZW50Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pO1xuICB2YXIgZW5naW5lV2Via2l0VmVyc2lvbiA9ICEhd2Via2l0ICYmICt3ZWJraXRbMV07XG5cbiAgdmFyICQgPSBfZXhwb3J0O1xuICB2YXIgdW5jdXJyeVRoaXMgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgYUNhbGxhYmxlID0gYUNhbGxhYmxlJDc7XG4gIHZhciB0b09iamVjdCA9IHRvT2JqZWN0JGU7XG4gIHZhciBsZW5ndGhPZkFycmF5TGlrZSA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciB0b1N0cmluZyA9IHRvU3RyaW5nJDc7XG4gIHZhciBmYWlscyA9IGZhaWxzJHI7XG4gIHZhciBpbnRlcm5hbFNvcnQgPSBhcnJheVNvcnQ7XG4gIHZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gYXJyYXlNZXRob2RJc1N0cmljdCQ1O1xuICB2YXIgRkYgPSBlbmdpbmVGZlZlcnNpb247XG4gIHZhciBJRV9PUl9FREdFID0gZW5naW5lSXNJZU9yRWRnZTtcbiAgdmFyIFY4ID0gZW5naW5lVjhWZXJzaW9uO1xuICB2YXIgV0VCS0lUID0gZW5naW5lV2Via2l0VmVyc2lvbjtcbiAgdmFyIHRlc3QgPSBbXTtcbiAgdmFyIHVuJFNvcnQgPSB1bmN1cnJ5VGhpcyh0ZXN0LnNvcnQpO1xuICB2YXIgcHVzaCA9IHVuY3VycnlUaGlzKHRlc3QucHVzaCk7IC8vIElFOC1cblxuICB2YXIgRkFJTFNfT05fVU5ERUZJTkVEID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHRlc3Quc29ydCh1bmRlZmluZWQpO1xuICB9KTsgLy8gVjggYnVnXG5cbiAgdmFyIEZBSUxTX09OX05VTEwgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgdGVzdC5zb3J0KG51bGwpO1xuICB9KTsgLy8gT2xkIFdlYktpdFxuXG4gIHZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgnc29ydCcpO1xuICB2YXIgU1RBQkxFX1NPUlQgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIGZlYXR1cmUgZGV0ZWN0aW9uIGNhbiBiZSB0b28gc2xvdywgc28gY2hlY2sgZW5naW5lcyB2ZXJzaW9uc1xuICAgIGlmIChWOCkgcmV0dXJuIFY4IDwgNzA7XG4gICAgaWYgKEZGICYmIEZGID4gMykgcmV0dXJuO1xuICAgIGlmIChJRV9PUl9FREdFKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoV0VCS0lUKSByZXR1cm4gV0VCS0lUIDwgNjAzO1xuICAgIHZhciByZXN1bHQgPSAnJztcbiAgICB2YXIgY29kZSwgY2hyLCB2YWx1ZSwgaW5kZXg7IC8vIGdlbmVyYXRlIGFuIGFycmF5IHdpdGggbW9yZSA1MTIgZWxlbWVudHMgKENoYWtyYSBhbmQgb2xkIFY4IGZhaWxzIG9ubHkgaW4gdGhpcyBjYXNlKVxuXG4gICAgZm9yIChjb2RlID0gNjU7IGNvZGUgPCA3NjsgY29kZSsrKSB7XG4gICAgICBjaHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuXG4gICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgY2FzZSA2NjpcbiAgICAgICAgY2FzZSA2OTpcbiAgICAgICAgY2FzZSA3MDpcbiAgICAgICAgY2FzZSA3MjpcbiAgICAgICAgICB2YWx1ZSA9IDM7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA2ODpcbiAgICAgICAgY2FzZSA3MTpcbiAgICAgICAgICB2YWx1ZSA9IDQ7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB2YWx1ZSA9IDI7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IDQ3OyBpbmRleCsrKSB7XG4gICAgICAgIHRlc3QucHVzaCh7XG4gICAgICAgICAgazogY2hyICsgaW5kZXgsXG4gICAgICAgICAgdjogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGVzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYi52IC0gYS52O1xuICAgIH0pO1xuXG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGVzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGNociA9IHRlc3RbaW5kZXhdLmsuY2hhckF0KDApO1xuICAgICAgaWYgKHJlc3VsdC5jaGFyQXQocmVzdWx0Lmxlbmd0aCAtIDEpICE9PSBjaHIpIHJlc3VsdCArPSBjaHI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdCAhPT0gJ0RHQkVGSEFDSUpLJztcbiAgfSk7XG4gIHZhciBGT1JDRUQgPSBGQUlMU19PTl9VTkRFRklORUQgfHwgIUZBSUxTX09OX05VTEwgfHwgIVNUUklDVF9NRVRIT0QgfHwgIVNUQUJMRV9TT1JUO1xuXG4gIHZhciBnZXRTb3J0Q29tcGFyZSA9IGZ1bmN0aW9uIChjb21wYXJlZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHJldHVybiAtMTtcbiAgICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHJldHVybiAxO1xuICAgICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSByZXR1cm4gK2NvbXBhcmVmbih4LCB5KSB8fCAwO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHgpID4gdG9TdHJpbmcoeSkgPyAxIDogLTE7XG4gICAgfTtcbiAgfTsgLy8gYEFycmF5LnByb3RvdHlwZS5zb3J0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc29ydFxuXG5cbiAgJCh7XG4gICAgdGFyZ2V0OiAnQXJyYXknLFxuICAgIHByb3RvOiB0cnVlLFxuICAgIGZvcmNlZDogRk9SQ0VEXG4gIH0sIHtcbiAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KGNvbXBhcmVmbikge1xuICAgICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSBhQ2FsbGFibGUoY29tcGFyZWZuKTtcbiAgICAgIHZhciBhcnJheSA9IHRvT2JqZWN0KHRoaXMpO1xuICAgICAgaWYgKFNUQUJMRV9TT1JUKSByZXR1cm4gY29tcGFyZWZuID09PSB1bmRlZmluZWQgPyB1biRTb3J0KGFycmF5KSA6IHVuJFNvcnQoYXJyYXksIGNvbXBhcmVmbik7XG4gICAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICAgIHZhciBhcnJheUxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKGFycmF5KTtcbiAgICAgIHZhciBpdGVtc0xlbmd0aCwgaW5kZXg7XG5cbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGFycmF5TGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChpbmRleCBpbiBhcnJheSkgcHVzaChpdGVtcywgYXJyYXlbaW5kZXhdKTtcbiAgICAgIH1cblxuICAgICAgaW50ZXJuYWxTb3J0KGl0ZW1zLCBnZXRTb3J0Q29tcGFyZShjb21wYXJlZm4pKTtcbiAgICAgIGl0ZW1zTGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuICAgICAgaW5kZXggPSAwO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBpdGVtc0xlbmd0aCkgYXJyYXlbaW5kZXhdID0gaXRlbXNbaW5kZXgrK107XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGFycmF5TGVuZ3RoKSBkZWxldGUgYXJyYXlbaW5kZXgrK107XG5cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBlbnRyeVZpcnR1YWwkMiA9IGVudHJ5VmlydHVhbCRrO1xuICB2YXIgc29ydCQzID0gZW50cnlWaXJ0dWFsJDIoJ0FycmF5Jykuc29ydDtcblxuICB2YXIgaXNQcm90b3R5cGVPZiQyID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCQyID0gc29ydCQzO1xuICB2YXIgQXJyYXlQcm90b3R5cGUkMiA9IEFycmF5LnByb3RvdHlwZTtcblxuICB2YXIgc29ydCQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LnNvcnQ7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSQyIHx8IGlzUHJvdG90eXBlT2YkMihBcnJheVByb3RvdHlwZSQyLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZSQyLnNvcnQgPyBtZXRob2QkMiA6IG93bjtcbiAgfTtcblxuICB2YXIgcGFyZW50JDYgPSBzb3J0JDI7XG4gIHZhciBzb3J0JDEgPSBwYXJlbnQkNjtcblxuICB2YXIgc29ydCA9IHNvcnQkMTtcblxuICB2YXIgZW50cnlWaXJ0dWFsJDEgPSBlbnRyeVZpcnR1YWwkaztcbiAgdmFyIHZhbHVlcyQzID0gZW50cnlWaXJ0dWFsJDEoJ0FycmF5JykudmFsdWVzO1xuXG4gIHZhciBwYXJlbnQkNSA9IHZhbHVlcyQzO1xuICB2YXIgdmFsdWVzJDIgPSBwYXJlbnQkNTtcblxuICB2YXIgY2xhc3NvZiQxID0gY2xhc3NvZiRjO1xuICB2YXIgaGFzT3duJDEgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgaXNQcm90b3R5cGVPZiQxID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCQxID0gdmFsdWVzJDI7XG4gIHZhciBBcnJheVByb3RvdHlwZSQxID0gQXJyYXkucHJvdG90eXBlO1xuICB2YXIgRE9NSXRlcmFibGVzJDEgPSB7XG4gICAgRE9NVG9rZW5MaXN0OiB0cnVlLFxuICAgIE5vZGVMaXN0OiB0cnVlXG4gIH07XG5cbiAgdmFyIHZhbHVlcyQxID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LnZhbHVlcztcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJDEgfHwgaXNQcm90b3R5cGVPZiQxKEFycmF5UHJvdG90eXBlJDEsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDEudmFsdWVzIHx8IGhhc093biQxKERPTUl0ZXJhYmxlcyQxLCBjbGFzc29mJDEoaXQpKSA/IG1ldGhvZCQxIDogb3duO1xuICB9O1xuXG4gIHZhciB2YWx1ZXMgPSB2YWx1ZXMkMTtcblxuICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvciQ0O1xuXG4gIHZhciBlbnRyeVZpcnR1YWwgPSBlbnRyeVZpcnR1YWwkaztcbiAgdmFyIGVudHJpZXMkMyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5lbnRyaWVzO1xuXG4gIHZhciBwYXJlbnQkNCA9IGVudHJpZXMkMztcbiAgdmFyIGVudHJpZXMkMiA9IHBhcmVudCQ0O1xuXG4gIHZhciBjbGFzc29mID0gY2xhc3NvZiRjO1xuICB2YXIgaGFzT3duID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIGlzUHJvdG90eXBlT2YgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kID0gZW50cmllcyQyO1xuICB2YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG4gIHZhciBET01JdGVyYWJsZXMgPSB7XG4gICAgRE9NVG9rZW5MaXN0OiB0cnVlLFxuICAgIE5vZGVMaXN0OiB0cnVlXG4gIH07XG5cbiAgdmFyIGVudHJpZXMkMSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5lbnRyaWVzO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuZW50cmllcyB8fCBoYXNPd24oRE9NSXRlcmFibGVzLCBjbGFzc29mKGl0KSkgPyBtZXRob2QgOiBvd247XG4gIH07XG5cbiAgdmFyIGVudHJpZXMgPSBlbnRyaWVzJDE7XG5cbiAgLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4gIC8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuICAvLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxuICB2YXIgZ2V0UmFuZG9tVmFsdWVzO1xuICB2YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG4gIGZ1bmN0aW9uIHJuZygpIHtcbiAgICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLiBBbHNvLFxuICAgICAgLy8gZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIChtc0NyeXB0bykgb24gSUUxMS5cbiAgICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcblxuICAgICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICB9XG5cbiAgdmFyIFJFR0VYID0gL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gICAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICAgKi9cblxuICB2YXIgYnl0ZVRvSGV4ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5KGFycikge1xuICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7IC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gICAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG5cbiAgICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAgIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gICAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gICAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB1dWlkO1xuICB9XG5cbiAgZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICAgIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gICAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgICBpZiAoYnVmKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIERldGVybWluZSB3aGV0aGVyIGEgdmFsdWUgY2FuIGJlIHVzZWQgYXMgYW4gaWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdmFsdWUgLSBJbnB1dCB2YWx1ZSBvZiB1bmtub3duIHR5cGUuXHJcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdmFsaWQgaWQsIGZhbHNlIG90aGVyd2lzZS5cclxuICAgKi9cbiAgZnVuY3Rpb24gaXNJZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiO1xuICB9XG5cbiAgLyoqXHJcbiAgICogQSBxdWV1ZS5cclxuICAgKlxyXG4gICAqIEB0eXBlUGFyYW0gVCAtIFRoZSB0eXBlIG9mIG1ldGhvZCBuYW1lcyB0byBiZSByZXBsYWNlZCBieSBxdWV1ZWQgdmVyc2lvbnMuXHJcbiAgICovXG4gIHZhciBRdWV1ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqIERlbGF5IGluIG1pbGxpc2Vjb25kcy4gSWYgZGVmaW5lZCB0aGUgcXVldWUgd2lsbCBiZSBwZXJpb2RpY2FsbHkgZmx1c2hlZC4gKi9cblxuICAgIC8qKiBNYXhpbXVtIG51bWJlciBvZiBlbnRyaWVzIGluIHRoZSBxdWV1ZSBiZWZvcmUgaXQgd2lsbCBiZSBmbHVzaGVkLiAqL1xuXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgUXVldWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBRdWV1ZSBjb25maWd1cmF0aW9uLlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gUXVldWUob3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1ZXVlKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVsYXlcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4XCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9xdWV1ZVwiLCBbXSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90aW1lb3V0XCIsIG51bGwpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZXh0ZW5kZWRcIiwgbnVsbCk7XG5cbiAgICAgIC8vIG9wdGlvbnNcbiAgICAgIHRoaXMuZGVsYXkgPSBudWxsO1xuICAgICAgdGhpcy5tYXggPSBJbmZpbml0eTtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIHF1ZXVlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUXVldWUgY29uZmlndXJhdGlvbi5cclxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoUXVldWUsIFt7XG4gICAgICBrZXk6IFwic2V0T3B0aW9uc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5kZWxheSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHRoaXMuZGVsYXkgPSBvcHRpb25zLmRlbGF5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgdGhpcy5tYXggPSBvcHRpb25zLm1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZsdXNoSWZOZWVkZWQoKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBFeHRlbmQgYW4gb2JqZWN0IHdpdGggcXVldWluZyBmdW5jdGlvbmFsaXR5LlxyXG4gICAgICAgKiBUaGUgb2JqZWN0IHdpbGwgYmUgZXh0ZW5kZWQgd2l0aCBhIGZ1bmN0aW9uIGZsdXNoLCBhbmQgdGhlIG1ldGhvZHMgcHJvdmlkZWQgaW4gb3B0aW9ucy5yZXBsYWNlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBxdWV1ZWQgb25lcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIG9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWQuXHJcbiAgICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBxdWV1ZS5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgICAgdmFsdWU6XG4gICAgICAvKipcclxuICAgICAgICogRGVzdHJveSB0aGUgcXVldWUuIFRoZSBxdWV1ZSB3aWxsIGZpcnN0IGZsdXNoIGFsbCBxdWV1ZWQgYWN0aW9ucywgYW5kIGluIGNhc2UgaXQgaGFzIGV4dGVuZGVkIGFuIG9iamVjdCwgd2lsbCByZXN0b3JlIHRoZSBvcmlnaW5hbCBvYmplY3QuXHJcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9leHRlbmRlZCkge1xuICAgICAgICAgIHZhciBvYmplY3QgPSB0aGlzLl9leHRlbmRlZC5vYmplY3Q7XG4gICAgICAgICAgdmFyIG1ldGhvZHMgPSB0aGlzLl9leHRlbmRlZC5tZXRob2RzO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gbWV0aG9kc1tpXTtcblxuICAgICAgICAgICAgaWYgKG1ldGhvZC5vcmlnaW5hbCkge1xuICAgICAgICAgICAgICAvLyBAVE9ETzogYmV0dGVyIHNvbHV0aW9uP1xuICAgICAgICAgICAgICBvYmplY3RbbWV0aG9kLm5hbWVdID0gbWV0aG9kLm9yaWdpbmFsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gQFRPRE86IGJldHRlciBzb2x1dGlvbj9cbiAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdFttZXRob2QubmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fZXh0ZW5kZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogUmVwbGFjZSBhIG1ldGhvZCBvbiBhbiBvYmplY3Qgd2l0aCBhIHF1ZXVlZCB2ZXJzaW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gb2JqZWN0IC0gT2JqZWN0IGhhdmluZyB0aGUgbWV0aG9kLlxyXG4gICAgICAgKiBAcGFyYW0gbWV0aG9kIC0gVGhlIG1ldGhvZCBuYW1lLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZXBsYWNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVwbGFjZShvYmplY3QsIG1ldGhvZCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMgLS0gRnVuY3Rpb24gdGhpcyBpcyBuZWNlc3NhcnkgaW4gdGhlIGZ1bmN0aW9uIGJlbGxvdywgc28gY2xhc3MgdGhpcyBoYXMgdG8gYmUgc2F2ZWQgaW50byBhIHZhcmlhYmxlIGhlcmUuICovXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIHZhciBvcmlnaW5hbCA9IG9iamVjdFttZXRob2RdO1xuXG4gICAgICAgIGlmICghb3JpZ2luYWwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2QgXCIgKyBtZXRob2QgKyBcIiB1bmRlZmluZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBvYmplY3RbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gYWRkIHRoaXMgY2FsbCB0byB0aGUgcXVldWVcbiAgICAgICAgICBtZS5xdWV1ZSh7XG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAgICAgZm46IG9yaWdpbmFsLFxuICAgICAgICAgICAgY29udGV4dDogdGhpc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFF1ZXVlIGEgY2FsbC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGVudHJ5IC0gVGhlIGZ1bmN0aW9uIG9yIGVudHJ5IHRvIGJlIHF1ZXVlZC5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicXVldWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBxdWV1ZShlbnRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGZuOiBlbnRyeVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goZW50cnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmx1c2hJZk5lZWRlZCgpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIHF1ZXVlIG5lZWRzIHRvIGJlIGZsdXNoZWQuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9mbHVzaElmTmVlZGVkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZsdXNoSWZOZWVkZWQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgLy8gZmx1c2ggd2hlbiB0aGUgbWF4aW11bSBpcyBleGNlZWRlZC5cbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLmxlbmd0aCA+IHRoaXMubWF4KSB7XG4gICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9IC8vIGZsdXNoIGFmdGVyIGEgcGVyaW9kIG9mIGluYWN0aXZpdHkgd2hlbiBhIGRlbGF5IGlzIGNvbmZpZ3VyZWRcblxuXG4gICAgICAgIGlmICh0aGlzLl90aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPiAwICYmIHR5cGVvZiB0aGlzLmRlbGF5ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQkMShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mbHVzaCgpO1xuICAgICAgICAgIH0sIHRoaXMuZGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRmx1c2ggYWxsIHF1ZXVlZCBjYWxsc1xyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJmbHVzaFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICB2YXIgX2NvbnRleHQsIF9jb250ZXh0MjtcblxuICAgICAgICBmb3JFYWNoJDEoX2NvbnRleHQgPSBzcGxpY2UoX2NvbnRleHQyID0gdGhpcy5fcXVldWUpLmNhbGwoX2NvbnRleHQyLCAwKSkuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgZW50cnkuZm4uYXBwbHkoZW50cnkuY29udGV4dCB8fCBlbnRyeS5mbiwgZW50cnkuYXJncyB8fCBbXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImV4dGVuZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGV4dGVuZChvYmplY3QsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHF1ZXVlID0gbmV3IFF1ZXVlKG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvYmplY3QuZmx1c2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRhcmdldCBvYmplY3QgYWxyZWFkeSBoYXMgYSBwcm9wZXJ0eSBmbHVzaFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iamVjdC5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBxdWV1ZS5mbHVzaCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtZXRob2RzID0gW3tcbiAgICAgICAgICBuYW1lOiBcImZsdXNoXCIsXG4gICAgICAgICAgb3JpZ2luYWw6IHVuZGVmaW5lZFxuICAgICAgICB9XTtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlcGxhY2UpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMucmVwbGFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLnJlcGxhY2VbaV07XG4gICAgICAgICAgICBtZXRob2RzLnB1c2goe1xuICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAvLyBAVE9ETzogYmV0dGVyIHNvbHV0aW9uP1xuICAgICAgICAgICAgICBvcmlnaW5hbDogb2JqZWN0W25hbWVdXG4gICAgICAgICAgICB9KTsgLy8gQFRPRE86IGJldHRlciBzb2x1dGlvbj9cblxuICAgICAgICAgICAgcXVldWUucmVwbGFjZShvYmplY3QsIG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXVlLl9leHRlbmRlZCA9IHtcbiAgICAgICAgICBvYmplY3Q6IG9iamVjdCxcbiAgICAgICAgICBtZXRob2RzOiBtZXRob2RzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBxdWV1ZTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUXVldWU7XG4gIH0oKTtcblxuICAvKipcclxuICAgKiBbW0RhdGFTZXRdXSBjb2RlIHRoYXQgY2FuIGJlIHJldXNlZCBpbiBbW0RhdGFWaWV3XV0gb3Igb3RoZXIgc2ltaWxhciBpbXBsZW1lbnRhdGlvbnMgb2YgW1tEYXRhSW50ZXJmYWNlXV0uXHJcbiAgICpcclxuICAgKiBAdHlwZVBhcmFtIEl0ZW0gLSBJdGVtIHR5cGUgdGhhdCBtYXkgb3IgbWF5IG5vdCBoYXZlIGFuIGlkLlxyXG4gICAqIEB0eXBlUGFyYW0gSWRQcm9wIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCBjb250YWlucyB0aGUgaWQuXHJcbiAgICovXG4gIHZhciBEYXRhU2V0UGFydCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF0YVNldFBhcnQoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0YVNldFBhcnQpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3Vic2NyaWJlcnNcIiwge1xuICAgICAgICBcIipcIjogW10sXG4gICAgICAgIGFkZDogW10sXG4gICAgICAgIHJlbW92ZTogW10sXG4gICAgICAgIHVwZGF0ZTogW11cbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdWJzY3JpYmVcIiwgRGF0YVNldFBhcnQucHJvdG90eXBlLm9uKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidW5zdWJzY3JpYmVcIiwgRGF0YVNldFBhcnQucHJvdG90eXBlLm9mZik7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERhdGFTZXRQYXJ0LCBbe1xuICAgICAga2V5OiBcIl90cmlnZ2VyXCIsXG4gICAgICB2YWx1ZTpcbiAgICAgIC8qKlxyXG4gICAgICAgKiBUcmlnZ2VyIGFuIGV2ZW50XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBldmVudCAtIEV2ZW50IG5hbWUuXHJcbiAgICAgICAqIEBwYXJhbSBwYXlsb2FkIC0gRXZlbnQgcGF5bG9hZC5cclxuICAgICAgICogQHBhcmFtIHNlbmRlcklkIC0gSWQgb2YgdGhlIHNlbmRlci5cclxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBfdHJpZ2dlcihldmVudCwgcGF5bG9hZCwgc2VuZGVySWQpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0LCBfY29udGV4dDI7XG5cbiAgICAgICAgaWYgKGV2ZW50ID09PSBcIipcIikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB0cmlnZ2VyIGV2ZW50ICpcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JFYWNoJDEoX2NvbnRleHQgPSBjb25jYXQkMShfY29udGV4dDIgPSBbXSkuY2FsbChfY29udGV4dDIsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0pLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fc3Vic2NyaWJlcnNbXCIqXCJdKSkpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgc3Vic2NyaWJlcihldmVudCwgcGF5bG9hZCwgc2VuZGVySWQgIT0gbnVsbCA/IHNlbmRlcklkIDogbnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFN1YnNjcmliZSB0byBhbiBldmVudCwgYWRkIGFuIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVtYXJrcyBOb24tZnVuY3Rpb24gY2FsbGJhY2tzIGFyZSBpZ25vcmVkLlxyXG4gICAgICAgKiBAcGFyYW0gZXZlbnQgLSBFdmVudCBuYW1lLlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBDYWxsYmFjayBtZXRob2QuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfSAvLyBAVE9ETzogTWF5YmUgdGhyb3cgZm9yIGludmFsaWQgY2FsbGJhY2tzP1xuXG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogVW5zdWJzY3JpYmUgZnJvbSBhbiBldmVudCwgcmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVtYXJrcyBJZiB0aGUgc2FtZSBjYWxsYmFjayB3YXMgc3Vic2NyaWJlZCBtb3JlIHRoYW4gb25jZSAqKmFsbCoqIG9jY3VyZW5jZXMgd2lsbCBiZSByZW1vdmVkLlxyXG4gICAgICAgKiBAcGFyYW0gZXZlbnQgLSBFdmVudCBuYW1lLlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBDYWxsYmFjayBtZXRob2QuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9mZlwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF9jb250ZXh0MztcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0gPSBmaWx0ZXIoX2NvbnRleHQzID0gdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdKS5jYWxsKF9jb250ZXh0MywgZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlciAhPT0gY2FsbGJhY2s7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBvbiBpbnN0ZWFkIChQUzogRGF0YVZpZXcuc3Vic2NyaWJlID09PSBEYXRhVmlldy5vbikuXHJcbiAgICAgICAqL1xuXG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERhdGFTZXRQYXJ0O1xuICB9KCk7XG5cbiAgdmFyIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uJDI7XG4gIHZhciBjb2xsZWN0aW9uU3Ryb25nID0gY29sbGVjdGlvblN0cm9uZyQyOyAvLyBgU2V0YCBjb25zdHJ1Y3RvclxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC1vYmplY3RzXG5cbiAgY29sbGVjdGlvbignU2V0JywgZnVuY3Rpb24gKGluaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gU2V0KCkge1xuICAgICAgcmV0dXJuIGluaXQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgfSwgY29sbGVjdGlvblN0cm9uZyk7XG5cbiAgdmFyIHBhdGggPSBwYXRoJHE7XG4gIHZhciBzZXQkMiA9IHBhdGguU2V0O1xuXG4gIHZhciBwYXJlbnQkMyA9IHNldCQyO1xuICB2YXIgc2V0JDEgPSBwYXJlbnQkMztcblxuICB2YXIgc2V0ID0gc2V0JDE7XG5cbiAgdmFyIGdldEl0ZXJhdG9yJDQgPSBnZXRJdGVyYXRvciQ3O1xuICB2YXIgZ2V0SXRlcmF0b3JfMSA9IGdldEl0ZXJhdG9yJDQ7XG5cbiAgdmFyIHBhcmVudCQyID0gZ2V0SXRlcmF0b3JfMTtcbiAgdmFyIGdldEl0ZXJhdG9yJDMgPSBwYXJlbnQkMjtcblxuICB2YXIgcGFyZW50JDEgPSBnZXRJdGVyYXRvciQzO1xuICB2YXIgZ2V0SXRlcmF0b3IkMiA9IHBhcmVudCQxO1xuXG4gIHZhciBwYXJlbnQgPSBnZXRJdGVyYXRvciQyO1xuICB2YXIgZ2V0SXRlcmF0b3IkMSA9IHBhcmVudDtcblxuICB2YXIgZ2V0SXRlcmF0b3IgPSBnZXRJdGVyYXRvciQxO1xuXG4gIHZhciBfU3ltYm9sJGl0ZXJhdG9yO1xuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIHN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnZXRJdGVyYXRvck1ldGhvZCQxKG8pIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChpc0FycmF5JDEobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDIobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyKG8sIG1pbkxlbikgeyB2YXIgX2NvbnRleHQxMDsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDIobywgbWluTGVuKTsgdmFyIG4gPSBzbGljZShfY29udGV4dDEwID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pKS5jYWxsKF9jb250ZXh0MTAsIDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIGZyb20kMyhvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQyKG8sIG1pbkxlbik7IH1cblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQyKGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG4gIF9TeW1ib2wkaXRlcmF0b3IgPSBpdGVyYXRvcjtcblxuICAvKipcclxuICAgKiBEYXRhIHN0cmVhbVxyXG4gICAqXHJcbiAgICogQHJlbWFya3NcclxuICAgKiBbW0RhdGFTdHJlYW1dXSBvZmZlcnMgYW4gYWx3YXlzIHVwIHRvIGRhdGUgc3RyZWFtIG9mIGl0ZW1zIGZyb20gYSBbW0RhdGFTZXRdXSBvciBbW0RhdGFWaWV3XV0uXHJcbiAgICogVGhhdCBtZWFucyB0aGF0IHRoZSBzdHJlYW0gaXMgZXZhbHVhdGVkIGF0IHRoZSB0aW1lIG9mIGl0ZXJhdGlvbiwgY29udmVyc2lvbiB0byBhbm90aGVyIGRhdGEgdHlwZSBvciB3aGVuIFtbY2FjaGVdXSBpcyBjYWxsZWQsIG5vdCB3aGVuIHRoZSBbW0RhdGFTdHJlYW1dXSB3YXMgY3JlYXRlZC5cclxuICAgKiBNdWx0aXBsZSBpbnZvY2F0aW9ucyBvZiBmb3IgZXhhbXBsZSBbW3RvSXRlbUFycmF5XV0gbWF5IHlpZWxkIGRpZmZlcmVudCByZXN1bHRzIChpZiB0aGUgZGF0YSBzb3VyY2UgbGlrZSBmb3IgZXhhbXBsZSBbW0RhdGFTZXRdXSBnZXRzIG1vZGlmaWVkKS5cclxuICAgKiBAdHlwZVBhcmFtIEl0ZW0gLSBUaGUgaXRlbSB0eXBlIHRoaXMgc3RyZWFtIGlzIGdvaW5nIHRvIHdvcmsgd2l0aC5cclxuICAgKi9cbiAgdmFyIERhdGFTdHJlYW0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGRhdGEgc3RyZWFtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwYWlycyAtIFRoZSBpZCwgaXRlbSBwYWlycy5cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERhdGFTdHJlYW0ocGFpcnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRhU3RyZWFtKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhaXJzXCIsIHZvaWQgMCk7XG5cbiAgICAgIHRoaXMuX3BhaXJzID0gcGFpcnM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFuIGl0ZXJhYmxlIG9mIGtleSwgdmFsdWUgcGFpcnMgZm9yIGV2ZXJ5IGVudHJ5IGluIHRoZSBzdHJlYW0uXHJcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKERhdGFTdHJlYW0sIFt7XG4gICAgICBrZXk6IF9TeW1ib2wkaXRlcmF0b3IsXG4gICAgICB2YWx1ZTpcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIHJlZ2VuZXJhdG9yLm1hcmsoZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IsIF9zdGVwLCBfc3RlcCR2YWx1ZSwgaWQsIGl0ZW07XG5cbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yLndyYXAoZnVuY3Rpb24gdmFsdWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIodGhpcy5fcGFpcnMpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxO1xuXG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnMoKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKChfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3N0ZXAkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcC52YWx1ZSwgMiksIGlkID0gX3N0ZXAkdmFsdWVbMF0sIGl0ZW0gPSBfc3RlcCR2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICByZXR1cm4gW2lkLCBpdGVtXTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMSk7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShfY29udGV4dC50MCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTQ7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxNCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCB2YWx1ZSwgdGhpcywgW1sxLCAxMSwgMTQsIDE3XV0pO1xuICAgICAgfSlcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXR1cm4gYW4gaXRlcmFibGUgb2Yga2V5LCB2YWx1ZSBwYWlycyBmb3IgZXZlcnkgZW50cnkgaW4gdGhlIHN0cmVhbS5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZW50cmllc1wiLFxuICAgICAgdmFsdWU6XG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICByZWdlbmVyYXRvci5tYXJrKGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IyLCBfc3RlcDIsIF9zdGVwMiR2YWx1ZSwgaWQsIGl0ZW07XG5cbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yLndyYXAoZnVuY3Rpb24gZW50cmllcyQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIodGhpcy5fcGFpcnMpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucygpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfc3RlcDIkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDIudmFsdWUsIDIpLCBpZCA9IF9zdGVwMiR2YWx1ZVswXSwgaXRlbSA9IF9zdGVwMiR2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtpZCwgaXRlbV07XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMSk7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoX2NvbnRleHQyLnQwKTtcblxuICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTQ7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDE0KTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBlbnRyaWVzLCB0aGlzLCBbWzEsIDExLCAxNCwgMTddXSk7XG4gICAgICB9KVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJldHVybiBhbiBpdGVyYWJsZSBvZiBrZXlzIGluIHRoZSBzdHJlYW0uXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImtleXNcIixcbiAgICAgIHZhbHVlOlxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3IubWFyayhmdW5jdGlvbiBrZXlzKCkge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yMywgX3N0ZXAzLCBfc3RlcDMkdmFsdWUsIGlkO1xuXG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvci53cmFwKGZ1bmN0aW9uIGtleXMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHRoaXMuX3BhaXJzKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnMoKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKChfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3N0ZXAzJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAzLnZhbHVlLCAxKSwgaWQgPSBfc3RlcDMkdmFsdWVbMF07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3O1xuICAgICAgICAgICAgICAgIHJldHVybiBpZDtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbXCJjYXRjaFwiXSgxKTtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShfY29udGV4dDMudDApO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNDtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMuZigpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMTQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIGtleXMsIHRoaXMsIFtbMSwgMTEsIDE0LCAxN11dKTtcbiAgICAgIH0pXG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJuIGFuIGl0ZXJhYmxlIG9mIHZhbHVlcyBpbiB0aGUgc3RyZWFtLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ2YWx1ZXNcIixcbiAgICAgIHZhbHVlOlxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3IubWFyayhmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3I0LCBfc3RlcDQsIF9zdGVwNCR2YWx1ZSwgaXRlbTtcblxuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3Iud3JhcChmdW5jdGlvbiB2YWx1ZXMkKF9jb250ZXh0NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHRoaXMuX3BhaXJzKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnMoKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKChfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3N0ZXA0JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA0LnZhbHVlLCAyKSwgaXRlbSA9IF9zdGVwNCR2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTE7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0W1wiY2F0Y2hcIl0oMSk7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LmUoX2NvbnRleHQ0LnQwKTtcblxuICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTQ7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuZmluaXNoKDE0KTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCB2YWx1ZXMsIHRoaXMsIFtbMSwgMTEsIDE0LCAxN11dKTtcbiAgICAgIH0pXG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJuIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIHRoZSBpZHMgaW4gdGhpcyBzdHJlYW0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZW1hcmtzXHJcbiAgICAgICAqIFRoZSBhcnJheSBtYXkgY29udGFpbiBkdXBsaWNpdGllcy5cclxuICAgICAgICogQHJldHVybnMgVGhlIGFycmF5IHdpdGggYWxsIGlkcyBmcm9tIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ0b0lkQXJyYXlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b0lkQXJyYXkoKSB7XG4gICAgICAgIHZhciBfY29udGV4dDU7XG5cbiAgICAgICAgcmV0dXJuIG1hcCQzKF9jb250ZXh0NSA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9wYWlycykpLmNhbGwoX2NvbnRleHQ1LCBmdW5jdGlvbiAocGFpcikge1xuICAgICAgICAgIHJldHVybiBwYWlyWzBdO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXR1cm4gYW4gYXJyYXkgY29udGFpbmluZyBhbGwgdGhlIGl0ZW1zIGluIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVtYXJrc1xyXG4gICAgICAgKiBUaGUgYXJyYXkgbWF5IGNvbnRhaW4gZHVwbGljaXRpZXMuXHJcbiAgICAgICAqIEByZXR1cm5zIFRoZSBhcnJheSB3aXRoIGFsbCBpdGVtcyBmcm9tIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ0b0l0ZW1BcnJheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvSXRlbUFycmF5KCkge1xuICAgICAgICB2YXIgX2NvbnRleHQ2O1xuXG4gICAgICAgIHJldHVybiBtYXAkMyhfY29udGV4dDYgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fcGFpcnMpKS5jYWxsKF9jb250ZXh0NiwgZnVuY3Rpb24gKHBhaXIpIHtcbiAgICAgICAgICByZXR1cm4gcGFpclsxXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJuIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIHRoZSBlbnRyaWVzIGluIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVtYXJrc1xyXG4gICAgICAgKiBUaGUgYXJyYXkgbWF5IGNvbnRhaW4gZHVwbGljaXRpZXMuXHJcbiAgICAgICAqIEByZXR1cm5zIFRoZSBhcnJheSB3aXRoIGFsbCBlbnRyaWVzIGZyb20gdGhpcyBzdHJlYW0uXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInRvRW50cnlBcnJheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvRW50cnlBcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9wYWlycyk7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJuIGFuIG9iamVjdCBtYXAgY29udGFpbmluZyBhbGwgdGhlIGl0ZW1zIGluIHRoaXMgc3RyZWFtIGFjY2Vzc2libGUgYnkgaWRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVtYXJrc1xyXG4gICAgICAgKiBJbiBjYXNlIG9mIGR1cGxpY2F0ZSBpZHMgKGNvZXJjZWQgdG8gc3RyaW5nIHNvIGA3ID09ICc3J2ApIHRoZSBsYXN0IGVuY291dGVyZWQgYXBwZWFycyBpbiB0aGUgcmV0dXJuZWQgb2JqZWN0LlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgb2JqZWN0IG1hcCBvZiBhbGwgaWQg4oaSIGl0ZW0gcGFpcnMgZnJvbSB0aGlzIHN0cmVhbS5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9PYmplY3RNYXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdE1hcCgpIHtcbiAgICAgICAgdmFyIG1hcCA9IGNyZWF0ZSQ1KG51bGwpO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMih0aGlzLl9wYWlycyksXG4gICAgICAgICAgICBfc3RlcDU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIF9zdGVwNSR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwNS52YWx1ZSwgMiksXG4gICAgICAgICAgICAgICAgaWQgPSBfc3RlcDUkdmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgaXRlbSA9IF9zdGVwNSR2YWx1ZVsxXTtcblxuICAgICAgICAgICAgbWFwW2lkXSA9IGl0ZW07XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3I1LmYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJuIGEgbWFwIGNvbnRhaW5pbmcgYWxsIHRoZSBpdGVtcyBpbiB0aGlzIHN0cmVhbSBhY2Nlc3NpYmxlIGJ5IGlkcy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMgVGhlIG1hcCBvZiBhbGwgaWQg4oaSIGl0ZW0gcGFpcnMgZnJvbSB0aGlzIHN0cmVhbS5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9NYXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b01hcCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBtYXAodGhpcy5fcGFpcnMpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJldHVybiBhIHNldCBjb250YWluaW5nIGFsbCB0aGUgKHVuaXF1ZSkgaWRzIGluIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgc2V0IG9mIGFsbCBpZHMgZnJvbSB0aGlzIHN0cmVhbS5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9JZFNldFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvSWRTZXQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgc2V0KHRoaXMudG9JZEFycmF5KCkpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJldHVybiBhIHNldCBjb250YWluaW5nIGFsbCB0aGUgKHVuaXF1ZSkgaXRlbXMgaW4gdGhpcyBzdHJlYW0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIFRoZSBzZXQgb2YgYWxsIGl0ZW1zIGZyb20gdGhpcyBzdHJlYW0uXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInRvSXRlbVNldFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvSXRlbVNldCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzZXQodGhpcy50b0l0ZW1BcnJheSgpKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBDYWNoZSB0aGUgaXRlbXMgZnJvbSB0aGlzIHN0cmVhbS5cclxuICAgICAgICpcclxuICAgICAgICogQHJlbWFya3NcclxuICAgICAgICogVGhpcyBtZXRob2QgYWxsb3dzIGZvciBpdGVtcyB0byBiZSBmZXRjaGVkIGltbWVkaWF0ZWxseSBhbmQgdXNlZCAocG9zc2libHkgbXVsdGlwbGUgdGltZXMpIGxhdGVyLlxyXG4gICAgICAgKiBJdCBjYW4gYWxzbyBiZSB1c2VkIHRvIG9wdGltaXplIHBlcmZvcm1hbmNlIGFzIFtbRGF0YVN0cmVhbV1dIHdvdWxkIG90aGVyd2lzZSByZWV2YWx1YXRlIGV2ZXJ5dGhpbmcgdXBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogIyMgRXhhbXBsZVxyXG4gICAgICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICAgICAqIGNvbnN0IGRzID0gbmV3IERhdGFTZXQoW+KApl0pXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGNvbnN0IGNhY2hlZFN0cmVhbSA9IGRzLnN0cmVhbSgpXHJcbiAgICAgICAqICAgLmZpbHRlcijigKYpXHJcbiAgICAgICAqICAgLnNvcnQo4oCmKVxyXG4gICAgICAgKiAgIC5tYXAo4oCmKVxyXG4gICAgICAgKiAgIC5jYWNoZWQo4oCmKSAvLyBEYXRhIGFyZSBmZXRjaGVkLCBwcm9jZXNzZWQgYW5kIGNhY2hlZCBoZXJlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBkcy5jbGVhcigpXHJcbiAgICAgICAqIGNoYWNoZWRTdHJlYW0gLy8gU3RpbGwgaGFzIGFsbCB0aGUgaXRlbXMuXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKiBAcmV0dXJucyBBIG5ldyBbW0RhdGFTdHJlYW1dXSB3aXRoIGNhY2hlZCBpdGVtcyAoZGV0YWNoZWQgZnJvbSB0aGUgb3JpZ2luYWwgW1tEYXRhU2V0XV0pLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjYWNoZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhY2hlKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGFTdHJlYW0oX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX3BhaXJzKSk7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogR2V0IHRoZSBkaXN0aW5jdCB2YWx1ZXMgb2YgZ2l2ZW4gcHJvcGVydHkuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0aGF0IHBpY2tzIGFuZCBwb3NzaWJseSBjb252ZXJ0cyB0aGUgcHJvcGVydHkuXHJcbiAgICAgICAqIEB0eXBlUGFyYW0gVCAtIFRoZSB0eXBlIG9mIHRoZSBkaXN0aW5jdCB2YWx1ZS5cclxuICAgICAgICogQHJldHVybnMgQSBzZXQgb2YgYWxsIGRpc3RpbmN0IHByb3BlcnRpZXMuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImRpc3RpbmN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGluY3QoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNldCQxID0gbmV3IHNldCgpO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMih0aGlzLl9wYWlycyksXG4gICAgICAgICAgICBfc3RlcDY7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIF9zdGVwNiR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwNi52YWx1ZSwgMiksXG4gICAgICAgICAgICAgICAgaWQgPSBfc3RlcDYkdmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgaXRlbSA9IF9zdGVwNiR2YWx1ZVsxXTtcblxuICAgICAgICAgICAgc2V0JDEuYWRkKGNhbGxiYWNrKGl0ZW0sIGlkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3I2LmYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZXQkMTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBGaWx0ZXIgdGhlIGl0ZW1zIG9mIHRoZSBzdHJlYW0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0aGF0IGRlY2lkZXMgd2hldGhlciBhbiBpdGVtIHdpbGwgYmUgaW5jbHVkZWQuXHJcbiAgICAgICAqIEByZXR1cm5zIEEgbmV3IGRhdGEgc3RyZWFtIHdpdGggdGhlIGZpbHRlcmVkIGl0ZW1zLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJmaWx0ZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHBhaXJzID0gdGhpcy5fcGFpcnM7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YVN0cmVhbShfZGVmaW5lUHJvcGVydHkoe30sIGl0ZXJhdG9yLCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3IubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICAgIHZhciBfaXRlcmF0b3I3LCBfc3RlcDcsIF9zdGVwNyR2YWx1ZSwgaWQsIGl0ZW07XG5cbiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3Iud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dDcpIHtcbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHBhaXJzKTtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMTtcblxuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNy5zKCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICBpZiAoKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBfc3RlcDckdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDcudmFsdWUsIDIpLCBpZCA9IF9zdGVwNyR2YWx1ZVswXSwgaXRlbSA9IF9zdGVwNyR2YWx1ZVsxXTtcblxuICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFjayhpdGVtLCBpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA4O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA4O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpZCwgaXRlbV07XG5cbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxMjtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1tcImNhdGNoXCJdKDEpO1xuXG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3I3LmUoX2NvbnRleHQ3LnQwKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDE1O1xuXG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3I3LmYoKTtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5maW5pc2goMTUpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTIsIDE1LCAxOF1dKTtcbiAgICAgICAgfSkpKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggaXRlbSBvZiB0aGUgc3RyZWFtLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgZm9yIGVhY2ggaXRlbS5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZm9yRWFjaFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjggPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHRoaXMuX3BhaXJzKSxcbiAgICAgICAgICAgIF9zdGVwODtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yOC5zKCk7ICEoX3N0ZXA4ID0gX2l0ZXJhdG9yOC5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgX3N0ZXA4JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA4LnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgICBpZCA9IF9zdGVwOCR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgICBpdGVtID0gX3N0ZXA4JHZhbHVlWzFdO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhpdGVtLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3I4LmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3I4LmYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIE1hcCB0aGUgaXRlbXMgaW50byBhIGRpZmZlcmVudCB0eXBlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdGhhdCBkb2VzIHRoZSBjb252ZXJzaW9uLlxyXG4gICAgICAgKiBAdHlwZVBhcmFtIE1hcHBlZCAtIFRoZSB0eXBlIG9mIHRoZSBpdGVtIGFmdGVyIG1hcHBpbmcuXHJcbiAgICAgICAqIEByZXR1cm5zIEEgbmV3IGRhdGEgc3RyZWFtIHdpdGggdGhlIG1hcHBlZCBpdGVtcy5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwibWFwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbWFwKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBwYWlycyA9IHRoaXMuX3BhaXJzO1xuICAgICAgICByZXR1cm4gbmV3IERhdGFTdHJlYW0oX2RlZmluZVByb3BlcnR5KHt9LCBpdGVyYXRvciwgLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvcjksIF9zdGVwOSwgX3N0ZXA5JHZhbHVlLCBpZCwgaXRlbTtcblxuICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvci53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDgpIHtcbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjkgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHBhaXJzKTtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMTtcblxuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yOS5zKCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICBpZiAoKF9zdGVwOSA9IF9pdGVyYXRvcjkubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIF9zdGVwOSR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwOS52YWx1ZSwgMiksIGlkID0gX3N0ZXA5JHZhbHVlWzBdLCBpdGVtID0gX3N0ZXA5JHZhbHVlWzFdO1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpZCwgY2FsbGJhY2soaXRlbSwgaWQpXTtcblxuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMTE7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDgudDAgPSBfY29udGV4dDhbXCJjYXRjaFwiXSgxKTtcblxuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yOS5lKF9jb250ZXh0OC50MCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAxNDtcblxuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yOS5mKCk7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguZmluaXNoKDE0KTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAxMSwgMTQsIDE3XV0pO1xuICAgICAgICB9KSkpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldCB0aGUgaXRlbSB3aXRoIHRoZSBtYXhpbXVtIHZhbHVlIG9mIGdpdmVuIHByb3BlcnR5LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdGhhdCBwaWNrcyBhbmQgcG9zc2libHkgY29udmVydHMgdGhlIHByb3BlcnR5LlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgaXRlbSB3aXRoIHRoZSBtYXhpbXVtIGlmIGZvdW5kIG90aGVyd2lzZSBudWxsLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJtYXhcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYXgoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGl0ZXIgPSBnZXRJdGVyYXRvcih0aGlzLl9wYWlycyk7XG5cbiAgICAgICAgdmFyIGN1cnIgPSBpdGVyLm5leHQoKTtcblxuICAgICAgICBpZiAoY3Vyci5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF4SXRlbSA9IGN1cnIudmFsdWVbMV07XG4gICAgICAgIHZhciBtYXhWYWx1ZSA9IGNhbGxiYWNrKGN1cnIudmFsdWVbMV0sIGN1cnIudmFsdWVbMF0pO1xuXG4gICAgICAgIHdoaWxlICghKGN1cnIgPSBpdGVyLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgIHZhciBfY3VyciR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KGN1cnIudmFsdWUsIDIpLFxuICAgICAgICAgICAgICBpZCA9IF9jdXJyJHZhbHVlWzBdLFxuICAgICAgICAgICAgICBpdGVtID0gX2N1cnIkdmFsdWVbMV07XG5cbiAgICAgICAgICB2YXIgX3ZhbHVlID0gY2FsbGJhY2soaXRlbSwgaWQpO1xuXG4gICAgICAgICAgaWYgKF92YWx1ZSA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgICBtYXhWYWx1ZSA9IF92YWx1ZTtcbiAgICAgICAgICAgIG1heEl0ZW0gPSBpdGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXhJdGVtO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldCB0aGUgaXRlbSB3aXRoIHRoZSBtaW5pbXVtIHZhbHVlIG9mIGdpdmVuIHByb3BlcnR5LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdGhhdCBwaWNrcyBhbmQgcG9zc2libHkgY29udmVydHMgdGhlIHByb3BlcnR5LlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgaXRlbSB3aXRoIHRoZSBtaW5pbXVtIGlmIGZvdW5kIG90aGVyd2lzZSBudWxsLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJtaW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtaW4oY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGl0ZXIgPSBnZXRJdGVyYXRvcih0aGlzLl9wYWlycyk7XG5cbiAgICAgICAgdmFyIGN1cnIgPSBpdGVyLm5leHQoKTtcblxuICAgICAgICBpZiAoY3Vyci5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWluSXRlbSA9IGN1cnIudmFsdWVbMV07XG4gICAgICAgIHZhciBtaW5WYWx1ZSA9IGNhbGxiYWNrKGN1cnIudmFsdWVbMV0sIGN1cnIudmFsdWVbMF0pO1xuXG4gICAgICAgIHdoaWxlICghKGN1cnIgPSBpdGVyLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgIHZhciBfY3VyciR2YWx1ZTIgPSBfc2xpY2VkVG9BcnJheShjdXJyLnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgaWQgPSBfY3VyciR2YWx1ZTJbMF0sXG4gICAgICAgICAgICAgIGl0ZW0gPSBfY3VyciR2YWx1ZTJbMV07XG5cbiAgICAgICAgICB2YXIgX3ZhbHVlMiA9IGNhbGxiYWNrKGl0ZW0sIGlkKTtcblxuICAgICAgICAgIGlmIChfdmFsdWUyIDwgbWluVmFsdWUpIHtcbiAgICAgICAgICAgIG1pblZhbHVlID0gX3ZhbHVlMjtcbiAgICAgICAgICAgIG1pbkl0ZW0gPSBpdGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtaW5JdGVtO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlZHVjZSB0aGUgaXRlbXMgaW50byBhIHNpbmdsZSB2YWx1ZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRoYXQgZG9lcyB0aGUgcmVkdWN0aW9uLlxyXG4gICAgICAgKiBAcGFyYW0gYWNjdW11bGF0b3IgLSBUaGUgaW5pdGlhbCB2YWx1ZSBvZiB0aGUgYWNjdW11bGF0b3IuXHJcbiAgICAgICAqIEB0eXBlUGFyYW0gVCAtIFRoZSB0eXBlIG9mIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cclxuICAgICAgICogQHJldHVybnMgVGhlIHJlZHVjZWQgdmFsdWUuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInJlZHVjZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZHVjZShjYWxsYmFjaywgYWNjdW11bGF0b3IpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjEwID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMih0aGlzLl9wYWlycyksXG4gICAgICAgICAgICBfc3RlcDEwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IxMC5zKCk7ICEoX3N0ZXAxMCA9IF9pdGVyYXRvcjEwLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBfc3RlcDEwJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAxMC52YWx1ZSwgMiksXG4gICAgICAgICAgICAgICAgaWQgPSBfc3RlcDEwJHZhbHVlWzBdLFxuICAgICAgICAgICAgICAgIGl0ZW0gPSBfc3RlcDEwJHZhbHVlWzFdO1xuXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGNhbGxiYWNrKGFjY3VtdWxhdG9yLCBpdGVtLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IxMC5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMTAuZigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFNvcnQgdGhlIGl0ZW1zLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBJdGVtIGNvbXBhcmF0b3IuXHJcbiAgICAgICAqIEByZXR1cm5zIEEgbmV3IHN0cmVhbSB3aXRoIHNvcnRlZCBpdGVtcy5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic29ydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNvcnQkMShjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBuZXcgRGF0YVN0cmVhbShfZGVmaW5lUHJvcGVydHkoe30sIGl0ZXJhdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIF9jb250ZXh0OTtcblxuICAgICAgICAgIHJldHVybiBnZXRJdGVyYXRvcihzb3J0KF9jb250ZXh0OSA9IF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5fcGFpcnMpKS5jYWxsKF9jb250ZXh0OSwgZnVuY3Rpb24gKF9yZWYsIF9yZWYyKSB7XG4gICAgICAgICAgICB2YXIgX3JlZjMgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAgICAgICAgICBpZEEgPSBfcmVmM1swXSxcbiAgICAgICAgICAgICAgICBpdGVtQSA9IF9yZWYzWzFdO1xuXG4gICAgICAgICAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMiwgMiksXG4gICAgICAgICAgICAgICAgaWRCID0gX3JlZjRbMF0sXG4gICAgICAgICAgICAgICAgaXRlbUIgPSBfcmVmNFsxXTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGl0ZW1BLCBpdGVtQiwgaWRBLCBpZEIpO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEYXRhU3RyZWFtO1xuICB9KCk7XG5cbiAgZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0ga2V5cyQ0KG9iamVjdCk7IGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBmaWx0ZXIoc3ltYm9scykuY2FsbChzeW1ib2xzLCBmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIF9jb250ZXh0MTAsIF9jb250ZXh0MTE7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IGZvckVhY2gkMShfY29udGV4dDEwID0gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApKS5jYWxsKF9jb250ZXh0MTAsIGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogZm9yRWFjaCQxKF9jb250ZXh0MTEgPSBvd25LZXlzKE9iamVjdChzb3VyY2UpKSkuY2FsbChfY29udGV4dDExLCBmdW5jdGlvbiAoa2V5KSB7IGRlZmluZVByb3BlcnR5JDQodGFyZ2V0LCBrZXksIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2Ygc3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGdldEl0ZXJhdG9yTWV0aG9kJDEobykgfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKGlzQXJyYXkkMShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEobywgbWluTGVuKSB7IHZhciBfY29udGV4dDk7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKG8sIG1pbkxlbik7IHZhciBuID0gc2xpY2UoX2NvbnRleHQ5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pKS5jYWxsKF9jb250ZXh0OSwgOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gZnJvbSQzKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTsgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDEoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZVN1cGVyJDEoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkMSgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBjb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG4gIGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkMSgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFjb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKGNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChjb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG4gIC8qKlxyXG4gICAqIEFkZCBhbiBpZCB0byBnaXZlbiBpdGVtIGlmIGl0IGRvZXNuJ3QgaGF2ZSBvbmUgYWxyZWFkeS5cclxuICAgKlxyXG4gICAqIEByZW1hcmtzXHJcbiAgICogVGhlIGl0ZW0gd2lsbCBiZSBtb2RpZmllZC5cclxuICAgKiBAcGFyYW0gaXRlbSAtIFRoZSBpdGVtIHRoYXQgd2lsbCBoYXZlIGFuIGlkIGFmdGVyIGEgY2FsbCB0byB0aGlzIGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSBpZFByb3AgLSBUaGUga2V5IG9mIHRoZSBpZCBwcm9wZXJ0eS5cclxuICAgKiBAdHlwZVBhcmFtIEl0ZW0gLSBJdGVtIHR5cGUgdGhhdCBtYXkgb3IgbWF5IG5vdCBoYXZlIGFuIGlkLlxyXG4gICAqIEB0eXBlUGFyYW0gSWRQcm9wIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCBjb250YWlucyB0aGUgaWQuXHJcbiAgICogQHJldHVybnMgdHJ1ZVxyXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUZ1bGxJdGVtKGl0ZW0sIGlkUHJvcCkge1xuICAgIGlmIChpdGVtW2lkUHJvcF0gPT0gbnVsbCkge1xuICAgICAgLy8gZ2VuZXJhdGUgYW4gaWRcbiAgICAgIGl0ZW1baWRQcm9wXSA9IHY0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cbiAgLyoqXHJcbiAgICogIyBEYXRhU2V0XHJcbiAgICpcclxuICAgKiBWaXMuanMgY29tZXMgd2l0aCBhIGZsZXhpYmxlIERhdGFTZXQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGhvbGQgYW5kXHJcbiAgICogbWFuaXB1bGF0ZSB1bnN0cnVjdHVyZWQgZGF0YSBhbmQgbGlzdGVuIGZvciBjaGFuZ2VzIGluIHRoZSBkYXRhLiBUaGUgRGF0YVNldFxyXG4gICAqIGlzIGtleS92YWx1ZSBiYXNlZC4gRGF0YSBpdGVtcyBjYW4gYmUgYWRkZWQsIHVwZGF0ZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGVcclxuICAgKiBEYXRhU2V0LCBhbmQgb25lIGNhbiBzdWJzY3JpYmUgdG8gY2hhbmdlcyBpbiB0aGUgRGF0YVNldC4gVGhlIGRhdGEgaW4gdGhlXHJcbiAgICogRGF0YVNldCBjYW4gYmUgZmlsdGVyZWQgYW5kIG9yZGVyZWQuIERhdGEgY2FuIGJlIG5vcm1hbGl6ZWQgd2hlbiBhcHBlbmRpbmcgaXRcclxuICAgKiB0byB0aGUgRGF0YVNldCBhcyB3ZWxsLlxyXG4gICAqXHJcbiAgICogIyMgRXhhbXBsZVxyXG4gICAqXHJcbiAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYSBEYXRhU2V0LlxyXG4gICAqXHJcbiAgICogYGBgamF2YXNjcmlwdFxyXG4gICAqIC8vIGNyZWF0ZSBhIERhdGFTZXRcclxuICAgKiB2YXIgb3B0aW9ucyA9IHt9O1xyXG4gICAqIHZhciBkYXRhID0gbmV3IHZpcy5EYXRhU2V0KG9wdGlvbnMpO1xyXG4gICAqXHJcbiAgICogLy8gYWRkIGl0ZW1zXHJcbiAgICogLy8gbm90ZSB0aGF0IHRoZSBkYXRhIGl0ZW1zIGNhbiBjb250YWluIGRpZmZlcmVudCBwcm9wZXJ0aWVzIGFuZCBkYXRhIGZvcm1hdHNcclxuICAgKiBkYXRhLmFkZChbXHJcbiAgICogICB7aWQ6IDEsIHRleHQ6ICdpdGVtIDEnLCBkYXRlOiBuZXcgRGF0ZSgyMDEzLCA2LCAyMCksIGdyb3VwOiAxLCBmaXJzdDogdHJ1ZX0sXHJcbiAgICogICB7aWQ6IDIsIHRleHQ6ICdpdGVtIDInLCBkYXRlOiAnMjAxMy0wNi0yMycsIGdyb3VwOiAyfSxcclxuICAgKiAgIHtpZDogMywgdGV4dDogJ2l0ZW0gMycsIGRhdGU6ICcyMDEzLTA2LTI1JywgZ3JvdXA6IDJ9LFxyXG4gICAqICAge2lkOiA0LCB0ZXh0OiAnaXRlbSA0J31cclxuICAgKiBdKTtcclxuICAgKlxyXG4gICAqIC8vIHN1YnNjcmliZSB0byBhbnkgY2hhbmdlIGluIHRoZSBEYXRhU2V0XHJcbiAgICogZGF0YS5vbignKicsIGZ1bmN0aW9uIChldmVudCwgcHJvcGVydGllcywgc2VuZGVySWQpIHtcclxuICAgKiAgIGNvbnNvbGUubG9nKCdldmVudCcsIGV2ZW50LCBwcm9wZXJ0aWVzKTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIC8vIHVwZGF0ZSBhbiBleGlzdGluZyBpdGVtXHJcbiAgICogZGF0YS51cGRhdGUoe2lkOiAyLCBncm91cDogMX0pO1xyXG4gICAqXHJcbiAgICogLy8gcmVtb3ZlIGFuIGl0ZW1cclxuICAgKiBkYXRhLnJlbW92ZSg0KTtcclxuICAgKlxyXG4gICAqIC8vIGdldCBhbGwgaWRzXHJcbiAgICogdmFyIGlkcyA9IGRhdGEuZ2V0SWRzKCk7XHJcbiAgICogY29uc29sZS5sb2coJ2lkcycsIGlkcyk7XHJcbiAgICpcclxuICAgKiAvLyBnZXQgYSBzcGVjaWZpYyBpdGVtXHJcbiAgICogdmFyIGl0ZW0xID0gZGF0YS5nZXQoMSk7XHJcbiAgICogY29uc29sZS5sb2coJ2l0ZW0xJywgaXRlbTEpO1xyXG4gICAqXHJcbiAgICogLy8gcmV0cmlldmUgYSBmaWx0ZXJlZCBzdWJzZXQgb2YgdGhlIGRhdGFcclxuICAgKiB2YXIgaXRlbXMgPSBkYXRhLmdldCh7XHJcbiAgICogICBmaWx0ZXI6IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICogICAgIHJldHVybiBpdGVtLmdyb3VwID09IDE7XHJcbiAgICogICB9XHJcbiAgICogfSk7XHJcbiAgICogY29uc29sZS5sb2coJ2ZpbHRlcmVkIGl0ZW1zJywgaXRlbXMpO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHR5cGVQYXJhbSBJdGVtIC0gSXRlbSB0eXBlIHRoYXQgbWF5IG9yIG1heSBub3QgaGF2ZSBhbiBpZC5cclxuICAgKiBAdHlwZVBhcmFtIElkUHJvcCAtIE5hbWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgY29udGFpbnMgdGhlIGlkLlxyXG4gICAqL1xuXG5cbiAgdmFyIERhdGFTZXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9EYXRhU2V0UGFydCkge1xuICAgIF9pbmhlcml0cyhEYXRhU2V0LCBfRGF0YVNldFBhcnQpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlciQxKERhdGFTZXQpO1xuXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgRGF0YVNldC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGF0YSAtIEluaXRpYWwgZGF0YSBvciBvcHRpb25zLlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zICh0eXBlIGVycm9yIGlmIGRhdGEgaXMgYWxzbyBvcHRpb25zKS5cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERhdGFTZXQoZGF0YSwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0YVNldCk7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7IC8vIGNvcnJlY3RseSByZWFkIG9wdGlvbmFsIGFyZ3VtZW50c1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZmx1c2hcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImxlbmd0aFwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29wdGlvbnNcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9kYXRhXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfaWRQcm9wXCIsIHZvaWQgMCk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfcXVldWVcIiwgbnVsbCk7XG5cbiAgICAgIGlmIChkYXRhICYmICFpc0FycmF5JDEoZGF0YSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IGRhdGE7XG4gICAgICAgIGRhdGEgPSBbXTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX29wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgX3RoaXMuX2RhdGEgPSBuZXcgbWFwKCk7IC8vIG1hcCB3aXRoIGRhdGEgaW5kZXhlZCBieSBpZFxuXG4gICAgICBfdGhpcy5sZW5ndGggPSAwOyAvLyBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIERhdGFTZXRcblxuICAgICAgX3RoaXMuX2lkUHJvcCA9IF90aGlzLl9vcHRpb25zLmZpZWxkSWQgfHwgXCJpZFwiOyAvLyBuYW1lIG9mIHRoZSBmaWVsZCBjb250YWluaW5nIGlkXG4gICAgICAvLyBhZGQgaW5pdGlhbCBkYXRhIHdoZW4gcHJvdmlkZWRcblxuICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgX3RoaXMuYWRkKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogU2V0IG5ldyBvcHRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG5ldyBvcHRpb25zLlxyXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhEYXRhU2V0LCBbe1xuICAgICAga2V5OiBcImlkUHJvcFwiLFxuICAgICAgZ2V0OlxuICAgICAgLyoqIEZsdXNoIGFsbCBxdWV1ZWQgY2FsbHMuICovXG5cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkUHJvcDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0T3B0aW9uc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnF1ZXVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5xdWV1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBxdWV1ZSBpZiBsb2FkZWRcbiAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZSkge1xuICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgICAgdGhpcy5fcXVldWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgcXVldWUgYW5kIHVwZGF0ZSBpdHMgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9xdWV1ZSkge1xuICAgICAgICAgICAgICB0aGlzLl9xdWV1ZSA9IFF1ZXVlLmV4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgcmVwbGFjZTogW1wiYWRkXCIsIFwidXBkYXRlXCIsIFwicmVtb3ZlXCJdXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5xdWV1ZSAmJiBfdHlwZW9mKG9wdGlvbnMucXVldWUpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNldE9wdGlvbnMob3B0aW9ucy5xdWV1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogQWRkIGEgZGF0YSBpdGVtIG9yIGFuIGFycmF5IHdpdGggaXRlbXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFmdGVyIHRoZSBpdGVtcyBhcmUgYWRkZWQgdG8gdGhlIERhdGFTZXQsIHRoZSBEYXRhU2V0IHdpbGwgdHJpZ2dlciBhbiBldmVudCBgYWRkYC4gV2hlbiBhIGBzZW5kZXJJZGAgaXMgcHJvdmlkZWQsIHRoaXMgaWQgd2lsbCBiZSBwYXNzZWQgd2l0aCB0aGUgdHJpZ2dlcmVkIGV2ZW50IHRvIGFsbCBzdWJzY3JpYmVycy5cclxuICAgICAgICpcclxuICAgICAgICogIyMgRXhhbXBsZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICAgICAqIC8vIGNyZWF0ZSBhIERhdGFTZXRcclxuICAgICAgICogY29uc3QgZGF0YSA9IG5ldyB2aXMuRGF0YVNldCgpXHJcbiAgICAgICAqXHJcbiAgICAgICAqIC8vIGFkZCBpdGVtc1xyXG4gICAgICAgKiBjb25zdCBpZHMgPSBkYXRhLmFkZChbXHJcbiAgICAgICAqICAgeyBpZDogMSwgdGV4dDogJ2l0ZW0gMScgfSxcclxuICAgICAgICogICB7IGlkOiAyLCB0ZXh0OiAnaXRlbSAyJyB9LFxyXG4gICAgICAgKiAgIHsgdGV4dDogJ2l0ZW0gd2l0aG91dCBhbiBpZCcgfVxyXG4gICAgICAgKiBdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBjb25zb2xlLmxvZyhpZHMpIC8vIFsxLCAyLCAnPFVVSUR2ND4nXVxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGRhdGEgLSBJdGVtcyB0byBiZSBhZGRlZCAoaWRzIHdpbGwgYmUgZ2VuZXJhdGVkIGlmIG1pc3NpbmcpLlxyXG4gICAgICAgKiBAcGFyYW0gc2VuZGVySWQgLSBTZW5kZXIgaWQuXHJcbiAgICAgICAqIEByZXR1cm5zIGFkZGVkSWRzIC0gQXJyYXkgd2l0aCB0aGUgaWRzIChnZW5lcmF0ZWQgaWYgbm90IHByZXNlbnQpIG9mIHRoZSBhZGRlZCBpdGVtcy5cclxuICAgICAgICogQHRocm93cyBXaGVuIGFuIGl0ZW0gd2l0aCB0aGUgc2FtZSBpZCBhcyBhbnkgb2YgdGhlIGFkZGVkIGl0ZW1zIGFscmVhZHkgZXhpc3RzLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhZGRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZGF0YSwgc2VuZGVySWQpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGFkZGVkSWRzID0gW107XG4gICAgICAgIHZhciBpZDtcblxuICAgICAgICBpZiAoaXNBcnJheSQxKGRhdGEpKSB7XG4gICAgICAgICAgLy8gQXJyYXlcbiAgICAgICAgICB2YXIgaWRzVG9BZGQgPSBtYXAkMyhkYXRhKS5jYWxsKGRhdGEsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZFtfdGhpczIuX2lkUHJvcF07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoc29tZShpZHNUb0FkZCkuY2FsbChpZHNUb0FkZCwgZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLl9kYXRhLmhhcyhpZCk7XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgZHVwbGljYXRlIGlkIHdhcyBmb3VuZCBpbiB0aGUgcGFyYW1ldGVyIGFycmF5LlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWQgPSB0aGlzLl9hZGRJdGVtKGRhdGFbaV0pO1xuICAgICAgICAgICAgYWRkZWRJZHMucHVzaChpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgJiYgX3R5cGVvZihkYXRhKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIC8vIFNpbmdsZSBpdGVtXG4gICAgICAgICAgaWQgPSB0aGlzLl9hZGRJdGVtKGRhdGEpO1xuICAgICAgICAgIGFkZGVkSWRzLnB1c2goaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGF0YVR5cGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRkZWRJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlcihcImFkZFwiLCB7XG4gICAgICAgICAgICBpdGVtczogYWRkZWRJZHNcbiAgICAgICAgICB9LCBzZW5kZXJJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWRkZWRJZHM7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogVXBkYXRlIGV4aXN0aW5nIGl0ZW1zLiBXaGVuIGFuIGl0ZW0gZG9lcyBub3QgZXhpc3QsIGl0IHdpbGwgYmUgY3JlYXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHJlbWFya3NcclxuICAgICAgICogVGhlIHByb3ZpZGVkIHByb3BlcnRpZXMgd2lsbCBiZSBtZXJnZWQgaW4gdGhlIGV4aXN0aW5nIGl0ZW0uIFdoZW4gYW4gaXRlbSBkb2VzIG5vdCBleGlzdCwgaXQgd2lsbCBiZSBjcmVhdGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBZnRlciB0aGUgaXRlbXMgYXJlIHVwZGF0ZWQsIHRoZSBEYXRhU2V0IHdpbGwgdHJpZ2dlciBhbiBldmVudCBgYWRkYCBmb3IgdGhlIGFkZGVkIGl0ZW1zLCBhbmQgYW4gZXZlbnQgYHVwZGF0ZWAuIFdoZW4gYSBgc2VuZGVySWRgIGlzIHByb3ZpZGVkLCB0aGlzIGlkIHdpbGwgYmUgcGFzc2VkIHdpdGggdGhlIHRyaWdnZXJlZCBldmVudCB0byBhbGwgc3Vic2NyaWJlcnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIEV4YW1wbGVcclxuICAgICAgICpcclxuICAgICAgICogYGBgamF2YXNjcmlwdFxyXG4gICAgICAgKiAvLyBjcmVhdGUgYSBEYXRhU2V0XHJcbiAgICAgICAqIGNvbnN0IGRhdGEgPSBuZXcgdmlzLkRhdGFTZXQoW1xyXG4gICAgICAgKiAgIHsgaWQ6IDEsIHRleHQ6ICdpdGVtIDEnIH0sXHJcbiAgICAgICAqICAgeyBpZDogMiwgdGV4dDogJ2l0ZW0gMicgfSxcclxuICAgICAgICogICB7IGlkOiAzLCB0ZXh0OiAnaXRlbSAzJyB9XHJcbiAgICAgICAqIF0pXHJcbiAgICAgICAqXHJcbiAgICAgICAqIC8vIHVwZGF0ZSBpdGVtc1xyXG4gICAgICAgKiBjb25zdCBpZHMgPSBkYXRhLnVwZGF0ZShbXHJcbiAgICAgICAqICAgeyBpZDogMiwgdGV4dDogJ2l0ZW0gMiAodXBkYXRlZCknIH0sXHJcbiAgICAgICAqICAgeyBpZDogNCwgdGV4dDogJ2l0ZW0gNCAobmV3KScgfVxyXG4gICAgICAgKiBdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBjb25zb2xlLmxvZyhpZHMpIC8vIFsyLCA0XVxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogIyMgV2FybmluZyBmb3IgVHlwZVNjcmlwdCB1c2Vyc1xyXG4gICAgICAgKiBUaGlzIG1ldGhvZCBtYXkgaW50cm9kdWNlIHBhcnRpYWwgaXRlbXMgaW50byB0aGUgZGF0YSBzZXQuIFVzZSBhZGQgb3IgdXBkYXRlT25seSBpbnN0ZWFkIGZvciBiZXR0ZXIgdHlwZSBzYWZldHkuXHJcbiAgICAgICAqIEBwYXJhbSBkYXRhIC0gSXRlbXMgdG8gYmUgdXBkYXRlZCAoaWYgdGhlIGlkIGlzIGFscmVhZHkgcHJlc2VudCkgb3IgYWRkZWQgKGlmIHRoZSBpZCBpcyBtaXNzaW5nKS5cclxuICAgICAgICogQHBhcmFtIHNlbmRlcklkIC0gU2VuZGVyIGlkLlxyXG4gICAgICAgKiBAcmV0dXJucyB1cGRhdGVkSWRzIC0gVGhlIGlkcyBvZiB0aGUgYWRkZWQgKHRoZXNlIG1heSBiZSBuZXdseSBnZW5lcmF0ZWQgaWYgdGhlcmUgd2FzIG5vIGlkIGluIHRoZSBpdGVtIGZyb20gdGhlIGRhdGEpIG9yIHVwZGF0ZWQgaXRlbXMuXHJcbiAgICAgICAqIEB0aHJvd3MgV2hlbiB0aGUgc3VwcGxpZWQgZGF0YSBpcyBuZWl0aGVyIGFuIGl0ZW0gbm9yIGFuIGFycmF5IG9mIGl0ZW1zLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ1cGRhdGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoZGF0YSwgc2VuZGVySWQpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGFkZGVkSWRzID0gW107XG4gICAgICAgIHZhciB1cGRhdGVkSWRzID0gW107XG4gICAgICAgIHZhciBvbGREYXRhID0gW107XG4gICAgICAgIHZhciB1cGRhdGVkRGF0YSA9IFtdO1xuICAgICAgICB2YXIgaWRQcm9wID0gdGhpcy5faWRQcm9wO1xuXG4gICAgICAgIHZhciBhZGRPclVwZGF0ZSA9IGZ1bmN0aW9uIGFkZE9yVXBkYXRlKGl0ZW0pIHtcbiAgICAgICAgICB2YXIgb3JpZ0lkID0gaXRlbVtpZFByb3BdO1xuXG4gICAgICAgICAgaWYgKG9yaWdJZCAhPSBudWxsICYmIF90aGlzMy5fZGF0YS5oYXMob3JpZ0lkKSkge1xuICAgICAgICAgICAgdmFyIGZ1bGxJdGVtID0gaXRlbTsgLy8gaXQgaGFzIGFuIGlkLCB0aGVyZWZvcmUgaXQgaXMgYSBmdWxsaXRlbVxuXG4gICAgICAgICAgICB2YXIgb2xkSXRlbSA9IGFzc2lnbiQyKHt9LCBfdGhpczMuX2RhdGEuZ2V0KG9yaWdJZCkpOyAvLyB1cGRhdGUgaXRlbVxuXG5cbiAgICAgICAgICAgIHZhciBpZCA9IF90aGlzMy5fdXBkYXRlSXRlbShmdWxsSXRlbSk7XG5cbiAgICAgICAgICAgIHVwZGF0ZWRJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB1cGRhdGVkRGF0YS5wdXNoKGZ1bGxJdGVtKTtcbiAgICAgICAgICAgIG9sZERhdGEucHVzaChvbGRJdGVtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYWRkIG5ldyBpdGVtXG4gICAgICAgICAgICB2YXIgX2lkID0gX3RoaXMzLl9hZGRJdGVtKGl0ZW0pO1xuXG4gICAgICAgICAgICBhZGRlZElkcy5wdXNoKF9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc0FycmF5JDEoZGF0YSkpIHtcbiAgICAgICAgICAvLyBBcnJheVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVtpXSAmJiBfdHlwZW9mKGRhdGFbaV0pID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgIGFkZE9yVXBkYXRlKGRhdGFbaV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSWdub3JpbmcgaW5wdXQgaXRlbSwgd2hpY2ggaXMgbm90IGFuIG9iamVjdCBhdCBpbmRleCBcIiArIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkYXRhICYmIF90eXBlb2YoZGF0YSkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAvLyBTaW5nbGUgaXRlbVxuICAgICAgICAgIGFkZE9yVXBkYXRlKGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGF0YVR5cGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRkZWRJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlcihcImFkZFwiLCB7XG4gICAgICAgICAgICBpdGVtczogYWRkZWRJZHNcbiAgICAgICAgICB9LCBzZW5kZXJJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXBkYXRlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgICBpdGVtczogdXBkYXRlZElkcyxcbiAgICAgICAgICAgIG9sZERhdGE6IG9sZERhdGEsXG4gICAgICAgICAgICBkYXRhOiB1cGRhdGVkRGF0YVxuICAgICAgICAgIH07IC8vIFRPRE86IHJlbW92ZSBkZXByZWNhdGVkIHByb3BlcnR5ICdkYXRhJyBzb21lIGRheVxuICAgICAgICAgIC8vT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAnZGF0YScsIHtcbiAgICAgICAgICAvLyAgJ2dldCc6IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyAgICBjb25zb2xlLndhcm4oJ1Byb3BlcnR5IGRhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIERhdGFTZXQuZ2V0KGlkcykgdG8gcmV0cmlldmUgdGhlIG5ldyBkYXRhLCB1c2UgdGhlIG9sZERhdGEgcHJvcGVydHkgb24gdGhpcyBvYmplY3QgdG8gZ2V0IHRoZSBvbGQgZGF0YScpO1xuICAgICAgICAgIC8vICAgIHJldHVybiB1cGRhdGVkRGF0YTtcbiAgICAgICAgICAvLyAgfSkuYmluZCh0aGlzKVxuICAgICAgICAgIC8vfSk7XG5cbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwidXBkYXRlXCIsIHByb3BzLCBzZW5kZXJJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29uY2F0JDEoYWRkZWRJZHMpLmNhbGwoYWRkZWRJZHMsIHVwZGF0ZWRJZHMpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFVwZGF0ZSBleGlzdGluZyBpdGVtcy4gV2hlbiBhbiBpdGVtIGRvZXMgbm90IGV4aXN0LCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cclxuICAgICAgICpcclxuICAgICAgICogQHJlbWFya3NcclxuICAgICAgICogVGhlIHByb3ZpZGVkIHByb3BlcnRpZXMgd2lsbCBiZSBkZWVwbHkgbWVyZ2VkIGludG8gdGhlIGV4aXN0aW5nIGl0ZW0uXHJcbiAgICAgICAqIFdoZW4gYW4gaXRlbSBkb2VzIG5vdCBleGlzdCAoaWQgbm90IHByZXNlbnQgaW4gdGhlIGRhdGEgc2V0IG9yIGFic2VudCksIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIGFuZCBub3RoaW5nIHdpbGwgYmUgY2hhbmdlZC5cclxuICAgICAgICpcclxuICAgICAgICogQWZ0ZXIgdGhlIGl0ZW1zIGFyZSB1cGRhdGVkLCB0aGUgRGF0YVNldCB3aWxsIHRyaWdnZXIgYW4gZXZlbnQgYHVwZGF0ZWAuXHJcbiAgICAgICAqIFdoZW4gYSBgc2VuZGVySWRgIGlzIHByb3ZpZGVkLCB0aGlzIGlkIHdpbGwgYmUgcGFzc2VkIHdpdGggdGhlIHRyaWdnZXJlZCBldmVudCB0byBhbGwgc3Vic2NyaWJlcnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIEV4YW1wbGVcclxuICAgICAgICpcclxuICAgICAgICogYGBgamF2YXNjcmlwdFxyXG4gICAgICAgKiAvLyBjcmVhdGUgYSBEYXRhU2V0XHJcbiAgICAgICAqIGNvbnN0IGRhdGEgPSBuZXcgdmlzLkRhdGFTZXQoW1xyXG4gICAgICAgKiAgIHsgaWQ6IDEsIHRleHQ6ICdpdGVtIDEnIH0sXHJcbiAgICAgICAqICAgeyBpZDogMiwgdGV4dDogJ2l0ZW0gMicgfSxcclxuICAgICAgICogICB7IGlkOiAzLCB0ZXh0OiAnaXRlbSAzJyB9LFxyXG4gICAgICAgKiBdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyB1cGRhdGUgaXRlbXNcclxuICAgICAgICogY29uc3QgaWRzID0gZGF0YS51cGRhdGUoW1xyXG4gICAgICAgKiAgIHsgaWQ6IDIsIHRleHQ6ICdpdGVtIDIgKHVwZGF0ZWQpJyB9LCAvLyB3b3Jrc1xyXG4gICAgICAgKiAgIC8vIHsgaWQ6IDQsIHRleHQ6ICdpdGVtIDQgKG5ldyknIH0sIC8vIHdvdWxkIHRocm93XHJcbiAgICAgICAqICAgLy8geyB0ZXh0OiAnaXRlbSA0IChuZXcpJyB9LCAvLyB3b3VsZCBhbHNvIHRocm93XHJcbiAgICAgICAqIF0pXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGNvbnNvbGUubG9nKGlkcykgLy8gWzJdXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKiBAcGFyYW0gZGF0YSAtIFVwZGF0ZXMgKHRoZSBpZCBhbmQgb3B0aW9uYWxseSBvdGhlciBwcm9wcykgdG8gdGhlIGl0ZW1zIGluIHRoaXMgZGF0YSBzZXQuXHJcbiAgICAgICAqIEBwYXJhbSBzZW5kZXJJZCAtIFNlbmRlciBpZC5cclxuICAgICAgICogQHJldHVybnMgdXBkYXRlZElkcyAtIFRoZSBpZHMgb2YgdGhlIHVwZGF0ZWQgaXRlbXMuXHJcbiAgICAgICAqIEB0aHJvd3MgV2hlbiB0aGUgc3VwcGxpZWQgZGF0YSBpcyBuZWl0aGVyIGFuIGl0ZW0gbm9yIGFuIGFycmF5IG9mIGl0ZW1zLCB3aGVuIHRoZSBpZHMgYXJlIG1pc3NpbmcuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInVwZGF0ZU9ubHlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVPbmx5KGRhdGEsIHNlbmRlcklkKSB7XG4gICAgICAgIHZhciBfY29udGV4dCxcbiAgICAgICAgICAgIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFpc0FycmF5JDEoZGF0YSkpIHtcbiAgICAgICAgICBkYXRhID0gW2RhdGFdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVwZGF0ZUV2ZW50RGF0YSA9IG1hcCQzKF9jb250ZXh0ID0gbWFwJDMoZGF0YSkuY2FsbChkYXRhLCBmdW5jdGlvbiAodXBkYXRlKSB7XG4gICAgICAgICAgdmFyIG9sZERhdGEgPSBfdGhpczQuX2RhdGEuZ2V0KHVwZGF0ZVtfdGhpczQuX2lkUHJvcF0pO1xuXG4gICAgICAgICAgaWYgKG9sZERhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXBkYXRpbmcgbm9uLWV4aXN0ZW50IGl0ZW1zIGlzIG5vdCBhbGxvd2VkLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2xkRGF0YTogb2xkRGF0YSxcbiAgICAgICAgICAgIHVwZGF0ZTogdXBkYXRlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSkpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgdmFyIG9sZERhdGEgPSBfcmVmLm9sZERhdGEsXG4gICAgICAgICAgICAgIHVwZGF0ZSA9IF9yZWYudXBkYXRlO1xuICAgICAgICAgIHZhciBpZCA9IG9sZERhdGFbX3RoaXM0Ll9pZFByb3BdO1xuICAgICAgICAgIHZhciB1cGRhdGVkRGF0YSA9IHB1cmVEZWVwT2JqZWN0QXNzaWduKG9sZERhdGEsIHVwZGF0ZSk7XG5cbiAgICAgICAgICBfdGhpczQuX2RhdGEuc2V0KGlkLCB1cGRhdGVkRGF0YSk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgb2xkRGF0YTogb2xkRGF0YSxcbiAgICAgICAgICAgIHVwZGF0ZWREYXRhOiB1cGRhdGVkRGF0YVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh1cGRhdGVFdmVudERhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgICAgaXRlbXM6IG1hcCQzKHVwZGF0ZUV2ZW50RGF0YSkuY2FsbCh1cGRhdGVFdmVudERhdGEsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuaWQ7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9sZERhdGE6IG1hcCQzKHVwZGF0ZUV2ZW50RGF0YSkuY2FsbCh1cGRhdGVFdmVudERhdGEsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWUub2xkRGF0YTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZGF0YTogbWFwJDModXBkYXRlRXZlbnREYXRhKS5jYWxsKHVwZGF0ZUV2ZW50RGF0YSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZS51cGRhdGVkRGF0YTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfTsgLy8gVE9ETzogcmVtb3ZlIGRlcHJlY2F0ZWQgcHJvcGVydHkgJ2RhdGEnIHNvbWUgZGF5XG4gICAgICAgICAgLy9PYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdkYXRhJywge1xuICAgICAgICAgIC8vICAnZ2V0JzogKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vICAgIGNvbnNvbGUud2FybignUHJvcGVydHkgZGF0YSBpcyBkZXByZWNhdGVkLiBVc2UgRGF0YVNldC5nZXQoaWRzKSB0byByZXRyaWV2ZSB0aGUgbmV3IGRhdGEsIHVzZSB0aGUgb2xkRGF0YSBwcm9wZXJ0eSBvbiB0aGlzIG9iamVjdCB0byBnZXQgdGhlIG9sZCBkYXRhJyk7XG4gICAgICAgICAgLy8gICAgcmV0dXJuIHVwZGF0ZWREYXRhO1xuICAgICAgICAgIC8vICB9KS5iaW5kKHRoaXMpXG4gICAgICAgICAgLy99KTtcblxuICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJ1cGRhdGVcIiwgcHJvcHMsIHNlbmRlcklkKTtcblxuICAgICAgICAgIHJldHVybiBwcm9wcy5pdGVtcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldChmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgIC8vIEBUT0RPOiBXb3Vkbid0IGl0IGJlIGJldHRlciB0byBzcGxpdCB0aGlzIGludG8gbXVsdGlwbGUgbWV0aG9kcz9cbiAgICAgICAgLy8gcGFyc2UgdGhlIGFyZ3VtZW50c1xuICAgICAgICB2YXIgaWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBpZHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBvcHRpb25zID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChpc0lkKGZpcnN0KSkge1xuICAgICAgICAgIC8vIGdldChpZCBbLCBvcHRpb25zXSlcbiAgICAgICAgICBpZCA9IGZpcnN0O1xuICAgICAgICAgIG9wdGlvbnMgPSBzZWNvbmQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSQxKGZpcnN0KSkge1xuICAgICAgICAgIC8vIGdldChpZHMgWywgb3B0aW9uc10pXG4gICAgICAgICAgaWRzID0gZmlyc3Q7XG4gICAgICAgICAgb3B0aW9ucyA9IHNlY29uZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBnZXQoWywgb3B0aW9uc10pXG4gICAgICAgICAgb3B0aW9ucyA9IGZpcnN0O1xuICAgICAgICB9IC8vIGRldGVybWluZSB0aGUgcmV0dXJuIHR5cGVcblxuXG4gICAgICAgIHZhciByZXR1cm5UeXBlID0gb3B0aW9ucyAmJiBvcHRpb25zLnJldHVyblR5cGUgPT09IFwiT2JqZWN0XCIgPyBcIk9iamVjdFwiIDogXCJBcnJheVwiOyAvLyBAVE9ETzogV1RGIGlzIHRoaXM/IE9yIGFtIEkgbWlzc2luZyBzb21ldGhpbmc/XG4gICAgICAgIC8vIHZhciByZXR1cm5UeXBlXG4gICAgICAgIC8vIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmV0dXJuVHlwZSkge1xuICAgICAgICAvLyAgIHZhciBhbGxvd2VkVmFsdWVzID0gWydBcnJheScsICdPYmplY3QnXVxuICAgICAgICAvLyAgIHJldHVyblR5cGUgPVxuICAgICAgICAvLyAgICAgYWxsb3dlZFZhbHVlcy5pbmRleE9mKG9wdGlvbnMucmV0dXJuVHlwZSkgPT0gLTFcbiAgICAgICAgLy8gICAgICAgPyAnQXJyYXknXG4gICAgICAgIC8vICAgICAgIDogb3B0aW9ucy5yZXR1cm5UeXBlXG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgcmV0dXJuVHlwZSA9ICdBcnJheSdcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBidWlsZCBvcHRpb25zXG5cbiAgICAgICAgdmFyIGZpbHRlciQxID0gb3B0aW9ucyAmJiBmaWx0ZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgIHZhciBpdGVtID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgaXRlbUlkcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGl0ZW1JZCA9IHVuZGVmaW5lZDsgLy8gY29udmVydCBpdGVtc1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gcmV0dXJuIGEgc2luZ2xlIGl0ZW1cbiAgICAgICAgICBpdGVtID0gdGhpcy5fZGF0YS5nZXQoaWQpO1xuXG4gICAgICAgICAgaWYgKGl0ZW0gJiYgZmlsdGVyJDEgJiYgIWZpbHRlciQxKGl0ZW0pKSB7XG4gICAgICAgICAgICBpdGVtID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpZHMgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIHJldHVybiBhIHN1YnNldCBvZiBpdGVtc1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0gPSB0aGlzLl9kYXRhLmdldChpZHNbaV0pO1xuXG4gICAgICAgICAgICBpZiAoaXRlbSAhPSBudWxsICYmICghZmlsdGVyJDEgfHwgZmlsdGVyJDEoaXRlbSkpKSB7XG4gICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfY29udGV4dDI7XG5cbiAgICAgICAgICAvLyByZXR1cm4gYWxsIGl0ZW1zXG4gICAgICAgICAgaXRlbUlkcyA9IF90b0NvbnN1bWFibGVBcnJheShrZXlzKF9jb250ZXh0MiA9IHRoaXMuX2RhdGEpLmNhbGwoX2NvbnRleHQyKSk7XG5cbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBpdGVtSWRzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICBpdGVtSWQgPSBpdGVtSWRzW19pXTtcbiAgICAgICAgICAgIGl0ZW0gPSB0aGlzLl9kYXRhLmdldChpdGVtSWQpO1xuXG4gICAgICAgICAgICBpZiAoaXRlbSAhPSBudWxsICYmICghZmlsdGVyJDEgfHwgZmlsdGVyJDEoaXRlbSkpKSB7XG4gICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIG9yZGVyIHRoZSByZXN1bHRzXG5cblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9yZGVyICYmIGlkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuX3NvcnQoaXRlbXMsIG9wdGlvbnMub3JkZXIpO1xuICAgICAgICB9IC8vIGZpbHRlciBmaWVsZHMgb2YgdGhlIGl0ZW1zXG5cblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmZpZWxkcykge1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBvcHRpb25zLmZpZWxkcztcblxuICAgICAgICAgIGlmIChpZCAhPSB1bmRlZmluZWQgJiYgaXRlbSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpdGVtID0gdGhpcy5fZmlsdGVyRmllbGRzKGl0ZW0sIGZpZWxkcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDAsIF9sZW4yID0gaXRlbXMubGVuZ3RoOyBfaTIgPCBfbGVuMjsgX2kyKyspIHtcbiAgICAgICAgICAgICAgaXRlbXNbX2kyXSA9IHRoaXMuX2ZpbHRlckZpZWxkcyhpdGVtc1tfaTJdLCBmaWVsZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyByZXR1cm4gdGhlIHJlc3VsdHNcblxuXG4gICAgICAgIGlmIChyZXR1cm5UeXBlID09IFwiT2JqZWN0XCIpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwLCBfbGVuMyA9IGl0ZW1zLmxlbmd0aDsgX2kzIDwgX2xlbjM7IF9pMysrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0YW50ID0gaXRlbXNbX2kzXTsgLy8gQFRPRE86IFNob3Vkbid0IHRoaXMgYmUgdGhpcy5fZmllbGRJZD9cbiAgICAgICAgICAgIC8vIHJlc3VsdFtyZXN1bHRhbnQuaWRdID0gcmVzdWx0YW50XG5cbiAgICAgICAgICAgIHZhciBfaWQyID0gcmVzdWx0YW50W3RoaXMuX2lkUHJvcF07XG4gICAgICAgICAgICByZXN1bHRbX2lkMl0gPSByZXN1bHRhbnQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIF9pdGVtO1xuXG4gICAgICAgICAgICAvLyBhIHNpbmdsZSBpdGVtXG4gICAgICAgICAgICByZXR1cm4gKF9pdGVtID0gaXRlbSkgIT09IG51bGwgJiYgX2l0ZW0gIT09IHZvaWQgMCA/IF9pdGVtIDogbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8ganVzdCByZXR1cm4gb3VyIGFycmF5XG4gICAgICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJZHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZHMob3B0aW9ucykge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgICAgICAgdmFyIGZpbHRlciQxID0gb3B0aW9ucyAmJiBmaWx0ZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIG9yZGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLm9yZGVyO1xuXG4gICAgICAgIHZhciBpdGVtSWRzID0gX3RvQ29uc3VtYWJsZUFycmF5KGtleXMoZGF0YSkuY2FsbChkYXRhKSk7XG5cbiAgICAgICAgdmFyIGlkcyA9IFtdO1xuXG4gICAgICAgIGlmIChmaWx0ZXIkMSkge1xuICAgICAgICAgIC8vIGdldCBmaWx0ZXJlZCBpdGVtc1xuICAgICAgICAgIGlmIChvcmRlcikge1xuICAgICAgICAgICAgLy8gY3JlYXRlIG9yZGVyZWQgbGlzdFxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpdGVtSWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIHZhciBpZCA9IGl0ZW1JZHNbaV07XG5cbiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9kYXRhLmdldChpZCk7XG5cbiAgICAgICAgICAgICAgaWYgKGl0ZW0gIT0gbnVsbCAmJiBmaWx0ZXIkMShpdGVtKSkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc29ydChpdGVtcywgb3JkZXIpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTQgPSAwLCBfbGVuNCA9IGl0ZW1zLmxlbmd0aDsgX2k0IDwgX2xlbjQ7IF9pNCsrKSB7XG4gICAgICAgICAgICAgIGlkcy5wdXNoKGl0ZW1zW19pNF1bdGhpcy5faWRQcm9wXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB1bm9yZGVyZWQgbGlzdFxuICAgICAgICAgICAgZm9yICh2YXIgX2k1ID0gMCwgX2xlbjUgPSBpdGVtSWRzLmxlbmd0aDsgX2k1IDwgX2xlbjU7IF9pNSsrKSB7XG4gICAgICAgICAgICAgIHZhciBfaWQzID0gaXRlbUlkc1tfaTVdO1xuXG4gICAgICAgICAgICAgIHZhciBfaXRlbTIgPSB0aGlzLl9kYXRhLmdldChfaWQzKTtcblxuICAgICAgICAgICAgICBpZiAoX2l0ZW0yICE9IG51bGwgJiYgZmlsdGVyJDEoX2l0ZW0yKSkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKF9pdGVtMlt0aGlzLl9pZFByb3BdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBnZXQgYWxsIGl0ZW1zXG4gICAgICAgICAgaWYgKG9yZGVyKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgYW4gb3JkZXJlZCBsaXN0XG4gICAgICAgICAgICB2YXIgX2l0ZW1zID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pNiA9IDAsIF9sZW42ID0gaXRlbUlkcy5sZW5ndGg7IF9pNiA8IF9sZW42OyBfaTYrKykge1xuICAgICAgICAgICAgICB2YXIgX2lkNCA9IGl0ZW1JZHNbX2k2XTtcblxuICAgICAgICAgICAgICBfaXRlbXMucHVzaChkYXRhLmdldChfaWQ0KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NvcnQoX2l0ZW1zLCBvcmRlcik7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pNyA9IDAsIF9sZW43ID0gX2l0ZW1zLmxlbmd0aDsgX2k3IDwgX2xlbjc7IF9pNysrKSB7XG4gICAgICAgICAgICAgIGlkcy5wdXNoKF9pdGVtc1tfaTddW3RoaXMuX2lkUHJvcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgdW5vcmRlcmVkIGxpc3RcbiAgICAgICAgICAgIGZvciAodmFyIF9pOCA9IDAsIF9sZW44ID0gaXRlbUlkcy5sZW5ndGg7IF9pOCA8IF9sZW44OyBfaTgrKykge1xuICAgICAgICAgICAgICB2YXIgX2lkNSA9IGl0ZW1JZHNbX2k4XTtcblxuICAgICAgICAgICAgICB2YXIgX2l0ZW0zID0gZGF0YS5nZXQoX2lkNSk7XG5cbiAgICAgICAgICAgICAgaWYgKF9pdGVtMyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2goX2l0ZW0zW3RoaXMuX2lkUHJvcF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldERhdGFTZXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhU2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImZvckVhY2hcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBmaWx0ZXIkMSA9IG9wdGlvbnMgJiYgZmlsdGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblxuICAgICAgICB2YXIgaXRlbUlkcyA9IF90b0NvbnN1bWFibGVBcnJheShrZXlzKGRhdGEpLmNhbGwoZGF0YSkpO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMub3JkZXIpIHtcbiAgICAgICAgICAvLyBleGVjdXRlIGZvckVhY2ggb24gb3JkZXJlZCBsaXN0XG4gICAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5nZXQob3B0aW9ucyk7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICB2YXIgaWQgPSBpdGVtW3RoaXMuX2lkUHJvcF07XG4gICAgICAgICAgICBjYWxsYmFjayhpdGVtLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVub3JkZXJlZFxuICAgICAgICAgIGZvciAodmFyIF9pOSA9IDAsIF9sZW45ID0gaXRlbUlkcy5sZW5ndGg7IF9pOSA8IF9sZW45OyBfaTkrKykge1xuICAgICAgICAgICAgdmFyIF9pZDYgPSBpdGVtSWRzW19pOV07XG5cbiAgICAgICAgICAgIHZhciBfaXRlbTQgPSB0aGlzLl9kYXRhLmdldChfaWQ2KTtcblxuICAgICAgICAgICAgaWYgKF9pdGVtNCAhPSBudWxsICYmICghZmlsdGVyJDEgfHwgZmlsdGVyJDEoX2l0ZW00KSkpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soX2l0ZW00LCBfaWQ2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm1hcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1hcChjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZmlsdGVyJDEgPSBvcHRpb25zICYmIGZpbHRlcihvcHRpb25zKTtcblxuICAgICAgICB2YXIgbWFwcGVkSXRlbXMgPSBbXTtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXG4gICAgICAgIHZhciBpdGVtSWRzID0gX3RvQ29uc3VtYWJsZUFycmF5KGtleXMoZGF0YSkuY2FsbChkYXRhKSk7IC8vIGNvbnZlcnQgYW5kIGZpbHRlciBpdGVtc1xuXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgaWQgPSBpdGVtSWRzW2ldO1xuXG4gICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9kYXRhLmdldChpZCk7XG5cbiAgICAgICAgICBpZiAoaXRlbSAhPSBudWxsICYmICghZmlsdGVyJDEgfHwgZmlsdGVyJDEoaXRlbSkpKSB7XG4gICAgICAgICAgICBtYXBwZWRJdGVtcy5wdXNoKGNhbGxiYWNrKGl0ZW0sIGlkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIG9yZGVyIGl0ZW1zXG5cblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9yZGVyKSB7XG4gICAgICAgICAgdGhpcy5fc29ydChtYXBwZWRJdGVtcywgb3B0aW9ucy5vcmRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFwcGVkSXRlbXM7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRmlsdGVyIHRoZSBmaWVsZHMgb2YgYW4gaXRlbS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGl0ZW0gLSBUaGUgaXRlbSB3aG9zZSBmaWVsZHMgc2hvdWxkIGJlIGZpbHRlcmVkLlxyXG4gICAgICAgKiBAcGFyYW0gZmllbGRzIC0gVGhlIG5hbWVzIG9mIHRoZSBmaWVsZHMgdGhhdCB3aWxsIGJlIGtlcHQuXHJcbiAgICAgICAqIEB0eXBlUGFyYW0gSyAtIEZpZWxkIG5hbWUgdHlwZS5cclxuICAgICAgICogQHJldHVybnMgVGhlIGl0ZW0gd2l0aG91dCBhbnkgYWRkaXRpb25hbCBmaWVsZHMuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9maWx0ZXJGaWVsZHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmlsdGVyRmllbGRzKGl0ZW0sIGZpZWxkcykge1xuICAgICAgICB2YXIgX2NvbnRleHQzO1xuXG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgIC8vIGl0ZW0gaXMgbnVsbFxuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZHVjZShfY29udGV4dDMgPSBpc0FycmF5JDEoZmllbGRzKSA/IC8vIFVzZSB0aGUgc3VwcGxpZWQgYXJyYXlcbiAgICAgICAgZmllbGRzIDogLy8gVXNlIHRoZSBrZXlzIG9mIHRoZSBzdXBwbGllZCBvYmplY3RcbiAgICAgICAga2V5cyQ0KGZpZWxkcykpLmNhbGwoX2NvbnRleHQzLCBmdW5jdGlvbiAoZmlsdGVyZWRJdGVtLCBmaWVsZCkge1xuICAgICAgICAgIGZpbHRlcmVkSXRlbVtmaWVsZF0gPSBpdGVtW2ZpZWxkXTtcbiAgICAgICAgICByZXR1cm4gZmlsdGVyZWRJdGVtO1xuICAgICAgICB9LCB7fSk7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogU29ydCB0aGUgcHJvdmlkZWQgYXJyYXkgd2l0aCBpdGVtcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGl0ZW1zIC0gSXRlbXMgdG8gYmUgc29ydGVkIGluIHBsYWNlLlxyXG4gICAgICAgKiBAcGFyYW0gb3JkZXIgLSBBIGZpZWxkIG5hbWUgb3IgY3VzdG9tIHNvcnQgZnVuY3Rpb24uXHJcbiAgICAgICAqIEB0eXBlUGFyYW0gVCAtIFRoZSB0eXBlIG9mIHRoZSBpdGVtcyBpbiB0aGUgaXRlbXMgYXJyYXkuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zb3J0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NvcnQoaXRlbXMsIG9yZGVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3JkZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAvLyBvcmRlciBieSBwcm92aWRlZCBmaWVsZCBuYW1lXG4gICAgICAgICAgdmFyIG5hbWUgPSBvcmRlcjsgLy8gZmllbGQgbmFtZVxuXG4gICAgICAgICAgc29ydChpdGVtcykuY2FsbChpdGVtcywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIC8vIEBUT0RPOiBIb3cgdG8gdHJlYXQgbWlzc2luZyBwcm9wZXJ0aWVzP1xuICAgICAgICAgICAgdmFyIGF2ID0gYVtuYW1lXTtcbiAgICAgICAgICAgIHZhciBidiA9IGJbbmFtZV07XG4gICAgICAgICAgICByZXR1cm4gYXYgPiBidiA/IDEgOiBhdiA8IGJ2ID8gLTEgOiAwO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgLy8gb3JkZXIgYnkgc29ydCBmdW5jdGlvblxuICAgICAgICAgIHNvcnQoaXRlbXMpLmNhbGwoaXRlbXMsIG9yZGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUT0RPOiBleHRlbmQgb3JkZXIgYnkgYW4gT2JqZWN0IHtmaWVsZDpzdHJpbmcsIGRpcmVjdGlvbjpzdHJpbmd9XG4gICAgICAgICAgLy8gICAgICAgd2hlcmUgZGlyZWN0aW9uIGNhbiBiZSAnYXNjJyBvciAnZGVzYydcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT3JkZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlIGFuIGl0ZW0gb3IgbXVsdGlwbGUgaXRlbXMgYnkg4oCccmVmZXJlbmNl4oCdIChvbmx5IHRoZSBpZCBpcyB1c2VkKSBvciBieSBpZC5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIG1ldGhvZCBpZ25vcmVzIHJlbW92YWwgb2Ygbm9uLWV4aXN0aW5nIGl0ZW1zLCBhbmQgcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBpZHMgb2YgdGhlIGl0ZW1zIHdoaWNoIGFyZSBhY3R1YWxseSByZW1vdmVkIGZyb20gdGhlIERhdGFTZXQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFmdGVyIHRoZSBpdGVtcyBhcmUgcmVtb3ZlZCwgdGhlIERhdGFTZXQgd2lsbCB0cmlnZ2VyIGFuIGV2ZW50IGByZW1vdmVgIGZvciB0aGUgcmVtb3ZlZCBpdGVtcy4gV2hlbiBhIGBzZW5kZXJJZGAgaXMgcHJvdmlkZWQsIHRoaXMgaWQgd2lsbCBiZSBwYXNzZWQgd2l0aCB0aGUgdHJpZ2dlcmVkIGV2ZW50IHRvIGFsbCBzdWJzY3JpYmVycy5cclxuICAgICAgICpcclxuICAgICAgICogIyMgRXhhbXBsZVxyXG4gICAgICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICAgICAqIC8vIGNyZWF0ZSBhIERhdGFTZXRcclxuICAgICAgICogY29uc3QgZGF0YSA9IG5ldyB2aXMuRGF0YVNldChbXHJcbiAgICAgICAqICAgeyBpZDogMSwgdGV4dDogJ2l0ZW0gMScgfSxcclxuICAgICAgICogICB7IGlkOiAyLCB0ZXh0OiAnaXRlbSAyJyB9LFxyXG4gICAgICAgKiAgIHsgaWQ6IDMsIHRleHQ6ICdpdGVtIDMnIH1cclxuICAgICAgICogXSlcclxuICAgICAgICpcclxuICAgICAgICogLy8gcmVtb3ZlIGl0ZW1zXHJcbiAgICAgICAqIGNvbnN0IGlkcyA9IGRhdGEucmVtb3ZlKFsyLCB7IGlkOiAzIH0sIDRdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBjb25zb2xlLmxvZyhpZHMpIC8vIFsyLCAzXVxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGlkIC0gT25lIG9yIG1vcmUgaXRlbXMgb3IgaWRzIG9mIGl0ZW1zIHRvIGJlIHJlbW92ZWQuXHJcbiAgICAgICAqIEBwYXJhbSBzZW5kZXJJZCAtIFNlbmRlciBpZC5cclxuICAgICAgICogQHJldHVybnMgVGhlIGlkcyBvZiB0aGUgcmVtb3ZlZCBpdGVtcy5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVtb3ZlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKGlkLCBzZW5kZXJJZCkge1xuICAgICAgICB2YXIgcmVtb3ZlZElkcyA9IFtdO1xuICAgICAgICB2YXIgcmVtb3ZlZEl0ZW1zID0gW107IC8vIGZvcmNlIGV2ZXJ5dGhpbmcgdG8gYmUgYW4gYXJyYXkgZm9yIHNpbXBsaWNpdHlcblxuICAgICAgICB2YXIgaWRzID0gaXNBcnJheSQxKGlkKSA/IGlkIDogW2lkXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9yZW1vdmUoaWRzW2ldKTtcblxuICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICB2YXIgaXRlbUlkID0gaXRlbVt0aGlzLl9pZFByb3BdO1xuXG4gICAgICAgICAgICBpZiAoaXRlbUlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlZElkcy5wdXNoKGl0ZW1JZCk7XG4gICAgICAgICAgICAgIHJlbW92ZWRJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW1vdmVkSWRzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJyZW1vdmVcIiwge1xuICAgICAgICAgICAgaXRlbXM6IHJlbW92ZWRJZHMsXG4gICAgICAgICAgICBvbGREYXRhOiByZW1vdmVkSXRlbXNcbiAgICAgICAgICB9LCBzZW5kZXJJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVtb3ZlZElkcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmUgYW4gaXRlbSBieSBpdHMgaWQgb3IgcmVmZXJlbmNlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gaWQgLSBJZCBvZiBhbiBpdGVtIG9yIHRoZSBpdGVtIGl0c2VsZi5cclxuICAgICAgICogQHJldHVybnMgVGhlIHJlbW92ZWQgaXRlbSBpZiByZW1vdmVkLCBudWxsIG90aGVyd2lzZS5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmUoaWQpIHtcbiAgICAgICAgLy8gQFRPRE86IEl0IG9yaWdpYW5sbHkgcmV0dXJuZWQgdGhlIGl0ZW0gYWx0aG91Z2ggdGhlIGRvY3Mgc2F5IGlkLlxuICAgICAgICAvLyBUaGUgY29kZSBleHBlY3RzIHRoZSBpdGVtLCBzbyBwcm9iYWJseSBhbiBlcnJvciBpbiB0aGUgZG9jcy5cbiAgICAgICAgdmFyIGlkZW50OyAvLyBjb25maXJtIHRoZSBpZCB0byB1c2UgYmFzZWQgb24gdGhlIGFyZ3MgdHlwZVxuXG4gICAgICAgIGlmIChpc0lkKGlkKSkge1xuICAgICAgICAgIGlkZW50ID0gaWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaWQgJiYgX3R5cGVvZihpZCkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZGVudCA9IGlkW3RoaXMuX2lkUHJvcF07IC8vIGxvb2sgZm9yIHRoZSBpZGVudGlmaWVyIGZpZWxkIHVzaW5nIC5faWRQcm9wXG4gICAgICAgIH0gLy8gZG8gdGhlIHJlbW92aW5nIGlmIHRoZSBpdGVtIGlzIGZvdW5kXG5cblxuICAgICAgICBpZiAoaWRlbnQgIT0gbnVsbCAmJiB0aGlzLl9kYXRhLmhhcyhpZGVudCkpIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuX2RhdGEuZ2V0KGlkZW50KSB8fCBudWxsO1xuXG4gICAgICAgICAgdGhpcy5fZGF0YS5kZWxldGUoaWRlbnQpO1xuXG4gICAgICAgICAgLS10aGlzLmxlbmd0aDtcbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIENsZWFyIHRoZSBlbnRpcmUgZGF0YSBzZXQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFmdGVyIHRoZSBpdGVtcyBhcmUgcmVtb3ZlZCwgdGhlIFtbRGF0YVNldF1dIHdpbGwgdHJpZ2dlciBhbiBldmVudCBgcmVtb3ZlYCBmb3IgYWxsIHJlbW92ZWQgaXRlbXMuIFdoZW4gYSBgc2VuZGVySWRgIGlzIHByb3ZpZGVkLCB0aGlzIGlkIHdpbGwgYmUgcGFzc2VkIHdpdGggdGhlIHRyaWdnZXJlZCBldmVudCB0byBhbGwgc3Vic2NyaWJlcnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBzZW5kZXJJZCAtIFNlbmRlciBpZC5cclxuICAgICAgICogQHJldHVybnMgcmVtb3ZlZElkcyAtIFRoZSBpZHMgb2YgYWxsIHJlbW92ZWQgaXRlbXMuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsZWFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoc2VuZGVySWQpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0NDtcblxuICAgICAgICB2YXIgaWRzID0gX3RvQ29uc3VtYWJsZUFycmF5KGtleXMoX2NvbnRleHQ0ID0gdGhpcy5fZGF0YSkuY2FsbChfY29udGV4dDQpKTtcblxuICAgICAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaXRlbXMucHVzaCh0aGlzLl9kYXRhLmdldChpZHNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RhdGEuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgdGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLCB7XG4gICAgICAgICAgaXRlbXM6IGlkcyxcbiAgICAgICAgICBvbGREYXRhOiBpdGVtc1xuICAgICAgICB9LCBzZW5kZXJJZCk7XG5cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBGaW5kIHRoZSBpdGVtIHdpdGggbWF4aW11bSB2YWx1ZSBvZiBhIHNwZWNpZmllZCBmaWVsZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGZpZWxkIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCBzaG91bGQgYmUgc2VhcmNoZWQgZm9yIG1heCB2YWx1ZS5cclxuICAgICAgICogQHJldHVybnMgSXRlbSBjb250YWluaW5nIG1heCB2YWx1ZSwgb3IgbnVsbCBpZiBubyBpdGVtcy5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwibWF4XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbWF4KGZpZWxkKSB7XG4gICAgICAgIHZhciBfY29udGV4dDU7XG5cbiAgICAgICAgdmFyIG1heCA9IG51bGw7XG4gICAgICAgIHZhciBtYXhGaWVsZCA9IG51bGw7XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEodmFsdWVzKF9jb250ZXh0NSA9IHRoaXMuX2RhdGEpLmNhbGwoX2NvbnRleHQ1KSksXG4gICAgICAgICAgICBfc3RlcDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgdmFyIGl0ZW1GaWVsZCA9IGl0ZW1bZmllbGRdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW1GaWVsZCA9PT0gXCJudW1iZXJcIiAmJiAobWF4RmllbGQgPT0gbnVsbCB8fCBpdGVtRmllbGQgPiBtYXhGaWVsZCkpIHtcbiAgICAgICAgICAgICAgbWF4ID0gaXRlbTtcbiAgICAgICAgICAgICAgbWF4RmllbGQgPSBpdGVtRmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF4IHx8IG51bGw7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRmluZCB0aGUgaXRlbSB3aXRoIG1pbmltdW0gdmFsdWUgb2YgYSBzcGVjaWZpZWQgZmllbGQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBmaWVsZCAtIE5hbWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgc2hvdWxkIGJlIHNlYXJjaGVkIGZvciBtaW4gdmFsdWUuXHJcbiAgICAgICAqIEByZXR1cm5zIEl0ZW0gY29udGFpbmluZyBtaW4gdmFsdWUsIG9yIG51bGwgaWYgbm8gaXRlbXMuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm1pblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1pbihmaWVsZCkge1xuICAgICAgICB2YXIgX2NvbnRleHQ2O1xuXG4gICAgICAgIHZhciBtaW4gPSBudWxsO1xuICAgICAgICB2YXIgbWluRmllbGQgPSBudWxsO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMSh2YWx1ZXMoX2NvbnRleHQ2ID0gdGhpcy5fZGF0YSkuY2FsbChfY29udGV4dDYpKSxcbiAgICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICAgIHZhciBpdGVtRmllbGQgPSBpdGVtW2ZpZWxkXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtRmllbGQgPT09IFwibnVtYmVyXCIgJiYgKG1pbkZpZWxkID09IG51bGwgfHwgaXRlbUZpZWxkIDwgbWluRmllbGQpKSB7XG4gICAgICAgICAgICAgIG1pbiA9IGl0ZW07XG4gICAgICAgICAgICAgIG1pbkZpZWxkID0gaXRlbUZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWluIHx8IG51bGw7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRmluZCBhbGwgZGlzdGluY3QgdmFsdWVzIG9mIGEgc3BlY2lmaWVkIGZpZWxkXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBwcm9wIC0gVGhlIHByb3BlcnR5IG5hbWUgd2hvc2UgZGlzdGluY3QgdmFsdWVzIHNob3VsZCBiZSByZXR1cm5lZC5cclxuICAgICAgICogQHJldHVybnMgVW5vcmRlcmVkIGFycmF5IGNvbnRhaW5pbmcgYWxsIGRpc3RpbmN0IHZhbHVlcy4gSXRlbXMgd2l0aG91dCBzcGVjaWZpZWQgcHJvcGVydHkgYXJlIGlnbm9yZWQuXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImRpc3RpbmN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzdGluY3QocHJvcCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgICAgICAgdmFyIGl0ZW1JZHMgPSBfdG9Db25zdW1hYmxlQXJyYXkoa2V5cyhkYXRhKS5jYWxsKGRhdGEpKTtcblxuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgaWQgPSBpdGVtSWRzW2ldO1xuICAgICAgICAgIHZhciBpdGVtID0gZGF0YS5nZXQoaWQpO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1bcHJvcF07XG4gICAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW2pdID09IHZhbHVlKSB7XG4gICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZXhpc3RzICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbHVlc1tjb3VudF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGQgYSBzaW5nbGUgaXRlbS4gV2lsbCBmYWlsIHdoZW4gYW4gaXRlbSB3aXRoIHRoZSBzYW1lIGlkIGFscmVhZHkgZXhpc3RzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gaXRlbSAtIEEgbmV3IGl0ZW0gdG8gYmUgYWRkZWQuXHJcbiAgICAgICAqIEByZXR1cm5zIEFkZGVkIGl0ZW0ncyBpZC4gQW4gaWQgaXMgZ2VuZXJhdGVkIHdoZW4gaXQgaXMgbm90IHByZXNlbnQgaW4gdGhlIGl0ZW0uXHJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hZGRJdGVtXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEl0ZW0oaXRlbSkge1xuICAgICAgICB2YXIgZnVsbEl0ZW0gPSBlbnN1cmVGdWxsSXRlbShpdGVtLCB0aGlzLl9pZFByb3ApO1xuICAgICAgICB2YXIgaWQgPSBmdWxsSXRlbVt0aGlzLl9pZFByb3BdOyAvLyBjaGVjayB3aGV0aGVyIHRoaXMgaWQgaXMgYWxyZWFkeSB0YWtlblxuXG4gICAgICAgIGlmICh0aGlzLl9kYXRhLmhhcyhpZCkpIHtcbiAgICAgICAgICAvLyBpdGVtIGFscmVhZHkgZXhpc3RzXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFkZCBpdGVtOiBpdGVtIHdpdGggaWQgXCIgKyBpZCArIFwiIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGF0YS5zZXQoaWQsIGZ1bGxJdGVtKTtcblxuICAgICAgICArK3RoaXMubGVuZ3RoO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogVXBkYXRlIGEgc2luZ2xlIGl0ZW06IG1lcmdlIHdpdGggZXhpc3RpbmcgaXRlbS5cclxuICAgICAgICogV2lsbCBmYWlsIHdoZW4gdGhlIGl0ZW0gaGFzIG5vIGlkLCBvciB3aGVuIHRoZXJlIGRvZXMgbm90IGV4aXN0IGFuIGl0ZW0gd2l0aCB0aGUgc2FtZSBpZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHVwZGF0ZSAtIFRoZSBuZXcgaXRlbVxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgaWQgb2YgdGhlIHVwZGF0ZWQgaXRlbS5cclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3VwZGF0ZUl0ZW1cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlSXRlbSh1cGRhdGUpIHtcbiAgICAgICAgdmFyIGlkID0gdXBkYXRlW3RoaXMuX2lkUHJvcF07XG5cbiAgICAgICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGl0ZW06IGl0ZW0gaGFzIG5vIGlkIChpdGVtOiBcIiArIHN0cmluZ2lmeSQxKHVwZGF0ZSkgKyBcIilcIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuX2RhdGEuZ2V0KGlkKTtcblxuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAvLyBpdGVtIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGl0ZW06IG5vIGl0ZW0gd2l0aCBpZCBcIiArIGlkICsgXCIgZm91bmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kYXRhLnNldChpZCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwgdXBkYXRlKSk7XG5cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic3RyZWFtXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3RyZWFtKGlkcykge1xuICAgICAgICBpZiAoaWRzKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICAgIHJldHVybiBuZXcgRGF0YVN0cmVhbShfZGVmaW5lUHJvcGVydHkoe30sIGl0ZXJhdG9yLCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3IubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjMsIF9zdGVwMywgaWQsIGl0ZW07XG5cbiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvci53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0Nykge1xuICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShpZHMpO1xuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5zKCk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKChfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZCA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9IGRhdGEuZ2V0KGlkKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIShpdGVtICE9IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2lkLCBpdGVtXTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE2O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxMztcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3W1wiY2F0Y2hcIl0oMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKF9jb250ZXh0Ny50MCk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMTY7XG5cbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5maW5pc2goMTYpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTMsIDE2LCAxOV1dKTtcbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfY29udGV4dDg7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IERhdGFTdHJlYW0oX2RlZmluZVByb3BlcnR5KHt9LCBpdGVyYXRvciwgYmluZCQ2KF9jb250ZXh0OCA9IGVudHJpZXModGhpcy5fZGF0YSkpLmNhbGwoX2NvbnRleHQ4LCB0aGlzLl9kYXRhKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERhdGFTZXQ7XG4gIH0oRGF0YVNldFBhcnQpO1xuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBzeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2V0SXRlcmF0b3JNZXRob2QkMShvKSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoaXNBcnJheSQxKG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyB2YXIgX2NvbnRleHQ1OyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBzbGljZShfY29udGV4dDUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpLmNhbGwoX2NvbnRleHQ1LCA4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBmcm9tJDMobyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBjb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG4gIGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChjb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuICAvKipcclxuICAgKiBEYXRhVmlld1xyXG4gICAqXHJcbiAgICogQSBEYXRhVmlldyBvZmZlcnMgYSBmaWx0ZXJlZCBhbmQvb3IgZm9ybWF0dGVkIHZpZXcgb24gYSBEYXRhU2V0LiBPbmUgY2FuIHN1YnNjcmliZSB0byBjaGFuZ2VzIGluIGEgRGF0YVZpZXcsIGFuZCBlYXNpbHkgZ2V0IGZpbHRlcmVkIG9yIGZvcm1hdHRlZCBkYXRhIHdpdGhvdXQgaGF2aW5nIHRvIHNwZWNpZnkgZmlsdGVycyBhbmQgZmllbGQgdHlwZXMgYWxsIHRoZSB0aW1lLlxyXG4gICAqXHJcbiAgICogIyMgRXhhbXBsZVxyXG4gICAqIGBgYGphdmFzY3JpcHRcclxuICAgKiAvLyBjcmVhdGUgYSBEYXRhU2V0XHJcbiAgICogdmFyIGRhdGEgPSBuZXcgdmlzLkRhdGFTZXQoKTtcclxuICAgKiBkYXRhLmFkZChbXHJcbiAgICogICB7aWQ6IDEsIHRleHQ6ICdpdGVtIDEnLCBkYXRlOiBuZXcgRGF0ZSgyMDEzLCA2LCAyMCksIGdyb3VwOiAxLCBmaXJzdDogdHJ1ZX0sXHJcbiAgICogICB7aWQ6IDIsIHRleHQ6ICdpdGVtIDInLCBkYXRlOiAnMjAxMy0wNi0yMycsIGdyb3VwOiAyfSxcclxuICAgKiAgIHtpZDogMywgdGV4dDogJ2l0ZW0gMycsIGRhdGU6ICcyMDEzLTA2LTI1JywgZ3JvdXA6IDJ9LFxyXG4gICAqICAge2lkOiA0LCB0ZXh0OiAnaXRlbSA0J31cclxuICAgKiBdKTtcclxuICAgKlxyXG4gICAqIC8vIGNyZWF0ZSBhIERhdGFWaWV3XHJcbiAgICogLy8gdGhlIHZpZXcgd2lsbCBvbmx5IGNvbnRhaW4gaXRlbXMgaGF2aW5nIGEgcHJvcGVydHkgZ3JvdXAgd2l0aCB2YWx1ZSAxLFxyXG4gICAqIC8vIGFuZCB3aWxsIG9ubHkgb3V0cHV0IGZpZWxkcyBpZCwgdGV4dCwgYW5kIGRhdGUuXHJcbiAgICogdmFyIHZpZXcgPSBuZXcgdmlzLkRhdGFWaWV3KGRhdGEsIHtcclxuICAgKiAgIGZpbHRlcjogZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgKiAgICAgcmV0dXJuIChpdGVtLmdyb3VwID09IDEpO1xyXG4gICAqICAgfSxcclxuICAgKiAgIGZpZWxkczogWydpZCcsICd0ZXh0JywgJ2RhdGUnXVxyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogLy8gc3Vic2NyaWJlIHRvIGFueSBjaGFuZ2UgaW4gdGhlIERhdGFWaWV3XHJcbiAgICogdmlldy5vbignKicsIGZ1bmN0aW9uIChldmVudCwgcHJvcGVydGllcywgc2VuZGVySWQpIHtcclxuICAgKiAgIGNvbnNvbGUubG9nKCdldmVudCcsIGV2ZW50LCBwcm9wZXJ0aWVzKTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIC8vIHVwZGF0ZSBhbiBpdGVtIGluIHRoZSBkYXRhIHNldFxyXG4gICAqIGRhdGEudXBkYXRlKHtpZDogMiwgZ3JvdXA6IDF9KTtcclxuICAgKlxyXG4gICAqIC8vIGdldCBhbGwgaWRzIGluIHRoZSB2aWV3XHJcbiAgICogdmFyIGlkcyA9IHZpZXcuZ2V0SWRzKCk7XHJcbiAgICogY29uc29sZS5sb2coJ2lkcycsIGlkcyk7IC8vIHdpbGwgb3V0cHV0IFsxLCAyXVxyXG4gICAqXHJcbiAgICogLy8gZ2V0IGFsbCBpdGVtcyBpbiB0aGUgdmlld1xyXG4gICAqIHZhciBpdGVtcyA9IHZpZXcuZ2V0KCk7XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAdHlwZVBhcmFtIEl0ZW0gLSBJdGVtIHR5cGUgdGhhdCBtYXkgb3IgbWF5IG5vdCBoYXZlIGFuIGlkLlxyXG4gICAqIEB0eXBlUGFyYW0gSWRQcm9wIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCBjb250YWlucyB0aGUgaWQuXHJcbiAgICovXG5cbiAgdmFyIERhdGFWaWV3ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRGF0YVNldFBhcnQpIHtcbiAgICBfaW5oZXJpdHMoRGF0YVZpZXcsIF9EYXRhU2V0UGFydCk7XG5cbiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERhdGFWaWV3KTtcblxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgRGF0YVZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRhdGEgLSBUaGUgaW5zdGFuY2UgY29udGFpbmluZyBkYXRhIChkaXJlY3RseSBvciBpbmRpcmVjdGx5KS5cclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyB0byBjb25maWd1cmUgdGhpcyBkYXRhIHZpZXcuXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEYXRhVmlldyhkYXRhLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGFWaWV3KTtcblxuICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImxlbmd0aFwiLCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9saXN0ZW5lclwiLCB2b2lkIDApO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2RhdGFcIiwgdm9pZCAwKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9pZHNcIiwgbmV3IHNldCgpKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vcHRpb25zXCIsIHZvaWQgMCk7XG5cbiAgICAgIF90aGlzLl9vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIF90aGlzLl9saXN0ZW5lciA9IGJpbmQkNihfY29udGV4dCA9IF90aGlzLl9vbkV2ZW50KS5jYWxsKF9jb250ZXh0LCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICAgIF90aGlzLnNldERhdGEoZGF0YSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9IC8vIFRPRE86IGltcGxlbWVudCBhIGZ1bmN0aW9uIC5jb25maWcoKSB0byBkeW5hbWljYWxseSB1cGRhdGUgdGhpbmdzIGxpa2UgY29uZmlndXJlZCBmaWx0ZXJcbiAgICAvLyBhbmQgdHJpZ2dlciBjaGFuZ2VzIGFjY29yZGluZ2x5XG5cbiAgICAvKipcclxuICAgICAqIFNldCBhIGRhdGEgc291cmNlIGZvciB0aGUgdmlldy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBpbnN0YW5jZSBjb250YWluaW5nIGRhdGEgKGRpcmVjdGx5IG9yIGluZGlyZWN0bHkpLlxyXG4gICAgICogQHJlbWFya3NcclxuICAgICAqIE5vdGUgdGhhdCB3aGVuIHRoZSBkYXRhIHZpZXcgaXMgYm91bmQgdG8gYSBkYXRhIHNldCBpdCB3b24ndCBiZSBnYXJiYWdlXHJcbiAgICAgKiBjb2xsZWN0ZWQgdW5sZXNzIHRoZSBkYXRhIHNldCBpcyB0b28uIFVzZSBgZGF0YVZpZXcuc2V0RGF0YShudWxsKWAgb3JcclxuICAgICAqIGBkYXRhVmlldy5kaXNwb3NlKClgIHRvIGVuYWJsZSBnYXJiYWdlIGNvbGxlY3Rpb24gYmVmb3JlIHlvdSBsb3NlIHRoZSBsYXN0XHJcbiAgICAgKiByZWZlcmVuY2UuXHJcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKERhdGFWaWV3LCBbe1xuICAgICAga2V5OiBcImlkUHJvcFwiLFxuICAgICAgZ2V0OlxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG5cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhU2V0KCkuaWRQcm9wO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZXREYXRhXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGF0YShkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgLy8gdW5zdWJzY3JpYmUgZnJvbSBjdXJyZW50IGRhdGFzZXRcbiAgICAgICAgICBpZiAodGhpcy5fZGF0YS5vZmYpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEub2ZmKFwiKlwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgICAgICAgfSAvLyB0cmlnZ2VyIGEgcmVtb3ZlIG9mIGFsbCBpdGVtcyBpbiBtZW1vcnlcblxuXG4gICAgICAgICAgdmFyIGlkcyA9IHRoaXMuX2RhdGEuZ2V0SWRzKHtcbiAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyKHRoaXMuX29wdGlvbnMpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLl9kYXRhLmdldChpZHMpO1xuXG4gICAgICAgICAgdGhpcy5faWRzLmNsZWFyKCk7XG5cbiAgICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiBpZHMsXG4gICAgICAgICAgICBvbGREYXRhOiBpdGVtc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhOyAvLyB0cmlnZ2VyIGFuIGFkZCBvZiBhbGwgYWRkZWQgaXRlbXNcblxuICAgICAgICAgIHZhciBfaWRzID0gdGhpcy5fZGF0YS5nZXRJZHMoe1xuICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXIodGhpcy5fb3B0aW9ucylcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBfaWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBfaWRzW2ldO1xuXG4gICAgICAgICAgICB0aGlzLl9pZHMuYWRkKGlkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmxlbmd0aCA9IF9pZHMubGVuZ3RoO1xuXG4gICAgICAgICAgdGhpcy5fdHJpZ2dlcihcImFkZFwiLCB7XG4gICAgICAgICAgICBpdGVtczogX2lkc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2RhdGEgPSBuZXcgRGF0YVNldCgpO1xuICAgICAgICB9IC8vIHN1YnNjcmliZSB0byBuZXcgZGF0YXNldFxuXG5cbiAgICAgICAgaWYgKHRoaXMuX2RhdGEub24pIHtcbiAgICAgICAgICB0aGlzLl9kYXRhLm9uKFwiKlwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZWZyZXNoIHRoZSBEYXRhVmlldy5cclxuICAgICAgICogVXNlZnVsIHdoZW4gdGhlIERhdGFWaWV3IGhhcyBhIGZpbHRlciBmdW5jdGlvbiBjb250YWluaW5nIGEgdmFyaWFibGUgcGFyYW1ldGVyLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZWZyZXNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIGlkcyA9IHRoaXMuX2RhdGEuZ2V0SWRzKHtcbiAgICAgICAgICBmaWx0ZXI6IGZpbHRlcih0aGlzLl9vcHRpb25zKVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgb2xkSWRzID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX2lkcyk7XG5cbiAgICAgICAgdmFyIG5ld0lkcyA9IHt9O1xuICAgICAgICB2YXIgYWRkZWRJZHMgPSBbXTtcbiAgICAgICAgdmFyIHJlbW92ZWRJZHMgPSBbXTtcbiAgICAgICAgdmFyIHJlbW92ZWRJdGVtcyA9IFtdOyAvLyBjaGVjayBmb3IgYWRkaXRpb25zXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGlkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIHZhciBpZCA9IGlkc1tpXTtcbiAgICAgICAgICBuZXdJZHNbaWRdID0gdHJ1ZTtcblxuICAgICAgICAgIGlmICghdGhpcy5faWRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIGFkZGVkSWRzLnB1c2goaWQpO1xuXG4gICAgICAgICAgICB0aGlzLl9pZHMuYWRkKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gY2hlY2sgZm9yIHJlbW92YWxzXG5cblxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBvbGRJZHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICB2YXIgX2lkID0gb2xkSWRzW19pXTtcblxuICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5fZGF0YS5nZXQoX2lkKTtcblxuICAgICAgICAgIGlmIChpdGVtID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEBUT0RPOiBJbnZlc3RpZ2F0ZS5cbiAgICAgICAgICAgIC8vIERvZXNuJ3QgaGFwcGVuIGR1cmluZyB0ZXN0cyBvciBleGFtcGxlcy5cbiAgICAgICAgICAgIC8vIElzIGl0IHJlYWxseSBpbXBvc3NpYmxlIG9yIGNvdWxkIGl0IGV2ZW50dWFsbHkgaGFwcGVuP1xuICAgICAgICAgICAgLy8gSG93IHRvIGhhbmRsZSBpdCBpZiBpdCBkb2VzPyBUaGUgdHlwZXMgZ3VhcmFudGVlIG5vbi1udWxsYWJsZSBpdGVtcy5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJZiB5b3Ugc2VlIHRoaXMsIHJlcG9ydCBpdCBwbGVhc2UuXCIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIW5ld0lkc1tfaWRdKSB7XG4gICAgICAgICAgICByZW1vdmVkSWRzLnB1c2goX2lkKTtcbiAgICAgICAgICAgIHJlbW92ZWRJdGVtcy5wdXNoKGl0ZW0pO1xuXG4gICAgICAgICAgICB0aGlzLl9pZHMuZGVsZXRlKF9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sZW5ndGggKz0gYWRkZWRJZHMubGVuZ3RoIC0gcmVtb3ZlZElkcy5sZW5ndGg7IC8vIHRyaWdnZXIgZXZlbnRzXG5cbiAgICAgICAgaWYgKGFkZGVkSWRzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJhZGRcIiwge1xuICAgICAgICAgICAgaXRlbXM6IGFkZGVkSWRzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVtb3ZlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiByZW1vdmVkSWRzLFxuICAgICAgICAgICAgb2xkRGF0YTogcmVtb3ZlZEl0ZW1zXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldChmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSAvLyBwYXJzZSB0aGUgYXJndW1lbnRzXG5cblxuICAgICAgICB2YXIgaWRzID0gbnVsbDtcbiAgICAgICAgdmFyIG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKGlzSWQoZmlyc3QpIHx8IGlzQXJyYXkkMShmaXJzdCkpIHtcbiAgICAgICAgICBpZHMgPSBmaXJzdDtcbiAgICAgICAgICBvcHRpb25zID0gc2Vjb25kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnMgPSBmaXJzdDtcbiAgICAgICAgfSAvLyBleHRlbmQgdGhlIG9wdGlvbnMgd2l0aCB0aGUgZGVmYXVsdCBvcHRpb25zIGFuZCBwcm92aWRlZCBvcHRpb25zXG5cblxuICAgICAgICB2YXIgdmlld09wdGlvbnMgPSBhc3NpZ24kMih7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7IC8vIGNyZWF0ZSBhIGNvbWJpbmVkIGZpbHRlciBtZXRob2Qgd2hlbiBuZWVkZWRcblxuXG4gICAgICAgIHZhciB0aGlzRmlsdGVyID0gZmlsdGVyKHRoaXMuX29wdGlvbnMpO1xuXG4gICAgICAgIHZhciBvcHRpb25zRmlsdGVyID0gb3B0aW9ucyAmJiBmaWx0ZXIob3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXNGaWx0ZXIgJiYgb3B0aW9uc0ZpbHRlcikge1xuICAgICAgICAgIHZpZXdPcHRpb25zLmZpbHRlciA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc0ZpbHRlcihpdGVtKSAmJiBvcHRpb25zRmlsdGVyKGl0ZW0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaWRzID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5nZXQodmlld09wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLmdldChpZHMsIHZpZXdPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SWRzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SWRzKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRlZmF1bHRGaWx0ZXIgPSBmaWx0ZXIodGhpcy5fb3B0aW9ucyk7XG5cbiAgICAgICAgICB2YXIgb3B0aW9uc0ZpbHRlciA9IG9wdGlvbnMgIT0gbnVsbCA/IGZpbHRlcihvcHRpb25zKSA6IG51bGw7XG4gICAgICAgICAgdmFyIGZpbHRlciQxO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnNGaWx0ZXIpIHtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0RmlsdGVyKSB7XG4gICAgICAgICAgICAgIGZpbHRlciQxID0gZnVuY3Rpb24gZmlsdGVyKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZpbHRlcihpdGVtKSAmJiBvcHRpb25zRmlsdGVyKGl0ZW0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmlsdGVyJDEgPSBvcHRpb25zRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWx0ZXIkMSA9IGRlZmF1bHRGaWx0ZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEuZ2V0SWRzKHtcbiAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyJDEsXG4gICAgICAgICAgICBvcmRlcjogb3B0aW9ucyAmJiBvcHRpb25zLm9yZGVyXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJmb3JFYWNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fZGF0YSkge1xuICAgICAgICAgIHZhciBfY29udGV4dDI7XG5cbiAgICAgICAgICB2YXIgZGVmYXVsdEZpbHRlciA9IGZpbHRlcih0aGlzLl9vcHRpb25zKTtcblxuICAgICAgICAgIHZhciBvcHRpb25zRmlsdGVyID0gb3B0aW9ucyAmJiBmaWx0ZXIob3B0aW9ucyk7XG5cbiAgICAgICAgICB2YXIgZmlsdGVyJDE7XG5cbiAgICAgICAgICBpZiAob3B0aW9uc0ZpbHRlcikge1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgZmlsdGVyJDEgPSBmdW5jdGlvbiBmaWx0ZXIoaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RmlsdGVyKGl0ZW0pICYmIG9wdGlvbnNGaWx0ZXIoaXRlbSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmaWx0ZXIkMSA9IG9wdGlvbnNGaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbHRlciQxID0gZGVmYXVsdEZpbHRlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3JFYWNoJDEoX2NvbnRleHQyID0gdGhpcy5fZGF0YSkuY2FsbChfY29udGV4dDIsIGNhbGxiYWNrLCB7XG4gICAgICAgICAgICBmaWx0ZXI6IGZpbHRlciQxLFxuICAgICAgICAgICAgb3JkZXI6IG9wdGlvbnMgJiYgb3B0aW9ucy5vcmRlclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJtYXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICB2YXIgX2NvbnRleHQzO1xuXG4gICAgICAgICAgdmFyIGRlZmF1bHRGaWx0ZXIgPSBmaWx0ZXIodGhpcy5fb3B0aW9ucyk7XG5cbiAgICAgICAgICB2YXIgb3B0aW9uc0ZpbHRlciA9IG9wdGlvbnMgJiYgZmlsdGVyKG9wdGlvbnMpO1xuXG4gICAgICAgICAgdmFyIGZpbHRlciQxO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnNGaWx0ZXIpIHtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0RmlsdGVyKSB7XG4gICAgICAgICAgICAgIGZpbHRlciQxID0gZnVuY3Rpb24gZmlsdGVyKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZpbHRlcihpdGVtKSAmJiBvcHRpb25zRmlsdGVyKGl0ZW0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmlsdGVyJDEgPSBvcHRpb25zRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWx0ZXIkMSA9IGRlZmF1bHRGaWx0ZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG1hcCQzKF9jb250ZXh0MyA9IHRoaXMuX2RhdGEpLmNhbGwoX2NvbnRleHQzLCBjYWxsYmFjaywge1xuICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXIkMSxcbiAgICAgICAgICAgIG9yZGVyOiBvcHRpb25zICYmIG9wdGlvbnMub3JkZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldERhdGFTZXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhU2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5nZXREYXRhU2V0KCk7XG4gICAgICB9XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdHJlYW1cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdHJlYW0oaWRzKSB7XG4gICAgICAgIHZhciBfY29udGV4dDQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEuc3RyZWFtKGlkcyB8fCBfZGVmaW5lUHJvcGVydHkoe30sIGl0ZXJhdG9yLCBiaW5kJDYoX2NvbnRleHQ0ID0ga2V5cyh0aGlzLl9pZHMpKS5jYWxsKF9jb250ZXh0NCwgdGhpcy5faWRzKSkpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbmRlciB0aGUgaW5zdGFuY2UgdW51c2FibGUgcHJpb3IgdG8gZ2FyYmFnZSBjb2xsZWN0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVtYXJrc1xyXG4gICAgICAgKiBUaGUgaW50ZW50aW9uIG9mIHRoaXMgbWV0aG9kIGlzIHRvIGhlbHAgZGlzY292ZXIgc2NlbmFyaW9zIHdoZXJlIHRoZSBkYXRhXHJcbiAgICAgICAqIHZpZXcgaXMgYmVpbmcgdXNlZCB3aGVuIHRoZSBwcm9ncmFtbWVyIHRoaW5rcyBpdCBoYXMgYmVlbiBnYXJiYWdlIGNvbGxlY3RlZFxyXG4gICAgICAgKiBhbHJlYWR5LiBJdCdzIHN0cmljdGVyIHZlcnNpb24gb2YgYGRhdGFWaWV3LnNldERhdGEobnVsbClgLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkaXNwb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgdmFyIF90aGlzJF9kYXRhO1xuXG4gICAgICAgIGlmICgoX3RoaXMkX2RhdGEgPSB0aGlzLl9kYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyRfZGF0YSAhPT0gdm9pZCAwICYmIF90aGlzJF9kYXRhLm9mZikge1xuICAgICAgICAgIHRoaXMuX2RhdGEub2ZmKFwiKlwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhpcyBkYXRhIHZpZXcgaGFzIGFscmVhZHkgYmVlbiBkaXNwb3NlZCBvZi5cIjtcbiAgICAgICAgdmFyIHJlcGxhY2VtZW50ID0ge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG93bktleXMkMShEYXRhVmlldy5wcm90b3R5cGUpKSxcbiAgICAgICAgICAgIF9zdGVwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkNCh0aGlzLCBrZXksIHJlcGxhY2VtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEV2ZW50IGxpc3RlbmVyLiBXaWxsIHByb3BhZ2F0ZSBhbGwgZXZlbnRzIGZyb20gdGhlIGNvbm5lY3RlZCBkYXRhIHNldCB0byB0aGUgc3Vic2NyaWJlcnMgb2YgdGhlIERhdGFWaWV3LCBidXQgd2lsbCBmaWx0ZXIgdGhlIGl0ZW1zIGFuZCBvbmx5IHRyaWdnZXIgd2hlbiB0aGVyZSBhcmUgY2hhbmdlcyBpbiB0aGUgZmlsdGVyZWQgZGF0YSBzZXQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cclxuICAgICAgICogQHBhcmFtIHBhcmFtcyAtIFBhcmFtZXRlcnMgb2YgdGhlIGV2ZW50LlxyXG4gICAgICAgKiBAcGFyYW0gc2VuZGVySWQgLSBJZCBzdXBwbGllZCBieSB0aGUgc2VuZGVyLlxyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfb25FdmVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkV2ZW50KGV2ZW50LCBwYXJhbXMsIHNlbmRlcklkKSB7XG4gICAgICAgIGlmICghcGFyYW1zIHx8ICFwYXJhbXMuaXRlbXMgfHwgIXRoaXMuX2RhdGEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaWRzID0gcGFyYW1zLml0ZW1zO1xuICAgICAgICB2YXIgYWRkZWRJZHMgPSBbXTtcbiAgICAgICAgdmFyIHVwZGF0ZWRJZHMgPSBbXTtcbiAgICAgICAgdmFyIHJlbW92ZWRJZHMgPSBbXTtcbiAgICAgICAgdmFyIG9sZEl0ZW1zID0gW107XG4gICAgICAgIHZhciB1cGRhdGVkSXRlbXMgPSBbXTtcbiAgICAgICAgdmFyIHJlbW92ZWRJdGVtcyA9IFtdO1xuXG4gICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgICAvLyBmaWx0ZXIgdGhlIGlkcyBvZiB0aGUgYWRkZWQgaXRlbXNcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIGlkID0gaWRzW2ldO1xuICAgICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuZ2V0KGlkKTtcblxuICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lkcy5hZGQoaWQpO1xuXG4gICAgICAgICAgICAgICAgYWRkZWRJZHMucHVzaChpZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwidXBkYXRlXCI6XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIGV2ZW50IGZyb20gdGhlIHZpZXdzIHZpZXdwb2ludDogYW4gdXBkYXRlZFxuICAgICAgICAgICAgLy8gaXRlbSBjYW4gYmUgYWRkZWQsIHVwZGF0ZWQsIG9yIHJlbW92ZWQgZnJvbSB0aGlzIHZpZXcuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwLCBfbGVuMiA9IGlkcy5sZW5ndGg7IF9pMiA8IF9sZW4yOyBfaTIrKykge1xuICAgICAgICAgICAgICB2YXIgX2lkMiA9IGlkc1tfaTJdO1xuXG4gICAgICAgICAgICAgIHZhciBfaXRlbSA9IHRoaXMuZ2V0KF9pZDIpO1xuXG4gICAgICAgICAgICAgIGlmIChfaXRlbSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pZHMuaGFzKF9pZDIpKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkSWRzLnB1c2goX2lkMik7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkSXRlbXMucHVzaChwYXJhbXMuZGF0YVtfaTJdKTtcbiAgICAgICAgICAgICAgICAgIG9sZEl0ZW1zLnB1c2gocGFyYW1zLm9sZERhdGFbX2kyXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2lkcy5hZGQoX2lkMik7XG5cbiAgICAgICAgICAgICAgICAgIGFkZGVkSWRzLnB1c2goX2lkMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pZHMuaGFzKF9pZDIpKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9pZHMuZGVsZXRlKF9pZDIpO1xuXG4gICAgICAgICAgICAgICAgICByZW1vdmVkSWRzLnB1c2goX2lkMik7XG4gICAgICAgICAgICAgICAgICByZW1vdmVkSXRlbXMucHVzaChwYXJhbXMub2xkRGF0YVtfaTJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgICAgICAvLyBmaWx0ZXIgdGhlIGlkcyBvZiB0aGUgcmVtb3ZlZCBpdGVtc1xuICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMCwgX2xlbjMgPSBpZHMubGVuZ3RoOyBfaTMgPCBfbGVuMzsgX2kzKyspIHtcbiAgICAgICAgICAgICAgdmFyIF9pZDMgPSBpZHNbX2kzXTtcblxuICAgICAgICAgICAgICBpZiAodGhpcy5faWRzLmhhcyhfaWQzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lkcy5kZWxldGUoX2lkMyk7XG5cbiAgICAgICAgICAgICAgICByZW1vdmVkSWRzLnB1c2goX2lkMyk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZEl0ZW1zLnB1c2gocGFyYW1zLm9sZERhdGFbX2kzXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxlbmd0aCArPSBhZGRlZElkcy5sZW5ndGggLSByZW1vdmVkSWRzLmxlbmd0aDtcblxuICAgICAgICBpZiAoYWRkZWRJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlcihcImFkZFwiLCB7XG4gICAgICAgICAgICBpdGVtczogYWRkZWRJZHNcbiAgICAgICAgICB9LCBzZW5kZXJJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXBkYXRlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwidXBkYXRlXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiB1cGRhdGVkSWRzLFxuICAgICAgICAgICAgb2xkRGF0YTogb2xkSXRlbXMsXG4gICAgICAgICAgICBkYXRhOiB1cGRhdGVkSXRlbXNcbiAgICAgICAgICB9LCBzZW5kZXJJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVtb3ZlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiByZW1vdmVkSWRzLFxuICAgICAgICAgICAgb2xkRGF0YTogcmVtb3ZlZEl0ZW1zXG4gICAgICAgICAgfSwgc2VuZGVySWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERhdGFWaWV3O1xuICB9KERhdGFTZXRQYXJ0KTtcblxuICAvKipcclxuICAgKiBDaGVjayB0aGF0IGdpdmVuIHZhbHVlIGlzIGNvbXBhdGlibGUgd2l0aCBWaXMgRGF0YSBTZXQgaW50ZXJmYWNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGlkUHJvcCAtIFRoZSBleHBlY3RlZCBwcm9wZXJ0eSB0byBjb250YWluIGl0ZW0gaWQuXHJcbiAgICogQHBhcmFtIHYgLSBUaGUgdmFsdWUgdG8gYmUgdGVzdGVkLlxyXG4gICAqIEByZXR1cm5zIFRydWUgaWYgYWxsIGV4cGVjdGVkIHZhbHVlcyBhbmQgbWV0aG9kcyBtYXRjaCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xuICBmdW5jdGlvbiBpc0RhdGFTZXRMaWtlKGlkUHJvcCwgdikge1xuICAgIHJldHVybiBfdHlwZW9mKHYpID09PSBcIm9iamVjdFwiICYmIHYgIT09IG51bGwgJiYgaWRQcm9wID09PSB2LmlkUHJvcCAmJiB0eXBlb2Ygdi5hZGQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5jbGVhciA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2LmRpc3RpbmN0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGZvckVhY2gkMSh2KSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2LmdldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2LmdldERhdGFTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5nZXRJZHMgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5sZW5ndGggPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIG1hcCQzKHYpID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYubWF4ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYubWluID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYub2ZmID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYub24gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5yZW1vdmUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5zZXRPcHRpb25zID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYuc3RyZWFtID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYudXBkYXRlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYudXBkYXRlT25seSA9PT0gXCJmdW5jdGlvblwiO1xuICB9XG5cbiAgLyoqXHJcbiAgICogQ2hlY2sgdGhhdCBnaXZlbiB2YWx1ZSBpcyBjb21wYXRpYmxlIHdpdGggVmlzIERhdGEgVmlldyBpbnRlcmZhY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaWRQcm9wIC0gVGhlIGV4cGVjdGVkIHByb3BlcnR5IHRvIGNvbnRhaW4gaXRlbSBpZC5cclxuICAgKiBAcGFyYW0gdiAtIFRoZSB2YWx1ZSB0byBiZSB0ZXN0ZWQuXHJcbiAgICogQHJldHVybnMgVHJ1ZSBpZiBhbGwgZXhwZWN0ZWQgdmFsdWVzIGFuZCBtZXRob2RzIG1hdGNoLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovXG5cbiAgZnVuY3Rpb24gaXNEYXRhVmlld0xpa2UoaWRQcm9wLCB2KSB7XG4gICAgcmV0dXJuIF90eXBlb2YodikgPT09IFwib2JqZWN0XCIgJiYgdiAhPT0gbnVsbCAmJiBpZFByb3AgPT09IHYuaWRQcm9wICYmIHR5cGVvZiBmb3JFYWNoJDEodikgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5nZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5nZXREYXRhU2V0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYuZ2V0SWRzID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYubGVuZ3RoID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBtYXAkMyh2KSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2Lm9mZiA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2Lm9uID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYuc3RyZWFtID09PSBcImZ1bmN0aW9uXCIgJiYgaXNEYXRhU2V0TGlrZShpZFByb3AsIHYuZ2V0RGF0YVNldCgpKTtcbiAgfVxuXG4gIGV4cG9ydHMuREVMRVRFID0gREVMRVRFO1xuICBleHBvcnRzLkRhdGFTZXQgPSBEYXRhU2V0O1xuICBleHBvcnRzLkRhdGFTdHJlYW0gPSBEYXRhU3RyZWFtO1xuICBleHBvcnRzLkRhdGFWaWV3ID0gRGF0YVZpZXc7XG4gIGV4cG9ydHMuUXVldWUgPSBRdWV1ZTtcbiAgZXhwb3J0cy5jcmVhdGVOZXdEYXRhUGlwZUZyb20gPSBjcmVhdGVOZXdEYXRhUGlwZUZyb207XG4gIGV4cG9ydHMuaXNEYXRhU2V0TGlrZSA9IGlzRGF0YVNldExpa2U7XG4gIGV4cG9ydHMuaXNEYXRhVmlld0xpa2UgPSBpc0RhdGFWaWV3TGlrZTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aXMtZGF0YS5qcy5tYXBcbiIsIi8qKlxuICogdmlzLW5ldHdvcmtcbiAqIGh0dHBzOi8vdmlzanMuZ2l0aHViLmlvL3Zpcy1uZXR3b3JrL1xuICpcbiAqIEEgZHluYW1pYywgYnJvd3Nlci1iYXNlZCB2aXN1YWxpemF0aW9uIGxpYnJhcnkuXG4gKlxuICogQHZlcnNpb24gOS4xLjJcbiAqIEBkYXRlICAgIDIwMjItMDMtMjhUMjA6MTM6NTEuMDQ2WlxuICpcbiAqIEBjb3B5cmlnaHQgKGMpIDIwMTEtMjAxNyBBbG1lbmRlIEIuViwgaHR0cDovL2FsbWVuZGUuY29tXG4gKiBAY29weXJpZ2h0IChjKSAyMDE3LTIwMTkgdmlzanMgY29udHJpYnV0b3JzLCBodHRwczovL2dpdGh1Yi5jb20vdmlzanNcbiAqXG4gKiBAbGljZW5zZVxuICogdmlzLmpzIGlzIGR1YWwgbGljZW5zZWQgdW5kZXIgYm90aFxuICpcbiAqICAgMS4gVGhlIEFwYWNoZSAyLjAgTGljZW5zZVxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgIGFuZFxuICpcbiAqICAgMi4gVGhlIE1JVCBMaWNlbnNlXG4gKiAgICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiB2aXMuanMgbWF5IGJlIGRpc3RyaWJ1dGVkIHVuZGVyIGVpdGhlciBsaWNlbnNlLlxuICovXG4hZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMscmVxdWlyZShcInZpcy1kYXRhL3BlZXIvdW1kL3Zpcy1kYXRhLmpzXCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIixcInZpcy1kYXRhL3BlZXIvdW1kL3Zpcy1kYXRhLmpzXCJdLGUpOmUoKHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS52aXM9dC52aXN8fHt9LHQudmlzKX0odGhpcywoZnVuY3Rpb24odCxlKXt2YXIgaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30sbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT1NYXRoJiZ0fSxuPW8oXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxvKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fG8oXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYpfHxvKFwib2JqZWN0XCI9PXR5cGVvZiBpJiZpKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHI9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKHQpe3JldHVybiEwfX0scz0hcigoZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe30uYmluZCgpO3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fHQuaGFzT3duUHJvcGVydHkoXCJwcm90b3R5cGVcIil9KSksYT1zLGg9RnVuY3Rpb24ucHJvdG90eXBlLGQ9aC5hcHBseSxsPWguY2FsbCxjPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmFwcGx5fHwoYT9sLmJpbmQoZCk6ZnVuY3Rpb24oKXtyZXR1cm4gbC5hcHBseShkLGFyZ3VtZW50cyl9KSx1PXMsZj1GdW5jdGlvbi5wcm90b3R5cGUscD1mLmJpbmQsdj1mLmNhbGwsZz11JiZwLmJpbmQodix2KSx5PXU/ZnVuY3Rpb24odCl7cmV0dXJuIHQmJmcodCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZmdW5jdGlvbigpe3JldHVybiB2LmFwcGx5KHQsYXJndW1lbnRzKX19LG09ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH0sYj17fSx3PSFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSksaz1zLF89RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwseD1rP18uYmluZChfKTpmdW5jdGlvbigpe3JldHVybiBfLmFwcGx5KF8sYXJndW1lbnRzKX0sRT17fSxPPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixTPUMmJiFPLmNhbGwoezE6Mn0sMSk7RS5mPVM/ZnVuY3Rpb24odCl7dmFyIGU9Qyh0aGlzLHQpO3JldHVybiEhZSYmZS5lbnVtZXJhYmxlfTpPO3ZhciBULE0sUD1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX0sRD15LEI9RCh7fS50b1N0cmluZyksST1EKFwiXCIuc2xpY2UpLHo9ZnVuY3Rpb24odCl7cmV0dXJuIEkoQih0KSw4LC0xKX0sRj15LE49cixBPXosUj1uLk9iamVjdCxqPUYoXCJcIi5zcGxpdCksTD1OKChmdW5jdGlvbigpe3JldHVybiFSKFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pKT9mdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1BKHQpP2oodCxcIlwiKTpSKHQpfTpSLEg9bi5UeXBlRXJyb3IsVz1mdW5jdGlvbih0KXtpZihudWxsPT10KXRocm93IEgoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIit0KTtyZXR1cm4gdH0sVj1MLHE9VyxVPWZ1bmN0aW9uKHQpe3JldHVybiBWKHEodCkpfSxZPW0sWD1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpZKHQpfSxHPXt9LEs9RywkPW4sWj1tLFE9ZnVuY3Rpb24odCl7cmV0dXJuIFoodCk/dDp2b2lkIDB9LEo9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP1EoS1t0XSl8fFEoJFt0XSk6S1t0XSYmS1t0XVtlXXx8JFt0XSYmJFt0XVtlXX0sdHQ9eSh7fS5pc1Byb3RvdHlwZU9mKSxldD1KKFwibmF2aWdhdG9yXCIsXCJ1c2VyQWdlbnRcIil8fFwiXCIsaXQ9bixvdD1ldCxudD1pdC5wcm9jZXNzLHJ0PWl0LkRlbm8sc3Q9bnQmJm50LnZlcnNpb25zfHxydCYmcnQudmVyc2lvbixhdD1zdCYmc3Qudjg7YXQmJihNPShUPWF0LnNwbGl0KFwiLlwiKSlbMF0+MCYmVFswXTw0PzE6KyhUWzBdK1RbMV0pKSwhTSYmb3QmJighKFQ9b3QubWF0Y2goL0VkZ2VcXC8oXFxkKykvKSl8fFRbMV0+PTc0KSYmKFQ9b3QubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pKSYmKE09K1RbMV0pO3ZhciBodD1NLGR0PWh0LGx0PXIsY3Q9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhbHQoKGZ1bmN0aW9uKCl7dmFyIHQ9U3ltYm9sKCk7cmV0dXJuIVN0cmluZyh0KXx8IShPYmplY3QodClpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmZHQmJmR0PDQxfSkpLHV0PWN0JiYhU3ltYm9sLnNoYW0mJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3IsZnQ9SixwdD1tLHZ0PXR0LGd0PXV0LHl0PW4uT2JqZWN0LG10PWd0P2Z1bmN0aW9uKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXt2YXIgZT1mdChcIlN5bWJvbFwiKTtyZXR1cm4gcHQoZSkmJnZ0KGUucHJvdG90eXBlLHl0KHQpKX0sYnQ9bi5TdHJpbmcsd3Q9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBidCh0KX1jYXRjaCh0KXtyZXR1cm5cIk9iamVjdFwifX0sa3Q9bSxfdD13dCx4dD1uLlR5cGVFcnJvcixFdD1mdW5jdGlvbih0KXtpZihrdCh0KSlyZXR1cm4gdDt0aHJvdyB4dChfdCh0KStcIiBpcyBub3QgYSBmdW5jdGlvblwiKX0sT3Q9RXQsQ3Q9ZnVuY3Rpb24odCxlKXt2YXIgaT10W2VdO3JldHVybiBudWxsPT1pP3ZvaWQgMDpPdChpKX0sU3Q9eCxUdD1tLE10PVgsUHQ9bi5UeXBlRXJyb3IsRHQ9e2V4cG9ydHM6e319LEJ0PW4sSXQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LHp0PWZ1bmN0aW9uKHQsZSl7dHJ5e0l0KEJ0LHQse3ZhbHVlOmUsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSl9Y2F0Y2goaSl7QnRbdF09ZX1yZXR1cm4gZX0sRnQ9XCJfX2NvcmUtanNfc2hhcmVkX19cIixOdD1uW0Z0XXx8enQoRnQse30pLEF0PU50OyhEdC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEF0W3RdfHwoQXRbdF09dm9pZCAwIT09ZT9lOnt9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpcIjMuMjEuMVwiLG1vZGU6XCJwdXJlXCIsY29weXJpZ2h0OlwiwqkgMjAxNC0yMDIyIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCIsbGljZW5zZTpcImh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2Jsb2IvdjMuMjEuMS9MSUNFTlNFXCIsc291cmNlOlwiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanNcIn0pO3ZhciBSdD1XLGp0PW4uT2JqZWN0LEx0PWZ1bmN0aW9uKHQpe3JldHVybiBqdChSdCh0KSl9LEh0PUx0LFd0PXkoe30uaGFzT3duUHJvcGVydHkpLFZ0PU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFd0KEh0KHQpLGUpfSxxdD15LFV0PTAsWXQ9TWF0aC5yYW5kb20oKSxYdD1xdCgxLi50b1N0cmluZyksR3Q9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIrKHZvaWQgMD09PXQ/XCJcIjp0KStcIilfXCIrWHQoKytVdCtZdCwzNil9LEt0PW4sJHQ9RHQuZXhwb3J0cyxadD1WdCxRdD1HdCxKdD1jdCx0ZT11dCxlZT0kdChcIndrc1wiKSxpZT1LdC5TeW1ib2wsb2U9aWUmJmllLmZvcixuZT10ZT9pZTppZSYmaWUud2l0aG91dFNldHRlcnx8UXQscmU9ZnVuY3Rpb24odCl7aWYoIVp0KGVlLHQpfHwhSnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlZVt0XSl7dmFyIGU9XCJTeW1ib2wuXCIrdDtKdCYmWnQoaWUsdCk/ZWVbdF09aWVbdF06ZWVbdF09dGUmJm9lP29lKGUpOm5lKGUpfXJldHVybiBlZVt0XX0sc2U9eCxhZT1YLGhlPW10LGRlPUN0LGxlPWZ1bmN0aW9uKHQsZSl7dmFyIGksbztpZihcInN0cmluZ1wiPT09ZSYmVHQoaT10LnRvU3RyaW5nKSYmIU10KG89U3QoaSx0KSkpcmV0dXJuIG87aWYoVHQoaT10LnZhbHVlT2YpJiYhTXQobz1TdChpLHQpKSlyZXR1cm4gbztpZihcInN0cmluZ1wiIT09ZSYmVHQoaT10LnRvU3RyaW5nKSYmIU10KG89U3QoaSx0KSkpcmV0dXJuIG87dGhyb3cgUHQoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9LGNlPXJlLHVlPW4uVHlwZUVycm9yLGZlPWNlKFwidG9QcmltaXRpdmVcIikscGU9ZnVuY3Rpb24odCxlKXtpZighYWUodCl8fGhlKHQpKXJldHVybiB0O3ZhciBpLG89ZGUodCxmZSk7aWYobyl7aWYodm9pZCAwPT09ZSYmKGU9XCJkZWZhdWx0XCIpLGk9c2Uobyx0LGUpLCFhZShpKXx8aGUoaSkpcmV0dXJuIGk7dGhyb3cgdWUoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9cmV0dXJuIHZvaWQgMD09PWUmJihlPVwibnVtYmVyXCIpLGxlKHQsZSl9LHZlPW10LGdlPWZ1bmN0aW9uKHQpe3ZhciBlPXBlKHQsXCJzdHJpbmdcIik7cmV0dXJuIHZlKGUpP2U6ZStcIlwifSx5ZT1YLG1lPW4uZG9jdW1lbnQsYmU9eWUobWUpJiZ5ZShtZS5jcmVhdGVFbGVtZW50KSx3ZT1mdW5jdGlvbih0KXtyZXR1cm4gYmU/bWUuY3JlYXRlRWxlbWVudCh0KTp7fX0sa2U9d2UsX2U9IXcmJiFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoa2UoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSkseGU9dyxFZT14LE9lPUUsQ2U9UCxTZT1VLFRlPWdlLE1lPVZ0LFBlPV9lLERlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Yi5mPXhlP0RlOmZ1bmN0aW9uKHQsZSl7aWYodD1TZSh0KSxlPVRlKGUpLFBlKXRyeXtyZXR1cm4gRGUodCxlKX1jYXRjaCh0KXt9aWYoTWUodCxlKSlyZXR1cm4gQ2UoIUVlKE9lLmYsdCxlKSx0W2VdKX07dmFyIEJlPXIsSWU9bSx6ZT0vI3xcXC5wcm90b3R5cGVcXC4vLEZlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9QWVbTmUodCldO3JldHVybiBpPT1qZXx8aSE9UmUmJihJZShlKT9CZShlKTohIWUpfSxOZT1GZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKHplLFwiLlwiKS50b0xvd2VyQ2FzZSgpfSxBZT1GZS5kYXRhPXt9LFJlPUZlLk5BVElWRT1cIk5cIixqZT1GZS5QT0xZRklMTD1cIlBcIixMZT1GZSxIZT1FdCxXZT1zLFZlPXkoeS5iaW5kKSxxZT1mdW5jdGlvbih0LGUpe3JldHVybiBIZSh0KSx2b2lkIDA9PT1lP3Q6V2U/VmUodCxlKTpmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LFVlPXt9LFllPXcmJnIoKGZ1bmN0aW9uKCl7cmV0dXJuIDQyIT1PYmplY3QuZGVmaW5lUHJvcGVydHkoKGZ1bmN0aW9uKCl7fSksXCJwcm90b3R5cGVcIix7dmFsdWU6NDIsd3JpdGFibGU6ITF9KS5wcm90b3R5cGV9KSksWGU9bixHZT1YLEtlPVhlLlN0cmluZywkZT1YZS5UeXBlRXJyb3IsWmU9ZnVuY3Rpb24odCl7aWYoR2UodCkpcmV0dXJuIHQ7dGhyb3cgJGUoS2UodCkrXCIgaXMgbm90IGFuIG9iamVjdFwiKX0sUWU9dyxKZT1fZSx0aT1ZZSxlaT1aZSxpaT1nZSxvaT1uLlR5cGVFcnJvcixuaT1PYmplY3QuZGVmaW5lUHJvcGVydHkscmk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzaT1cImVudW1lcmFibGVcIixhaT1cImNvbmZpZ3VyYWJsZVwiLGhpPVwid3JpdGFibGVcIjtVZS5mPVFlP3RpP2Z1bmN0aW9uKHQsZSxpKXtpZihlaSh0KSxlPWlpKGUpLGVpKGkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJlwicHJvdG90eXBlXCI9PT1lJiZcInZhbHVlXCJpbiBpJiZoaSBpbiBpJiYhaS53cml0YWJsZSl7dmFyIG89cmkodCxlKTtvJiZvLndyaXRhYmxlJiYodFtlXT1pLnZhbHVlLGk9e2NvbmZpZ3VyYWJsZTphaSBpbiBpP2kuY29uZmlndXJhYmxlOm8uY29uZmlndXJhYmxlLGVudW1lcmFibGU6c2kgaW4gaT9pLmVudW1lcmFibGU6by5lbnVtZXJhYmxlLHdyaXRhYmxlOiExfSl9cmV0dXJuIG5pKHQsZSxpKX06bmk6ZnVuY3Rpb24odCxlLGkpe2lmKGVpKHQpLGU9aWkoZSksZWkoaSksSmUpdHJ5e3JldHVybiBuaSh0LGUsaSl9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBpfHxcInNldFwiaW4gaSl0aHJvdyBvaShcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkXCIpO3JldHVyblwidmFsdWVcImluIGkmJih0W2VdPWkudmFsdWUpLHR9O3ZhciBkaT1VZSxsaT1QLGNpPXc/ZnVuY3Rpb24odCxlLGkpe3JldHVybiBkaS5mKHQsZSxsaSgxLGkpKX06ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0W2VdPWksdH0sdWk9bixmaT1jLHBpPXksdmk9bSxnaT1iLmYseWk9TGUsbWk9RyxiaT1xZSx3aT1jaSxraT1WdCxfaT1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihpLG8sbil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoaSk7Y2FzZSAyOnJldHVybiBuZXcgdChpLG8pfXJldHVybiBuZXcgdChpLG8sbil9cmV0dXJuIGZpKHQsdGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZS5wcm90b3R5cGU9dC5wcm90b3R5cGUsZX0seGk9ZnVuY3Rpb24odCxlKXt2YXIgaSxvLG4scixzLGEsaCxkLGw9dC50YXJnZXQsYz10Lmdsb2JhbCx1PXQuc3RhdCxmPXQucHJvdG8scD1jP3VpOnU/dWlbbF06KHVpW2xdfHx7fSkucHJvdG90eXBlLHY9Yz9taTptaVtsXXx8d2kobWksbCx7fSlbbF0sZz12LnByb3RvdHlwZTtmb3IobiBpbiBlKWk9IXlpKGM/bjpsKyh1P1wiLlwiOlwiI1wiKStuLHQuZm9yY2VkKSYmcCYma2kocCxuKSxzPXZbbl0saSYmKGE9dC5ub1RhcmdldEdldD8oZD1naShwLG4pKSYmZC52YWx1ZTpwW25dKSxyPWkmJmE/YTplW25dLGkmJnR5cGVvZiBzPT10eXBlb2Ygcnx8KGg9dC5iaW5kJiZpP2JpKHIsdWkpOnQud3JhcCYmaT9faShyKTpmJiZ2aShyKT9waShyKTpyLCh0LnNoYW18fHImJnIuc2hhbXx8cyYmcy5zaGFtKSYmd2koaCxcInNoYW1cIiwhMCksd2kodixuLGgpLGYmJihraShtaSxvPWwrXCJQcm90b3R5cGVcIil8fHdpKG1pLG8se30pLHdpKG1pW29dLG4sciksdC5yZWFsJiZnJiYhZ1tuXSYmd2koZyxuLHIpKSl9LEVpPU1hdGguY2VpbCxPaT1NYXRoLmZsb29yLENpPWZ1bmN0aW9uKHQpe3ZhciBlPSt0O3JldHVybiBlIT1lfHwwPT09ZT8wOihlPjA/T2k6RWkpKGUpfSxTaT1DaSxUaT1NYXRoLm1heCxNaT1NYXRoLm1pbixQaT1mdW5jdGlvbih0LGUpe3ZhciBpPVNpKHQpO3JldHVybiBpPDA/VGkoaStlLDApOk1pKGksZSl9LERpPUNpLEJpPU1hdGgubWluLElpPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/QmkoRGkodCksOTAwNzE5OTI1NDc0MDk5MSk6MH0semk9ZnVuY3Rpb24odCl7cmV0dXJuIElpKHQubGVuZ3RoKX0sRmk9VSxOaT1QaSxBaT16aSxSaT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3ZhciBuLHI9RmkoZSkscz1BaShyKSxhPU5pKG8scyk7aWYodCYmaSE9aSl7Zm9yKDtzPmE7KWlmKChuPXJbYSsrXSkhPW4pcmV0dXJuITB9ZWxzZSBmb3IoO3M+YTthKyspaWYoKHR8fGEgaW4gcikmJnJbYV09PT1pKXJldHVybiB0fHxhfHwwO3JldHVybiF0JiYtMX19LGppPXtpbmNsdWRlczpSaSghMCksaW5kZXhPZjpSaSghMSl9LExpPXt9LEhpPVZ0LFdpPVUsVmk9amkuaW5kZXhPZixxaT1MaSxVaT15KFtdLnB1c2gpLFlpPWZ1bmN0aW9uKHQsZSl7dmFyIGksbz1XaSh0KSxuPTAscj1bXTtmb3IoaSBpbiBvKSFIaShxaSxpKSYmSGkobyxpKSYmVWkocixpKTtmb3IoO2UubGVuZ3RoPm47KUhpKG8saT1lW24rK10pJiYoflZpKHIsaSl8fFVpKHIsaSkpO3JldHVybiByfSxYaT1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl0sR2k9WWksS2k9WGksJGk9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiBHaSh0LEtpKX0sWmk9e307WmkuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3ZhciBRaT13LEppPXksdG89eCxlbz1yLGlvPSRpLG9vPVppLG5vPUUscm89THQsc289TCxhbz1PYmplY3QuYXNzaWduLGhvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxsbz1KaShbXS5jb25jYXQpLGNvPSFhb3x8ZW8oKGZ1bmN0aW9uKCl7aWYoUWkmJjEhPT1hbyh7YjoxfSxhbyhobyh7fSxcImFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtobyh0aGlzLFwiYlwiLHt2YWx1ZTozLGVudW1lcmFibGU6ITF9KX19KSx7YjoyfSkpLmIpcmV0dXJuITA7dmFyIHQ9e30sZT17fSxpPVN5bWJvbCgpLG89XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiB0W2ldPTcsby5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3RdPXR9KSksNyE9YW8oe30sdClbaV18fGlvKGFvKHt9LGUpKS5qb2luKFwiXCIpIT1vfSkpP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXJvKHQpLG89YXJndW1lbnRzLmxlbmd0aCxuPTEscj1vby5mLHM9bm8uZjtvPm47KWZvcih2YXIgYSxoPXNvKGFyZ3VtZW50c1tuKytdKSxkPXI/bG8oaW8oaCkscihoKSk6aW8oaCksbD1kLmxlbmd0aCxjPTA7bD5jOylhPWRbYysrXSxRaSYmIXRvKHMsaCxhKXx8KGlbYV09aFthXSk7cmV0dXJuIGl9OmFvLHVvPWNvO3hpKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpPYmplY3QuYXNzaWduIT09dW99LHthc3NpZ246dW99KTt2YXIgZm89Ry5PYmplY3QuYXNzaWduLHBvPXkoW10uc2xpY2UpLHZvPXksZ289RXQseW89WCxtbz1WdCxibz1wbyx3bz1zLGtvPW4uRnVuY3Rpb24sX289dm8oW10uY29uY2F0KSx4bz12byhbXS5qb2luKSxFbz17fSxPbz1mdW5jdGlvbih0LGUsaSl7aWYoIW1vKEVvLGUpKXtmb3IodmFyIG89W10sbj0wO248ZTtuKyspb1tuXT1cImFbXCIrbitcIl1cIjtFb1tlXT1rbyhcIkMsYVwiLFwicmV0dXJuIG5ldyBDKFwiK3hvKG8sXCIsXCIpK1wiKVwiKX1yZXR1cm4gRW9bZV0odCxpKX0sQ289d28/a28uYmluZDpmdW5jdGlvbih0KXt2YXIgZT1nbyh0aGlzKSxpPWUucHJvdG90eXBlLG89Ym8oYXJndW1lbnRzLDEpLG49ZnVuY3Rpb24oKXt2YXIgaT1fbyhvLGJvKGFyZ3VtZW50cykpO3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbj9PbyhlLGkubGVuZ3RoLGkpOmUuYXBwbHkodCxpKX07cmV0dXJuIHlvKGkpJiYobi5wcm90b3R5cGU9aSksbn0sU289Q287eGkoe3RhcmdldDpcIkZ1bmN0aW9uXCIscHJvdG86ITAsZm9yY2VkOkZ1bmN0aW9uLmJpbmQhPT1Tb30se2JpbmQ6U299KTt2YXIgVG89RyxNbz1mdW5jdGlvbih0KXtyZXR1cm4gVG9bdCtcIlByb3RvdHlwZVwiXX0sUG89TW8oXCJGdW5jdGlvblwiKS5iaW5kLERvPXR0LEJvPVBvLElvPUZ1bmN0aW9uLnByb3RvdHlwZSx6bz1mdW5jdGlvbih0KXt2YXIgZT10LmJpbmQ7cmV0dXJuIHQ9PT1Jb3x8RG8oSW8sdCkmJmU9PT1Jby5iaW5kP0JvOmV9LEZvPXpvO2Z1bmN0aW9uIE5vKHQsZSxpLG8pe3QuYmVnaW5QYXRoKCksdC5hcmMoZSxpLG8sMCwyKk1hdGguUEksITEpLHQuY2xvc2VQYXRoKCl9ZnVuY3Rpb24gQW8odCxlLGksbyxuLHIpe3ZhciBzPU1hdGguUEkvMTgwO28tMipyPDAmJihyPW8vMiksbi0yKnI8MCYmKHI9bi8yKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGUrcixpKSx0LmxpbmVUbyhlK28tcixpKSx0LmFyYyhlK28tcixpK3IsciwyNzAqcywzNjAqcywhMSksdC5saW5lVG8oZStvLGkrbi1yKSx0LmFyYyhlK28tcixpK24tcixyLDAsOTAqcywhMSksdC5saW5lVG8oZStyLGkrbiksdC5hcmMoZStyLGkrbi1yLHIsOTAqcywxODAqcywhMSksdC5saW5lVG8oZSxpK3IpLHQuYXJjKGUrcixpK3IsciwxODAqcywyNzAqcywhMSksdC5jbG9zZVBhdGgoKX1mdW5jdGlvbiBSbyh0LGUsaSxvLG4pe3ZhciByPS41NTIyODQ4LHM9by8yKnIsYT1uLzIqcixoPWUrbyxkPWkrbixsPWUrby8yLGM9aStuLzI7dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhlLGMpLHQuYmV6aWVyQ3VydmVUbyhlLGMtYSxsLXMsaSxsLGkpLHQuYmV6aWVyQ3VydmVUbyhsK3MsaSxoLGMtYSxoLGMpLHQuYmV6aWVyQ3VydmVUbyhoLGMrYSxsK3MsZCxsLGQpLHQuYmV6aWVyQ3VydmVUbyhsLXMsZCxlLGMrYSxlLGMpLHQuY2xvc2VQYXRoKCl9ZnVuY3Rpb24gam8odCxlLGksbyxuKXt2YXIgcj1uKigxLzMpLHM9LjU1MjI4NDgsYT1vLzIqcyxoPXIvMipzLGQ9ZStvLGw9aStyLGM9ZStvLzIsdT1pK3IvMixmPWkrKG4tci8yKSxwPWkrbjt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGQsdSksdC5iZXppZXJDdXJ2ZVRvKGQsdStoLGMrYSxsLGMsbCksdC5iZXppZXJDdXJ2ZVRvKGMtYSxsLGUsdStoLGUsdSksdC5iZXppZXJDdXJ2ZVRvKGUsdS1oLGMtYSxpLGMsaSksdC5iZXppZXJDdXJ2ZVRvKGMrYSxpLGQsdS1oLGQsdSksdC5saW5lVG8oZCxmKSx0LmJlemllckN1cnZlVG8oZCxmK2gsYythLHAsYyxwKSx0LmJlemllckN1cnZlVG8oYy1hLHAsZSxmK2gsZSxmKSx0LmxpbmVUbyhlLHUpfWZ1bmN0aW9uIExvKHQsZSxpLG8sbixyKXt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGUsaSk7Zm9yKHZhciBzPXIubGVuZ3RoLGE9by1lLGg9bi1pLGQ9aC9hLGw9TWF0aC5zcXJ0KGEqYStoKmgpLGM9MCx1PSEwLGY9MCxwPStyWzBdO2w+PS4xOykocD0rcltjKyslc10pPmwmJihwPWwpLGY9TWF0aC5zcXJ0KHAqcC8oMStkKmQpKSxlKz1mPWE8MD8tZjpmLGkrPWQqZiwhMD09PXU/dC5saW5lVG8oZSxpKTp0Lm1vdmVUbyhlLGkpLGwtPXAsdT0hdX12YXIgSG89e2NpcmNsZTpObyxkYXNoZWRMaW5lOkxvLGRhdGFiYXNlOmpvLGRpYW1vbmQ6ZnVuY3Rpb24odCxlLGksbyl7dC5iZWdpblBhdGgoKSx0LmxpbmVUbyhlLGkrbyksdC5saW5lVG8oZStvLGkpLHQubGluZVRvKGUsaS1vKSx0LmxpbmVUbyhlLW8saSksdC5jbG9zZVBhdGgoKX0sZWxsaXBzZTpSbyxlbGxpcHNlX3ZpczpSbyxoZXhhZ29uOmZ1bmN0aW9uKHQsZSxpLG8pe3QuYmVnaW5QYXRoKCk7dmFyIG49MipNYXRoLlBJLzY7dC5tb3ZlVG8oZStvLGkpO2Zvcih2YXIgcj0xO3I8NjtyKyspdC5saW5lVG8oZStvKk1hdGguY29zKG4qciksaStvKk1hdGguc2luKG4qcikpO3QuY2xvc2VQYXRoKCl9LHJvdW5kUmVjdDpBbyxzcXVhcmU6ZnVuY3Rpb24odCxlLGksbyl7dC5iZWdpblBhdGgoKSx0LnJlY3QoZS1vLGktbywyKm8sMipvKSx0LmNsb3NlUGF0aCgpfSxzdGFyOmZ1bmN0aW9uKHQsZSxpLG8pe3QuYmVnaW5QYXRoKCksaSs9LjEqKG8qPS44Mik7Zm9yKHZhciBuPTA7bjwxMDtuKyspe3ZhciByPW4lMj09MD8xLjMqbzouNSpvO3QubGluZVRvKGUrcipNYXRoLnNpbigyKm4qTWF0aC5QSS8xMCksaS1yKk1hdGguY29zKDIqbipNYXRoLlBJLzEwKSl9dC5jbG9zZVBhdGgoKX0sdHJpYW5nbGU6ZnVuY3Rpb24odCxlLGksbyl7dC5iZWdpblBhdGgoKSxpKz0uMjc1KihvKj0xLjE1KTt2YXIgbj0yKm8scj1uLzIscz1NYXRoLnNxcnQoMykvNipuLGE9TWF0aC5zcXJ0KG4qbi1yKnIpO3QubW92ZVRvKGUsaS0oYS1zKSksdC5saW5lVG8oZStyLGkrcyksdC5saW5lVG8oZS1yLGkrcyksdC5saW5lVG8oZSxpLShhLXMpKSx0LmNsb3NlUGF0aCgpfSx0cmlhbmdsZURvd246ZnVuY3Rpb24odCxlLGksbyl7dC5iZWdpblBhdGgoKSxpLT0uMjc1KihvKj0xLjE1KTt2YXIgbj0yKm8scj1uLzIscz1NYXRoLnNxcnQoMykvNipuLGE9TWF0aC5zcXJ0KG4qbi1yKnIpO3QubW92ZVRvKGUsaSsoYS1zKSksdC5saW5lVG8oZStyLGktcyksdC5saW5lVG8oZS1yLGktcyksdC5saW5lVG8oZSxpKyhhLXMpKSx0LmNsb3NlUGF0aCgpfX07dmFyIFdvPXtleHBvcnRzOnt9fTshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtpZih0KXJldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGkgaW4gZS5wcm90b3R5cGUpdFtpXT1lLnByb3RvdHlwZVtpXTtyZXR1cm4gdH0odCl9dC5leHBvcnRzPWUsZS5wcm90b3R5cGUub249ZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwodGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XXx8W10pLnB1c2goZSksdGhpc30sZS5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLm9mZih0LGkpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBpLmZuPWUsdGhpcy5vbih0LGkpLHRoaXN9LGUucHJvdG90eXBlLm9mZj1lLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1lLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX2NhbGxiYWNrcz17fSx0aGlzO3ZhciBpLG89dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdO2lmKCFvKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sdGhpcztmb3IodmFyIG49MDtuPG8ubGVuZ3RoO24rKylpZigoaT1vW25dKT09PWV8fGkuZm49PT1lKXtvLnNwbGljZShuLDEpO2JyZWFrfXJldHVybiAwPT09by5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sdGhpc30sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0KXt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fTtmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksaT10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sbz0xO288YXJndW1lbnRzLmxlbmd0aDtvKyspZVtvLTFdPWFyZ3VtZW50c1tvXTtpZihpKXtvPTA7Zm9yKHZhciBuPShpPWkuc2xpY2UoMCkpLmxlbmd0aDtvPG47KytvKWlbb10uYXBwbHkodGhpcyxlKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF18fFtdfSxlLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmxpc3RlbmVycyh0KS5sZW5ndGh9fShXbyk7dmFyIFZvPVdvLmV4cG9ydHMscW89e307cW9bcmUoXCJ0b1N0cmluZ1RhZ1wiKV09XCJ6XCI7dmFyIFVvPVwiW29iamVjdCB6XVwiPT09U3RyaW5nKHFvKSxZbz1uLFhvPVVvLEdvPW0sS289eiwkbz1yZShcInRvU3RyaW5nVGFnXCIpLFpvPVlvLk9iamVjdCxRbz1cIkFyZ3VtZW50c1wiPT1LbyhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLEpvPVhvP0tvOmZ1bmN0aW9uKHQpe3ZhciBlLGksbztyZXR1cm4gdm9pZCAwPT09dD9cIlVuZGVmaW5lZFwiOm51bGw9PT10P1wiTnVsbFwiOlwic3RyaW5nXCI9PXR5cGVvZihpPWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiB0W2VdfWNhdGNoKHQpe319KGU9Wm8odCksJG8pKT9pOlFvP0tvKGUpOlwiT2JqZWN0XCI9PShvPUtvKGUpKSYmR28oZS5jYWxsZWUpP1wiQXJndW1lbnRzXCI6b30sdG49Sm8sZW49bi5TdHJpbmcsb249ZnVuY3Rpb24odCl7aWYoXCJTeW1ib2xcIj09PXRuKHQpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nXCIpO3JldHVybiBlbih0KX0sbm49eSxybj1DaSxzbj1vbixhbj1XLGhuPW5uKFwiXCIuY2hhckF0KSxkbj1ubihcIlwiLmNoYXJDb2RlQXQpLGxuPW5uKFwiXCIuc2xpY2UpLGNuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGkpe3ZhciBvLG4scj1zbihhbihlKSkscz1ybihpKSxhPXIubGVuZ3RoO3JldHVybiBzPDB8fHM+PWE/dD9cIlwiOnZvaWQgMDoobz1kbihyLHMpKTw1NTI5Nnx8bz41NjMxOXx8cysxPT09YXx8KG49ZG4ocixzKzEpKTw1NjMyMHx8bj41NzM0Mz90P2huKHIscyk6bzp0P2xuKHIscyxzKzIpOm4tNTYzMjArKG8tNTUyOTY8PDEwKSs2NTUzNn19LHVuPXtjb2RlQXQ6Y24oITEpLGNoYXJBdDpjbighMCl9LGZuPW0scG49TnQsdm49eShGdW5jdGlvbi50b1N0cmluZyk7Zm4ocG4uaW5zcGVjdFNvdXJjZSl8fChwbi5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB2bih0KX0pO3ZhciBnbix5bixtbixibj1wbi5pbnNwZWN0U291cmNlLHduPW0sa249Ym4sX249bi5XZWFrTWFwLHhuPXduKF9uKSYmL25hdGl2ZSBjb2RlLy50ZXN0KGtuKF9uKSksRW49RHQuZXhwb3J0cyxPbj1HdCxDbj1FbihcImtleXNcIiksU249ZnVuY3Rpb24odCl7cmV0dXJuIENuW3RdfHwoQ25bdF09T24odCkpfSxUbj14bixNbj1uLFBuPXksRG49WCxCbj1jaSxJbj1WdCx6bj1OdCxGbj1TbixObj1MaSxBbj1cIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkXCIsUm49TW4uVHlwZUVycm9yLGpuPU1uLldlYWtNYXA7aWYoVG58fHpuLnN0YXRlKXt2YXIgTG49em4uc3RhdGV8fCh6bi5zdGF0ZT1uZXcgam4pLEhuPVBuKExuLmdldCksV249UG4oTG4uaGFzKSxWbj1QbihMbi5zZXQpO2duPWZ1bmN0aW9uKHQsZSl7aWYoV24oTG4sdCkpdGhyb3cgbmV3IFJuKEFuKTtyZXR1cm4gZS5mYWNhZGU9dCxWbihMbix0LGUpLGV9LHluPWZ1bmN0aW9uKHQpe3JldHVybiBIbihMbix0KXx8e319LG1uPWZ1bmN0aW9uKHQpe3JldHVybiBXbihMbix0KX19ZWxzZXt2YXIgcW49Rm4oXCJzdGF0ZVwiKTtObltxbl09ITAsZ249ZnVuY3Rpb24odCxlKXtpZihJbih0LHFuKSl0aHJvdyBuZXcgUm4oQW4pO3JldHVybiBlLmZhY2FkZT10LEJuKHQscW4sZSksZX0seW49ZnVuY3Rpb24odCl7cmV0dXJuIEluKHQscW4pP3RbcW5dOnt9fSxtbj1mdW5jdGlvbih0KXtyZXR1cm4gSW4odCxxbil9fXZhciBVbj17c2V0OmduLGdldDp5bixoYXM6bW4sZW5mb3JjZTpmdW5jdGlvbih0KXtyZXR1cm4gbW4odCk/eW4odCk6Z24odCx7fSl9LGdldHRlckZvcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGk7aWYoIURuKGUpfHwoaT15bihlKSkudHlwZSE9PXQpdGhyb3cgUm4oXCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsIFwiK3QrXCIgcmVxdWlyZWRcIik7cmV0dXJuIGl9fX0sWW49dyxYbj1WdCxHbj1GdW5jdGlvbi5wcm90b3R5cGUsS249WW4mJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsJG49WG4oR24sXCJuYW1lXCIpLFpuPXtFWElTVFM6JG4sUFJPUEVSOiRuJiZcInNvbWV0aGluZ1wiPT09ZnVuY3Rpb24oKXt9Lm5hbWUsQ09ORklHVVJBQkxFOiRuJiYoIVlufHxZbiYmS24oR24sXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LFFuPXt9LEpuPXcsdHI9WWUsZXI9VWUsaXI9WmUsb3I9VSxucj0kaTtRbi5mPUpuJiYhdHI/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtpcih0KTtmb3IodmFyIGksbz1vcihlKSxuPW5yKGUpLHI9bi5sZW5ndGgscz0wO3I+czspZXIuZih0LGk9bltzKytdLG9baV0pO3JldHVybiB0fTt2YXIgcnIsc3I9SihcImRvY3VtZW50XCIsXCJkb2N1bWVudEVsZW1lbnRcIiksYXI9WmUsaHI9UW4sZHI9WGksbHI9TGksY3I9c3IsdXI9d2UsZnI9U24oXCJJRV9QUk9UT1wiKSxwcj1mdW5jdGlvbigpe30sdnI9ZnVuY3Rpb24odCl7cmV0dXJuXCI8c2NyaXB0PlwiK3QrXCI8L1wiK1wic2NyaXB0PlwifSxncj1mdW5jdGlvbih0KXt0LndyaXRlKHZyKFwiXCIpKSx0LmNsb3NlKCk7dmFyIGU9dC5wYXJlbnRXaW5kb3cuT2JqZWN0O3JldHVybiB0PW51bGwsZX0seXI9ZnVuY3Rpb24oKXt0cnl7cnI9bmV3IEFjdGl2ZVhPYmplY3QoXCJodG1sZmlsZVwiKX1jYXRjaCh0KXt9dmFyIHQsZTt5cj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZycj9ncihycik6KChlPXVyKFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGNyLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUodnIoXCJkb2N1bWVudC5GPU9iamVjdFwiKSksdC5jbG9zZSgpLHQuRik6Z3IocnIpO2Zvcih2YXIgaT1kci5sZW5ndGg7aS0tOylkZWxldGUgeXIucHJvdG90eXBlW2RyW2ldXTtyZXR1cm4geXIoKX07bHJbZnJdPSEwO3ZhciBtcixicix3cixrcj1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBpO3JldHVybiBudWxsIT09dD8ocHIucHJvdG90eXBlPWFyKHQpLGk9bmV3IHByLHByLnByb3RvdHlwZT1udWxsLGlbZnJdPXQpOmk9eXIoKSx2b2lkIDA9PT1lP2k6aHIuZihpLGUpfSxfcj0hcigoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgdCkhPT10LnByb3RvdHlwZX0pKSx4cj1uLEVyPVZ0LE9yPW0sQ3I9THQsU3I9X3IsVHI9U24oXCJJRV9QUk9UT1wiKSxNcj14ci5PYmplY3QsUHI9TXIucHJvdG90eXBlLERyPVNyP01yLmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3ZhciBlPUNyKHQpO2lmKEVyKGUsVHIpKXJldHVybiBlW1RyXTt2YXIgaT1lLmNvbnN0cnVjdG9yO3JldHVybiBPcihpKSYmZSBpbnN0YW5jZW9mIGk/aS5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE1yP1ByOm51bGx9LEJyPWNpLElyPWZ1bmN0aW9uKHQsZSxpLG8pe28mJm8uZW51bWVyYWJsZT90W2VdPWk6QnIodCxlLGkpfSx6cj1yLEZyPW0sTnI9a3IsQXI9RHIsUnI9SXIsanI9cmUoXCJpdGVyYXRvclwiKSxMcj0hMTtbXS5rZXlzJiYoXCJuZXh0XCJpbih3cj1bXS5rZXlzKCkpPyhicj1BcihBcih3cikpKSE9PU9iamVjdC5wcm90b3R5cGUmJihtcj1icik6THI9ITApO3ZhciBIcj1udWxsPT1tcnx8enIoKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIG1yW2pyXS5jYWxsKHQpIT09dH0pKTtGcigobXI9SHI/e306TnIobXIpKVtqcl0pfHxScihtcixqciwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgV3I9e0l0ZXJhdG9yUHJvdG90eXBlOm1yLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6THJ9LFZyPUpvLHFyPVVvP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFwiK1ZyKHRoaXMpK1wiXVwifSxVcj1VbyxZcj1VZS5mLFhyPWNpLEdyPVZ0LEtyPXFyLCRyPXJlKFwidG9TdHJpbmdUYWdcIiksWnI9ZnVuY3Rpb24odCxlLGksbyl7aWYodCl7dmFyIG49aT90OnQucHJvdG90eXBlO0dyKG4sJHIpfHxZcihuLCRyLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pLG8mJiFVciYmWHIobixcInRvU3RyaW5nXCIsS3IpfX0sUXI9e30sSnI9V3IuSXRlcmF0b3JQcm90b3R5cGUsdHM9a3IsZXM9UCxpcz1acixvcz1Rcixucz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxycz1uLHNzPW0sYXM9cnMuU3RyaW5nLGhzPXJzLlR5cGVFcnJvcixkcz15LGxzPVplLGNzPWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0fHxzcyh0KSlyZXR1cm4gdDt0aHJvdyBocyhcIkNhbid0IHNldCBcIithcyh0KStcIiBhcyBhIHByb3RvdHlwZVwiKX0sdXM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoXCJfX3Byb3RvX19cImlue30/ZnVuY3Rpb24oKXt2YXIgdCxlPSExLGk9e307dHJ5eyh0PWRzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSxcIl9fcHJvdG9fX1wiKS5zZXQpKShpLFtdKSxlPWkgaW5zdGFuY2VvZiBBcnJheX1jYXRjaCh0KXt9cmV0dXJuIGZ1bmN0aW9uKGksbyl7cmV0dXJuIGxzKGkpLGNzKG8pLGU/dChpLG8pOmkuX19wcm90b19fPW8saX19KCk6dm9pZCAwKSxmcz14aSxwcz14LHZzPWZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBuPWUrXCIgSXRlcmF0b3JcIjtyZXR1cm4gdC5wcm90b3R5cGU9dHMoSnIse25leHQ6ZXMoKyFvLGkpfSksaXModCxuLCExLCEwKSxvc1tuXT1ucyx0fSxncz1Ecix5cz1acixtcz1Jcixicz1Rcix3cz1abi5QUk9QRVIsa3M9V3IuQlVHR1lfU0FGQVJJX0lURVJBVE9SUyxfcz1yZShcIml0ZXJhdG9yXCIpLHhzPVwia2V5c1wiLEVzPVwidmFsdWVzXCIsT3M9XCJlbnRyaWVzXCIsQ3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sU3M9ZnVuY3Rpb24odCxlLGksbyxuLHIscyl7dnMoaSxlLG8pO3ZhciBhLGgsZCxsPWZ1bmN0aW9uKHQpe2lmKHQ9PT1uJiZ2KXJldHVybiB2O2lmKCFrcyYmdCBpbiBmKXJldHVybiBmW3RdO3N3aXRjaCh0KXtjYXNlIHhzOmNhc2UgRXM6Y2FzZSBPczpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMpfX0sYz1lK1wiIEl0ZXJhdG9yXCIsdT0hMSxmPXQucHJvdG90eXBlLHA9Zltfc118fGZbXCJAQGl0ZXJhdG9yXCJdfHxuJiZmW25dLHY9IWtzJiZwfHxsKG4pLGc9XCJBcnJheVwiPT1lJiZmLmVudHJpZXN8fHA7aWYoZyYmKGE9Z3MoZy5jYWxsKG5ldyB0KSkpIT09T2JqZWN0LnByb3RvdHlwZSYmYS5uZXh0JiYoeXMoYSxjLCEwLCEwKSxic1tjXT1Dcyksd3MmJm49PUVzJiZwJiZwLm5hbWUhPT1FcyYmKHU9ITAsdj1mdW5jdGlvbigpe3JldHVybiBwcyhwLHRoaXMpfSksbilpZihoPXt2YWx1ZXM6bChFcyksa2V5czpyP3Y6bCh4cyksZW50cmllczpsKE9zKX0scylmb3IoZCBpbiBoKShrc3x8dXx8IShkIGluIGYpKSYmbXMoZixkLGhbZF0pO2Vsc2UgZnMoe3RhcmdldDplLHByb3RvOiEwLGZvcmNlZDprc3x8dX0saCk7cmV0dXJuIHMmJmZbX3NdIT09diYmbXMoZixfcyx2LHtuYW1lOm59KSxic1tlXT12LGh9LFRzPXVuLmNoYXJBdCxNcz1vbixQcz1VbixEcz1TcyxCcz1cIlN0cmluZyBJdGVyYXRvclwiLElzPVBzLnNldCx6cz1Qcy5nZXR0ZXJGb3IoQnMpO0RzKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbih0KXtJcyh0aGlzLHt0eXBlOkJzLHN0cmluZzpNcyh0KSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgdCxlPXpzKHRoaXMpLGk9ZS5zdHJpbmcsbz1lLmluZGV4O3JldHVybiBvPj1pLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9Oih0PVRzKGksbyksZS5pbmRleCs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSkpO3ZhciBGcz14LE5zPVplLEFzPUN0LFJzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxuO05zKHQpO3RyeXtpZighKG89QXModCxcInJldHVyblwiKSkpe2lmKFwidGhyb3dcIj09PWUpdGhyb3cgaTtyZXR1cm4gaX1vPUZzKG8sdCl9Y2F0Y2godCl7bj0hMCxvPXR9aWYoXCJ0aHJvd1wiPT09ZSl0aHJvdyBpO2lmKG4pdGhyb3cgbztyZXR1cm4gTnMobyksaX0sanM9WmUsTHM9UnMsSHM9UXIsV3M9cmUoXCJpdGVyYXRvclwiKSxWcz1BcnJheS5wcm90b3R5cGUscXM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihIcy5BcnJheT09PXR8fFZzW1dzXT09PXQpfSxVcz15LFlzPXIsWHM9bSxHcz1KbyxLcz1ibiwkcz1mdW5jdGlvbigpe30sWnM9W10sUXM9SihcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxKcz0vXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvLHRhPVVzKEpzLmV4ZWMpLGVhPSFKcy5leGVjKCRzKSxpYT1mdW5jdGlvbih0KXtpZighWHModCkpcmV0dXJuITE7dHJ5e3JldHVybiBRcygkcyxacyx0KSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19LG9hPWZ1bmN0aW9uKHQpe2lmKCFYcyh0KSlyZXR1cm4hMTtzd2l0Y2goR3ModCkpe2Nhc2VcIkFzeW5jRnVuY3Rpb25cIjpjYXNlXCJHZW5lcmF0b3JGdW5jdGlvblwiOmNhc2VcIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb25cIjpyZXR1cm4hMX10cnl7cmV0dXJuIGVhfHwhIXRhKEpzLEtzKHQpKX1jYXRjaCh0KXtyZXR1cm4hMH19O29hLnNoYW09ITA7dmFyIG5hPSFRc3x8WXMoKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGlhKGlhLmNhbGwpfHwhaWEoT2JqZWN0KXx8IWlhKChmdW5jdGlvbigpe3Q9ITB9KSl8fHR9KSk/b2E6aWEscmE9Z2Usc2E9VWUsYWE9UCxoYT1mdW5jdGlvbih0LGUsaSl7dmFyIG89cmEoZSk7byBpbiB0P3NhLmYodCxvLGFhKDAsaSkpOnRbb109aX0sZGE9Sm8sbGE9Q3QsY2E9UXIsdWE9cmUoXCJpdGVyYXRvclwiKSxmYT1mdW5jdGlvbih0KXtpZihudWxsIT10KXJldHVybiBsYSh0LHVhKXx8bGEodCxcIkBAaXRlcmF0b3JcIil8fGNhW2RhKHQpXX0scGE9eCx2YT1FdCxnYT1aZSx5YT13dCxtYT1mYSxiYT1uLlR5cGVFcnJvcix3YT1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg8Mj9tYSh0KTplO2lmKHZhKGkpKXJldHVybiBnYShwYShpLHQpKTt0aHJvdyBiYSh5YSh0KStcIiBpcyBub3QgaXRlcmFibGVcIil9LGthPXFlLF9hPXgseGE9THQsRWE9ZnVuY3Rpb24odCxlLGksbyl7dHJ5e3JldHVybiBvP2UoanMoaSlbMF0saVsxXSk6ZShpKX1jYXRjaChlKXtMcyh0LFwidGhyb3dcIixlKX19LE9hPXFzLENhPW5hLFNhPXppLFRhPWhhLE1hPXdhLFBhPWZhLERhPW4uQXJyYXksQmE9cmUoXCJpdGVyYXRvclwiKSxJYT0hMTt0cnl7dmFyIHphPTAsRmE9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIXphKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtJYT0hMH19O0ZhW0JhXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKEZhLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2godCl7fXZhciBOYT1mdW5jdGlvbih0KXt2YXIgZT14YSh0KSxpPUNhKHRoaXMpLG89YXJndW1lbnRzLmxlbmd0aCxuPW8+MT9hcmd1bWVudHNbMV06dm9pZCAwLHI9dm9pZCAwIT09bjtyJiYobj1rYShuLG8+Mj9hcmd1bWVudHNbMl06dm9pZCAwKSk7dmFyIHMsYSxoLGQsbCxjLHU9UGEoZSksZj0wO2lmKCF1fHx0aGlzPT1EYSYmT2EodSkpZm9yKHM9U2EoZSksYT1pP25ldyB0aGlzKHMpOkRhKHMpO3M+ZjtmKyspYz1yP24oZVtmXSxmKTplW2ZdLFRhKGEsZixjKTtlbHNlIGZvcihsPShkPU1hKGUsdSkpLm5leHQsYT1pP25ldyB0aGlzOltdOyEoaD1fYShsLGQpKS5kb25lO2YrKyljPXI/RWEoZCxuLFtoLnZhbHVlLGZdLCEwKTpoLnZhbHVlLFRhKGEsZixjKTtyZXR1cm4gYS5sZW5ndGg9ZixhfSxBYT1mdW5jdGlvbih0LGUpe2lmKCFlJiYhSWEpcmV0dXJuITE7dmFyIGk9ITE7dHJ5e3ZhciBvPXt9O29bQmFdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTppPSEwfX19fSx0KG8pfWNhdGNoKHQpe31yZXR1cm4gaX07eGkoe3RhcmdldDpcIkFycmF5XCIsc3RhdDohMCxmb3JjZWQ6IUFhKChmdW5jdGlvbih0KXtBcnJheS5mcm9tKHQpfSkpfSx7ZnJvbTpOYX0pO3ZhciBSYT1HLkFycmF5LmZyb20samE9UmEsTGE9VSxIYT1RcixXYT1VbjtVZS5mO3ZhciBWYT1TcyxxYT1cIkFycmF5IEl0ZXJhdG9yXCIsVWE9V2Euc2V0LFlhPVdhLmdldHRlckZvcihxYSk7VmEoQXJyYXksXCJBcnJheVwiLChmdW5jdGlvbih0LGUpe1VhKHRoaXMse3R5cGU6cWEsdGFyZ2V0OkxhKHQpLGluZGV4OjAsa2luZDplfSl9KSwoZnVuY3Rpb24oKXt2YXIgdD1ZYSh0aGlzKSxlPXQudGFyZ2V0LGk9dC5raW5kLG89dC5pbmRleCsrO3JldHVybiFlfHxvPj1lLmxlbmd0aD8odC50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOlwia2V5c1wiPT1pP3t2YWx1ZTpvLGRvbmU6ITF9OlwidmFsdWVzXCI9PWk/e3ZhbHVlOmVbb10sZG9uZTohMX06e3ZhbHVlOltvLGVbb11dLGRvbmU6ITF9fSksXCJ2YWx1ZXNcIiksSGEuQXJndW1lbnRzPUhhLkFycmF5O3ZhciBYYT1mYSxHYT17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0sS2E9biwkYT1KbyxaYT1jaSxRYT1RcixKYT1yZShcInRvU3RyaW5nVGFnXCIpO2Zvcih2YXIgdGggaW4gR2Epe3ZhciBlaD1LYVt0aF0saWg9ZWgmJmVoLnByb3RvdHlwZTtpaCYmJGEoaWgpIT09SmEmJlphKGloLEphLHRoKSxRYVt0aF09UWEuQXJyYXl9dmFyIG9oPVhhLG5oPXoscmg9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJBcnJheVwiPT1uaCh0KX0sc2g9e30sYWg9WWksaGg9WGkuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7c2guZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24odCl7cmV0dXJuIGFoKHQsaGgpfTt2YXIgZGg9e30sbGg9UGksY2g9emksdWg9aGEsZmg9bi5BcnJheSxwaD1NYXRoLm1heCx2aD1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPWNoKHQpLG49bGgoZSxvKSxyPWxoKHZvaWQgMD09PWk/bzppLG8pLHM9ZmgocGgoci1uLDApKSxhPTA7bjxyO24rKyxhKyspdWgocyxhLHRbbl0pO3JldHVybiBzLmxlbmd0aD1hLHN9LGdoPXoseWg9VSxtaD1zaC5mLGJoPXZoLHdoPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTtkaC5mPWZ1bmN0aW9uKHQpe3JldHVybiB3aCYmXCJXaW5kb3dcIj09Z2godCk/ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBtaCh0KX1jYXRjaCh0KXtyZXR1cm4gYmgod2gpfX0odCk6bWgoeWgodCkpfTt2YXIga2g9e30sX2g9cmU7a2guZj1faDt2YXIgeGg9RyxFaD1WdCxPaD1raCxDaD1VZS5mLFNoPWZ1bmN0aW9uKHQpe3ZhciBlPXhoLlN5bWJvbHx8KHhoLlN5bWJvbD17fSk7RWgoZSx0KXx8Q2goZSx0LHt2YWx1ZTpPaC5mKHQpfSl9LFRoPW4sTWg9cmgsUGg9bmEsRGg9WCxCaD1yZShcInNwZWNpZXNcIiksSWg9VGguQXJyYXksemg9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIE1oKHQpJiYoZT10LmNvbnN0cnVjdG9yLChQaChlKSYmKGU9PT1JaHx8TWgoZS5wcm90b3R5cGUpKXx8RGgoZSkmJm51bGw9PT0oZT1lW0JoXSkpJiYoZT12b2lkIDApKSx2b2lkIDA9PT1lP0loOmV9LEZoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyh6aCh0KSkoMD09PWU/MDplKX0sTmg9cWUsQWg9TCxSaD1MdCxqaD16aSxMaD1GaCxIaD15KFtdLnB1c2gpLFdoPWZ1bmN0aW9uKHQpe3ZhciBlPTE9PXQsaT0yPT10LG89Mz09dCxuPTQ9PXQscj02PT10LHM9Nz09dCxhPTU9PXR8fHI7cmV0dXJuIGZ1bmN0aW9uKGgsZCxsLGMpe2Zvcih2YXIgdSxmLHA9UmgoaCksdj1BaChwKSxnPU5oKGQsbCkseT1qaCh2KSxtPTAsYj1jfHxMaCx3PWU/YihoLHkpOml8fHM/YihoLDApOnZvaWQgMDt5Pm07bSsrKWlmKChhfHxtIGluIHYpJiYoZj1nKHU9dlttXSxtLHApLHQpKWlmKGUpd1ttXT1mO2Vsc2UgaWYoZilzd2l0Y2godCl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gdTtjYXNlIDY6cmV0dXJuIG07Y2FzZSAyOkhoKHcsdSl9ZWxzZSBzd2l0Y2godCl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzpIaCh3LHUpfXJldHVybiByPy0xOm98fG4/bjp3fX0sVmg9e2ZvckVhY2g6V2goMCksbWFwOldoKDEpLGZpbHRlcjpXaCgyKSxzb21lOldoKDMpLGV2ZXJ5OldoKDQpLGZpbmQ6V2goNSksZmluZEluZGV4OldoKDYpLGZpbHRlclJlamVjdDpXaCg3KX0scWg9eGksVWg9bixZaD1KLFhoPWMsR2g9eCxLaD15LCRoPXcsWmg9Y3QsUWg9cixKaD1WdCx0ZD1yaCxlZD1tLGlkPVgsb2Q9dHQsbmQ9bXQscmQ9WmUsc2Q9THQsYWQ9VSxoZD1nZSxkZD1vbixsZD1QLGNkPWtyLHVkPSRpLGZkPXNoLHBkPWRoLHZkPVppLGdkPWIseWQ9VWUsbWQ9UW4sYmQ9RSx3ZD1wbyxrZD1JcixfZD1EdC5leHBvcnRzLHhkPUxpLEVkPUd0LE9kPXJlLENkPWtoLFNkPVNoLFRkPVpyLE1kPVVuLFBkPVZoLmZvckVhY2gsRGQ9U24oXCJoaWRkZW5cIiksQmQ9XCJTeW1ib2xcIixJZD1PZChcInRvUHJpbWl0aXZlXCIpLHpkPU1kLnNldCxGZD1NZC5nZXR0ZXJGb3IoQmQpLE5kPU9iamVjdC5wcm90b3R5cGUsQWQ9VWguU3ltYm9sLFJkPUFkJiZBZC5wcm90b3R5cGUsamQ9VWguVHlwZUVycm9yLExkPVVoLlFPYmplY3QsSGQ9WWgoXCJKU09OXCIsXCJzdHJpbmdpZnlcIiksV2Q9Z2QuZixWZD15ZC5mLHFkPXBkLmYsVWQ9YmQuZixZZD1LaChbXS5wdXNoKSxYZD1fZChcInN5bWJvbHNcIiksR2Q9X2QoXCJvcC1zeW1ib2xzXCIpLEtkPV9kKFwic3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeVwiKSwkZD1fZChcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIiksWmQ9X2QoXCJ3a3NcIiksUWQ9IUxkfHwhTGQucHJvdG90eXBlfHwhTGQucHJvdG90eXBlLmZpbmRDaGlsZCxKZD0kaCYmUWgoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPWNkKFZkKHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVmQodGhpcyxcImFcIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/ZnVuY3Rpb24odCxlLGkpe3ZhciBvPVdkKE5kLGUpO28mJmRlbGV0ZSBOZFtlXSxWZCh0LGUsaSksbyYmdCE9PU5kJiZWZChOZCxlLG8pfTpWZCx0bD1mdW5jdGlvbih0LGUpe3ZhciBpPVhkW3RdPWNkKFJkKTtyZXR1cm4gemQoaSx7dHlwZTpCZCx0YWc6dCxkZXNjcmlwdGlvbjplfSksJGh8fChpLmRlc2NyaXB0aW9uPWUpLGl9LGVsPWZ1bmN0aW9uKHQsZSxpKXt0PT09TmQmJmVsKEdkLGUsaSkscmQodCk7dmFyIG89aGQoZSk7cmV0dXJuIHJkKGkpLEpoKFhkLG8pPyhpLmVudW1lcmFibGU/KEpoKHQsRGQpJiZ0W0RkXVtvXSYmKHRbRGRdW29dPSExKSxpPWNkKGkse2VudW1lcmFibGU6bGQoMCwhMSl9KSk6KEpoKHQsRGQpfHxWZCh0LERkLGxkKDEse30pKSx0W0RkXVtvXT0hMCksSmQodCxvLGkpKTpWZCh0LG8saSl9LGlsPWZ1bmN0aW9uKHQsZSl7cmQodCk7dmFyIGk9YWQoZSksbz11ZChpKS5jb25jYXQoc2woaSkpO3JldHVybiBQZChvLChmdW5jdGlvbihlKXskaCYmIUdoKG9sLGksZSl8fGVsKHQsZSxpW2VdKX0pKSx0fSxvbD1mdW5jdGlvbih0KXt2YXIgZT1oZCh0KSxpPUdoKFVkLHRoaXMsZSk7cmV0dXJuISh0aGlzPT09TmQmJkpoKFhkLGUpJiYhSmgoR2QsZSkpJiYoIShpfHwhSmgodGhpcyxlKXx8IUpoKFhkLGUpfHxKaCh0aGlzLERkKSYmdGhpc1tEZF1bZV0pfHxpKX0sbmw9ZnVuY3Rpb24odCxlKXt2YXIgaT1hZCh0KSxvPWhkKGUpO2lmKGkhPT1OZHx8IUpoKFhkLG8pfHxKaChHZCxvKSl7dmFyIG49V2QoaSxvKTtyZXR1cm4hbnx8IUpoKFhkLG8pfHxKaChpLERkKSYmaVtEZF1bb118fChuLmVudW1lcmFibGU9ITApLG59fSxybD1mdW5jdGlvbih0KXt2YXIgZT1xZChhZCh0KSksaT1bXTtyZXR1cm4gUGQoZSwoZnVuY3Rpb24odCl7SmgoWGQsdCl8fEpoKHhkLHQpfHxZZChpLHQpfSkpLGl9LHNsPWZ1bmN0aW9uKHQpe3ZhciBlPXQ9PT1OZCxpPXFkKGU/R2Q6YWQodCkpLG89W107cmV0dXJuIFBkKGksKGZ1bmN0aW9uKHQpeyFKaChYZCx0KXx8ZSYmIUpoKE5kLHQpfHxZZChvLFhkW3RdKX0pKSxvfTtpZihaaHx8KEFkPWZ1bmN0aW9uKCl7aWYob2QoUmQsdGhpcykpdGhyb3cgamQoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2RkKGFyZ3VtZW50c1swXSk6dm9pZCAwLGU9RWQodCksaT1mdW5jdGlvbih0KXt0aGlzPT09TmQmJkdoKGksR2QsdCksSmgodGhpcyxEZCkmJkpoKHRoaXNbRGRdLGUpJiYodGhpc1tEZF1bZV09ITEpLEpkKHRoaXMsZSxsZCgxLHQpKX07cmV0dXJuICRoJiZRZCYmSmQoTmQsZSx7Y29uZmlndXJhYmxlOiEwLHNldDppfSksdGwoZSx0KX0sa2QoUmQ9QWQucHJvdG90eXBlLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRmQodGhpcykudGFnfSkpLGtkKEFkLFwid2l0aG91dFNldHRlclwiLChmdW5jdGlvbih0KXtyZXR1cm4gdGwoRWQodCksdCl9KSksYmQuZj1vbCx5ZC5mPWVsLG1kLmY9aWwsZ2QuZj1ubCxmZC5mPXBkLmY9cmwsdmQuZj1zbCxDZC5mPWZ1bmN0aW9uKHQpe3JldHVybiB0bChPZCh0KSx0KX0sJGgmJlZkKFJkLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBGZCh0aGlzKS5kZXNjcmlwdGlvbn19KSkscWgoe2dsb2JhbDohMCx3cmFwOiEwLGZvcmNlZDohWmgsc2hhbTohWmh9LHtTeW1ib2w6QWR9KSxQZCh1ZChaZCksKGZ1bmN0aW9uKHQpe1NkKHQpfSkpLHFoKHt0YXJnZXQ6QmQsc3RhdDohMCxmb3JjZWQ6IVpofSx7Zm9yOmZ1bmN0aW9uKHQpe3ZhciBlPWRkKHQpO2lmKEpoKEtkLGUpKXJldHVybiBLZFtlXTt2YXIgaT1BZChlKTtyZXR1cm4gS2RbZV09aSwkZFtpXT1lLGl9LGtleUZvcjpmdW5jdGlvbih0KXtpZighbmQodCkpdGhyb3cgamQodCtcIiBpcyBub3QgYSBzeW1ib2xcIik7aWYoSmgoJGQsdCkpcmV0dXJuICRkW3RdfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtRZD0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7UWQ9ITF9fSkscWgoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiFaaCxzaGFtOiEkaH0se2NyZWF0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lP2NkKHQpOmlsKGNkKHQpLGUpfSxkZWZpbmVQcm9wZXJ0eTplbCxkZWZpbmVQcm9wZXJ0aWVzOmlsLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpubH0pLHFoKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohWmh9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOnJsLGdldE93blByb3BlcnR5U3ltYm9sczpzbH0pLHFoKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpRaCgoZnVuY3Rpb24oKXt2ZC5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKHQpe3JldHVybiB2ZC5mKHNkKHQpKX19KSxIZCl7dmFyIGFsPSFaaHx8UWgoKGZ1bmN0aW9uKCl7dmFyIHQ9QWQoKTtyZXR1cm5cIltudWxsXVwiIT1IZChbdF0pfHxcInt9XCIhPUhkKHthOnR9KXx8XCJ7fVwiIT1IZChPYmplY3QodCkpfSkpO3FoKHt0YXJnZXQ6XCJKU09OXCIsc3RhdDohMCxmb3JjZWQ6YWx9LHtzdHJpbmdpZnk6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXdkKGFyZ3VtZW50cyksbj1lO2lmKChpZChlKXx8dm9pZCAwIT09dCkmJiFuZCh0KSlyZXR1cm4gdGQoZSl8fChlPWZ1bmN0aW9uKHQsZSl7aWYoZWQobikmJihlPUdoKG4sdGhpcyx0LGUpKSwhbmQoZSkpcmV0dXJuIGV9KSxvWzFdPWUsWGgoSGQsbnVsbCxvKX19KX1pZighUmRbSWRdKXt2YXIgaGw9UmQudmFsdWVPZjtrZChSZCxJZCwoZnVuY3Rpb24odCl7cmV0dXJuIEdoKGhsLHRoaXMpfSkpfVRkKEFkLEJkKSx4ZFtEZF09ITA7dmFyIGRsPUcuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxsbD17ZXhwb3J0czp7fX0sY2w9eGksdWw9cixmbD1VLHBsPWIuZix2bD13LGdsPXVsKChmdW5jdGlvbigpe3BsKDEpfSkpO2NsKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohdmx8fGdsLHNoYW06IXZsfSx7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHBsKGZsKHQpLGUpfX0pO3ZhciB5bD1HLk9iamVjdCxtbD1sbC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHlsLmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpfTt5bC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iuc2hhbSYmKG1sLnNoYW09ITApO3ZhciBibD1sbC5leHBvcnRzLHdsPWJsLGtsPUosX2w9c2gseGw9WmksRWw9WmUsT2w9eShbXS5jb25jYXQpLENsPWtsKFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24odCl7dmFyIGU9X2wuZihFbCh0KSksaT14bC5mO3JldHVybiBpP09sKGUsaSh0KSk6ZX0sU2w9Q2wsVGw9VSxNbD1iLFBsPWhhO3hpKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLHNoYW06IXd9LHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLG89VGwodCksbj1NbC5mLHI9U2wobykscz17fSxhPTA7ci5sZW5ndGg+YTspdm9pZCAwIT09KGk9bihvLGU9clthKytdKSkmJlBsKHMsZSxpKTtyZXR1cm4gc319KTt2YXIgRGw9Ry5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxCbD17ZXhwb3J0czp7fX0sSWw9eGksemw9dyxGbD1Rbi5mO0lsKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpPYmplY3QuZGVmaW5lUHJvcGVydGllcyE9PUZsLHNoYW06IXpsfSx7ZGVmaW5lUHJvcGVydGllczpGbH0pO3ZhciBObD1HLk9iamVjdCxBbD1CbC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE5sLmRlZmluZVByb3BlcnRpZXModCxlKX07TmwuZGVmaW5lUHJvcGVydGllcy5zaGFtJiYoQWwuc2hhbT0hMCk7dmFyIFJsPUJsLmV4cG9ydHMsamw9e2V4cG9ydHM6e319LExsPXhpLEhsPXcsV2w9VWUuZjtMbCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmRlZmluZVByb3BlcnR5IT09V2wsc2hhbTohSGx9LHtkZWZpbmVQcm9wZXJ0eTpXbH0pO3ZhciBWbD1HLk9iamVjdCxxbD1qbC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gVmwuZGVmaW5lUHJvcGVydHkodCxlLGkpfTtWbC5kZWZpbmVQcm9wZXJ0eS5zaGFtJiYocWwuc2hhbT0hMCk7dmFyIFVsPWpsLmV4cG9ydHMsWWw9VWw7ZnVuY3Rpb24gWGwodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBHbD1VbDtmdW5jdGlvbiBLbCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxHbCh0LG8ua2V5LG8pfX1mdW5jdGlvbiAkbCh0LGUsaSl7cmV0dXJuIGUmJktsKHQucHJvdG90eXBlLGUpLGkmJktsKHQsaSksR2wodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gWmwodCxlLGkpe3JldHVybiBlIGluIHQ/R2wodCxlLHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1pLHR9eGkoe3RhcmdldDpcIkFycmF5XCIsc3RhdDohMH0se2lzQXJyYXk6cmh9KTt2YXIgUWw9Ry5BcnJheS5pc0FycmF5LEpsPVFsO3ZhciB0Yz1yLGVjPWh0LGljPXJlKFwic3BlY2llc1wiKSxvYz1mdW5jdGlvbih0KXtyZXR1cm4gZWM+PTUxfHwhdGMoKGZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuKGUuY29uc3RydWN0b3I9e30pW2ljXT1mdW5jdGlvbigpe3JldHVybntmb286MX19LDEhPT1lW3RdKEJvb2xlYW4pLmZvb30pKX0sbmM9eGkscmM9bixzYz1yLGFjPXJoLGhjPVgsZGM9THQsbGM9emksY2M9aGEsdWM9RmgsZmM9b2MscGM9aHQsdmM9cmUoXCJpc0NvbmNhdFNwcmVhZGFibGVcIiksZ2M9OTAwNzE5OTI1NDc0MDk5MSx5Yz1cIk1heGltdW0gYWxsb3dlZCBpbmRleCBleGNlZWRlZFwiLG1jPXJjLlR5cGVFcnJvcixiYz1wYz49NTF8fCFzYygoZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdFt2Y109ITEsdC5jb25jYXQoKVswXSE9PXR9KSksd2M9ZmMoXCJjb25jYXRcIiksa2M9ZnVuY3Rpb24odCl7aWYoIWhjKHQpKXJldHVybiExO3ZhciBlPXRbdmNdO3JldHVybiB2b2lkIDAhPT1lPyEhZTphYyh0KX07bmMoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFiY3x8IXdjfSx7Y29uY2F0OmZ1bmN0aW9uKHQpe3ZhciBlLGksbyxuLHIscz1kYyh0aGlzKSxhPXVjKHMsMCksaD0wO2ZvcihlPS0xLG89YXJndW1lbnRzLmxlbmd0aDtlPG87ZSsrKWlmKGtjKHI9LTE9PT1lP3M6YXJndW1lbnRzW2VdKSl7aWYoaCsobj1sYyhyKSk+Z2MpdGhyb3cgbWMoeWMpO2ZvcihpPTA7aTxuO2krKyxoKyspaSBpbiByJiZjYyhhLGgscltpXSl9ZWxzZXtpZihoPj1nYyl0aHJvdyBtYyh5Yyk7Y2MoYSxoKysscil9cmV0dXJuIGEubGVuZ3RoPWgsYX19KSxTaChcImFzeW5jSXRlcmF0b3JcIiksU2goXCJoYXNJbnN0YW5jZVwiKSxTaChcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSxTaChcIml0ZXJhdG9yXCIpLFNoKFwibWF0Y2hcIiksU2goXCJtYXRjaEFsbFwiKSxTaChcInJlcGxhY2VcIiksU2goXCJzZWFyY2hcIiksU2goXCJzcGVjaWVzXCIpLFNoKFwic3BsaXRcIiksU2goXCJ0b1ByaW1pdGl2ZVwiKSxTaChcInRvU3RyaW5nVGFnXCIpLFNoKFwidW5zY29wYWJsZXNcIiksWnIobi5KU09OLFwiSlNPTlwiLCEwKTt2YXIgX2M9Ry5TeW1ib2wseGM9X2M7U2goXCJhc3luY0Rpc3Bvc2VcIiksU2goXCJkaXNwb3NlXCIpLFNoKFwibWF0Y2hlclwiKSxTaChcIm1ldGFkYXRhXCIpLFNoKFwib2JzZXJ2YWJsZVwiKSxTaChcInBhdHRlcm5NYXRjaFwiKSxTaChcInJlcGxhY2VBbGxcIik7dmFyIEVjPXhjO3ZhciBPYz14aSxDYz1uLFNjPXJoLFRjPW5hLE1jPVgsUGM9UGksRGM9emksQmM9VSxJYz1oYSx6Yz1yZSxGYz1wbyxOYz1vYyhcInNsaWNlXCIpLEFjPXpjKFwic3BlY2llc1wiKSxSYz1DYy5BcnJheSxqYz1NYXRoLm1heDtPYyh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IU5jfSx7c2xpY2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxvLG4scj1CYyh0aGlzKSxzPURjKHIpLGE9UGModCxzKSxoPVBjKHZvaWQgMD09PWU/czplLHMpO2lmKFNjKHIpJiYoaT1yLmNvbnN0cnVjdG9yLChUYyhpKSYmKGk9PT1SY3x8U2MoaS5wcm90b3R5cGUpKXx8TWMoaSkmJm51bGw9PT0oaT1pW0FjXSkpJiYoaT12b2lkIDApLGk9PT1SY3x8dm9pZCAwPT09aSkpcmV0dXJuIEZjKHIsYSxoKTtmb3Iobz1uZXcodm9pZCAwPT09aT9SYzppKShqYyhoLWEsMCkpLG49MDthPGg7YSsrLG4rKylhIGluIHImJkljKG8sbixyW2FdKTtyZXR1cm4gby5sZW5ndGg9bixvfX0pO3ZhciBMYz1NbyhcIkFycmF5XCIpLnNsaWNlLEhjPXR0LFdjPUxjLFZjPUFycmF5LnByb3RvdHlwZSxxYz1mdW5jdGlvbih0KXt2YXIgZT10LnNsaWNlO3JldHVybiB0PT09VmN8fEhjKFZjLHQpJiZlPT09VmMuc2xpY2U/V2M6ZX0sVWM9cWMsWWM9VWMsWGM9UmE7ZnVuY3Rpb24gR2ModCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIGk9MCxvPW5ldyBBcnJheShlKTtpPGU7aSsrKW9baV09dFtpXTtyZXR1cm4gb31mdW5jdGlvbiBLYyh0LGUpe3ZhciBpO2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBHYyh0LGUpO3ZhciBvPVljKGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5jYWxsKGksOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW8mJnQuY29uc3RydWN0b3ImJihvPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW98fFwiU2V0XCI9PT1vP1hjKHQpOlwiQXJndW1lbnRzXCI9PT1vfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChvKT9HYyh0LGUpOnZvaWQgMH19ZnVuY3Rpb24gJGModCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoSmwodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBpPW51bGw9PXQ/bnVsbDp2b2lkIDAhPT1FYyYmb2godCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPWkpe3ZhciBvLG4scj1bXSxzPSEwLGE9ITE7dHJ5e2ZvcihpPWkuY2FsbCh0KTshKHM9KG89aS5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKG8udmFsdWUpLCFlfHxyLmxlbmd0aCE9PWUpO3M9ITApO31jYXRjaCh0KXthPSEwLG49dH1maW5hbGx5e3RyeXtzfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgbn19cmV0dXJuIHJ9fSh0LGUpfHxLYyh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9dmFyIFpjPWtoLmYoXCJpdGVyYXRvclwiKTtmdW5jdGlvbiBRYyh0KXtyZXR1cm4gUWM9XCJmdW5jdGlvblwiPT10eXBlb2YgRWMmJlwic3ltYm9sXCI9PXR5cGVvZiBaYz9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBFYyYmdC5jb25zdHJ1Y3Rvcj09PUVjJiZ0IT09RWMucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFFjKHQpfWZ1bmN0aW9uIEpjKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihKbCh0KSlyZXR1cm4gR2ModCl9KHQpfHxmdW5jdGlvbih0KXtpZih2b2lkIDAhPT1FYyYmbnVsbCE9b2godCl8fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBYYyh0KX0odCl8fEtjKHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfXZhciB0dT1fYyxldT1NbyhcIkFycmF5XCIpLmNvbmNhdCxpdT10dCxvdT1ldSxudT1BcnJheS5wcm90b3R5cGUscnU9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb25jYXQ7cmV0dXJuIHQ9PT1udXx8aXUobnUsdCkmJmU9PT1udS5jb25jYXQ/b3U6ZX0sc3U9cnUsYXU9VWM7eGkoe3RhcmdldDpcIlJlZmxlY3RcIixzdGF0OiEwfSx7b3duS2V5czpDbH0pLEcuUmVmbGVjdC5vd25LZXlzO3ZhciBodT1RbCxkdT1WaC5tYXA7eGkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFvYyhcIm1hcFwiKX0se21hcDpmdW5jdGlvbih0KXtyZXR1cm4gZHUodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgbHU9TW8oXCJBcnJheVwiKS5tYXAsY3U9dHQsdXU9bHUsZnU9QXJyYXkucHJvdG90eXBlLHB1PWZ1bmN0aW9uKHQpe3ZhciBlPXQubWFwO3JldHVybiB0PT09ZnV8fGN1KGZ1LHQpJiZlPT09ZnUubWFwP3V1OmV9LHZ1PXB1LGd1PUx0LHl1PSRpO3hpKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpyKChmdW5jdGlvbigpe3l1KDEpfSkpfSx7a2V5czpmdW5jdGlvbih0KXtyZXR1cm4geXUoZ3UodCkpfX0pO3ZhciBtdT1HLk9iamVjdC5rZXlzLGJ1PXhpLHd1PXksa3U9bi5EYXRlLF91PXd1KGt1LnByb3RvdHlwZS5nZXRUaW1lKTtidSh7dGFyZ2V0OlwiRGF0ZVwiLHN0YXQ6ITB9LHtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gX3UobmV3IGt1KX19KTt2YXIgeHU9Ry5EYXRlLm5vdyxFdT1yLE91PWZ1bmN0aW9uKHQsZSl7dmFyIGk9W11bdF07cmV0dXJuISFpJiZFdSgoZnVuY3Rpb24oKXtpLmNhbGwobnVsbCxlfHxmdW5jdGlvbigpe3JldHVybiAxfSwxKX0pKX0sQ3U9VmguZm9yRWFjaCxTdT1PdShcImZvckVhY2hcIik/W10uZm9yRWFjaDpmdW5jdGlvbih0KXtyZXR1cm4gQ3UodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX07eGkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOltdLmZvckVhY2ghPVN1fSx7Zm9yRWFjaDpTdX0pO3ZhciBUdT1NbyhcIkFycmF5XCIpLmZvckVhY2gsTXU9Sm8sUHU9VnQsRHU9dHQsQnU9VHUsSXU9QXJyYXkucHJvdG90eXBlLHp1PXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9LEZ1PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZm9yRWFjaDtyZXR1cm4gdD09PUl1fHxEdShJdSx0KSYmZT09PUl1LmZvckVhY2h8fFB1KHp1LE11KHQpKT9CdTplfSxOdT14aSxBdT1yaCxSdT15KFtdLnJldmVyc2UpLGp1PVsxLDJdO051KHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpTdHJpbmcoanUpPT09U3RyaW5nKGp1LnJldmVyc2UoKSl9LHtyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIEF1KHRoaXMpJiYodGhpcy5sZW5ndGg9dGhpcy5sZW5ndGgpLFJ1KHRoaXMpfX0pO3ZhciBMdT1NbyhcIkFycmF5XCIpLnJldmVyc2UsSHU9dHQsV3U9THUsVnU9QXJyYXkucHJvdG90eXBlLHF1PWZ1bmN0aW9uKHQpe3ZhciBlPXQucmV2ZXJzZTtyZXR1cm4gdD09PVZ1fHxIdShWdSx0KSYmZT09PVZ1LnJldmVyc2U/V3U6ZX0sVXU9cXUsWXU9eGksWHU9bixHdT1QaSxLdT1DaSwkdT16aSxadT1MdCxRdT1GaCxKdT1oYSx0Zj1vYyhcInNwbGljZVwiKSxlZj1YdS5UeXBlRXJyb3Isb2Y9TWF0aC5tYXgsbmY9TWF0aC5taW4scmY9OTAwNzE5OTI1NDc0MDk5MSxzZj1cIk1heGltdW0gYWxsb3dlZCBsZW5ndGggZXhjZWVkZWRcIjtZdSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IXRmfSx7c3BsaWNlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbyxuLHIscyxhLGg9WnUodGhpcyksZD0kdShoKSxsPUd1KHQsZCksYz1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT1jP2k9bz0wOjE9PT1jPyhpPTAsbz1kLWwpOihpPWMtMixvPW5mKG9mKEt1KGUpLDApLGQtbCkpLGQraS1vPnJmKXRocm93IGVmKHNmKTtmb3Iobj1RdShoLG8pLHI9MDtyPG87cisrKShzPWwrcilpbiBoJiZKdShuLHIsaFtzXSk7aWYobi5sZW5ndGg9byxpPG8pe2ZvcihyPWw7cjxkLW87cisrKWE9citpLChzPXIrbylpbiBoP2hbYV09aFtzXTpkZWxldGUgaFthXTtmb3Iocj1kO3I+ZC1vK2k7ci0tKWRlbGV0ZSBoW3ItMV19ZWxzZSBpZihpPm8pZm9yKHI9ZC1vO3I+bDtyLS0pYT1yK2ktMSwocz1yK28tMSlpbiBoP2hbYV09aFtzXTpkZWxldGUgaFthXTtmb3Iocj0wO3I8aTtyKyspaFtyK2xdPWFyZ3VtZW50c1tyKzJdO3JldHVybiBoLmxlbmd0aD1kLW8raSxufX0pO3ZhciBhZj1NbyhcIkFycmF5XCIpLnNwbGljZSxoZj10dCxkZj1hZixsZj1BcnJheS5wcm90b3R5cGUsY2Y9ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpY2U7cmV0dXJuIHQ9PT1sZnx8aGYobGYsdCkmJmU9PT1sZi5zcGxpY2U/ZGY6ZX0sdWY9Y2YsZmY9amkuaW5jbHVkZXM7eGkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gZmYodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgcGY9TW8oXCJBcnJheVwiKS5pbmNsdWRlcyx2Zj1YLGdmPXoseWY9cmUoXCJtYXRjaFwiKSxtZj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdmYodCkmJih2b2lkIDAhPT0oZT10W3lmXSk/ISFlOlwiUmVnRXhwXCI9PWdmKHQpKX0sYmY9bi5UeXBlRXJyb3Isd2Y9cmUoXCJtYXRjaFwiKSxrZj14aSxfZj1mdW5jdGlvbih0KXtpZihtZih0KSl0aHJvdyBiZihcIlRoZSBtZXRob2QgZG9lc24ndCBhY2NlcHQgcmVndWxhciBleHByZXNzaW9uc1wiKTtyZXR1cm4gdH0seGY9VyxFZj1vbixPZj1mdW5jdGlvbih0KXt2YXIgZT0vLi87dHJ5e1wiLy4vXCJbdF0oZSl9Y2F0Y2goaSl7dHJ5e3JldHVybiBlW3dmXT0hMSxcIi8uL1wiW3RdKGUpfWNhdGNoKHQpe319cmV0dXJuITF9LENmPXkoXCJcIi5pbmRleE9mKTtrZih7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOiFPZihcImluY2x1ZGVzXCIpfSx7aW5jbHVkZXM6ZnVuY3Rpb24odCl7cmV0dXJuISF+Q2YoRWYoeGYodGhpcykpLEVmKF9mKHQpKSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIFNmPU1vKFwiU3RyaW5nXCIpLmluY2x1ZGVzLFRmPXR0LE1mPXBmLFBmPVNmLERmPUFycmF5LnByb3RvdHlwZSxCZj1TdHJpbmcucHJvdG90eXBlLElmPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5jbHVkZXM7cmV0dXJuIHQ9PT1EZnx8VGYoRGYsdCkmJmU9PT1EZi5pbmNsdWRlcz9NZjpcInN0cmluZ1wiPT10eXBlb2YgdHx8dD09PUJmfHxUZihCZix0KSYmZT09PUJmLmluY2x1ZGVzP1BmOmV9LHpmPUlmLEZmPUx0LE5mPURyLEFmPV9yO3hpKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpyKChmdW5jdGlvbigpe05mKDEpfSkpLHNoYW06IUFmfSx7Z2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIE5mKEZmKHQpKX19KTt2YXIgUmY9Ry5PYmplY3QuZ2V0UHJvdG90eXBlT2YsamY9UmYsTGY9VmguZmlsdGVyO3hpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohb2MoXCJmaWx0ZXJcIil9LHtmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIExmKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIEhmPU1vKFwiQXJyYXlcIikuZmlsdGVyLFdmPXR0LFZmPUhmLHFmPUFycmF5LnByb3RvdHlwZSxVZj1mdW5jdGlvbih0KXt2YXIgZT10LmZpbHRlcjtyZXR1cm4gdD09PXFmfHxXZihxZix0KSYmZT09PXFmLmZpbHRlcj9WZjplfSxZZj1VZixYZj13LEdmPXksS2Y9JGksJGY9VSxaZj1HZihFLmYpLFFmPUdmKFtdLnB1c2gpLEpmPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIGksbz0kZihlKSxuPUtmKG8pLHI9bi5sZW5ndGgscz0wLGE9W107cj5zOylpPW5bcysrXSxYZiYmIVpmKG8saSl8fFFmKGEsdD9baSxvW2ldXTpvW2ldKTtyZXR1cm4gYX19LHRwPXtlbnRyaWVzOkpmKCEwKSx2YWx1ZXM6SmYoITEpfS52YWx1ZXM7eGkoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITB9LHt2YWx1ZXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRwKHQpfX0pLEcuT2JqZWN0LnZhbHVlczt2YXIgZXA9XCJcXHRcXG5cXHZcXGZcXHIgwqDhmoDigIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVxcdWZlZmZcIixpcD1XLG9wPW9uLG5wPXkoXCJcIi5yZXBsYWNlKSxycD1cIltcXHRcXG5cXHZcXGZcXHIgwqDhmoDigIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVxcdWZlZmZdXCIsc3A9UmVnRXhwKFwiXlwiK3JwK3JwK1wiKlwiKSxhcD1SZWdFeHAocnArcnArXCIqJFwiKSxocD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGk9b3AoaXAoZSkpO3JldHVybiAxJnQmJihpPW5wKGksc3AsXCJcIikpLDImdCYmKGk9bnAoaSxhcCxcIlwiKSksaX19LGRwPXtzdGFydDpocCgxKSxlbmQ6aHAoMiksdHJpbTpocCgzKX0sbHA9bixjcD1yLHVwPXksZnA9b24scHA9ZHAudHJpbSx2cD1lcCxncD1scC5wYXJzZUludCx5cD1scC5TeW1ib2wsbXA9eXAmJnlwLml0ZXJhdG9yLGJwPS9eWystXT8weC9pLHdwPXVwKGJwLmV4ZWMpLGtwPTghPT1ncCh2cCtcIjA4XCIpfHwyMiE9PWdwKHZwK1wiMHgxNlwiKXx8bXAmJiFjcCgoZnVuY3Rpb24oKXtncChPYmplY3QobXApKX0pKT9mdW5jdGlvbih0LGUpe3ZhciBpPXBwKGZwKHQpKTtyZXR1cm4gZ3AoaSxlPj4+MHx8KHdwKGJwLGkpPzE2OjEwKSl9OmdwO3hpKHtnbG9iYWw6ITAsZm9yY2VkOnBhcnNlSW50IT1rcH0se3BhcnNlSW50OmtwfSk7dmFyIF9wPUcucGFyc2VJbnQseHA9eGksRXA9amkuaW5kZXhPZixPcD1PdSxDcD15KFtdLmluZGV4T2YpLFNwPSEhQ3AmJjEvQ3AoWzFdLDEsLTApPDAsVHA9T3AoXCJpbmRleE9mXCIpO3hwKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpTcHx8IVRwfSx7aW5kZXhPZjpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gU3A/Q3AodGhpcyx0LGUpfHwwOkVwKHRoaXMsdCxlKX19KTt2YXIgTXA9TW8oXCJBcnJheVwiKS5pbmRleE9mLFBwPXR0LERwPU1wLEJwPUFycmF5LnByb3RvdHlwZSxJcD1mdW5jdGlvbih0KXt2YXIgZT10LmluZGV4T2Y7cmV0dXJuIHQ9PT1CcHx8UHAoQnAsdCkmJmU9PT1CcC5pbmRleE9mP0RwOmV9LHpwPUlwLEZwPVpuLlBST1BFUixOcD1yLEFwPWVwLFJwPWRwLnRyaW07eGkoe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDpmdW5jdGlvbih0KXtyZXR1cm4gTnAoKGZ1bmN0aW9uKCl7cmV0dXJuISFBcFt0XSgpfHxcIuKAi8KF4aCOXCIhPT1cIuKAi8KF4aCOXCJbdF0oKXx8RnAmJkFwW3RdLm5hbWUhPT10fSkpfShcInRyaW1cIil9LHt0cmltOmZ1bmN0aW9uKCl7cmV0dXJuIFJwKHRoaXMpfX0pLE1vKFwiU3RyaW5nXCIpLnRyaW0seGkoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsc2hhbTohd30se2NyZWF0ZTprcn0pO3ZhciBqcD1HLk9iamVjdCxMcD1mdW5jdGlvbih0LGUpe3JldHVybiBqcC5jcmVhdGUodCxlKX0sSHA9THAsV3A9eGksVnA9SixxcD1jLFVwPXksWXA9cixYcD1uLkFycmF5LEdwPVZwKFwiSlNPTlwiLFwic3RyaW5naWZ5XCIpLEtwPVVwKC8uLy5leGVjKSwkcD1VcChcIlwiLmNoYXJBdCksWnA9VXAoXCJcIi5jaGFyQ29kZUF0KSxRcD1VcChcIlwiLnJlcGxhY2UpLEpwPVVwKDEuLnRvU3RyaW5nKSx0dj0vW1xcdUQ4MDAtXFx1REZGRl0vZyxldj0vXltcXHVEODAwLVxcdURCRkZdJC8saXY9L15bXFx1REMwMC1cXHVERkZGXSQvLG92PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz0kcChpLGUtMSksbj0kcChpLGUrMSk7cmV0dXJuIEtwKGV2LHQpJiYhS3AoaXYsbil8fEtwKGl2LHQpJiYhS3AoZXYsbyk/XCJcXFxcdVwiK0pwKFpwKHQsMCksMTYpOnR9LG52PVlwKChmdW5jdGlvbigpe3JldHVybidcIlxcXFx1ZGYwNlxcXFx1ZDgzNFwiJyE9PUdwKFwiXFx1ZGYwNlxcdWQ4MzRcIil8fCdcIlxcXFx1ZGVhZFwiJyE9PUdwKFwiXFx1ZGVhZFwiKX0pKTtHcCYmV3Aoe3RhcmdldDpcIkpTT05cIixzdGF0OiEwLGZvcmNlZDpudn0se3N0cmluZ2lmeTpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPTAsbj1hcmd1bWVudHMubGVuZ3RoLHI9WHAobik7bzxuO28rKylyW29dPWFyZ3VtZW50c1tvXTt2YXIgcz1xcChHcCxudWxsLHIpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBzP1FwKHMsdHYsb3YpOnN9fSk7dmFyIHJ2PUcsc3Y9Yztydi5KU09OfHwocnYuSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dmFyIGF2PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gc3YocnYuSlNPTi5zdHJpbmdpZnksbnVsbCxhcmd1bWVudHMpfSxodj1hdixkdj1uLlR5cGVFcnJvcixsdj14aSxjdj1uLHV2PWMsZnY9bSxwdj1wbyx2dj1mdW5jdGlvbih0LGUpe2lmKHQ8ZSl0aHJvdyBkdihcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpO3JldHVybiB0fSxndj0vTVNJRSAuXFwuLy50ZXN0KGV0KSx5dj1jdi5GdW5jdGlvbixtdj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXt2YXIgbz12dihhcmd1bWVudHMubGVuZ3RoLDEpPjIsbj1mdihlKT9lOnl2KGUpLHI9bz9wdihhcmd1bWVudHMsMik6dm9pZCAwO3JldHVybiB0KG8/ZnVuY3Rpb24oKXt1dihuLHRoaXMscil9Om4saSl9fTtsdih7Z2xvYmFsOiEwLGJpbmQ6ITAsZm9yY2VkOmd2fSx7c2V0VGltZW91dDptdihjdi5zZXRUaW1lb3V0KSxzZXRJbnRlcnZhbDptdihjdi5zZXRJbnRlcnZhbCl9KTt2YXIgYnY9Ry5zZXRUaW1lb3V0LHd2PUx0LGt2PVBpLF92PXppLHh2PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT13dih0aGlzKSxpPV92KGUpLG89YXJndW1lbnRzLmxlbmd0aCxuPWt2KG8+MT9hcmd1bWVudHNbMV06dm9pZCAwLGkpLHI9bz4yP2FyZ3VtZW50c1syXTp2b2lkIDAscz12b2lkIDA9PT1yP2k6a3YocixpKTtzPm47KWVbbisrXT10O3JldHVybiBlfTt4aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMH0se2ZpbGw6eHZ9KTt2YXIgRXYsT3Y9TW8oXCJBcnJheVwiKS5maWxsLEN2PXR0LFN2PU92LFR2PUFycmF5LnByb3RvdHlwZSxNdj1mdW5jdGlvbih0KXt2YXIgZT10LmZpbGw7cmV0dXJuIHQ9PT1Udnx8Q3YoVHYsdCkmJmU9PT1Udi5maWxsP1N2OmV9LFB2PU12O1xuLyohIEhhbW1lci5KUyAtIHYyLjAuMTctcmMgLSAyMDE5LTEyLTE2XG5cdCAqIGh0dHA6Ly9uYXZlci5naXRodWIuaW8vZWdqc1xuXHQgKlxuXHQgKiBGb3JrZWQgQnkgTmF2ZXIgZWdqc1xuXHQgKiBDb3B5cmlnaHQgKGMpIGhhbW1lcmpzXG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuZnVuY3Rpb24gRHYoKXtyZXR1cm4gRHY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIGk9YXJndW1lbnRzW2VdO2Zvcih2YXIgbyBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG8pJiYodFtvXT1pW29dKX1yZXR1cm4gdH0sRHYuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEJ2KHQsZSl7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0Ll9fcHJvdG9fXz1lfWZ1bmN0aW9uIEl2KHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fUV2PVwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5hc3NpZ24/ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO2Zvcih2YXIgZT1PYmplY3QodCksaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBvPWFyZ3VtZW50c1tpXTtpZihudWxsIT1vKWZvcih2YXIgbiBpbiBvKW8uaGFzT3duUHJvcGVydHkobikmJihlW25dPW9bbl0pfXJldHVybiBlfTpPYmplY3QuYXNzaWduO3ZhciB6dixGdj1FdixOdj1bXCJcIixcIndlYmtpdFwiLFwiTW96XCIsXCJNU1wiLFwibXNcIixcIm9cIl0sQXY9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P3tzdHlsZTp7fX06ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxSdj1NYXRoLnJvdW5kLGp2PU1hdGguYWJzLEx2PURhdGUubm93O2Z1bmN0aW9uIEh2KHQsZSl7Zm9yKHZhciBpLG8sbj1lWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxyPTA7cjxOdi5sZW5ndGg7KXtpZigobz0oaT1OdltyXSk/aStuOmUpaW4gdClyZXR1cm4gbztyKyt9fXp2PVwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/e306d2luZG93O3ZhciBXdj1IdihBdi5zdHlsZSxcInRvdWNoQWN0aW9uXCIpLFZ2PXZvaWQgMCE9PVd2O3ZhciBxdj1cImNvbXB1dGVcIixVdj1cImF1dG9cIixZdj1cIm1hbmlwdWxhdGlvblwiLFh2PVwibm9uZVwiLEd2PVwicGFuLXhcIixLdj1cInBhbi15XCIsJHY9ZnVuY3Rpb24oKXtpZighVnYpcmV0dXJuITE7dmFyIHQ9e30sZT16di5DU1MmJnp2LkNTUy5zdXBwb3J0cztyZXR1cm5bXCJhdXRvXCIsXCJtYW5pcHVsYXRpb25cIixcInBhbi15XCIsXCJwYW4teFwiLFwicGFuLXggcGFuLXlcIixcIm5vbmVcIl0uZm9yRWFjaCgoZnVuY3Rpb24oaSl7cmV0dXJuIHRbaV09IWV8fHp2LkNTUy5zdXBwb3J0cyhcInRvdWNoLWFjdGlvblwiLGkpfSkpLHR9KCksWnY9XCJvbnRvdWNoc3RhcnRcImluIHp2LFF2PXZvaWQgMCE9PUh2KHp2LFwiUG9pbnRlckV2ZW50XCIpLEp2PVp2JiYvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx0Zz1cInRvdWNoXCIsZWc9XCJtb3VzZVwiLGlnPTE2LG9nPTI0LG5nPVtcInhcIixcInlcIl0scmc9W1wiY2xpZW50WFwiLFwiY2xpZW50WVwiXTtmdW5jdGlvbiBzZyh0LGUsaSl7dmFyIG87aWYodClpZih0LmZvckVhY2gpdC5mb3JFYWNoKGUsaSk7ZWxzZSBpZih2b2lkIDAhPT10Lmxlbmd0aClmb3Iobz0wO288dC5sZW5ndGg7KWUuY2FsbChpLHRbb10sbyx0KSxvKys7ZWxzZSBmb3IobyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJmUuY2FsbChpLHRbb10sbyx0KX1mdW5jdGlvbiBhZyh0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dC5hcHBseShlJiZlWzBdfHx2b2lkIDAsZSk6dH1mdW5jdGlvbiBoZyh0LGUpe3JldHVybiB0LmluZGV4T2YoZSk+LTF9dmFyIGRnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubWFuYWdlcj10LHRoaXMuc2V0KGUpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0KXt0PT09cXYmJih0PXRoaXMuY29tcHV0ZSgpKSxWdiYmdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUmJiR2W3RdJiYodGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbV3ZdPXQpLHRoaXMuYWN0aW9ucz10LnRvTG93ZXJDYXNlKCkudHJpbSgpfSxlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKX0sZS5jb21wdXRlPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHNnKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywoZnVuY3Rpb24oZSl7YWcoZS5vcHRpb25zLmVuYWJsZSxbZV0pJiYodD10LmNvbmNhdChlLmdldFRvdWNoQWN0aW9uKCkpKX0pKSxmdW5jdGlvbih0KXtpZihoZyh0LFh2KSlyZXR1cm4gWHY7dmFyIGU9aGcodCxHdiksaT1oZyh0LEt2KTtyZXR1cm4gZSYmaT9YdjplfHxpP2U/R3Y6S3Y6aGcodCxZdik/WXY6VXZ9KHQuam9pbihcIiBcIikpfSxlLnByZXZlbnREZWZhdWx0cz1mdW5jdGlvbih0KXt2YXIgZT10LnNyY0V2ZW50LGk9dC5vZmZzZXREaXJlY3Rpb247aWYodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKWUucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciBvPXRoaXMuYWN0aW9ucyxuPWhnKG8sWHYpJiYhJHYubm9uZSxyPWhnKG8sS3YpJiYhJHZbXCJwYW4teVwiXSxzPWhnKG8sR3YpJiYhJHZbXCJwYW4teFwiXTtpZihuKXt2YXIgYT0xPT09dC5wb2ludGVycy5sZW5ndGgsaD10LmRpc3RhbmNlPDIsZD10LmRlbHRhVGltZTwyNTA7aWYoYSYmaCYmZClyZXR1cm59aWYoIXN8fCFyKXJldHVybiBufHxyJiY2Jml8fHMmJmkmb2c/dGhpcy5wcmV2ZW50U3JjKGUpOnZvaWQgMH19LGUucHJldmVudFNyYz1mdW5jdGlvbih0KXt0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQ9ITAsdC5wcmV2ZW50RGVmYXVsdCgpfSx0fSgpO2Z1bmN0aW9uIGxnKHQsZSl7Zm9yKDt0Oyl7aWYodD09PWUpcmV0dXJuITA7dD10LnBhcmVudE5vZGV9cmV0dXJuITF9ZnVuY3Rpb24gY2codCl7dmFyIGU9dC5sZW5ndGg7aWYoMT09PWUpcmV0dXJue3g6UnYodFswXS5jbGllbnRYKSx5OlJ2KHRbMF0uY2xpZW50WSl9O2Zvcih2YXIgaT0wLG89MCxuPTA7bjxlOylpKz10W25dLmNsaWVudFgsbys9dFtuXS5jbGllbnRZLG4rKztyZXR1cm57eDpSdihpL2UpLHk6UnYoby9lKX19ZnVuY3Rpb24gdWcodCl7Zm9yKHZhciBlPVtdLGk9MDtpPHQucG9pbnRlcnMubGVuZ3RoOyllW2ldPXtjbGllbnRYOlJ2KHQucG9pbnRlcnNbaV0uY2xpZW50WCksY2xpZW50WTpSdih0LnBvaW50ZXJzW2ldLmNsaWVudFkpfSxpKys7cmV0dXJue3RpbWVTdGFtcDpMdigpLHBvaW50ZXJzOmUsY2VudGVyOmNnKGUpLGRlbHRhWDp0LmRlbHRhWCxkZWx0YVk6dC5kZWx0YVl9fWZ1bmN0aW9uIGZnKHQsZSxpKXtpfHwoaT1uZyk7dmFyIG89ZVtpWzBdXS10W2lbMF1dLG49ZVtpWzFdXS10W2lbMV1dO3JldHVybiBNYXRoLnNxcnQobypvK24qbil9ZnVuY3Rpb24gcGcodCxlLGkpe2l8fChpPW5nKTt2YXIgbz1lW2lbMF1dLXRbaVswXV0sbj1lW2lbMV1dLXRbaVsxXV07cmV0dXJuIDE4MCpNYXRoLmF0YW4yKG4sbykvTWF0aC5QSX1mdW5jdGlvbiB2Zyh0LGUpe3JldHVybiB0PT09ZT8xOmp2KHQpPj1qdihlKT90PDA/Mjo0OmU8MD84OmlnfWZ1bmN0aW9uIGdnKHQsZSxpKXtyZXR1cm57eDplL3R8fDAseTppL3R8fDB9fWZ1bmN0aW9uIHlnKHQsZSl7dmFyIGk9dC5zZXNzaW9uLG89ZS5wb2ludGVycyxuPW8ubGVuZ3RoO2kuZmlyc3RJbnB1dHx8KGkuZmlyc3RJbnB1dD11ZyhlKSksbj4xJiYhaS5maXJzdE11bHRpcGxlP2kuZmlyc3RNdWx0aXBsZT11ZyhlKToxPT09biYmKGkuZmlyc3RNdWx0aXBsZT0hMSk7dmFyIHI9aS5maXJzdElucHV0LHM9aS5maXJzdE11bHRpcGxlLGE9cz9zLmNlbnRlcjpyLmNlbnRlcixoPWUuY2VudGVyPWNnKG8pO2UudGltZVN0YW1wPUx2KCksZS5kZWx0YVRpbWU9ZS50aW1lU3RhbXAtci50aW1lU3RhbXAsZS5hbmdsZT1wZyhhLGgpLGUuZGlzdGFuY2U9ZmcoYSxoKSxmdW5jdGlvbih0LGUpe3ZhciBpPWUuY2VudGVyLG89dC5vZmZzZXREZWx0YXx8e30sbj10LnByZXZEZWx0YXx8e30scj10LnByZXZJbnB1dHx8e307MSE9PWUuZXZlbnRUeXBlJiY0IT09ci5ldmVudFR5cGV8fChuPXQucHJldkRlbHRhPXt4OnIuZGVsdGFYfHwwLHk6ci5kZWx0YVl8fDB9LG89dC5vZmZzZXREZWx0YT17eDppLngseTppLnl9KSxlLmRlbHRhWD1uLngrKGkueC1vLngpLGUuZGVsdGFZPW4ueSsoaS55LW8ueSl9KGksZSksZS5vZmZzZXREaXJlY3Rpb249dmcoZS5kZWx0YVgsZS5kZWx0YVkpO3ZhciBkLGwsYz1nZyhlLmRlbHRhVGltZSxlLmRlbHRhWCxlLmRlbHRhWSk7ZS5vdmVyYWxsVmVsb2NpdHlYPWMueCxlLm92ZXJhbGxWZWxvY2l0eVk9Yy55LGUub3ZlcmFsbFZlbG9jaXR5PWp2KGMueCk+anYoYy55KT9jLng6Yy55LGUuc2NhbGU9cz8oZD1zLnBvaW50ZXJzLGZnKChsPW8pWzBdLGxbMV0scmcpL2ZnKGRbMF0sZFsxXSxyZykpOjEsZS5yb3RhdGlvbj1zP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHBnKGVbMV0sZVswXSxyZykrcGcodFsxXSx0WzBdLHJnKX0ocy5wb2ludGVycyxvKTowLGUubWF4UG9pbnRlcnM9aS5wcmV2SW5wdXQ/ZS5wb2ludGVycy5sZW5ndGg+aS5wcmV2SW5wdXQubWF4UG9pbnRlcnM/ZS5wb2ludGVycy5sZW5ndGg6aS5wcmV2SW5wdXQubWF4UG9pbnRlcnM6ZS5wb2ludGVycy5sZW5ndGgsZnVuY3Rpb24odCxlKXt2YXIgaSxvLG4scixzPXQubGFzdEludGVydmFsfHxlLGE9ZS50aW1lU3RhbXAtcy50aW1lU3RhbXA7aWYoOCE9PWUuZXZlbnRUeXBlJiYoYT4yNXx8dm9pZCAwPT09cy52ZWxvY2l0eSkpe3ZhciBoPWUuZGVsdGFYLXMuZGVsdGFYLGQ9ZS5kZWx0YVktcy5kZWx0YVksbD1nZyhhLGgsZCk7bz1sLngsbj1sLnksaT1qdihsLngpPmp2KGwueSk/bC54OmwueSxyPXZnKGgsZCksdC5sYXN0SW50ZXJ2YWw9ZX1lbHNlIGk9cy52ZWxvY2l0eSxvPXMudmVsb2NpdHlYLG49cy52ZWxvY2l0eVkscj1zLmRpcmVjdGlvbjtlLnZlbG9jaXR5PWksZS52ZWxvY2l0eVg9byxlLnZlbG9jaXR5WT1uLGUuZGlyZWN0aW9uPXJ9KGksZSk7dmFyIHUsZj10LmVsZW1lbnQscD1lLnNyY0V2ZW50O2xnKHU9cC5jb21wb3NlZFBhdGg/cC5jb21wb3NlZFBhdGgoKVswXTpwLnBhdGg/cC5wYXRoWzBdOnAudGFyZ2V0LGYpJiYoZj11KSxlLnRhcmdldD1mfWZ1bmN0aW9uIG1nKHQsZSxpKXt2YXIgbz1pLnBvaW50ZXJzLmxlbmd0aCxuPWkuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aCxyPTEmZSYmby1uPT0wLHM9MTImZSYmby1uPT0wO2kuaXNGaXJzdD0hIXIsaS5pc0ZpbmFsPSEhcyxyJiYodC5zZXNzaW9uPXt9KSxpLmV2ZW50VHlwZT1lLHlnKHQsaSksdC5lbWl0KFwiaGFtbWVyLmlucHV0XCIsaSksdC5yZWNvZ25pemUoaSksdC5zZXNzaW9uLnByZXZJbnB1dD1pfWZ1bmN0aW9uIGJnKHQpe3JldHVybiB0LnRyaW0oKS5zcGxpdCgvXFxzKy9nKX1mdW5jdGlvbiB3Zyh0LGUsaSl7c2coYmcoZSksKGZ1bmN0aW9uKGUpe3QuYWRkRXZlbnRMaXN0ZW5lcihlLGksITEpfSkpfWZ1bmN0aW9uIGtnKHQsZSxpKXtzZyhiZyhlKSwoZnVuY3Rpb24oZSl7dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsaSwhMSl9KSl9ZnVuY3Rpb24gX2codCl7dmFyIGU9dC5vd25lckRvY3VtZW50fHx0O3JldHVybiBlLmRlZmF1bHRWaWV3fHxlLnBhcmVudFdpbmRvd3x8d2luZG93fXZhciB4Zz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgaT10aGlzO3RoaXMubWFuYWdlcj10LHRoaXMuY2FsbGJhY2s9ZSx0aGlzLmVsZW1lbnQ9dC5lbGVtZW50LHRoaXMudGFyZ2V0PXQub3B0aW9ucy5pbnB1dFRhcmdldCx0aGlzLmRvbUhhbmRsZXI9ZnVuY3Rpb24oZSl7YWcodC5vcHRpb25zLmVuYWJsZSxbdF0pJiZpLmhhbmRsZXIoZSl9LHRoaXMuaW5pdCgpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLmhhbmRsZXI9ZnVuY3Rpb24oKXt9LGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuZXZFbCYmd2codGhpcy5lbGVtZW50LHRoaXMuZXZFbCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZUYXJnZXQmJndnKHRoaXMudGFyZ2V0LHRoaXMuZXZUYXJnZXQsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2V2luJiZ3ZyhfZyh0aGlzLmVsZW1lbnQpLHRoaXMuZXZXaW4sdGhpcy5kb21IYW5kbGVyKX0sZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ldkVsJiZrZyh0aGlzLmVsZW1lbnQsdGhpcy5ldkVsLHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldlRhcmdldCYma2codGhpcy50YXJnZXQsdGhpcy5ldlRhcmdldCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZXaW4mJmtnKF9nKHRoaXMuZWxlbWVudCksdGhpcy5ldldpbix0aGlzLmRvbUhhbmRsZXIpfSx0fSgpO2Z1bmN0aW9uIEVnKHQsZSxpKXtpZih0LmluZGV4T2YmJiFpKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDspe2lmKGkmJnRbb11baV09PWV8fCFpJiZ0W29dPT09ZSlyZXR1cm4gbztvKyt9cmV0dXJuLTF9dmFyIE9nPXtwb2ludGVyZG93bjoxLHBvaW50ZXJtb3ZlOjIscG9pbnRlcnVwOjQscG9pbnRlcmNhbmNlbDo4LHBvaW50ZXJvdXQ6OH0sQ2c9ezI6dGcsMzpcInBlblwiLDQ6ZWcsNTpcImtpbmVjdFwifSxTZz1cInBvaW50ZXJkb3duXCIsVGc9XCJwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbFwiO3p2Lk1TUG9pbnRlckV2ZW50JiYhenYuUG9pbnRlckV2ZW50JiYoU2c9XCJNU1BvaW50ZXJEb3duXCIsVGc9XCJNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbFwiKTt2YXIgTWc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBpLG89ZS5wcm90b3R5cGU7cmV0dXJuIG8uZXZFbD1TZyxvLmV2V2luPVRnLChpPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzKS5zdG9yZT1pLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzPVtdLGl9cmV0dXJuIEJ2KGUsdCksZS5wcm90b3R5cGUuaGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3JlLGk9ITEsbz10LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwibXNcIixcIlwiKSxuPU9nW29dLHI9Q2dbdC5wb2ludGVyVHlwZV18fHQucG9pbnRlclR5cGUscz1yPT09dGcsYT1FZyhlLHQucG9pbnRlcklkLFwicG9pbnRlcklkXCIpOzEmbiYmKDA9PT10LmJ1dHRvbnx8cyk/YTwwJiYoZS5wdXNoKHQpLGE9ZS5sZW5ndGgtMSk6MTImbiYmKGk9ITApLGE8MHx8KGVbYV09dCx0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlcixuLHtwb2ludGVyczplLGNoYW5nZWRQb2ludGVyczpbdF0scG9pbnRlclR5cGU6cixzcmNFdmVudDp0fSksaSYmZS5zcGxpY2UoYSwxKSl9LGV9KHhnKTtmdW5jdGlvbiBQZyh0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwKX1mdW5jdGlvbiBEZyh0LGUsaSl7Zm9yKHZhciBvPVtdLG49W10scj0wO3I8dC5sZW5ndGg7KXt2YXIgcz1lP3Rbcl1bZV06dFtyXTtFZyhuLHMpPDAmJm8ucHVzaCh0W3JdKSxuW3JdPXMscisrfXJldHVybiBpJiYobz1lP28uc29ydCgoZnVuY3Rpb24odCxpKXtyZXR1cm4gdFtlXT5pW2VdfSkpOm8uc29ydCgpKSxvfXZhciBCZz17dG91Y2hzdGFydDoxLHRvdWNobW92ZToyLHRvdWNoZW5kOjQsdG91Y2hjYW5jZWw6OH0sSWc9XCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbFwiLHpnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgaTtyZXR1cm4gZS5wcm90b3R5cGUuZXZUYXJnZXQ9SWcsKGk9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXMpLnRhcmdldElkcz17fSxpfXJldHVybiBCdihlLHQpLGUucHJvdG90eXBlLmhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9QmdbdC50eXBlXSxpPUZnLmNhbGwodGhpcyx0LGUpO2kmJnRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOmlbMF0sY2hhbmdlZFBvaW50ZXJzOmlbMV0scG9pbnRlclR5cGU6dGcsc3JjRXZlbnQ6dH0pfSxlfSh4Zyk7ZnVuY3Rpb24gRmcodCxlKXt2YXIgaSxvLG49UGcodC50b3VjaGVzKSxyPXRoaXMudGFyZ2V0SWRzO2lmKDMmZSYmMT09PW4ubGVuZ3RoKXJldHVybiByW25bMF0uaWRlbnRpZmllcl09ITAsW24sbl07dmFyIHM9UGcodC5jaGFuZ2VkVG91Y2hlcyksYT1bXSxoPXRoaXMudGFyZ2V0O2lmKG89bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBsZyh0LnRhcmdldCxoKX0pKSwxPT09ZSlmb3IoaT0wO2k8by5sZW5ndGg7KXJbb1tpXS5pZGVudGlmaWVyXT0hMCxpKys7Zm9yKGk9MDtpPHMubGVuZ3RoOylyW3NbaV0uaWRlbnRpZmllcl0mJmEucHVzaChzW2ldKSwxMiZlJiZkZWxldGUgcltzW2ldLmlkZW50aWZpZXJdLGkrKztyZXR1cm4gYS5sZW5ndGg/W0RnKG8uY29uY2F0KGEpLFwiaWRlbnRpZmllclwiLCEwKSxhXTp2b2lkIDB9dmFyIE5nPXttb3VzZWRvd246MSxtb3VzZW1vdmU6Mixtb3VzZXVwOjR9LEFnPVwibW91c2Vkb3duXCIsUmc9XCJtb3VzZW1vdmUgbW91c2V1cFwiLGpnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgaSxvPWUucHJvdG90eXBlO3JldHVybiBvLmV2RWw9QWcsby5ldldpbj1SZywoaT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcykucHJlc3NlZD0hMSxpfXJldHVybiBCdihlLHQpLGUucHJvdG90eXBlLmhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9TmdbdC50eXBlXTsxJmUmJjA9PT10LmJ1dHRvbiYmKHRoaXMucHJlc3NlZD0hMCksMiZlJiYxIT09dC53aGljaCYmKGU9NCksdGhpcy5wcmVzc2VkJiYoNCZlJiYodGhpcy5wcmVzc2VkPSExKSx0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlcixlLHtwb2ludGVyczpbdF0sY2hhbmdlZFBvaW50ZXJzOlt0XSxwb2ludGVyVHlwZTplZyxzcmNFdmVudDp0fSkpfSxlfSh4Zyk7ZnVuY3Rpb24gTGcodCl7dmFyIGU9dC5jaGFuZ2VkUG9pbnRlcnNbMF07aWYoZS5pZGVudGlmaWVyPT09dGhpcy5wcmltYXJ5VG91Y2gpe3ZhciBpPXt4OmUuY2xpZW50WCx5OmUuY2xpZW50WX0sbz10aGlzLmxhc3RUb3VjaGVzO3RoaXMubGFzdFRvdWNoZXMucHVzaChpKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciB0PW8uaW5kZXhPZihpKTt0Pi0xJiZvLnNwbGljZSh0LDEpfSksMjUwMCl9fWZ1bmN0aW9uIEhnKHQsZSl7MSZ0Pyh0aGlzLnByaW1hcnlUb3VjaD1lLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyLExnLmNhbGwodGhpcyxlKSk6MTImdCYmTGcuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIFdnKHQpe2Zvcih2YXIgZT10LnNyY0V2ZW50LmNsaWVudFgsaT10LnNyY0V2ZW50LmNsaWVudFksbz0wO288dGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7bysrKXt2YXIgbj10aGlzLmxhc3RUb3VjaGVzW29dLHI9TWF0aC5hYnMoZS1uLngpLHM9TWF0aC5hYnMoaS1uLnkpO2lmKHI8PTI1JiZzPD0yNSlyZXR1cm4hMH1yZXR1cm4hMX12YXIgVmc9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3ZhciBvO3JldHVybihvPXQuY2FsbCh0aGlzLGUsaSl8fHRoaXMpLmhhbmRsZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkucG9pbnRlclR5cGU9PT10ZyxyPWkucG9pbnRlclR5cGU9PT1lZztpZighKHImJmkuc291cmNlQ2FwYWJpbGl0aWVzJiZpLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSl7aWYobilIZy5jYWxsKEl2KEl2KG8pKSxlLGkpO2Vsc2UgaWYociYmV2cuY2FsbChJdihJdihvKSksaSkpcmV0dXJuO28uY2FsbGJhY2sodCxlLGkpfX0sby50b3VjaD1uZXcgemcoby5tYW5hZ2VyLG8uaGFuZGxlciksby5tb3VzZT1uZXcgamcoby5tYW5hZ2VyLG8uaGFuZGxlciksby5wcmltYXJ5VG91Y2g9bnVsbCxvLmxhc3RUb3VjaGVzPVtdLG99cmV0dXJuIEJ2KGUsdCksZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudG91Y2guZGVzdHJveSgpLHRoaXMubW91c2UuZGVzdHJveSgpfSxlfSh4Zyl9KCk7ZnVuY3Rpb24gcWcodCxlLGkpe3JldHVybiEhQXJyYXkuaXNBcnJheSh0KSYmKHNnKHQsaVtlXSxpKSwhMCl9dmFyIFVnPTMyLFlnPTE7ZnVuY3Rpb24gWGcodCxlKXt2YXIgaT1lLm1hbmFnZXI7cmV0dXJuIGk/aS5nZXQodCk6dH1mdW5jdGlvbiBHZyh0KXtyZXR1cm4gMTYmdD9cImNhbmNlbFwiOjgmdD9cImVuZFwiOjQmdD9cIm1vdmVcIjoyJnQ/XCJzdGFydFwiOlwiXCJ9dmFyIEtnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD17fSksdGhpcy5vcHRpb25zPUR2KHtlbmFibGU6ITB9LHQpLHRoaXMuaWQ9WWcrKyx0aGlzLm1hbmFnZXI9bnVsbCx0aGlzLnN0YXRlPTEsdGhpcy5zaW11bHRhbmVvdXM9e30sdGhpcy5yZXF1aXJlRmFpbD1bXX12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5zZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIEZ2KHRoaXMub3B0aW9ucyx0KSx0aGlzLm1hbmFnZXImJnRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKSx0aGlzfSxlLnJlY29nbml6ZVdpdGg9ZnVuY3Rpb24odCl7aWYocWcodCxcInJlY29nbml6ZVdpdGhcIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLnNpbXVsdGFuZW91cztyZXR1cm4gZVsodD1YZyh0LHRoaXMpKS5pZF18fChlW3QuaWRdPXQsdC5yZWNvZ25pemVXaXRoKHRoaXMpKSx0aGlzfSxlLmRyb3BSZWNvZ25pemVXaXRoPWZ1bmN0aW9uKHQpe3JldHVybiBxZyh0LFwiZHJvcFJlY29nbml6ZVdpdGhcIix0aGlzKXx8KHQ9WGcodCx0aGlzKSxkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbdC5pZF0pLHRoaXN9LGUucmVxdWlyZUZhaWx1cmU9ZnVuY3Rpb24odCl7aWYocWcodCxcInJlcXVpcmVGYWlsdXJlXCIsdGhpcykpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5yZXF1aXJlRmFpbDtyZXR1cm4tMT09PUVnKGUsdD1YZyh0LHRoaXMpKSYmKGUucHVzaCh0KSx0LnJlcXVpcmVGYWlsdXJlKHRoaXMpKSx0aGlzfSxlLmRyb3BSZXF1aXJlRmFpbHVyZT1mdW5jdGlvbih0KXtpZihxZyh0LFwiZHJvcFJlcXVpcmVGYWlsdXJlXCIsdGhpcykpcmV0dXJuIHRoaXM7dD1YZyh0LHRoaXMpO3ZhciBlPUVnKHRoaXMucmVxdWlyZUZhaWwsdCk7cmV0dXJuIGU+LTEmJnRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGUsMSksdGhpc30sZS5oYXNSZXF1aXJlRmFpbHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGg+MH0sZS5jYW5SZWNvZ25pemVXaXRoPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5zaW11bHRhbmVvdXNbdC5pZF19LGUuZW1pdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dGhpcy5zdGF0ZTtmdW5jdGlvbiBvKGkpe2UubWFuYWdlci5lbWl0KGksdCl9aTw4JiZvKGUub3B0aW9ucy5ldmVudCtHZyhpKSksbyhlLm9wdGlvbnMuZXZlbnQpLHQuYWRkaXRpb25hbEV2ZW50JiZvKHQuYWRkaXRpb25hbEV2ZW50KSxpPj04JiZvKGUub3B0aW9ucy5ldmVudCtHZyhpKSl9LGUudHJ5RW1pdD1mdW5jdGlvbih0KXtpZih0aGlzLmNhbkVtaXQoKSlyZXR1cm4gdGhpcy5lbWl0KHQpO3RoaXMuc3RhdGU9VWd9LGUuY2FuRW1pdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5yZXF1aXJlRmFpbC5sZW5ndGg7KXtpZighKDMzJnRoaXMucmVxdWlyZUZhaWxbdF0uc3RhdGUpKXJldHVybiExO3QrK31yZXR1cm4hMH0sZS5yZWNvZ25pemU9ZnVuY3Rpb24odCl7dmFyIGU9RnYoe30sdCk7aWYoIWFnKHRoaXMub3B0aW9ucy5lbmFibGUsW3RoaXMsZV0pKXJldHVybiB0aGlzLnJlc2V0KCksdm9pZCh0aGlzLnN0YXRlPVVnKTs1NiZ0aGlzLnN0YXRlJiYodGhpcy5zdGF0ZT0xKSx0aGlzLnN0YXRlPXRoaXMucHJvY2VzcyhlKSwzMCZ0aGlzLnN0YXRlJiZ0aGlzLnRyeUVtaXQoZSl9LGUucHJvY2Vzcz1mdW5jdGlvbih0KXt9LGUuZ2V0VG91Y2hBY3Rpb249ZnVuY3Rpb24oKXt9LGUucmVzZXQ9ZnVuY3Rpb24oKXt9LHR9KCksJGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLChpPXQuY2FsbCh0aGlzLER2KHtldmVudDpcInRhcFwiLHBvaW50ZXJzOjEsdGFwczoxLGludGVydmFsOjMwMCx0aW1lOjI1MCx0aHJlc2hvbGQ6OSxwb3NUaHJlc2hvbGQ6MTB9LGUpKXx8dGhpcykucFRpbWU9ITEsaS5wQ2VudGVyPSExLGkuX3RpbWVyPW51bGwsaS5faW5wdXQ9bnVsbCxpLmNvdW50PTAsaX1CdihlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuW1l2XX0saS5wcm9jZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT10aGlzLm9wdGlvbnMsbz10LnBvaW50ZXJzLmxlbmd0aD09PWkucG9pbnRlcnMsbj10LmRpc3RhbmNlPGkudGhyZXNob2xkLHI9dC5kZWx0YVRpbWU8aS50aW1lO2lmKHRoaXMucmVzZXQoKSwxJnQuZXZlbnRUeXBlJiYwPT09dGhpcy5jb3VudClyZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO2lmKG4mJnImJm8pe2lmKDQhPT10LmV2ZW50VHlwZSlyZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO3ZhciBzPSF0aGlzLnBUaW1lfHx0LnRpbWVTdGFtcC10aGlzLnBUaW1lPGkuaW50ZXJ2YWwsYT0hdGhpcy5wQ2VudGVyfHxmZyh0aGlzLnBDZW50ZXIsdC5jZW50ZXIpPGkucG9zVGhyZXNob2xkO2lmKHRoaXMucFRpbWU9dC50aW1lU3RhbXAsdGhpcy5wQ2VudGVyPXQuY2VudGVyLGEmJnM/dGhpcy5jb3VudCs9MTp0aGlzLmNvdW50PTEsdGhpcy5faW5wdXQ9dCwwPT09dGhpcy5jb3VudCVpLnRhcHMpcmV0dXJuIHRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCk/KHRoaXMuX3RpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5zdGF0ZT04LGUudHJ5RW1pdCgpfSksaS5pbnRlcnZhbCksMik6OH1yZXR1cm4gVWd9LGkuZmFpbFRpbWVvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl90aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3Quc3RhdGU9VWd9KSx0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpLFVnfSxpLnJlc2V0PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKX0saS5lbWl0PWZ1bmN0aW9uKCl7OD09PXRoaXMuc3RhdGUmJih0aGlzLl9pbnB1dC50YXBDb3VudD10aGlzLmNvdW50LHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0aGlzLl9pbnB1dCkpfSxlfShLZyksWmc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHQuY2FsbCh0aGlzLER2KHtwb2ludGVyczoxfSxlKSl8fHRoaXN9QnYoZSx0KTt2YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5hdHRyVGVzdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMucG9pbnRlcnM7cmV0dXJuIDA9PT1lfHx0LnBvaW50ZXJzLmxlbmd0aD09PWV9LGkucHJvY2Vzcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLGk9dC5ldmVudFR5cGUsbz02JmUsbj10aGlzLmF0dHJUZXN0KHQpO3JldHVybiBvJiYoOCZpfHwhbik/MTZ8ZTpvfHxuPzQmaT84fGU6MiZlPzR8ZToyOlVnfSxlfShLZyk7ZnVuY3Rpb24gUWcodCl7cmV0dXJuIHQ9PT1pZz9cImRvd25cIjo4PT09dD9cInVwXCI6Mj09PXQ/XCJsZWZ0XCI6ND09PXQ/XCJyaWdodFwiOlwiXCJ9dmFyIEpnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSwoaT10LmNhbGwodGhpcyxEdih7ZXZlbnQ6XCJwYW5cIix0aHJlc2hvbGQ6MTAscG9pbnRlcnM6MSxkaXJlY3Rpb246MzB9LGUpKXx8dGhpcykucFg9bnVsbCxpLnBZPW51bGwsaX1CdihlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmRpcmVjdGlvbixlPVtdO3JldHVybiA2JnQmJmUucHVzaChLdiksdCZvZyYmZS5wdXNoKEd2KSxlfSxpLmRpcmVjdGlvblRlc3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9ITAsbz10LmRpc3RhbmNlLG49dC5kaXJlY3Rpb24scj10LmRlbHRhWCxzPXQuZGVsdGFZO3JldHVybiBuJmUuZGlyZWN0aW9ufHwoNiZlLmRpcmVjdGlvbj8obj0wPT09cj8xOnI8MD8yOjQsaT1yIT09dGhpcy5wWCxvPU1hdGguYWJzKHQuZGVsdGFYKSk6KG49MD09PXM/MTpzPDA/ODppZyxpPXMhPT10aGlzLnBZLG89TWF0aC5hYnModC5kZWx0YVkpKSksdC5kaXJlY3Rpb249bixpJiZvPmUudGhyZXNob2xkJiZuJmUuZGlyZWN0aW9ufSxpLmF0dHJUZXN0PWZ1bmN0aW9uKHQpe3JldHVybiBaZy5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLHQpJiYoMiZ0aGlzLnN0YXRlfHwhKDImdGhpcy5zdGF0ZSkmJnRoaXMuZGlyZWN0aW9uVGVzdCh0KSl9LGkuZW1pdD1mdW5jdGlvbihlKXt0aGlzLnBYPWUuZGVsdGFYLHRoaXMucFk9ZS5kZWx0YVk7dmFyIGk9UWcoZS5kaXJlY3Rpb24pO2kmJihlLmFkZGl0aW9uYWxFdmVudD10aGlzLm9wdGlvbnMuZXZlbnQraSksdC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsZSl9LGV9KFpnKSx0eT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksdC5jYWxsKHRoaXMsRHYoe2V2ZW50Olwic3dpcGVcIix0aHJlc2hvbGQ6MTAsdmVsb2NpdHk6LjMsZGlyZWN0aW9uOjMwLHBvaW50ZXJzOjF9LGUpKXx8dGhpc31CdihlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIEpnLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpfSxpLmF0dHJUZXN0PWZ1bmN0aW9uKGUpe3ZhciBpLG89dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtyZXR1cm4gMzAmbz9pPWUub3ZlcmFsbFZlbG9jaXR5OjYmbz9pPWUub3ZlcmFsbFZlbG9jaXR5WDpvJm9nJiYoaT1lLm92ZXJhbGxWZWxvY2l0eVkpLHQucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcyxlKSYmbyZlLm9mZnNldERpcmVjdGlvbiYmZS5kaXN0YW5jZT50aGlzLm9wdGlvbnMudGhyZXNob2xkJiZlLm1heFBvaW50ZXJzPT09dGhpcy5vcHRpb25zLnBvaW50ZXJzJiZqdihpKT50aGlzLm9wdGlvbnMudmVsb2NpdHkmJjQmZS5ldmVudFR5cGV9LGkuZW1pdD1mdW5jdGlvbih0KXt2YXIgZT1RZyh0Lm9mZnNldERpcmVjdGlvbik7ZSYmdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K2UsdCksdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHQpfSxlfShaZyksZXk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHQuY2FsbCh0aGlzLER2KHtldmVudDpcInBpbmNoXCIsdGhyZXNob2xkOjAscG9pbnRlcnM6Mn0sZSkpfHx0aGlzfUJ2KGUsdCk7dmFyIGk9ZS5wcm90b3R5cGU7cmV0dXJuIGkuZ2V0VG91Y2hBY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm5bWHZdfSxpLmF0dHJUZXN0PWZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsZSkmJihNYXRoLmFicyhlLnNjYWxlLTEpPnRoaXMub3B0aW9ucy50aHJlc2hvbGR8fDImdGhpcy5zdGF0ZSl9LGkuZW1pdD1mdW5jdGlvbihlKXtpZigxIT09ZS5zY2FsZSl7dmFyIGk9ZS5zY2FsZTwxP1wiaW5cIjpcIm91dFwiO2UuYWRkaXRpb25hbEV2ZW50PXRoaXMub3B0aW9ucy5ldmVudCtpfXQucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLGUpfSxlfShaZyksaXk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHQuY2FsbCh0aGlzLER2KHtldmVudDpcInJvdGF0ZVwiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGUpKXx8dGhpc31CdihlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuW1h2XX0saS5hdHRyVGVzdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLGUpJiYoTWF0aC5hYnMoZS5yb3RhdGlvbik+dGhpcy5vcHRpb25zLnRocmVzaG9sZHx8MiZ0aGlzLnN0YXRlKX0sZX0oWmcpLG95PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSwoaT10LmNhbGwodGhpcyxEdih7ZXZlbnQ6XCJwcmVzc1wiLHBvaW50ZXJzOjEsdGltZToyNTEsdGhyZXNob2xkOjl9LGUpKXx8dGhpcykuX3RpbWVyPW51bGwsaS5faW5wdXQ9bnVsbCxpfUJ2KGUsdCk7dmFyIGk9ZS5wcm90b3R5cGU7cmV0dXJuIGkuZ2V0VG91Y2hBY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm5bVXZdfSxpLnByb2Nlc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMub3B0aW9ucyxvPXQucG9pbnRlcnMubGVuZ3RoPT09aS5wb2ludGVycyxuPXQuZGlzdGFuY2U8aS50aHJlc2hvbGQscj10LmRlbHRhVGltZT5pLnRpbWU7aWYodGhpcy5faW5wdXQ9dCwhbnx8IW98fDEyJnQuZXZlbnRUeXBlJiYhcil0aGlzLnJlc2V0KCk7ZWxzZSBpZigxJnQuZXZlbnRUeXBlKXRoaXMucmVzZXQoKSx0aGlzLl90aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uuc3RhdGU9OCxlLnRyeUVtaXQoKX0pLGkudGltZSk7ZWxzZSBpZig0JnQuZXZlbnRUeXBlKXJldHVybiA4O3JldHVybiBVZ30saS5yZXNldD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lcil9LGkuZW1pdD1mdW5jdGlvbih0KXs4PT09dGhpcy5zdGF0ZSYmKHQmJjQmdC5ldmVudFR5cGU/dGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K1widXBcIix0KToodGhpcy5faW5wdXQudGltZVN0YW1wPUx2KCksdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHRoaXMuX2lucHV0KSkpfSxlfShLZyksbnk9e2RvbUV2ZW50czohMSx0b3VjaEFjdGlvbjpxdixlbmFibGU6ITAsaW5wdXRUYXJnZXQ6bnVsbCxpbnB1dENsYXNzOm51bGwsY3NzUHJvcHM6e3VzZXJTZWxlY3Q6XCJub25lXCIsdG91Y2hTZWxlY3Q6XCJub25lXCIsdG91Y2hDYWxsb3V0Olwibm9uZVwiLGNvbnRlbnRab29taW5nOlwibm9uZVwiLHVzZXJEcmFnOlwibm9uZVwiLHRhcEhpZ2hsaWdodENvbG9yOlwicmdiYSgwLDAsMCwwKVwifX0scnk9W1tpeSx7ZW5hYmxlOiExfV0sW2V5LHtlbmFibGU6ITF9LFtcInJvdGF0ZVwiXV0sW3R5LHtkaXJlY3Rpb246Nn1dLFtKZyx7ZGlyZWN0aW9uOjZ9LFtcInN3aXBlXCJdXSxbJGddLFskZyx7ZXZlbnQ6XCJkb3VibGV0YXBcIix0YXBzOjJ9LFtcInRhcFwiXV0sW295XV07ZnVuY3Rpb24gc3kodCxlKXt2YXIgaSxvPXQuZWxlbWVudDtvLnN0eWxlJiYoc2codC5vcHRpb25zLmNzc1Byb3BzLChmdW5jdGlvbihuLHIpe2k9SHYoby5zdHlsZSxyKSxlPyh0Lm9sZENzc1Byb3BzW2ldPW8uc3R5bGVbaV0sby5zdHlsZVtpXT1uKTpvLnN0eWxlW2ldPXQub2xkQ3NzUHJvcHNbaV18fFwiXCJ9KSksZXx8KHQub2xkQ3NzUHJvcHM9e30pKX12YXIgYXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIGksbz10aGlzO3RoaXMub3B0aW9ucz1Gdih7fSxueSxlfHx7fSksdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0PXRoaXMub3B0aW9ucy5pbnB1dFRhcmdldHx8dCx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuc2Vzc2lvbj17fSx0aGlzLnJlY29nbml6ZXJzPVtdLHRoaXMub2xkQ3NzUHJvcHM9e30sdGhpcy5lbGVtZW50PXQsdGhpcy5pbnB1dD1uZXcoKGk9dGhpcykub3B0aW9ucy5pbnB1dENsYXNzfHwoUXY/TWc6SnY/emc6WnY/Vmc6amcpKShpLG1nKSx0aGlzLnRvdWNoQWN0aW9uPW5ldyBkZyh0aGlzLHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbiksc3kodGhpcywhMCksc2codGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLChmdW5jdGlvbih0KXt2YXIgZT1vLmFkZChuZXcgdFswXSh0WzFdKSk7dFsyXSYmZS5yZWNvZ25pemVXaXRoKHRbMl0pLHRbM10mJmUucmVxdWlyZUZhaWx1cmUodFszXSl9KSx0aGlzKX12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5zZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIEZ2KHRoaXMub3B0aW9ucyx0KSx0LnRvdWNoQWN0aW9uJiZ0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHQuaW5wdXRUYXJnZXQmJih0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmlucHV0LnRhcmdldD10LmlucHV0VGFyZ2V0LHRoaXMuaW5wdXQuaW5pdCgpKSx0aGlzfSxlLnN0b3A9ZnVuY3Rpb24odCl7dGhpcy5zZXNzaW9uLnN0b3BwZWQ9dD8yOjF9LGUucmVjb2duaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2Vzc2lvbjtpZighZS5zdG9wcGVkKXt2YXIgaTt0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyh0KTt2YXIgbz10aGlzLnJlY29nbml6ZXJzLG49ZS5jdXJSZWNvZ25pemVyOyghbnx8biYmOCZuLnN0YXRlKSYmKGUuY3VyUmVjb2duaXplcj1udWxsLG49bnVsbCk7Zm9yKHZhciByPTA7cjxvLmxlbmd0aDspaT1vW3JdLDI9PT1lLnN0b3BwZWR8fG4mJmkhPT1uJiYhaS5jYW5SZWNvZ25pemVXaXRoKG4pP2kucmVzZXQoKTppLnJlY29nbml6ZSh0KSwhbiYmMTQmaS5zdGF0ZSYmKGUuY3VyUmVjb2duaXplcj1pLG49aSkscisrfX0sZS5nZXQ9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEtnKXJldHVybiB0O2Zvcih2YXIgZT10aGlzLnJlY29nbml6ZXJzLGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldLm9wdGlvbnMuZXZlbnQ9PT10KXJldHVybiBlW2ldO3JldHVybiBudWxsfSxlLmFkZD1mdW5jdGlvbih0KXtpZihxZyh0LFwiYWRkXCIsdGhpcykpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5nZXQodC5vcHRpb25zLmV2ZW50KTtyZXR1cm4gZSYmdGhpcy5yZW1vdmUoZSksdGhpcy5yZWNvZ25pemVycy5wdXNoKHQpLHQubWFuYWdlcj10aGlzLHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCksdH0sZS5yZW1vdmU9ZnVuY3Rpb24odCl7aWYocWcodCxcInJlbW92ZVwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuZ2V0KHQpO2lmKHQpe3ZhciBpPXRoaXMucmVjb2duaXplcnMsbz1FZyhpLGUpOy0xIT09byYmKGkuc3BsaWNlKG8sMSksdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKSl9cmV0dXJuIHRoaXN9LGUub249ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10fHx2b2lkIDA9PT1lKXJldHVybiB0aGlzO3ZhciBpPXRoaXMuaGFuZGxlcnM7cmV0dXJuIHNnKGJnKHQpLChmdW5jdGlvbih0KXtpW3RdPWlbdF18fFtdLGlbdF0ucHVzaChlKX0pKSx0aGlzfSxlLm9mZj1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXM7dmFyIGk9dGhpcy5oYW5kbGVycztyZXR1cm4gc2coYmcodCksKGZ1bmN0aW9uKHQpe2U/aVt0XSYmaVt0XS5zcGxpY2UoRWcoaVt0XSxlKSwxKTpkZWxldGUgaVt0XX0pKSx0aGlzfSxlLmVtaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbnMuZG9tRXZlbnRzJiZmdW5jdGlvbih0LGUpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7aS5pbml0RXZlbnQodCwhMCwhMCksaS5nZXN0dXJlPWUsZS50YXJnZXQuZGlzcGF0Y2hFdmVudChpKX0odCxlKTt2YXIgaT10aGlzLmhhbmRsZXJzW3RdJiZ0aGlzLmhhbmRsZXJzW3RdLnNsaWNlKCk7aWYoaSYmaS5sZW5ndGgpe2UudHlwZT10LGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCl9O2Zvcih2YXIgbz0wO288aS5sZW5ndGg7KWlbb10oZSksbysrfX0sZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiZzeSh0aGlzLCExKSx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuc2Vzc2lvbj17fSx0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmVsZW1lbnQ9bnVsbH0sdH0oKSxoeT17dG91Y2hzdGFydDoxLHRvdWNobW92ZToyLHRvdWNoZW5kOjQsdG91Y2hjYW5jZWw6OH0sZHk9XCJ0b3VjaHN0YXJ0XCIsbHk9XCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbFwiLGN5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgaSxvPWUucHJvdG90eXBlO3JldHVybiBvLmV2VGFyZ2V0PWR5LG8uZXZXaW49bHksKGk9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXMpLnN0YXJ0ZWQ9ITEsaX1yZXR1cm4gQnYoZSx0KSxlLnByb3RvdHlwZS5oYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciBlPWh5W3QudHlwZV07aWYoMT09PWUmJih0aGlzLnN0YXJ0ZWQ9ITApLHRoaXMuc3RhcnRlZCl7dmFyIGk9dXkuY2FsbCh0aGlzLHQsZSk7MTImZSYmaVswXS5sZW5ndGgtaVsxXS5sZW5ndGg9PTAmJih0aGlzLnN0YXJ0ZWQ9ITEpLHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOmlbMF0sY2hhbmdlZFBvaW50ZXJzOmlbMV0scG9pbnRlclR5cGU6dGcsc3JjRXZlbnQ6dH0pfX0sZX0oeGcpO2Z1bmN0aW9uIHV5KHQsZSl7dmFyIGk9UGcodC50b3VjaGVzKSxvPVBnKHQuY2hhbmdlZFRvdWNoZXMpO3JldHVybiAxMiZlJiYoaT1EZyhpLmNvbmNhdChvKSxcImlkZW50aWZpZXJcIiwhMCkpLFtpLG9dfWZ1bmN0aW9uIGZ5KHQsZSxpKXt2YXIgbz1cIkRFUFJFQ0FURUQgTUVUSE9EOiBcIitlK1wiXFxuXCIraStcIiBBVCBcXG5cIjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1uZXcgRXJyb3IoXCJnZXQtc3RhY2stdHJhY2VcIiksaT1lJiZlLnN0YWNrP2Uuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLFwiXCIpLnJlcGxhY2UoL15cXHMrYXRcXHMrL2dtLFwiXCIpLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLFwie2Fub255bW91c30oKUBcIik6XCJVbmtub3duIFN0YWNrIFRyYWNlXCIsbj13aW5kb3cuY29uc29sZSYmKHdpbmRvdy5jb25zb2xlLndhcm58fHdpbmRvdy5jb25zb2xlLmxvZyk7cmV0dXJuIG4mJm4uY2FsbCh3aW5kb3cuY29uc29sZSxvLGkpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX12YXIgcHk9ZnkoKGZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89T2JqZWN0LmtleXMoZSksbj0wO248by5sZW5ndGg7KSghaXx8aSYmdm9pZCAwPT09dFtvW25dXSkmJih0W29bbl1dPWVbb1tuXV0pLG4rKztyZXR1cm4gdH0pLFwiZXh0ZW5kXCIsXCJVc2UgYGFzc2lnbmAuXCIpLHZ5PWZ5KChmdW5jdGlvbih0LGUpe3JldHVybiBweSh0LGUsITApfSksXCJtZXJnZVwiLFwiVXNlIGBhc3NpZ25gLlwiKTtmdW5jdGlvbiBneSh0LGUsaSl7dmFyIG8sbj1lLnByb3RvdHlwZTsobz10LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4pKS5jb25zdHJ1Y3Rvcj10LG8uX3N1cGVyPW4saSYmRnYobyxpKX1mdW5jdGlvbiB5eSh0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19dmFyIG15PWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLG5ldyBheSh0LER2KHtyZWNvZ25pemVyczpyeS5jb25jYXQoKX0sZSkpfTtyZXR1cm4gdC5WRVJTSU9OPVwiMi4wLjE3LXJjXCIsdC5ESVJFQ1RJT05fQUxMPTMwLHQuRElSRUNUSU9OX0RPV049aWcsdC5ESVJFQ1RJT05fTEVGVD0yLHQuRElSRUNUSU9OX1JJR0hUPTQsdC5ESVJFQ1RJT05fVVA9OCx0LkRJUkVDVElPTl9IT1JJWk9OVEFMPTYsdC5ESVJFQ1RJT05fVkVSVElDQUw9b2csdC5ESVJFQ1RJT05fTk9ORT0xLHQuRElSRUNUSU9OX0RPV049aWcsdC5JTlBVVF9TVEFSVD0xLHQuSU5QVVRfTU9WRT0yLHQuSU5QVVRfRU5EPTQsdC5JTlBVVF9DQU5DRUw9OCx0LlNUQVRFX1BPU1NJQkxFPTEsdC5TVEFURV9CRUdBTj0yLHQuU1RBVEVfQ0hBTkdFRD00LHQuU1RBVEVfRU5ERUQ9OCx0LlNUQVRFX1JFQ09HTklaRUQ9OCx0LlNUQVRFX0NBTkNFTExFRD0xNix0LlNUQVRFX0ZBSUxFRD1VZyx0Lk1hbmFnZXI9YXksdC5JbnB1dD14Zyx0LlRvdWNoQWN0aW9uPWRnLHQuVG91Y2hJbnB1dD16Zyx0Lk1vdXNlSW5wdXQ9amcsdC5Qb2ludGVyRXZlbnRJbnB1dD1NZyx0LlRvdWNoTW91c2VJbnB1dD1WZyx0LlNpbmdsZVRvdWNoSW5wdXQ9Y3ksdC5SZWNvZ25pemVyPUtnLHQuQXR0clJlY29nbml6ZXI9WmcsdC5UYXA9JGcsdC5QYW49SmcsdC5Td2lwZT10eSx0LlBpbmNoPWV5LHQuUm90YXRlPWl5LHQuUHJlc3M9b3ksdC5vbj13Zyx0Lm9mZj1rZyx0LmVhY2g9c2csdC5tZXJnZT12eSx0LmV4dGVuZD1weSx0LmJpbmRGbj15eSx0LmFzc2lnbj1Gdix0LmluaGVyaXQ9Z3ksdC5iaW5kRm49eXksdC5wcmVmaXhlZD1Idix0LnRvQXJyYXk9UGcsdC5pbkFycmF5PUVnLHQudW5pcXVlQXJyYXk9RGcsdC5zcGxpdFN0cj1iZyx0LmJvb2xPckZuPWFnLHQuaGFzUGFyZW50PWxnLHQuYWRkRXZlbnRMaXN0ZW5lcnM9d2csdC5yZW1vdmVFdmVudExpc3RlbmVycz1rZyx0LmRlZmF1bHRzPUZ2KHt9LG55LHtwcmVzZXQ6cnl9KSx0fSgpLGJ5PW15O2Z1bmN0aW9uIHd5KHQsZSl7dmFyIGk9dm9pZCAwIT09dHUmJm9oKHQpfHx0W1wiQEBpdGVyYXRvclwiXTtpZighaSl7aWYoaHUodCl8fChpPWZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoIXQpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBreSh0LGUpO3ZhciBvPWF1KGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5jYWxsKGksOCwtMSk7XCJPYmplY3RcIj09PW8mJnQuY29uc3RydWN0b3ImJihvPXQuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW98fFwiU2V0XCI9PT1vKXJldHVybiBqYSh0KTtpZihcIkFyZ3VtZW50c1wiPT09b3x8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobykpcmV0dXJuIGt5KHQsZSl9KHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtpJiYodD1pKTt2YXIgbz0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiBvPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtvKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgcixzPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtpPWkuY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PWkubmV4dCgpO3JldHVybiBzPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe2E9ITAscj10fSxmOmZ1bmN0aW9uKCl7dHJ5e3N8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyByfX19fWZ1bmN0aW9uIGt5KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBpPTAsbz1uZXcgQXJyYXkoZSk7aTxlO2krKylvW2ldPXRbaV07cmV0dXJuIG99ZnVuY3Rpb24gX3koKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4geHkoZS5sZW5ndGg/ZTpbeHUoKV0pfWZ1bmN0aW9uIHh5KHQpe3ZhciBlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PUV5KCksZT10KFwiIFwiKSxpPXQoXCIgXCIpLG89dChcIiBcIiksbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspKGUtPXQobjwwfHxhcmd1bWVudHMubGVuZ3RoPD1uP3ZvaWQgMDphcmd1bWVudHNbbl0pKTwwJiYoZSs9MSksKGktPXQobjwwfHxhcmd1bWVudHMubGVuZ3RoPD1uP3ZvaWQgMDphcmd1bWVudHNbbl0pKTwwJiYoaSs9MSksKG8tPXQobjwwfHxhcmd1bWVudHMubGVuZ3RoPD1uP3ZvaWQgMDphcmd1bWVudHNbbl0pKTwwJiYobys9MSk7cmV0dXJuW2UsaSxvXX0odCksaT0kYyhlLDMpLG89aVswXSxuPWlbMV0scj1pWzJdLHM9MSxhPWZ1bmN0aW9uKCl7dmFyIHQ9MjA5MTYzOSpvKzIuMzI4MzA2NDM2NTM4Njk2M2UtMTAqcztyZXR1cm4gbz1uLG49cixyPXQtKHM9MHx0KX07cmV0dXJuIGEudWludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTYqYSgpfSxhLmZyYWN0NTM9ZnVuY3Rpb24oKXtyZXR1cm4gYSgpKzExMTAyMjMwMjQ2MjUxNTY1ZS0zMiooMjA5NzE1MiphKCl8MCl9LGEuYWxnb3JpdGhtPVwiQWxlYVwiLGEuc2VlZD10LGEudmVyc2lvbj1cIjAuOVwiLGF9ZnVuY3Rpb24gRXkoKXt2YXIgdD00MDIyODcxMTk3O3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIGk9ZS50b1N0cmluZygpLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIG49LjAyNTE5NjAzMjgyNDE2OTM4Kih0Kz1pLmNoYXJDb2RlQXQobykpO24tPXQ9bj4+PjAsdD0obio9dCk+Pj4wLHQrPTQyOTQ5NjcyOTYqKG4tPXQpfXJldHVybiAyLjMyODMwNjQzNjUzODY5NjNlLTEwKih0Pj4+MCl9fXR1KFwiREVMRVRFXCIpO3ZhciBPeT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdy5IYW1tZXJ8fGJ5OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXt9O3JldHVybntvbjp0LG9mZjp0LGRlc3Ryb3k6dCxlbWl0OnQsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3NldDp0fX19fSgpfTtmdW5jdGlvbiBDeSh0KXt2YXIgZSxpPXRoaXM7dGhpcy5fY2xlYW51cFF1ZXVlPVtdLHRoaXMuYWN0aXZlPSExLHRoaXMuX2RvbT17Y29udGFpbmVyOnQsb3ZlcmxheTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpfSx0aGlzLl9kb20ub3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwidmlzLW92ZXJsYXlcIiksdGhpcy5fZG9tLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9kb20ub3ZlcmxheSksdGhpcy5fY2xlYW51cFF1ZXVlLnB1c2goKGZ1bmN0aW9uKCl7aS5fZG9tLm92ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLl9kb20ub3ZlcmxheSl9KSk7dmFyIG89T3kodGhpcy5fZG9tLm92ZXJsYXkpO28ub24oXCJ0YXBcIixGbyhlPXRoaXMuX29uVGFwT3ZlcmxheSkuY2FsbChlLHRoaXMpKSx0aGlzLl9jbGVhbnVwUXVldWUucHVzaCgoZnVuY3Rpb24oKXtvLmRlc3Ryb3koKX0pKTt2YXIgbj1bXCJ0YXBcIixcImRvdWJsZXRhcFwiLFwicHJlc3NcIixcInBpbmNoXCIsXCJwYW5cIixcInBhbnN0YXJ0XCIsXCJwYW5tb3ZlXCIsXCJwYW5lbmRcIl07RnUobikuY2FsbChuLChmdW5jdGlvbih0KXtvLm9uKHQsKGZ1bmN0aW9uKHQpe3Quc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCl9KSl9KSksZG9jdW1lbnQmJmRvY3VtZW50LmJvZHkmJih0aGlzLl9vbkNsaWNrPWZ1bmN0aW9uKGUpeyhmdW5jdGlvbih0LGUpe2Zvcig7dDspe2lmKHQ9PT1lKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfSkoZS50YXJnZXQsdCl8fGkuZGVhY3RpdmF0ZSgpfSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2spLHRoaXMuX2NsZWFudXBRdWV1ZS5wdXNoKChmdW5jdGlvbigpe2RvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaS5fb25DbGljayl9KSkpLHRoaXMuX2VzY0xpc3RlbmVyPWZ1bmN0aW9uKHQpeyhcImtleVwiaW4gdD9cIkVzY2FwZVwiPT09dC5rZXk6Mjc9PT10LmtleUNvZGUpJiZpLmRlYWN0aXZhdGUoKX19Vm8oQ3kucHJvdG90eXBlKSxDeS5jdXJyZW50PW51bGwsQ3kucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdCxlO3RoaXMuZGVhY3RpdmF0ZSgpO3ZhciBpLG89d3koVXUodD11ZihlPXRoaXMuX2NsZWFudXBRdWV1ZSkuY2FsbChlLDApKS5jYWxsKHQpKTt0cnl7Zm9yKG8ucygpOyEoaT1vLm4oKSkuZG9uZTspeygwLGkudmFsdWUpKCl9fWNhdGNoKHQpe28uZSh0KX1maW5hbGx5e28uZigpfX0sQ3kucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7Q3kuY3VycmVudCYmQ3kuY3VycmVudC5kZWFjdGl2YXRlKCksQ3kuY3VycmVudD10aGlzLHRoaXMuYWN0aXZlPSEwLHRoaXMuX2RvbS5vdmVybGF5LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5fZG9tLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidmlzLWFjdGl2ZVwiKSx0aGlzLmVtaXQoXCJjaGFuZ2VcIiksdGhpcy5lbWl0KFwiYWN0aXZhdGVcIiksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX2VzY0xpc3RlbmVyKX0sQ3kucHJvdG90eXBlLmRlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZT0hMSx0aGlzLl9kb20ub3ZlcmxheS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLl9kb20uY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXMtYWN0aXZlXCIpLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9lc2NMaXN0ZW5lciksdGhpcy5lbWl0KFwiY2hhbmdlXCIpLHRoaXMuZW1pdChcImRlYWN0aXZhdGVcIil9LEN5LnByb3RvdHlwZS5fb25UYXBPdmVybGF5PWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZhdGUoKSx0LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpfTt2YXIgU3k9L14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaSxUeT0vXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLE15PS9ecmdiXFwoICooMT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkgKiwgKigxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSAqLCAqKDE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pICpcXCkkL2ksUHk9L15yZ2JhXFwoICooMT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkgKiwgKigxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSAqLCAqKDE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pICosICooWzAxXXwwP1xcLlxcZCspICpcXCkkL2k7ZnVuY3Rpb24gRHkodCl7aWYodClmb3IoOyEwPT09dC5oYXNDaGlsZE5vZGVzKCk7KXt2YXIgZT10LmZpcnN0Q2hpbGQ7ZSYmKER5KGUpLHQucmVtb3ZlQ2hpbGQoZSkpfX1mdW5jdGlvbiBCeSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFN0cmluZ3x8XCJzdHJpbmdcIj09dHlwZW9mIHR9ZnVuY3Rpb24gSXkodCl7cmV0dXJuXCJvYmplY3RcIj09PVFjKHQpJiZudWxsIT09dH1mdW5jdGlvbiB6eSh0LGUsaSxvKXt2YXIgbj0hMTshMD09PW8mJihuPW51bGw9PT1lW2ldJiZ2b2lkIDAhPT10W2ldKSxuP2RlbGV0ZSB0W2ldOnRbaV09ZVtpXX1mdW5jdGlvbiBGeSh0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07Zm9yKHZhciBvIGluIHQpaWYodm9pZCAwIT09ZVtvXSlpZihudWxsPT09ZVtvXXx8XCJvYmplY3RcIiE9PVFjKGVbb10pKXp5KHQsZSxvLGkpO2Vsc2V7dmFyIG49dFtvXSxyPWVbb107SXkobikmJkl5KHIpJiZGeShuLHIsaSl9fWZ1bmN0aW9uIE55KHQsZSxpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdO2lmKGh1KGkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZFwiKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxyKSlpZihpW3JdJiZpW3JdLmNvbnN0cnVjdG9yPT09T2JqZWN0KXZvaWQgMD09PWVbcl0mJihlW3JdPXt9KSxlW3JdLmNvbnN0cnVjdG9yPT09T2JqZWN0P1J5KGVbcl0saVtyXSwhMSxvKTp6eShlLGkscixvKTtlbHNle2lmKGh1KGlbcl0pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZFwiKTt6eShlLGkscixvKX19cmV0dXJuIGV9ZnVuY3Rpb24gQXkodCxlLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107aWYoaHUoaSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kXCIpO2Zvcih2YXIgbiBpbiBpKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG4pJiYhemYodCkuY2FsbCh0LG4pKWlmKGlbbl0mJmlbbl0uY29uc3RydWN0b3I9PT1PYmplY3Qpdm9pZCAwPT09ZVtuXSYmKGVbbl09e30pLGVbbl0uY29uc3RydWN0b3I9PT1PYmplY3Q/UnkoZVtuXSxpW25dKTp6eShlLGksbixvKTtlbHNlIGlmKGh1KGlbbl0pKXtlW25dPVtdO2Zvcih2YXIgcj0wO3I8aVtuXS5sZW5ndGg7cisrKWVbbl0ucHVzaChpW25dW3JdKX1lbHNlIHp5KGUsaSxuLG8pO3JldHVybiBlfWZ1bmN0aW9uIFJ5KHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107Zm9yKHZhciBuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbil8fCEwPT09aSlpZihcIm9iamVjdFwiPT09UWMoZVtuXSkmJm51bGwhPT1lW25dJiZqZihlW25dKT09PU9iamVjdC5wcm90b3R5cGUpdm9pZCAwPT09dFtuXT90W25dPVJ5KHt9LGVbbl0saSk6XCJvYmplY3RcIj09PVFjKHRbbl0pJiZudWxsIT09dFtuXSYmamYodFtuXSk9PT1PYmplY3QucHJvdG90eXBlP1J5KHRbbl0sZVtuXSxpKTp6eSh0LGUsbixvKTtlbHNlIGlmKGh1KGVbbl0pKXt2YXIgcjt0W25dPWF1KHI9ZVtuXSkuY2FsbChyKX1lbHNlIHp5KHQsZSxuLG8pO3JldHVybiB0fWZ1bmN0aW9uIGp5KHQsZSl7dmFyIGk7cmV0dXJuIHN1KGk9W10pLmNhbGwoaSxKYyh0KSxbZV0pfWZ1bmN0aW9uIEx5KHQpe3JldHVybiBhdSh0KS5jYWxsKHQpfWZ1bmN0aW9uIEh5KHQpe3JldHVybiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcH1mdW5jdGlvbiBXeSh0LGUpe2lmKGh1KHQpKWZvcih2YXIgaT10Lmxlbmd0aCxvPTA7bzxpO28rKyllKHRbb10sbyx0KTtlbHNlIGZvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZlKHRbbl0sbix0KX1mdW5jdGlvbiBWeSh0KXt2YXIgZTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMzpjYXNlIDQ6cmV0dXJuKGU9VHkuZXhlYyh0KSk/e3I6X3AoZVsxXStlWzFdLDE2KSxnOl9wKGVbMl0rZVsyXSwxNiksYjpfcChlWzNdK2VbM10sMTYpfTpudWxsO2Nhc2UgNjpjYXNlIDc6cmV0dXJuKGU9U3kuZXhlYyh0KSk/e3I6X3AoZVsxXSwxNiksZzpfcChlWzJdLDE2KSxiOl9wKGVbM10sMTYpfTpudWxsO2RlZmF1bHQ6cmV0dXJuIG51bGx9fWZ1bmN0aW9uIHF5KHQsZSl7aWYoemYodCkuY2FsbCh0LFwicmdiYVwiKSlyZXR1cm4gdDtpZih6Zih0KS5jYWxsKHQsXCJyZ2JcIikpe3ZhciBpPXQuc3Vic3RyKHpwKHQpLmNhbGwodCxcIihcIikrMSkucmVwbGFjZShcIilcIixcIlwiKS5zcGxpdChcIixcIik7cmV0dXJuXCJyZ2JhKFwiK2lbMF0rXCIsXCIraVsxXStcIixcIitpWzJdK1wiLFwiK2UrXCIpXCJ9dmFyIG89VnkodCk7cmV0dXJuIG51bGw9PW8/dDpcInJnYmEoXCIrby5yK1wiLFwiK28uZytcIixcIitvLmIrXCIsXCIrZStcIilcIn1mdW5jdGlvbiBVeSh0LGUsaSl7dmFyIG87cmV0dXJuXCIjXCIrYXUobz0oKDE8PDI0KSsodDw8MTYpKyhlPDw4KStpKS50b1N0cmluZygxNikpLmNhbGwobywxKX1mdW5jdGlvbiBZeSh0LGUpe2lmKEJ5KHQpKXt2YXIgaT10O2lmKFp5KGkpKXt2YXIgbyxuPXZ1KG89aS5zdWJzdHIoNCkuc3Vic3RyKDAsaS5sZW5ndGgtNSkuc3BsaXQoXCIsXCIpKS5jYWxsKG8sKGZ1bmN0aW9uKHQpe3JldHVybiBfcCh0KX0pKTtpPVV5KG5bMF0sblsxXSxuWzJdKX1pZighMD09PSR5KGkpKXt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT1WeSh0KTtpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ1wiLmNvbmNhdCh0LFwiJyBpcyBub3QgYSB2YWxpZCBjb2xvci5cIikpO3JldHVybiBYeShlLnIsZS5nLGUuYil9KGkpLHM9e2g6ci5oLHM6Ljgqci5zLHY6TWF0aC5taW4oMSwxLjAyKnIudil9LGE9e2g6ci5oLHM6TWF0aC5taW4oMSwxLjI1KnIucyksdjouOCpyLnZ9LGg9S3koYS5oLGEucyxhLnYpLGQ9S3kocy5oLHMucyxzLnYpO3JldHVybntiYWNrZ3JvdW5kOmksYm9yZGVyOmgsaGlnaGxpZ2h0OntiYWNrZ3JvdW5kOmQsYm9yZGVyOmh9LGhvdmVyOntiYWNrZ3JvdW5kOmQsYm9yZGVyOmh9fX1yZXR1cm57YmFja2dyb3VuZDppLGJvcmRlcjppLGhpZ2hsaWdodDp7YmFja2dyb3VuZDppLGJvcmRlcjppfSxob3Zlcjp7YmFja2dyb3VuZDppLGJvcmRlcjppfX19cmV0dXJuIGU/e2JhY2tncm91bmQ6dC5iYWNrZ3JvdW5kfHxlLmJhY2tncm91bmQsYm9yZGVyOnQuYm9yZGVyfHxlLmJvcmRlcixoaWdobGlnaHQ6QnkodC5oaWdobGlnaHQpP3tib3JkZXI6dC5oaWdobGlnaHQsYmFja2dyb3VuZDp0LmhpZ2hsaWdodH06e2JhY2tncm91bmQ6dC5oaWdobGlnaHQmJnQuaGlnaGxpZ2h0LmJhY2tncm91bmR8fGUuaGlnaGxpZ2h0LmJhY2tncm91bmQsYm9yZGVyOnQuaGlnaGxpZ2h0JiZ0LmhpZ2hsaWdodC5ib3JkZXJ8fGUuaGlnaGxpZ2h0LmJvcmRlcn0saG92ZXI6QnkodC5ob3Zlcik/e2JvcmRlcjp0LmhvdmVyLGJhY2tncm91bmQ6dC5ob3Zlcn06e2JvcmRlcjp0LmhvdmVyJiZ0LmhvdmVyLmJvcmRlcnx8ZS5ob3Zlci5ib3JkZXIsYmFja2dyb3VuZDp0LmhvdmVyJiZ0LmhvdmVyLmJhY2tncm91bmR8fGUuaG92ZXIuYmFja2dyb3VuZH19OntiYWNrZ3JvdW5kOnQuYmFja2dyb3VuZHx8dm9pZCAwLGJvcmRlcjp0LmJvcmRlcnx8dm9pZCAwLGhpZ2hsaWdodDpCeSh0LmhpZ2hsaWdodCk/e2JvcmRlcjp0LmhpZ2hsaWdodCxiYWNrZ3JvdW5kOnQuaGlnaGxpZ2h0fTp7YmFja2dyb3VuZDp0LmhpZ2hsaWdodCYmdC5oaWdobGlnaHQuYmFja2dyb3VuZHx8dm9pZCAwLGJvcmRlcjp0LmhpZ2hsaWdodCYmdC5oaWdobGlnaHQuYm9yZGVyfHx2b2lkIDB9LGhvdmVyOkJ5KHQuaG92ZXIpP3tib3JkZXI6dC5ob3ZlcixiYWNrZ3JvdW5kOnQuaG92ZXJ9Ontib3JkZXI6dC5ob3ZlciYmdC5ob3Zlci5ib3JkZXJ8fHZvaWQgMCxiYWNrZ3JvdW5kOnQuaG92ZXImJnQuaG92ZXIuYmFja2dyb3VuZHx8dm9pZCAwfX19ZnVuY3Rpb24gWHkodCxlLGkpe3QvPTI1NSxlLz0yNTUsaS89MjU1O3ZhciBvPU1hdGgubWluKHQsTWF0aC5taW4oZSxpKSksbj1NYXRoLm1heCh0LE1hdGgubWF4KGUsaSkpO3JldHVybiBvPT09bj97aDowLHM6MCx2Om99OntoOjYwKigodD09PW8/MzppPT09bz8xOjUpLSh0PT09bz9lLWk6aT09PW8/dC1lOmktdCkvKG4tbykpLzM2MCxzOihuLW8pL24sdjpufX1mdW5jdGlvbiBHeSh0LGUsaSl7dmFyIG8sbixyLHM9TWF0aC5mbG9vcig2KnQpLGE9Nip0LXMsaD1pKigxLWUpLGQ9aSooMS1hKmUpLGw9aSooMS0oMS1hKSplKTtzd2l0Y2gocyU2KXtjYXNlIDA6bz1pLG49bCxyPWg7YnJlYWs7Y2FzZSAxOm89ZCxuPWkscj1oO2JyZWFrO2Nhc2UgMjpvPWgsbj1pLHI9bDticmVhaztjYXNlIDM6bz1oLG49ZCxyPWk7YnJlYWs7Y2FzZSA0Om89bCxuPWgscj1pO2JyZWFrO2Nhc2UgNTpvPWksbj1oLHI9ZH1yZXR1cm57cjpNYXRoLmZsb29yKDI1NSpvKSxnOk1hdGguZmxvb3IoMjU1Km4pLGI6TWF0aC5mbG9vcigyNTUqcil9fWZ1bmN0aW9uIEt5KHQsZSxpKXt2YXIgbz1HeSh0LGUsaSk7cmV0dXJuIFV5KG8ucixvLmcsby5iKX1mdW5jdGlvbiAkeSh0KXtyZXR1cm4vKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdCh0KX1mdW5jdGlvbiBaeSh0KXtyZXR1cm4gTXkudGVzdCh0KX1mdW5jdGlvbiBReSh0KXtyZXR1cm4gUHkudGVzdCh0KX1mdW5jdGlvbiBKeSh0KXtpZihudWxsPT09dHx8XCJvYmplY3RcIiE9PVFjKHQpKXJldHVybiBudWxsO2lmKHQgaW5zdGFuY2VvZiBFbGVtZW50KXJldHVybiB0O3ZhciBlPUhwKHQpO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiZcIm9iamVjdFwiPT1RYyh0W2ldKSYmKGVbaV09SnkodFtpXSkpO3JldHVybiBlfWZ1bmN0aW9uIHRtKHQsZSxpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30sbj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0scj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PT1RYyh0KX0scz1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSlyZXR1cm4hMTtyZXR1cm4hMH07aWYoIXIodCkpdGhyb3cgbmV3IEVycm9yKFwiUGFyYW1ldGVyIG1lcmdlVGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKCFyKGUpKXRocm93IG5ldyBFcnJvcihcIlBhcmFtZXRlciBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKCFuKGkpKXRocm93IG5ldyBFcnJvcihcIlBhcmFtZXRlciBvcHRpb24gbXVzdCBoYXZlIGEgdmFsdWVcIik7aWYoIXIobykpdGhyb3cgbmV3IEVycm9yKFwiUGFyYW1ldGVyIGdsb2JhbE9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3RcIik7dmFyIGE9ZnVuY3Rpb24odCxlLGkpe3IodFtpXSl8fCh0W2ldPXt9KTt2YXIgbz1lW2ldLG49dFtpXTtmb3IodmFyIHMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxzKSYmKG5bc109b1tzXSl9LGg9ZVtpXSxkPXIobykmJiFzKG8pLGw9ZD9vW2ldOnZvaWQgMCxjPWw/bC5lbmFibGVkOnZvaWQgMDtpZih2b2lkIDAhPT1oKXtpZihcImJvb2xlYW5cIj09dHlwZW9mIGgpcmV0dXJuIHIodFtpXSl8fCh0W2ldPXt9KSx2b2lkKHRbaV0uZW5hYmxlZD1oKTtpZihudWxsPT09aCYmIXIodFtpXSkpe2lmKCFuKGwpKXJldHVybjt0W2ldPUhwKGwpfWlmKHIoaCkpe3ZhciB1PSEwO3ZvaWQgMCE9PWguZW5hYmxlZD91PWguZW5hYmxlZDp2b2lkIDAhPT1jJiYodT1sLmVuYWJsZWQpLGEodCxlLGkpLHRbaV0uZW5hYmxlZD11fX19dmFyIGVtPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGVhc2VJblF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0sZWFzZU91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqKDItdCl9LGVhc2VJbk91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/Mip0KnQ6KDQtMip0KSp0LTF9LGVhc2VJbkN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdH0sZWFzZU91dEN1YmljOmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQrMX0sZWFzZUluT3V0Q3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/NCp0KnQqdDoodC0xKSooMip0LTIpKigyKnQtMikrMX0sZWFzZUluUXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnR9LGVhc2VPdXRRdWFydDpmdW5jdGlvbih0KXtyZXR1cm4gMS0gLS10KnQqdCp0fSxlYXNlSW5PdXRRdWFydDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT84KnQqdCp0KnQ6MS04Ki0tdCp0KnQqdH0sZWFzZUluUXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnQqdH0sZWFzZU91dFF1aW50OmZ1bmN0aW9uKHQpe3JldHVybiAxKy0tdCp0KnQqdCp0fSxlYXNlSW5PdXRRdWludDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT8xNip0KnQqdCp0KnQ6MSsxNiotLXQqdCp0KnQqdH19O2Z1bmN0aW9uIGltKHQsZSl7dmFyIGk7aHUoZSl8fChlPVtlXSk7dmFyIG8sbj13eSh0KTt0cnl7Zm9yKG4ucygpOyEobz1uLm4oKSkuZG9uZTspe3ZhciByPW8udmFsdWU7aWYocil7aT1yW2VbMF1dO2Zvcih2YXIgcz0xO3M8ZS5sZW5ndGg7cysrKWkmJihpPWlbZVtzXV0pO2lmKHZvaWQgMCE9PWkpYnJlYWt9fX1jYXRjaCh0KXtuLmUodCl9ZmluYWxseXtuLmYoKX1yZXR1cm4gaX12YXIgb209e2JsYWNrOlwiIzAwMDAwMFwiLG5hdnk6XCIjMDAwMDgwXCIsZGFya2JsdWU6XCIjMDAwMDhCXCIsbWVkaXVtYmx1ZTpcIiMwMDAwQ0RcIixibHVlOlwiIzAwMDBGRlwiLGRhcmtncmVlbjpcIiMwMDY0MDBcIixncmVlbjpcIiMwMDgwMDBcIix0ZWFsOlwiIzAwODA4MFwiLGRhcmtjeWFuOlwiIzAwOEI4QlwiLGRlZXBza3libHVlOlwiIzAwQkZGRlwiLGRhcmt0dXJxdW9pc2U6XCIjMDBDRUQxXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBGQTlBXCIsbGltZTpcIiMwMEZGMDBcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixhcXVhOlwiIzAwRkZGRlwiLGN5YW46XCIjMDBGRkZGXCIsbWlkbmlnaHRibHVlOlwiIzE5MTk3MFwiLGRvZGdlcmJsdWU6XCIjMUU5MEZGXCIsbGlnaHRzZWFncmVlbjpcIiMyMEIyQUFcIixmb3Jlc3RncmVlbjpcIiMyMjhCMjJcIixzZWFncmVlbjpcIiMyRThCNTdcIixkYXJrc2xhdGVncmF5OlwiIzJGNEY0RlwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixtZWRpdW1zZWFncmVlbjpcIiMzQ0IzNzFcIix0dXJxdW9pc2U6XCIjNDBFMEQwXCIscm95YWxibHVlOlwiIzQxNjlFMVwiLHN0ZWVsYmx1ZTpcIiM0NjgyQjRcIixkYXJrc2xhdGVibHVlOlwiIzQ4M0Q4QlwiLG1lZGl1bXR1cnF1b2lzZTpcIiM0OEQxQ0NcIixpbmRpZ286XCIjNEIwMDgyXCIsZGFya29saXZlZ3JlZW46XCIjNTU2QjJGXCIsY2FkZXRibHVlOlwiIzVGOUVBMFwiLGNvcm5mbG93ZXJibHVlOlwiIzY0OTVFRFwiLG1lZGl1bWFxdWFtYXJpbmU6XCIjNjZDREFBXCIsZGltZ3JheTpcIiM2OTY5NjlcIixzbGF0ZWJsdWU6XCIjNkE1QUNEXCIsb2xpdmVkcmFiOlwiIzZCOEUyM1wiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN0I2OEVFXCIsbGF3bmdyZWVuOlwiIzdDRkMwMFwiLGNoYXJ0cmV1c2U6XCIjN0ZGRjAwXCIsYXF1YW1hcmluZTpcIiM3RkZGRDRcIixtYXJvb246XCIjODAwMDAwXCIscHVycGxlOlwiIzgwMDA4MFwiLG9saXZlOlwiIzgwODAwMFwiLGdyYXk6XCIjODA4MDgwXCIsc2t5Ymx1ZTpcIiM4N0NFRUJcIixsaWdodHNreWJsdWU6XCIjODdDRUZBXCIsYmx1ZXZpb2xldDpcIiM4QTJCRTJcIixkYXJrcmVkOlwiIzhCMDAwMFwiLGRhcmttYWdlbnRhOlwiIzhCMDA4QlwiLHNhZGRsZWJyb3duOlwiIzhCNDUxM1wiLGRhcmtzZWFncmVlbjpcIiM4RkJDOEZcIixsaWdodGdyZWVuOlwiIzkwRUU5MFwiLG1lZGl1bXB1cnBsZTpcIiM5MzcwRDhcIixkYXJrdmlvbGV0OlwiIzk0MDBEM1wiLHBhbGVncmVlbjpcIiM5OEZCOThcIixkYXJrb3JjaGlkOlwiIzk5MzJDQ1wiLHllbGxvd2dyZWVuOlwiIzlBQ0QzMlwiLHNpZW5uYTpcIiNBMDUyMkRcIixicm93bjpcIiNBNTJBMkFcIixkYXJrZ3JheTpcIiNBOUE5QTlcIixsaWdodGJsdWU6XCIjQUREOEU2XCIsZ3JlZW55ZWxsb3c6XCIjQURGRjJGXCIscGFsZXR1cnF1b2lzZTpcIiNBRkVFRUVcIixsaWdodHN0ZWVsYmx1ZTpcIiNCMEM0REVcIixwb3dkZXJibHVlOlwiI0IwRTBFNlwiLGZpcmVicmljazpcIiNCMjIyMjJcIixkYXJrZ29sZGVucm9kOlwiI0I4ODYwQlwiLG1lZGl1bW9yY2hpZDpcIiNCQTU1RDNcIixyb3N5YnJvd246XCIjQkM4RjhGXCIsZGFya2toYWtpOlwiI0JEQjc2QlwiLHNpbHZlcjpcIiNDMEMwQzBcIixtZWRpdW12aW9sZXRyZWQ6XCIjQzcxNTg1XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLHBlcnU6XCIjQ0Q4NTNGXCIsY2hvY29sYXRlOlwiI0QyNjkxRVwiLHRhbjpcIiNEMkI0OENcIixsaWdodGdyZXk6XCIjRDNEM0QzXCIscGFsZXZpb2xldHJlZDpcIiNEODcwOTNcIix0aGlzdGxlOlwiI0Q4QkZEOFwiLG9yY2hpZDpcIiNEQTcwRDZcIixnb2xkZW5yb2Q6XCIjREFBNTIwXCIsY3JpbXNvbjpcIiNEQzE0M0NcIixnYWluc2Jvcm86XCIjRENEQ0RDXCIscGx1bTpcIiNEREEwRERcIixidXJseXdvb2Q6XCIjREVCODg3XCIsbGlnaHRjeWFuOlwiI0UwRkZGRlwiLGxhdmVuZGVyOlwiI0U2RTZGQVwiLGRhcmtzYWxtb246XCIjRTk5NjdBXCIsdmlvbGV0OlwiI0VFODJFRVwiLHBhbGVnb2xkZW5yb2Q6XCIjRUVFOEFBXCIsbGlnaHRjb3JhbDpcIiNGMDgwODBcIixraGFraTpcIiNGMEU2OENcIixhbGljZWJsdWU6XCIjRjBGOEZGXCIsaG9uZXlkZXc6XCIjRjBGRkYwXCIsYXp1cmU6XCIjRjBGRkZGXCIsc2FuZHlicm93bjpcIiNGNEE0NjBcIix3aGVhdDpcIiNGNURFQjNcIixiZWlnZTpcIiNGNUY1RENcIix3aGl0ZXNtb2tlOlwiI0Y1RjVGNVwiLG1pbnRjcmVhbTpcIiNGNUZGRkFcIixnaG9zdHdoaXRlOlwiI0Y4RjhGRlwiLHNhbG1vbjpcIiNGQTgwNzJcIixhbnRpcXVld2hpdGU6XCIjRkFFQkQ3XCIsbGluZW46XCIjRkFGMEU2XCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCIjRkFGQUQyXCIsb2xkbGFjZTpcIiNGREY1RTZcIixyZWQ6XCIjRkYwMDAwXCIsZnVjaHNpYTpcIiNGRjAwRkZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLGRlZXBwaW5rOlwiI0ZGMTQ5M1wiLG9yYW5nZXJlZDpcIiNGRjQ1MDBcIix0b21hdG86XCIjRkY2MzQ3XCIsaG90cGluazpcIiNGRjY5QjRcIixjb3JhbDpcIiNGRjdGNTBcIixkYXJrb3JhbmdlOlwiI0ZGOEMwMFwiLGxpZ2h0c2FsbW9uOlwiI0ZGQTA3QVwiLG9yYW5nZTpcIiNGRkE1MDBcIixsaWdodHBpbms6XCIjRkZCNkMxXCIscGluazpcIiNGRkMwQ0JcIixnb2xkOlwiI0ZGRDcwMFwiLHBlYWNocHVmZjpcIiNGRkRBQjlcIixuYXZham93aGl0ZTpcIiNGRkRFQURcIixtb2NjYXNpbjpcIiNGRkU0QjVcIixiaXNxdWU6XCIjRkZFNEM0XCIsbWlzdHlyb3NlOlwiI0ZGRTRFMVwiLGJsYW5jaGVkYWxtb25kOlwiI0ZGRUJDRFwiLHBhcGF5YXdoaXA6XCIjRkZFRkQ1XCIsbGF2ZW5kZXJibHVzaDpcIiNGRkYwRjVcIixzZWFzaGVsbDpcIiNGRkY1RUVcIixjb3Juc2lsazpcIiNGRkY4RENcIixsZW1vbmNoaWZmb246XCIjRkZGQUNEXCIsZmxvcmFsd2hpdGU6XCIjRkZGQUYwXCIsc25vdzpcIiNGRkZBRkFcIix5ZWxsb3c6XCIjRkZGRjAwXCIsbGlnaHR5ZWxsb3c6XCIjRkZGRkUwXCIsaXZvcnk6XCIjRkZGRkYwXCIsd2hpdGU6XCIjRkZGRkZGXCJ9LG5tPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxO1hsKHRoaXMsdCksdGhpcy5waXhlbFJhdGlvPWUsdGhpcy5nZW5lcmF0ZWQ9ITEsdGhpcy5jZW50ZXJDb29yZGluYXRlcz17eDoxNDQuNSx5OjE0NC41fSx0aGlzLnI9Mjg5Ki40OSx0aGlzLmNvbG9yPXtyOjI1NSxnOjI1NSxiOjI1NSxhOjF9LHRoaXMuaHVlQ2lyY2xlPXZvaWQgMCx0aGlzLmluaXRpYWxDb2xvcj17cjoyNTUsZzoyNTUsYjoyNTUsYToxfSx0aGlzLnByZXZpb3VzQ29sb3I9dm9pZCAwLHRoaXMuYXBwbGllZD0hMSx0aGlzLnVwZGF0ZUNhbGxiYWNrPWZ1bmN0aW9uKCl7fSx0aGlzLmNsb3NlQ2FsbGJhY2s9ZnVuY3Rpb24oKXt9LHRoaXMuX2NyZWF0ZSgpfXJldHVybiAkbCh0LFt7a2V5OlwiaW5zZXJ0VG9cIix2YWx1ZTpmdW5jdGlvbih0KXt2b2lkIDAhPT10aGlzLmhhbW1lciYmKHRoaXMuaGFtbWVyLmRlc3Ryb3koKSx0aGlzLmhhbW1lcj12b2lkIDApLHRoaXMuY29udGFpbmVyPXQsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSksdGhpcy5fYmluZEhhbW1lcigpLHRoaXMuX3NldFNpemUoKX19LHtrZXk6XCJzZXRVcGRhdGVDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gYXR0ZW1wdGVkIHRvIHNldCBhcyBjb2xvclBpY2tlciB1cGRhdGUgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uXCIpO3RoaXMudXBkYXRlQ2FsbGJhY2s9dH19LHtrZXk6XCJzZXRDbG9zZUNhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiBhdHRlbXB0ZWQgdG8gc2V0IGFzIGNvbG9yUGlja2VyIGNsb3NpbmcgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uXCIpO3RoaXMuY2xvc2VDYWxsYmFjaz10fX0se2tleTpcIl9pc0NvbG9yU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIG9tW3RdfX0se2tleTpcInNldENvbG9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZihcIm5vbmVcIiE9PXQpe3ZhciBpLG89dGhpcy5faXNDb2xvclN0cmluZyh0KTtpZih2b2lkIDAhPT1vJiYodD1vKSwhMD09PUJ5KHQpKXtpZighMD09PVp5KHQpKXt2YXIgbj10LnN1YnN0cig0KS5zdWJzdHIoMCx0Lmxlbmd0aC01KS5zcGxpdChcIixcIik7aT17cjpuWzBdLGc6blsxXSxiOm5bMl0sYToxfX1lbHNlIGlmKCEwPT09UXkodCkpe3ZhciByPXQuc3Vic3RyKDUpLnN1YnN0cigwLHQubGVuZ3RoLTYpLnNwbGl0KFwiLFwiKTtpPXtyOnJbMF0sZzpyWzFdLGI6clsyXSxhOnJbM119fWVsc2UgaWYoITA9PT0keSh0KSl7dmFyIHM9VnkodCk7aT17cjpzLnIsZzpzLmcsYjpzLmIsYToxfX19ZWxzZSBpZih0IGluc3RhbmNlb2YgT2JqZWN0JiZ2b2lkIDAhPT10LnImJnZvaWQgMCE9PXQuZyYmdm9pZCAwIT09dC5iKXt2YXIgYT12b2lkIDAhPT10LmE/dC5hOlwiMS4wXCI7aT17cjp0LnIsZzp0LmcsYjp0LmIsYTphfX1pZih2b2lkIDA9PT1pKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29sb3IgcGFzc2VkIHRvIHRoZSBjb2xvclBpY2tlci4gU3VwcG9ydGVkIGFyZSBzdHJpbmdzOiByZ2IsIGhleCwgcmdiYS4gT2JqZWN0OiByZ2IgKHtyOnIsZzpnLGI6YixbYTphXX0pLiBTdXBwbGllZDogXCIraHYodCkpO3RoaXMuX3NldENvbG9yKGksZSl9fX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuY2xvc2VDYWxsYmFjayYmKHRoaXMuY2xvc2VDYWxsYmFjaygpLHRoaXMuY2xvc2VDYWxsYmFjaz12b2lkIDApLHRoaXMuYXBwbGllZD0hMSx0aGlzLmZyYW1lLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuX2dlbmVyYXRlSHVlQ2lyY2xlKCl9fSx7a2V5OlwiX2hpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdOyEwPT09ZSYmKHRoaXMucHJldmlvdXNDb2xvcj1mbyh7fSx0aGlzLmNvbG9yKSksITA9PT10aGlzLmFwcGxpZWQmJnRoaXMudXBkYXRlQ2FsbGJhY2sodGhpcy5pbml0aWFsQ29sb3IpLHRoaXMuZnJhbWUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixidigoZnVuY3Rpb24oKXt2b2lkIDAhPT10LmNsb3NlQ2FsbGJhY2smJih0LmNsb3NlQ2FsbGJhY2soKSx0LmNsb3NlQ2FsbGJhY2s9dm9pZCAwKX0pLDApfX0se2tleTpcIl9zYXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUNhbGxiYWNrKHRoaXMuY29sb3IpLHRoaXMuYXBwbGllZD0hMSx0aGlzLl9oaWRlKCl9fSx7a2V5OlwiX2FwcGx5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFwcGxpZWQ9ITAsdGhpcy51cGRhdGVDYWxsYmFjayh0aGlzLmNvbG9yKSx0aGlzLl91cGRhdGVQaWNrZXIodGhpcy5jb2xvcil9fSx7a2V5OlwiX2xvYWRMYXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLnByZXZpb3VzQ29sb3I/dGhpcy5zZXRDb2xvcih0aGlzLnByZXZpb3VzQ29sb3IsITEpOmFsZXJ0KFwiVGhlcmUgaXMgbm8gbGFzdCBjb2xvciB0byBsb2FkLi4uXCIpfX0se2tleTpcIl9zZXRDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07ITA9PT1lJiYodGhpcy5pbml0aWFsQ29sb3I9Zm8oe30sdCkpLHRoaXMuY29sb3I9dDt2YXIgaT1YeSh0LnIsdC5nLHQuYiksbz0yKk1hdGguUEksbj10aGlzLnIqaS5zLHI9dGhpcy5jZW50ZXJDb29yZGluYXRlcy54K24qTWF0aC5zaW4obyppLmgpLHM9dGhpcy5jZW50ZXJDb29yZGluYXRlcy55K24qTWF0aC5jb3MobyppLmgpO3RoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5zdHlsZS5sZWZ0PXItLjUqdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLmNsaWVudFdpZHRoK1wicHhcIix0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3Iuc3R5bGUudG9wPXMtLjUqdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLmNsaWVudEhlaWdodCtcInB4XCIsdGhpcy5fdXBkYXRlUGlja2VyKHQpfX0se2tleTpcIl9zZXRPcGFjaXR5XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5jb2xvci5hPXQvMTAwLHRoaXMuX3VwZGF0ZVBpY2tlcih0aGlzLmNvbG9yKX19LHtrZXk6XCJfc2V0QnJpZ2h0bmVzc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVh5KHRoaXMuY29sb3Iucix0aGlzLmNvbG9yLmcsdGhpcy5jb2xvci5iKTtlLnY9dC8xMDA7dmFyIGk9R3koZS5oLGUucyxlLnYpO2kuYT10aGlzLmNvbG9yLmEsdGhpcy5jb2xvcj1pLHRoaXMuX3VwZGF0ZVBpY2tlcigpfX0se2tleTpcIl91cGRhdGVQaWNrZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmNvbG9yLGU9WHkodC5yLHQuZyx0LmIpLGk9dGhpcy5jb2xvclBpY2tlckNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7dm9pZCAwPT09dGhpcy5waXhlbFJhdGlvbiYmKHRoaXMucGl4ZWxSYXRpbz0od2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpLyhpLndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fGkubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8aS5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fGkub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fGkuYmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8MSkpLGkuc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywwLDAsdGhpcy5waXhlbFJhdGlvLDAsMCk7dmFyIG89dGhpcy5jb2xvclBpY2tlckNhbnZhcy5jbGllbnRXaWR0aCxuPXRoaXMuY29sb3JQaWNrZXJDYW52YXMuY2xpZW50SGVpZ2h0O2kuY2xlYXJSZWN0KDAsMCxvLG4pLGkucHV0SW1hZ2VEYXRhKHRoaXMuaHVlQ2lyY2xlLDAsMCksaS5maWxsU3R5bGU9XCJyZ2JhKDAsMCwwLFwiKygxLWUudikrXCIpXCIsaS5jaXJjbGUodGhpcy5jZW50ZXJDb29yZGluYXRlcy54LHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueSx0aGlzLnIpLFB2KGkpLmNhbGwoaSksdGhpcy5icmlnaHRuZXNzUmFuZ2UudmFsdWU9MTAwKmUudix0aGlzLm9wYWNpdHlSYW5nZS52YWx1ZT0xMDAqdC5hLHRoaXMuaW5pdGlhbENvbG9yRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cInJnYmEoXCIrdGhpcy5pbml0aWFsQ29sb3IucitcIixcIit0aGlzLmluaXRpYWxDb2xvci5nK1wiLFwiK3RoaXMuaW5pdGlhbENvbG9yLmIrXCIsXCIrdGhpcy5pbml0aWFsQ29sb3IuYStcIilcIix0aGlzLm5ld0NvbG9yRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cInJnYmEoXCIrdGhpcy5jb2xvci5yK1wiLFwiK3RoaXMuY29sb3IuZytcIixcIit0aGlzLmNvbG9yLmIrXCIsXCIrdGhpcy5jb2xvci5hK1wiKVwifX0se2tleTpcIl9zZXRTaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbG9yUGlja2VyQ2FudmFzLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuY29sb3JQaWNrZXJDYW52YXMuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuY29sb3JQaWNrZXJDYW52YXMud2lkdGg9Mjg5KnRoaXMucGl4ZWxSYXRpbyx0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmhlaWdodD0yODkqdGhpcy5waXhlbFJhdGlvfX0se2tleTpcIl9jcmVhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxvO2lmKHRoaXMuZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmZyYW1lLmNsYXNzTmFtZT1cInZpcy1jb2xvci1waWNrZXJcIix0aGlzLmNvbG9yUGlja2VyRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLmNsYXNzTmFtZT1cInZpcy1zZWxlY3RvclwiLHRoaXMuY29sb3JQaWNrZXJEaXYuYXBwZW5kQ2hpbGQodGhpcy5jb2xvclBpY2tlclNlbGVjdG9yKSx0aGlzLmNvbG9yUGlja2VyQ2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5jb2xvclBpY2tlckRpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbG9yUGlja2VyQ2FudmFzKSx0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmdldENvbnRleHQpe3ZhciBuPXRoaXMuY29sb3JQaWNrZXJDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO3RoaXMucGl4ZWxSYXRpbz0od2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpLyhuLndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fG4ubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8bi5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fG4ub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fG4uYmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8MSksdGhpcy5jb2xvclBpY2tlckNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywwLDAsdGhpcy5waXhlbFJhdGlvLDAsMCl9ZWxzZXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO3Iuc3R5bGUuY29sb3I9XCJyZWRcIixyLnN0eWxlLmZvbnRXZWlnaHQ9XCJib2xkXCIsci5zdHlsZS5wYWRkaW5nPVwiMTBweFwiLHIuaW5uZXJUZXh0PVwiRXJyb3I6IHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IEhUTUwgY2FudmFzXCIsdGhpcy5jb2xvclBpY2tlckNhbnZhcy5hcHBlbmRDaGlsZChyKX10aGlzLmNvbG9yUGlja2VyRGl2LmNsYXNzTmFtZT1cInZpcy1jb2xvclwiLHRoaXMub3BhY2l0eURpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMub3BhY2l0eURpdi5jbGFzc05hbWU9XCJ2aXMtb3BhY2l0eVwiLHRoaXMuYnJpZ2h0bmVzc0Rpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuYnJpZ2h0bmVzc0Rpdi5jbGFzc05hbWU9XCJ2aXMtYnJpZ2h0bmVzc1wiLHRoaXMuYXJyb3dEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmFycm93RGl2LmNsYXNzTmFtZT1cInZpcy1hcnJvd1wiLHRoaXMub3BhY2l0eVJhbmdlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt0cnl7dGhpcy5vcGFjaXR5UmFuZ2UudHlwZT1cInJhbmdlXCIsdGhpcy5vcGFjaXR5UmFuZ2UubWluPVwiMFwiLHRoaXMub3BhY2l0eVJhbmdlLm1heD1cIjEwMFwifWNhdGNoKHQpe310aGlzLm9wYWNpdHlSYW5nZS52YWx1ZT1cIjEwMFwiLHRoaXMub3BhY2l0eVJhbmdlLmNsYXNzTmFtZT1cInZpcy1yYW5nZVwiLHRoaXMuYnJpZ2h0bmVzc1JhbmdlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt0cnl7dGhpcy5icmlnaHRuZXNzUmFuZ2UudHlwZT1cInJhbmdlXCIsdGhpcy5icmlnaHRuZXNzUmFuZ2UubWluPVwiMFwiLHRoaXMuYnJpZ2h0bmVzc1JhbmdlLm1heD1cIjEwMFwifWNhdGNoKHQpe310aGlzLmJyaWdodG5lc3NSYW5nZS52YWx1ZT1cIjEwMFwiLHRoaXMuYnJpZ2h0bmVzc1JhbmdlLmNsYXNzTmFtZT1cInZpcy1yYW5nZVwiLHRoaXMub3BhY2l0eURpdi5hcHBlbmRDaGlsZCh0aGlzLm9wYWNpdHlSYW5nZSksdGhpcy5icmlnaHRuZXNzRGl2LmFwcGVuZENoaWxkKHRoaXMuYnJpZ2h0bmVzc1JhbmdlKTt2YXIgcz10aGlzO3RoaXMub3BhY2l0eVJhbmdlLm9uY2hhbmdlPWZ1bmN0aW9uKCl7cy5fc2V0T3BhY2l0eSh0aGlzLnZhbHVlKX0sdGhpcy5vcGFjaXR5UmFuZ2Uub25pbnB1dD1mdW5jdGlvbigpe3MuX3NldE9wYWNpdHkodGhpcy52YWx1ZSl9LHRoaXMuYnJpZ2h0bmVzc1JhbmdlLm9uY2hhbmdlPWZ1bmN0aW9uKCl7cy5fc2V0QnJpZ2h0bmVzcyh0aGlzLnZhbHVlKX0sdGhpcy5icmlnaHRuZXNzUmFuZ2Uub25pbnB1dD1mdW5jdGlvbigpe3MuX3NldEJyaWdodG5lc3ModGhpcy52YWx1ZSl9LHRoaXMuYnJpZ2h0bmVzc0xhYmVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5icmlnaHRuZXNzTGFiZWwuY2xhc3NOYW1lPVwidmlzLWxhYmVsIHZpcy1icmlnaHRuZXNzXCIsdGhpcy5icmlnaHRuZXNzTGFiZWwuaW5uZXJUZXh0PVwiYnJpZ2h0bmVzczpcIix0aGlzLm9wYWNpdHlMYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMub3BhY2l0eUxhYmVsLmNsYXNzTmFtZT1cInZpcy1sYWJlbCB2aXMtb3BhY2l0eVwiLHRoaXMub3BhY2l0eUxhYmVsLmlubmVyVGV4dD1cIm9wYWNpdHk6XCIsdGhpcy5uZXdDb2xvckRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubmV3Q29sb3JEaXYuY2xhc3NOYW1lPVwidmlzLW5ldy1jb2xvclwiLHRoaXMubmV3Q29sb3JEaXYuaW5uZXJUZXh0PVwibmV3XCIsdGhpcy5pbml0aWFsQ29sb3JEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmluaXRpYWxDb2xvckRpdi5jbGFzc05hbWU9XCJ2aXMtaW5pdGlhbC1jb2xvclwiLHRoaXMuaW5pdGlhbENvbG9yRGl2LmlubmVyVGV4dD1cImluaXRpYWxcIix0aGlzLmNhbmNlbEJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuY2FuY2VsQnV0dG9uLmNsYXNzTmFtZT1cInZpcy1idXR0b24gdmlzLWNhbmNlbFwiLHRoaXMuY2FuY2VsQnV0dG9uLmlubmVyVGV4dD1cImNhbmNlbFwiLHRoaXMuY2FuY2VsQnV0dG9uLm9uY2xpY2s9Rm8odD10aGlzLl9oaWRlKS5jYWxsKHQsdGhpcywhMSksdGhpcy5hcHBseUJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuYXBwbHlCdXR0b24uY2xhc3NOYW1lPVwidmlzLWJ1dHRvbiB2aXMtYXBwbHlcIix0aGlzLmFwcGx5QnV0dG9uLmlubmVyVGV4dD1cImFwcGx5XCIsdGhpcy5hcHBseUJ1dHRvbi5vbmNsaWNrPUZvKGU9dGhpcy5fYXBwbHkpLmNhbGwoZSx0aGlzKSx0aGlzLnNhdmVCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnNhdmVCdXR0b24uY2xhc3NOYW1lPVwidmlzLWJ1dHRvbiB2aXMtc2F2ZVwiLHRoaXMuc2F2ZUJ1dHRvbi5pbm5lclRleHQ9XCJzYXZlXCIsdGhpcy5zYXZlQnV0dG9uLm9uY2xpY2s9Rm8oaT10aGlzLl9zYXZlKS5jYWxsKGksdGhpcyksdGhpcy5sb2FkQnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5sb2FkQnV0dG9uLmNsYXNzTmFtZT1cInZpcy1idXR0b24gdmlzLWxvYWRcIix0aGlzLmxvYWRCdXR0b24uaW5uZXJUZXh0PVwibG9hZCBsYXN0XCIsdGhpcy5sb2FkQnV0dG9uLm9uY2xpY2s9Rm8obz10aGlzLl9sb2FkTGFzdCkuY2FsbChvLHRoaXMpLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5jb2xvclBpY2tlckRpdiksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmFycm93RGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuYnJpZ2h0bmVzc0xhYmVsKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuYnJpZ2h0bmVzc0RpdiksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLm9wYWNpdHlMYWJlbCksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLm9wYWNpdHlEaXYpLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5uZXdDb2xvckRpdiksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmluaXRpYWxDb2xvckRpdiksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmNhbmNlbEJ1dHRvbiksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmFwcGx5QnV0dG9uKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuc2F2ZUJ1dHRvbiksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmxvYWRCdXR0b24pfX0se2tleTpcIl9iaW5kSGFtbWVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZHJhZz17fSx0aGlzLnBpbmNoPXt9LHRoaXMuaGFtbWVyPW5ldyBPeSh0aGlzLmNvbG9yUGlja2VyQ2FudmFzKSx0aGlzLmhhbW1lci5nZXQoXCJwaW5jaFwiKS5zZXQoe2VuYWJsZTohMH0pLHRoaXMuaGFtbWVyLm9uKFwiaGFtbWVyLmlucHV0XCIsKGZ1bmN0aW9uKGUpe2UuaXNGaXJzdCYmdC5fbW92ZVNlbGVjdG9yKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwidGFwXCIsKGZ1bmN0aW9uKGUpe3QuX21vdmVTZWxlY3RvcihlKX0pKSx0aGlzLmhhbW1lci5vbihcInBhbnN0YXJ0XCIsKGZ1bmN0aW9uKGUpe3QuX21vdmVTZWxlY3RvcihlKX0pKSx0aGlzLmhhbW1lci5vbihcInBhbm1vdmVcIiwoZnVuY3Rpb24oZSl7dC5fbW92ZVNlbGVjdG9yKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwicGFuZW5kXCIsKGZ1bmN0aW9uKGUpe3QuX21vdmVTZWxlY3RvcihlKX0pKX19LHtrZXk6XCJfZ2VuZXJhdGVIdWVDaXJjbGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCExPT09dGhpcy5nZW5lcmF0ZWQpe3ZhciB0PXRoaXMuY29sb3JQaWNrZXJDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO3ZvaWQgMD09PXRoaXMucGl4ZWxSYXRpb24mJih0aGlzLnBpeGVsUmF0aW89KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKS8odC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fDEpKSx0LnNldFRyYW5zZm9ybSh0aGlzLnBpeGVsUmF0aW8sMCwwLHRoaXMucGl4ZWxSYXRpbywwLDApO3ZhciBlLGksbyxuLHI9dGhpcy5jb2xvclBpY2tlckNhbnZhcy5jbGllbnRXaWR0aCxzPXRoaXMuY29sb3JQaWNrZXJDYW52YXMuY2xpZW50SGVpZ2h0O3QuY2xlYXJSZWN0KDAsMCxyLHMpLHRoaXMuY2VudGVyQ29vcmRpbmF0ZXM9e3g6LjUqcix5Oi41KnN9LHRoaXMucj0uNDkqcjt2YXIgYSxoPTIqTWF0aC5QSS8zNjAsZD0xL3RoaXMucjtmb3Iobz0wO288MzYwO28rKylmb3Iobj0wO248dGhpcy5yO24rKyllPXRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueCtuKk1hdGguc2luKGgqbyksaT10aGlzLmNlbnRlckNvb3JkaW5hdGVzLnkrbipNYXRoLmNvcyhoKm8pLGE9R3koLjAwMjc3Nzc3Nzc3Nzc3Nzc3OCpvLG4qZCwxKSx0LmZpbGxTdHlsZT1cInJnYihcIithLnIrXCIsXCIrYS5nK1wiLFwiK2EuYitcIilcIix0LmZpbGxSZWN0KGUtLjUsaS0uNSwyLDIpO3Quc3Ryb2tlU3R5bGU9XCJyZ2JhKDAsMCwwLDEpXCIsdC5jaXJjbGUodGhpcy5jZW50ZXJDb29yZGluYXRlcy54LHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueSx0aGlzLnIpLHQuc3Ryb2tlKCksdGhpcy5odWVDaXJjbGU9dC5nZXRJbWFnZURhdGEoMCwwLHIscyl9dGhpcy5nZW5lcmF0ZWQ9ITB9fSx7a2V5OlwiX21vdmVTZWxlY3RvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29sb3JQaWNrZXJEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT10LmNlbnRlci54LWUubGVmdCxvPXQuY2VudGVyLnktZS50b3Asbj0uNSp0aGlzLmNvbG9yUGlja2VyRGl2LmNsaWVudEhlaWdodCxyPS41KnRoaXMuY29sb3JQaWNrZXJEaXYuY2xpZW50V2lkdGgscz1pLXIsYT1vLW4saD1NYXRoLmF0YW4yKHMsYSksZD0uOTgqTWF0aC5taW4oTWF0aC5zcXJ0KHMqcythKmEpLHIpLGw9TWF0aC5jb3MoaCkqZCtuLGM9TWF0aC5zaW4oaCkqZCtyO3RoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5zdHlsZS50b3A9bC0uNSp0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IuY2xpZW50SGVpZ2h0K1wicHhcIix0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3Iuc3R5bGUubGVmdD1jLS41KnRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5jbGllbnRXaWR0aCtcInB4XCI7dmFyIHU9aC8oMipNYXRoLlBJKTt1PXU8MD91KzE6dTt2YXIgZj1kL3RoaXMucixwPVh5KHRoaXMuY29sb3Iucix0aGlzLmNvbG9yLmcsdGhpcy5jb2xvci5iKTtwLmg9dSxwLnM9Zjt2YXIgdj1HeShwLmgscC5zLHAudik7di5hPXRoaXMuY29sb3IuYSx0aGlzLmNvbG9yPXYsdGhpcy5pbml0aWFsQ29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwicmdiYShcIit0aGlzLmluaXRpYWxDb2xvci5yK1wiLFwiK3RoaXMuaW5pdGlhbENvbG9yLmcrXCIsXCIrdGhpcy5pbml0aWFsQ29sb3IuYitcIixcIit0aGlzLmluaXRpYWxDb2xvci5hK1wiKVwiLHRoaXMubmV3Q29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwicmdiYShcIit0aGlzLmNvbG9yLnIrXCIsXCIrdGhpcy5jb2xvci5nK1wiLFwiK3RoaXMuY29sb3IuYitcIixcIit0aGlzLmNvbG9yLmErXCIpXCJ9fV0pLHR9KCk7ZnVuY3Rpb24gcm0oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPWFyZ3VtZW50c1tpXTtpZihlLmxlbmd0aDwxKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cy5cIik7aWYoMT09PWUubGVuZ3RoKXJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlWzBdKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGVbMF0pO3JldHVybiBvLmFwcGVuZENoaWxkKHJtLmFwcGx5KHZvaWQgMCxKYyhhdShlKS5jYWxsKGUsMSkpKSksb312YXIgc20sYW09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MSxyPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTpmdW5jdGlvbigpe3JldHVybiExfTtYbCh0aGlzLHQpLHRoaXMucGFyZW50PWUsdGhpcy5jaGFuZ2VkT3B0aW9ucz1bXSx0aGlzLmNvbnRhaW5lcj1pLHRoaXMuYWxsb3dDcmVhdGlvbj0hMSx0aGlzLmhpZGVPcHRpb249cix0aGlzLm9wdGlvbnM9e30sdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLnBvcHVwQ291bnRlcj0wLHRoaXMuZGVmYXVsdE9wdGlvbnM9e2VuYWJsZWQ6ITEsZmlsdGVyOiEwLGNvbnRhaW5lcjp2b2lkIDAsc2hvd0J1dHRvbjohMH0sZm8odGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuY29uZmlndXJlT3B0aW9ucz1vLHRoaXMubW9kdWxlT3B0aW9ucz17fSx0aGlzLmRvbUVsZW1lbnRzPVtdLHRoaXMucG9wdXBEaXY9e30sdGhpcy5wb3B1cExpbWl0PTUsdGhpcy5wb3B1cEhpc3Rvcnk9e30sdGhpcy5jb2xvclBpY2tlcj1uZXcgbm0obiksdGhpcy53cmFwcGVyPXZvaWQgMH1yZXR1cm4gJGwodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXt0aGlzLnBvcHVwSGlzdG9yeT17fSx0aGlzLl9yZW1vdmVQb3B1cCgpO3ZhciBlPSEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXRoaXMub3B0aW9ucy5maWx0ZXI9dDtlbHNlIGlmKGh1KHQpKXRoaXMub3B0aW9ucy5maWx0ZXI9dC5qb2luKCk7ZWxzZSBpZihcIm9iamVjdFwiPT09UWModCkpe2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbnMgY2Fubm90IGJlIG51bGxcIik7dm9pZCAwIT09dC5jb250YWluZXImJih0aGlzLm9wdGlvbnMuY29udGFpbmVyPXQuY29udGFpbmVyKSx2b2lkIDAhPT1ZZih0KSYmKHRoaXMub3B0aW9ucy5maWx0ZXI9WWYodCkpLHZvaWQgMCE9PXQuc2hvd0J1dHRvbiYmKHRoaXMub3B0aW9ucy5zaG93QnV0dG9uPXQuc2hvd0J1dHRvbiksdm9pZCAwIT09dC5lbmFibGVkJiYoZT10LmVuYWJsZWQpfWVsc2VcImJvb2xlYW5cIj09dHlwZW9mIHQ/KHRoaXMub3B0aW9ucy5maWx0ZXI9ITAsZT10KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpcy5vcHRpb25zLmZpbHRlcj10LGU9ITApOyExPT09WWYodGhpcy5vcHRpb25zKSYmKGU9ITEpLHRoaXMub3B0aW9ucy5lbmFibGVkPWV9dGhpcy5fY2xlYW4oKX19LHtrZXk6XCJzZXRNb2R1bGVPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5tb2R1bGVPcHRpb25zPXQsITA9PT10aGlzLm9wdGlvbnMuZW5hYmxlZCYmKHRoaXMuX2NsZWFuKCksdm9pZCAwIT09dGhpcy5vcHRpb25zLmNvbnRhaW5lciYmKHRoaXMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXIpLHRoaXMuX2NyZWF0ZSgpKX19LHtrZXk6XCJfY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpLHRoaXMuY2hhbmdlZE9wdGlvbnM9W107dmFyIHQ9WWYodGhpcy5vcHRpb25zKSxlPTAsaT0hMTtmb3IodmFyIG8gaW4gdGhpcy5jb25maWd1cmVPcHRpb25zKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvbmZpZ3VyZU9wdGlvbnMsbykmJih0aGlzLmFsbG93Q3JlYXRpb249ITEsaT0hMSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2k9KGk9dChvLFtdKSl8fHRoaXMuX2hhbmRsZU9iamVjdCh0aGlzLmNvbmZpZ3VyZU9wdGlvbnNbb10sW29dLCEwKTohMCE9PXQmJi0xPT09enAodCkuY2FsbCh0LG8pfHwoaT0hMCksITEhPT1pJiYodGhpcy5hbGxvd0NyZWF0aW9uPSEwLGU+MCYmdGhpcy5fbWFrZUl0ZW0oW10pLHRoaXMuX21ha2VIZWFkZXIobyksdGhpcy5faGFuZGxlT2JqZWN0KHRoaXMuY29uZmlndXJlT3B0aW9uc1tvXSxbb10pKSxlKyspO3RoaXMuX21ha2VCdXR0b24oKSx0aGlzLl9wdXNoKCl9fSx7a2V5OlwiX3B1c2hcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMud3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMud3JhcHBlci5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbi13cmFwcGVyXCIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyKTtmb3IodmFyIHQ9MDt0PHRoaXMuZG9tRWxlbWVudHMubGVuZ3RoO3QrKyl0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50c1t0XSk7dGhpcy5fc2hvd1BvcHVwSWZOZWVkZWQoKX19LHtrZXk6XCJfY2xlYW5cIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5kb21FbGVtZW50cy5sZW5ndGg7dCsrKXRoaXMud3JhcHBlci5yZW1vdmVDaGlsZCh0aGlzLmRvbUVsZW1lbnRzW3RdKTt2b2lkIDAhPT10aGlzLndyYXBwZXImJih0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLndyYXBwZXIpLHRoaXMud3JhcHBlcj12b2lkIDApLHRoaXMuZG9tRWxlbWVudHM9W10sdGhpcy5fcmVtb3ZlUG9wdXAoKX19LHtrZXk6XCJfZ2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5tb2R1bGVPcHRpb25zLGk9MDtpPHQubGVuZ3RoO2krKyl7aWYodm9pZCAwPT09ZVt0W2ldXSl7ZT12b2lkIDA7YnJlYWt9ZT1lW3RbaV1dfXJldHVybiBlfX0se2tleTpcIl9tYWtlSXRlbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCEwPT09dGhpcy5hbGxvd0NyZWF0aW9uKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1pdGVtIHZpcy1jb25maWctc1wiK3QubGVuZ3RoO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KGk+MT9pLTE6MCksbj0xO248aTtuKyspb1tuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gRnUobykuY2FsbChvLChmdW5jdGlvbih0KXtlLmFwcGVuZENoaWxkKHQpfSkpLHRoaXMuZG9tRWxlbWVudHMucHVzaChlKSx0aGlzLmRvbUVsZW1lbnRzLmxlbmd0aH1yZXR1cm4gMH19LHtrZXk6XCJfbWFrZUhlYWRlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWhlYWRlclwiLGUuaW5uZXJUZXh0PXQsdGhpcy5fbWFrZUl0ZW0oW10sZSl9fSx7a2V5OlwiX21ha2VMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoby5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWxhYmVsIHZpcy1jb25maWctc1wiK2UubGVuZ3RoLCEwPT09aSl7Zm9yKDtvLmZpcnN0Q2hpbGQ7KW8ucmVtb3ZlQ2hpbGQoby5maXJzdENoaWxkKTtvLmFwcGVuZENoaWxkKHJtKFwiaVwiLFwiYlwiLHQpKX1lbHNlIG8uaW5uZXJUZXh0PXQrXCI6XCI7cmV0dXJuIG99fSx7a2V5OlwiX21ha2VEcm9wZG93blwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO28uY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1zZWxlY3RcIjt2YXIgbj0wO3ZvaWQgMCE9PWUmJi0xIT09enAodCkuY2FsbCh0LGUpJiYobj16cCh0KS5jYWxsKHQsZSkpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3MudmFsdWU9dFtyXSxyPT09biYmKHMuc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiKSxzLmlubmVyVGV4dD10W3JdLG8uYXBwZW5kQ2hpbGQocyl9dmFyIGE9dGhpcztvLm9uY2hhbmdlPWZ1bmN0aW9uKCl7YS5fdXBkYXRlKHRoaXMudmFsdWUsaSl9O3ZhciBoPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpO3RoaXMuX21ha2VJdGVtKGksaCxvKX19LHtrZXk6XCJfbWFrZVJhbmdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRbMF0sbj10WzFdLHI9dFsyXSxzPXRbM10sYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7YS5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLXJhbmdlXCI7dHJ5e2EudHlwZT1cInJhbmdlXCIsYS5taW49bixhLm1heD1yfWNhdGNoKHQpe31hLnN0ZXA9czt2YXIgaD1cIlwiLGQ9MDtpZih2b2lkIDAhPT1lKXt2YXIgbD0xLjI7ZTwwJiZlKmw8bj8oYS5taW49TWF0aC5jZWlsKGUqbCksZD1hLm1pbixoPVwicmFuZ2UgaW5jcmVhc2VkXCIpOmUvbDxuJiYoYS5taW49TWF0aC5jZWlsKGUvbCksZD1hLm1pbixoPVwicmFuZ2UgaW5jcmVhc2VkXCIpLGUqbD5yJiYxIT09ciYmKGEubWF4PU1hdGguY2VpbChlKmwpLGQ9YS5tYXgsaD1cInJhbmdlIGluY3JlYXNlZFwiKSxhLnZhbHVlPWV9ZWxzZSBhLnZhbHVlPW87dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2MuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1yYW5nZWlucHV0XCIsYy52YWx1ZT1hLnZhbHVlO3ZhciB1PXRoaXM7YS5vbmNoYW5nZT1mdW5jdGlvbigpe2MudmFsdWU9dGhpcy52YWx1ZSx1Ll91cGRhdGUoTnVtYmVyKHRoaXMudmFsdWUpLGkpfSxhLm9uaW5wdXQ9ZnVuY3Rpb24oKXtjLnZhbHVlPXRoaXMudmFsdWV9O3ZhciBmPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpLHA9dGhpcy5fbWFrZUl0ZW0oaSxmLGEsYyk7XCJcIiE9PWgmJnRoaXMucG9wdXBIaXN0b3J5W3BdIT09ZCYmKHRoaXMucG9wdXBIaXN0b3J5W3BdPWQsdGhpcy5fc2V0dXBQb3B1cChoLHApKX19LHtrZXk6XCJfbWFrZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZighMD09PXRoaXMub3B0aW9ucy5zaG93QnV0dG9uKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1idXR0b25cIixlLmlubmVyVGV4dD1cImdlbmVyYXRlIG9wdGlvbnNcIixlLm9uY2xpY2s9ZnVuY3Rpb24oKXt0Ll9wcmludE9wdGlvbnMoKX0sZS5vbm1vdXNlb3Zlcj1mdW5jdGlvbigpe2UuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1idXR0b24gaG92ZXJcIn0sZS5vbm1vdXNlb3V0PWZ1bmN0aW9uKCl7ZS5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWJ1dHRvblwifSx0aGlzLm9wdGlvbnNDb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm9wdGlvbnNDb250YWluZXIuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1vcHRpb24tY29udGFpbmVyXCIsdGhpcy5kb21FbGVtZW50cy5wdXNoKHRoaXMub3B0aW9uc0NvbnRhaW5lciksdGhpcy5kb21FbGVtZW50cy5wdXNoKGUpfX19LHtrZXk6XCJfc2V0dXBQb3B1cFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztpZighMD09PXRoaXMuaW5pdGlhbGl6ZWQmJiEwPT09dGhpcy5hbGxvd0NyZWF0aW9uJiZ0aGlzLnBvcHVwQ291bnRlcjx0aGlzLnBvcHVwTGltaXQpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5pZD1cInZpcy1jb25maWd1cmF0aW9uLXBvcHVwXCIsby5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbi1wb3B1cFwiLG8uaW5uZXJUZXh0PXQsby5vbmNsaWNrPWZ1bmN0aW9uKCl7aS5fcmVtb3ZlUG9wdXAoKX0sdGhpcy5wb3B1cENvdW50ZXIrPTEsdGhpcy5wb3B1cERpdj17aHRtbDpvLGluZGV4OmV9fX19LHtrZXk6XCJfcmVtb3ZlUG9wdXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMucG9wdXBEaXYuaHRtbCYmKHRoaXMucG9wdXBEaXYuaHRtbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wdXBEaXYuaHRtbCksY2xlYXJUaW1lb3V0KHRoaXMucG9wdXBEaXYuaGlkZVRpbWVvdXQpLGNsZWFyVGltZW91dCh0aGlzLnBvcHVwRGl2LmRlbGV0ZVRpbWVvdXQpLHRoaXMucG9wdXBEaXY9e30pfX0se2tleTpcIl9zaG93UG9wdXBJZk5lZWRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih2b2lkIDAhPT10aGlzLnBvcHVwRGl2Lmh0bWwpe3ZhciBlPXRoaXMuZG9tRWxlbWVudHNbdGhpcy5wb3B1cERpdi5pbmRleF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5wb3B1cERpdi5odG1sLnN0eWxlLmxlZnQ9ZS5sZWZ0K1wicHhcIix0aGlzLnBvcHVwRGl2Lmh0bWwuc3R5bGUudG9wPWUudG9wLTMwK1wicHhcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucG9wdXBEaXYuaHRtbCksdGhpcy5wb3B1cERpdi5oaWRlVGltZW91dD1idigoZnVuY3Rpb24oKXt0LnBvcHVwRGl2Lmh0bWwuc3R5bGUub3BhY2l0eT0wfSksMTUwMCksdGhpcy5wb3B1cERpdi5kZWxldGVUaW1lb3V0PWJ2KChmdW5jdGlvbigpe3QuX3JlbW92ZVBvcHVwKCl9KSwxODAwKX19fSx7a2V5OlwiX21ha2VDaGVja2JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7by50eXBlPVwiY2hlY2tib3hcIixvLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctY2hlY2tib3hcIixvLmNoZWNrZWQ9dCx2b2lkIDAhPT1lJiYoby5jaGVja2VkPWUsZSE9PXQmJihcIm9iamVjdFwiPT09UWModCk/ZSE9PXQuZW5hYmxlZCYmdGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHtwYXRoOmksdmFsdWU6ZX0pOnRoaXMuY2hhbmdlZE9wdGlvbnMucHVzaCh7cGF0aDppLHZhbHVlOmV9KSkpO3ZhciBuPXRoaXM7by5vbmNoYW5nZT1mdW5jdGlvbigpe24uX3VwZGF0ZSh0aGlzLmNoZWNrZWQsaSl9O3ZhciByPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpO3RoaXMuX21ha2VJdGVtKGkscixvKX19LHtrZXk6XCJfbWFrZVRleHRJbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7by50eXBlPVwidGV4dFwiLG8uY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy10ZXh0XCIsby52YWx1ZT1lLGUhPT10JiZ0aGlzLmNoYW5nZWRPcHRpb25zLnB1c2goe3BhdGg6aSx2YWx1ZTplfSk7dmFyIG49dGhpcztvLm9uY2hhbmdlPWZ1bmN0aW9uKCl7bi5fdXBkYXRlKHRoaXMudmFsdWUsaSl9O3ZhciByPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpO3RoaXMuX21ha2VJdGVtKGkscixvKX19LHtrZXk6XCJfbWFrZUNvbG9yRmllbGRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcyxuPXRbMV0scj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1wibm9uZVwiIT09KGU9dm9pZCAwPT09ZT9uOmUpPyhyLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctY29sb3JCbG9ja1wiLHIuc3R5bGUuYmFja2dyb3VuZENvbG9yPWUpOnIuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1jb2xvckJsb2NrIG5vbmVcIixlPXZvaWQgMD09PWU/bjplLHIub25jbGljaz1mdW5jdGlvbigpe28uX3Nob3dDb2xvclBpY2tlcihlLHIsaSl9O3ZhciBzPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpO3RoaXMuX21ha2VJdGVtKGkscyxyKX19LHtrZXk6XCJfc2hvd0NvbG9yUGlja2VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXM7ZS5vbmNsaWNrPWZ1bmN0aW9uKCl7fSx0aGlzLmNvbG9yUGlja2VyLmluc2VydFRvKGUpLHRoaXMuY29sb3JQaWNrZXIuc2hvdygpLHRoaXMuY29sb3JQaWNrZXIuc2V0Q29sb3IodCksdGhpcy5jb2xvclBpY2tlci5zZXRVcGRhdGVDYWxsYmFjaygoZnVuY3Rpb24odCl7dmFyIG49XCJyZ2JhKFwiK3QucitcIixcIit0LmcrXCIsXCIrdC5iK1wiLFwiK3QuYStcIilcIjtlLnN0eWxlLmJhY2tncm91bmRDb2xvcj1uLG8uX3VwZGF0ZShuLGkpfSkpLHRoaXMuY29sb3JQaWNrZXIuc2V0Q2xvc2VDYWxsYmFjaygoZnVuY3Rpb24oKXtlLm9uY2xpY2s9ZnVuY3Rpb24oKXtvLl9zaG93Q29sb3JQaWNrZXIodCxlLGkpfX0pKX19LHtrZXk6XCJfaGFuZGxlT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxvPSExLG49WWYodGhpcy5vcHRpb25zKSxyPSExO2Zvcih2YXIgcyBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHMpKXtvPSEwO3ZhciBhPXRbc10saD1qeShlLHMpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJiExPT09KG89bihzLGUpKSYmIWh1KGEpJiZcInN0cmluZ1wiIT10eXBlb2YgYSYmXCJib29sZWFuXCIhPXR5cGVvZiBhJiZhIGluc3RhbmNlb2YgT2JqZWN0JiYodGhpcy5hbGxvd0NyZWF0aW9uPSExLG89dGhpcy5faGFuZGxlT2JqZWN0KGEsaCwhMCksdGhpcy5hbGxvd0NyZWF0aW9uPSExPT09aSksITEhPT1vKXtyPSEwO3ZhciBkPXRoaXMuX2dldFZhbHVlKGgpO2lmKGh1KGEpKXRoaXMuX2hhbmRsZUFycmF5KGEsZCxoKTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXRoaXMuX21ha2VUZXh0SW5wdXQoYSxkLGgpO2Vsc2UgaWYoXCJib29sZWFuXCI9PXR5cGVvZiBhKXRoaXMuX21ha2VDaGVja2JveChhLGQsaCk7ZWxzZSBpZihhIGluc3RhbmNlb2YgT2JqZWN0KXtpZighdGhpcy5oaWRlT3B0aW9uKGUscyx0aGlzLm1vZHVsZU9wdGlvbnMpKWlmKHZvaWQgMCE9PWEuZW5hYmxlZCl7dmFyIGw9ankoaCxcImVuYWJsZWRcIiksYz10aGlzLl9nZXRWYWx1ZShsKTtpZighMD09PWMpe3ZhciB1PXRoaXMuX21ha2VMYWJlbChzLGgsITApO3RoaXMuX21ha2VJdGVtKGgsdSkscj10aGlzLl9oYW5kbGVPYmplY3QoYSxoKXx8cn1lbHNlIHRoaXMuX21ha2VDaGVja2JveChhLGMsaCl9ZWxzZXt2YXIgZj10aGlzLl9tYWtlTGFiZWwocyxoLCEwKTt0aGlzLl9tYWtlSXRlbShoLGYpLHI9dGhpcy5faGFuZGxlT2JqZWN0KGEsaCl8fHJ9fWVsc2UgY29uc29sZS5lcnJvcihcImRvbnQga25vdyBob3cgdG8gaGFuZGxlXCIsYSxzLGgpfX1yZXR1cm4gcn19LHtrZXk6XCJfaGFuZGxlQXJyYXlcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7XCJzdHJpbmdcIj09dHlwZW9mIHRbMF0mJlwiY29sb3JcIj09PXRbMF0/KHRoaXMuX21ha2VDb2xvckZpZWxkKHQsZSxpKSx0WzFdIT09ZSYmdGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHtwYXRoOmksdmFsdWU6ZX0pKTpcInN0cmluZ1wiPT10eXBlb2YgdFswXT8odGhpcy5fbWFrZURyb3Bkb3duKHQsZSxpKSx0WzBdIT09ZSYmdGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHtwYXRoOmksdmFsdWU6ZX0pKTpcIm51bWJlclwiPT10eXBlb2YgdFswXSYmKHRoaXMuX21ha2VSYW5nZSh0LGUsaSksdFswXSE9PWUmJnRoaXMuY2hhbmdlZE9wdGlvbnMucHVzaCh7cGF0aDppLHZhbHVlOk51bWJlcihlKX0pKX19LHtrZXk6XCJfdXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9jb25zdHJ1Y3RPcHRpb25zKHQsZSk7dGhpcy5wYXJlbnQuYm9keSYmdGhpcy5wYXJlbnQuYm9keS5lbWl0dGVyJiZ0aGlzLnBhcmVudC5ib2R5LmVtaXR0ZXIuZW1pdCYmdGhpcy5wYXJlbnQuYm9keS5lbWl0dGVyLmVtaXQoXCJjb25maWdDaGFuZ2VcIixpKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMucGFyZW50LnNldE9wdGlvbnMoaSl9fSx7a2V5OlwiX2NvbnN0cnVjdE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxvPWk7dD1cImZhbHNlXCIhPT0odD1cInRydWVcIj09PXR8fHQpJiZ0O2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKVwiZ2xvYmFsXCIhPT1lW25dJiYodm9pZCAwPT09b1tlW25dXSYmKG9bZVtuXV09e30pLG4hPT1lLmxlbmd0aC0xP289b1tlW25dXTpvW2Vbbl1dPXQpO3JldHVybiBpfX0se2tleTpcIl9wcmludE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmdldE9wdGlvbnMoKTt0aGlzLm9wdGlvbnNDb250YWluZXIuZmlyc3RDaGlsZDspdGhpcy5vcHRpb25zQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMub3B0aW9uc0NvbnRhaW5lci5maXJzdENoaWxkKTt0aGlzLm9wdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocm0oXCJwcmVcIixcImNvbnN0IG9wdGlvbnMgPSBcIitodih0LG51bGwsMikpKX19LHtrZXk6XCJnZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30sZT0wO2U8dGhpcy5jaGFuZ2VkT3B0aW9ucy5sZW5ndGg7ZSsrKXRoaXMuX2NvbnN0cnVjdE9wdGlvbnModGhpcy5jaGFuZ2VkT3B0aW9uc1tlXS52YWx1ZSx0aGlzLmNoYW5nZWRPcHRpb25zW2VdLnBhdGgsdCk7cmV0dXJuIHR9fV0pLHR9KCksaG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSl7WGwodGhpcyx0KSx0aGlzLmNvbnRhaW5lcj1lLHRoaXMub3ZlcmZsb3dNZXRob2Q9aXx8XCJjYXBcIix0aGlzLng9MCx0aGlzLnk9MCx0aGlzLnBhZGRpbmc9NSx0aGlzLmhpZGRlbj0hMSx0aGlzLmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5mcmFtZS5jbGFzc05hbWU9XCJ2aXMtdG9vbHRpcFwiLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUpfXJldHVybiAkbCh0LFt7a2V5Olwic2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMueD1fcCh0KSx0aGlzLnk9X3AoZSl9fSx7a2V5Olwic2V0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBFbGVtZW50KXtmb3IoO3RoaXMuZnJhbWUuZmlyc3RDaGlsZDspdGhpcy5mcmFtZS5yZW1vdmVDaGlsZCh0aGlzLmZyYW1lLmZpcnN0Q2hpbGQpO3RoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodCl9ZWxzZSB0aGlzLmZyYW1lLmlubmVyVGV4dD10fX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10JiYodD0hMCksITA9PT10KXt2YXIgZT10aGlzLmZyYW1lLmNsaWVudEhlaWdodCxpPXRoaXMuZnJhbWUuY2xpZW50V2lkdGgsbz10aGlzLmZyYW1lLnBhcmVudE5vZGUuY2xpZW50SGVpZ2h0LG49dGhpcy5mcmFtZS5wYXJlbnROb2RlLmNsaWVudFdpZHRoLHI9MCxzPTA7aWYoXCJmbGlwXCI9PXRoaXMub3ZlcmZsb3dNZXRob2Qpe3ZhciBhPSExLGg9ITA7dGhpcy55LWU8dGhpcy5wYWRkaW5nJiYoaD0hMSksdGhpcy54K2k+bi10aGlzLnBhZGRpbmcmJihhPSEwKSxyPWE/dGhpcy54LWk6dGhpcy54LHM9aD90aGlzLnktZTp0aGlzLnl9ZWxzZShzPXRoaXMueS1lKStlK3RoaXMucGFkZGluZz5vJiYocz1vLWUtdGhpcy5wYWRkaW5nKSxzPHRoaXMucGFkZGluZyYmKHM9dGhpcy5wYWRkaW5nKSwocj10aGlzLngpK2krdGhpcy5wYWRkaW5nPm4mJihyPW4taS10aGlzLnBhZGRpbmcpLHI8dGhpcy5wYWRkaW5nJiYocj10aGlzLnBhZGRpbmcpO3RoaXMuZnJhbWUuc3R5bGUubGVmdD1yK1wicHhcIix0aGlzLmZyYW1lLnN0eWxlLnRvcD1zK1wicHhcIix0aGlzLmZyYW1lLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy5oaWRkZW49ITF9ZWxzZSB0aGlzLmhpZGUoKX19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhpZGRlbj0hMCx0aGlzLmZyYW1lLnN0eWxlLmxlZnQ9XCIwXCIsdGhpcy5mcmFtZS5zdHlsZS50b3A9XCIwXCIsdGhpcy5mcmFtZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCJ9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZnJhbWUpfX1dKSx0fSgpLGRtPSExLGxtPVwiYmFja2dyb3VuZDogI0ZGZWVlZTsgY29sb3I6ICNkZDAwMDBcIixjbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtYbCh0aGlzLHQpfXJldHVybiAkbCh0LG51bGwsW3trZXk6XCJ2YWxpZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvKXtkbT0hMSxzbT1pO3ZhciBuPWk7cmV0dXJuIHZvaWQgMCE9PW8mJihuPWlbb10pLHQucGFyc2UoZSxuLFtdKSxkbX19LHtrZXk6XCJwYXJzZVwiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jaGVjayhuLGUsaSxvKX19LHtrZXk6XCJjaGVja1wiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvLG4pe2lmKHZvaWQgMCE9PW9bZV18fHZvaWQgMCE9PW8uX19hbnlfXyl7dmFyIHI9ZSxzPSEwO3ZvaWQgMD09PW9bZV0mJnZvaWQgMCE9PW8uX19hbnlfXyYmKHI9XCJfX2FueV9fXCIscz1cIm9iamVjdFwiPT09dC5nZXRUeXBlKGlbZV0pKTt2YXIgYT1vW3JdO3MmJnZvaWQgMCE9PWEuX190eXBlX18mJihhPWEuX190eXBlX18pLHQuY2hlY2tGaWVsZHMoZSxpLG8scixhLG4pfWVsc2UgdC5nZXRTdWdnZXN0aW9uKGUsbyxuKX19LHtrZXk6XCJjaGVja0ZpZWxkc1wiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvLG4scixzKXt2YXIgYT1mdW5jdGlvbihpKXtjb25zb2xlLmVycm9yKFwiJWNcIitpK3QucHJpbnRMb2NhdGlvbihzLGUpLGxtKX0saD10LmdldFR5cGUoaVtlXSksZD1yW2hdO3ZvaWQgMCE9PWQ/XCJhcnJheVwiPT09dC5nZXRUeXBlKGQpJiYtMT09PXpwKGQpLmNhbGwoZCxpW2VdKT8oYSgnSW52YWxpZCBvcHRpb24gZGV0ZWN0ZWQgaW4gXCInK2UrJ1wiLiBBbGxvd2VkIHZhbHVlcyBhcmU6Jyt0LnByaW50KGQpKycgbm90IFwiJytpW2VdKydcIi4gJyksZG09ITApOlwib2JqZWN0XCI9PT1oJiZcIl9fYW55X19cIiE9PW4mJihzPWp5KHMsZSksdC5wYXJzZShpW2VdLG9bbl0scykpOnZvaWQgMD09PXIuYW55JiYoYSgnSW52YWxpZCB0eXBlIHJlY2VpdmVkIGZvciBcIicrZSsnXCIuIEV4cGVjdGVkOiAnK3QucHJpbnQobXUocikpK1wiLiBSZWNlaXZlZCBbXCIraCsnXSBcIicraVtlXSsnXCInKSxkbT0hMCl9fSx7a2V5OlwiZ2V0VHlwZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVFjKHQpO3JldHVyblwib2JqZWN0XCI9PT1lP251bGw9PT10P1wibnVsbFwiOnQgaW5zdGFuY2VvZiBCb29sZWFuP1wiYm9vbGVhblwiOnQgaW5zdGFuY2VvZiBOdW1iZXI/XCJudW1iZXJcIjp0IGluc3RhbmNlb2YgU3RyaW5nP1wic3RyaW5nXCI6aHUodCk/XCJhcnJheVwiOnQgaW5zdGFuY2VvZiBEYXRlP1wiZGF0ZVwiOnZvaWQgMCE9PXQubm9kZVR5cGU/XCJkb21cIjohMD09PXQuX2lzQU1vbWVudE9iamVjdD9cIm1vbWVudFwiOlwib2JqZWN0XCI6XCJudW1iZXJcIj09PWU/XCJudW1iZXJcIjpcImJvb2xlYW5cIj09PWU/XCJib29sZWFuXCI6XCJzdHJpbmdcIj09PWU/XCJzdHJpbmdcIjp2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6ZX19LHtrZXk6XCJnZXRTdWdnZXN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8pe3ZhciBuLHI9dC5maW5kSW5PcHRpb25zKGUsaSxvLCExKSxzPXQuZmluZEluT3B0aW9ucyhlLHNtLFtdLCEwKTtuPXZvaWQgMCE9PXIuaW5kZXhNYXRjaD9cIiBpbiBcIit0LnByaW50TG9jYXRpb24oci5wYXRoLGUsXCJcIikrJ1BlcmhhcHMgaXQgd2FzIGluY29tcGxldGU/IERpZCB5b3UgbWVhbjogXCInK3IuaW5kZXhNYXRjaCsnXCI/XFxuXFxuJzpzLmRpc3RhbmNlPD00JiZyLmRpc3RhbmNlPnMuZGlzdGFuY2U/XCIgaW4gXCIrdC5wcmludExvY2F0aW9uKHIucGF0aCxlLFwiXCIpK1wiUGVyaGFwcyBpdCB3YXMgbWlzcGxhY2VkPyBNYXRjaGluZyBvcHRpb24gZm91bmQgYXQ6IFwiK3QucHJpbnRMb2NhdGlvbihzLnBhdGgscy5jbG9zZXN0TWF0Y2gsXCJcIik6ci5kaXN0YW5jZTw9OD8nLiBEaWQgeW91IG1lYW4gXCInK3IuY2xvc2VzdE1hdGNoKydcIj8nK3QucHJpbnRMb2NhdGlvbihyLnBhdGgsZSk6XCIuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U6IFwiK3QucHJpbnQobXUoaSkpK3QucHJpbnRMb2NhdGlvbihvLGUpLGNvbnNvbGUuZXJyb3IoJyVjVW5rbm93biBvcHRpb24gZGV0ZWN0ZWQ6IFwiJytlKydcIicrbixsbSksZG09ITB9fSx7a2V5OlwiZmluZEluT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLHI9MWU5LHM9XCJcIixhPVtdLGg9ZS50b0xvd2VyQ2FzZSgpLGQ9dm9pZCAwO2Zvcih2YXIgbCBpbiBpKXt2YXIgYz12b2lkIDA7aWYodm9pZCAwIT09aVtsXS5fX3R5cGVfXyYmITA9PT1uKXt2YXIgdT10LmZpbmRJbk9wdGlvbnMoZSxpW2xdLGp5KG8sbCkpO3I+dS5kaXN0YW5jZSYmKHM9dS5jbG9zZXN0TWF0Y2gsYT11LnBhdGgscj11LmRpc3RhbmNlLGQ9dS5pbmRleE1hdGNoKX1lbHNle3ZhciBmOy0xIT09enAoZj1sLnRvTG93ZXJDYXNlKCkpLmNhbGwoZixoKSYmKGQ9bCkscj4oYz10LmxldmVuc2h0ZWluRGlzdGFuY2UoZSxsKSkmJihzPWwsYT1MeShvKSxyPWMpfX1yZXR1cm57Y2xvc2VzdE1hdGNoOnMscGF0aDphLGRpc3RhbmNlOnIsaW5kZXhNYXRjaDpkfX19LHtrZXk6XCJwcmludExvY2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiUHJvYmxlbSB2YWx1ZSBmb3VuZCBhdDogXFxuXCIsbz1cIlxcblxcblwiK2krXCJvcHRpb25zID0ge1xcblwiLG49MDtuPHQubGVuZ3RoO24rKyl7Zm9yKHZhciByPTA7cjxuKzE7cisrKW8rPVwiICBcIjtvKz10W25dK1wiOiB7XFxuXCJ9Zm9yKHZhciBzPTA7czx0Lmxlbmd0aCsxO3MrKylvKz1cIiAgXCI7bys9ZStcIlxcblwiO2Zvcih2YXIgYT0wO2E8dC5sZW5ndGgrMTthKyspe2Zvcih2YXIgaD0wO2g8dC5sZW5ndGgtYTtoKyspbys9XCIgIFwiO28rPVwifVxcblwifXJldHVybiBvK1wiXFxuXFxuXCJ9fSx7a2V5OlwicHJpbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaHYodCkucmVwbGFjZSgvKFwiKXwoXFxbKXwoXFxdKXwoLFwiX190eXBlX19cIikvZyxcIlwiKS5yZXBsYWNlKC8oLCkvZyxcIiwgXCIpfX0se2tleTpcImxldmVuc2h0ZWluRGlzdGFuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gZS5sZW5ndGg7aWYoMD09PWUubGVuZ3RoKXJldHVybiB0Lmxlbmd0aDt2YXIgaSxvLG49W107Zm9yKGk9MDtpPD1lLmxlbmd0aDtpKyspbltpXT1baV07Zm9yKG89MDtvPD10Lmxlbmd0aDtvKyspblswXVtvXT1vO2ZvcihpPTE7aTw9ZS5sZW5ndGg7aSsrKWZvcihvPTE7bzw9dC5sZW5ndGg7bysrKWUuY2hhckF0KGktMSk9PXQuY2hhckF0KG8tMSk/bltpXVtvXT1uW2ktMV1bby0xXTpuW2ldW29dPU1hdGgubWluKG5baS0xXVtvLTFdKzEsTWF0aC5taW4obltpXVtvLTFdKzEsbltpLTFdW29dKzEpKTtyZXR1cm4gbltlLmxlbmd0aF1bdC5sZW5ndGhdfX1dKSx0fSgpLHVtPUN5LGZtPWFtLHBtPU95LHZtPWhtLGdtPWxtLHltPWNtO2Z1bmN0aW9uIG1tKHQpe3JldHVybiBDbT10LGZ1bmN0aW9uKCl7dmFyIHQ9e307U209MCx2b2lkKFRtPUNtLmNoYXJBdCgwKSksam0oKSxcInN0cmljdFwiPT09TW0mJih0LnN0cmljdD0hMCxqbSgpKTtcImdyYXBoXCIhPT1NbSYmXCJkaWdyYXBoXCIhPT1NbXx8KHQudHlwZT1NbSxqbSgpKTtQbT09PXhtJiYodC5pZD1NbSxqbSgpKTtpZihcIntcIiE9TW0pdGhyb3cgVW0oXCJBbmdsZSBicmFja2V0IHsgZXhwZWN0ZWRcIik7aWYoam0oKSxMbSh0KSxcIn1cIiE9TW0pdGhyb3cgVW0oXCJBbmdsZSBicmFja2V0IH0gZXhwZWN0ZWRcIik7aWYoam0oKSxcIlwiIT09TW0pdGhyb3cgVW0oXCJFbmQgb2YgZmlsZSBleHBlY3RlZFwiKTtyZXR1cm4gam0oKSxkZWxldGUgdC5ub2RlLGRlbGV0ZSB0LmVkZ2UsZGVsZXRlIHQuZ3JhcGgsdH0oKX12YXIgYm09e2ZvbnRzaXplOlwiZm9udC5zaXplXCIsZm9udGNvbG9yOlwiZm9udC5jb2xvclwiLGxhYmVsZm9udGNvbG9yOlwiZm9udC5jb2xvclwiLGZvbnRuYW1lOlwiZm9udC5mYWNlXCIsY29sb3I6W1wiY29sb3IuYm9yZGVyXCIsXCJjb2xvci5iYWNrZ3JvdW5kXCJdLGZpbGxjb2xvcjpcImNvbG9yLmJhY2tncm91bmRcIix0b29sdGlwOlwidGl0bGVcIixsYWJlbHRvb2x0aXA6XCJ0aXRsZVwifSx3bT1IcChibSk7d20uY29sb3I9XCJjb2xvci5jb2xvclwiLHdtLnN0eWxlPVwiZGFzaGVzXCI7dmFyIGttPTAsX209MSx4bT0yLEVtPTMsT209e1wie1wiOiEwLFwifVwiOiEwLFwiW1wiOiEwLFwiXVwiOiEwLFwiO1wiOiEwLFwiPVwiOiEwLFwiLFwiOiEwLFwiLT5cIjohMCxcIi0tXCI6ITB9LENtPVwiXCIsU209MCxUbT1cIlwiLE1tPVwiXCIsUG09a207ZnVuY3Rpb24gRG0oKXtTbSsrLFRtPUNtLmNoYXJBdChTbSl9ZnVuY3Rpb24gQm0oKXtyZXR1cm4gQ20uY2hhckF0KFNtKzEpfWZ1bmN0aW9uIEltKHQpe3ZhciBlPXQuY2hhckNvZGVBdCgwKTtyZXR1cm4gZTw0Nz8zNT09PWV8fDQ2PT09ZTplPDU5P2U+NDc6ZTw5MT9lPjY0OmU8OTY/OTU9PT1lOmU8MTIzJiZlPjk2fWZ1bmN0aW9uIHptKHQsZSl7aWYodHx8KHQ9e30pLGUpZm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIHR9ZnVuY3Rpb24gRm0odCxlLGkpe2Zvcih2YXIgbz1lLnNwbGl0KFwiLlwiKSxuPXQ7by5sZW5ndGg7KXt2YXIgcj1vLnNoaWZ0KCk7by5sZW5ndGg/KG5bcl18fChuW3JdPXt9KSxuPW5bcl0pOm5bcl09aX19ZnVuY3Rpb24gTm0odCxlKXtmb3IodmFyIGksbyxuPW51bGwscj1bdF0scz10O3MucGFyZW50OylyLnB1c2gocy5wYXJlbnQpLHM9cy5wYXJlbnQ7aWYocy5ub2Rlcylmb3IoaT0wLG89cy5ub2Rlcy5sZW5ndGg7aTxvO2krKylpZihlLmlkPT09cy5ub2Rlc1tpXS5pZCl7bj1zLm5vZGVzW2ldO2JyZWFrfWZvcihufHwobj17aWQ6ZS5pZH0sdC5ub2RlJiYobi5hdHRyPXptKG4uYXR0cix0Lm5vZGUpKSksaT1yLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgYSxoPXJbaV07aC5ub2Rlc3x8KGgubm9kZXM9W10pLC0xPT09enAoYT1oLm5vZGVzKS5jYWxsKGEsbikmJmgubm9kZXMucHVzaChuKX1lLmF0dHImJihuLmF0dHI9em0obi5hdHRyLGUuYXR0cikpfWZ1bmN0aW9uIEFtKHQsZSl7aWYodC5lZGdlc3x8KHQuZWRnZXM9W10pLHQuZWRnZXMucHVzaChlKSx0LmVkZ2Upe3ZhciBpPXptKHt9LHQuZWRnZSk7ZS5hdHRyPXptKGksZS5hdHRyKX19ZnVuY3Rpb24gUm0odCxlLGksbyxuKXt2YXIgcj17ZnJvbTplLHRvOmksdHlwZTpvfTtyZXR1cm4gdC5lZGdlJiYoci5hdHRyPXptKHt9LHQuZWRnZSkpLHIuYXR0cj16bShyLmF0dHJ8fHt9LG4pLG51bGwhPW4mJm4uaGFzT3duUHJvcGVydHkoXCJhcnJvd3NcIikmJm51bGwhPW4uYXJyb3dzJiYoci5hcnJvd3M9e3RvOntlbmFibGVkOiEwLHR5cGU6bi5hcnJvd3MudHlwZX19LG4uYXJyb3dzPW51bGwpLHJ9ZnVuY3Rpb24gam0oKXtmb3IoUG09a20sTW09XCJcIjtcIiBcIj09PVRtfHxcIlxcdFwiPT09VG18fFwiXFxuXCI9PT1UbXx8XCJcXHJcIj09PVRtOylEbSgpO2Rve3ZhciB0PSExO2lmKFwiI1wiPT09VG0pe2Zvcih2YXIgZT1TbS0xO1wiIFwiPT09Q20uY2hhckF0KGUpfHxcIlxcdFwiPT09Q20uY2hhckF0KGUpOyllLS07aWYoXCJcXG5cIj09PUNtLmNoYXJBdChlKXx8XCJcIj09PUNtLmNoYXJBdChlKSl7Zm9yKDtcIlwiIT1UbSYmXCJcXG5cIiE9VG07KURtKCk7dD0hMH19aWYoXCIvXCI9PT1UbSYmXCIvXCI9PT1CbSgpKXtmb3IoO1wiXCIhPVRtJiZcIlxcblwiIT1UbTspRG0oKTt0PSEwfWlmKFwiL1wiPT09VG0mJlwiKlwiPT09Qm0oKSl7Zm9yKDtcIlwiIT1UbTspe2lmKFwiKlwiPT09VG0mJlwiL1wiPT09Qm0oKSl7RG0oKSxEbSgpO2JyZWFrfURtKCl9dD0hMH1mb3IoO1wiIFwiPT09VG18fFwiXFx0XCI9PT1UbXx8XCJcXG5cIj09PVRtfHxcIlxcclwiPT09VG07KURtKCl9d2hpbGUodCk7aWYoXCJcIiE9PVRtKXt2YXIgaT1UbStCbSgpO2lmKE9tW2ldKXJldHVybiBQbT1fbSxNbT1pLERtKCksdm9pZCBEbSgpO2lmKE9tW1RtXSlyZXR1cm4gUG09X20sTW09VG0sdm9pZCBEbSgpO2lmKEltKFRtKXx8XCItXCI9PT1UbSl7Zm9yKE1tKz1UbSxEbSgpO0ltKFRtKTspTW0rPVRtLERtKCk7cmV0dXJuXCJmYWxzZVwiPT09TW0/TW09ITE6XCJ0cnVlXCI9PT1NbT9NbT0hMDppc05hTihOdW1iZXIoTW0pKXx8KE1tPU51bWJlcihNbSkpLHZvaWQoUG09eG0pfWlmKCdcIic9PT1UbSl7Zm9yKERtKCk7XCJcIiE9VG0mJignXCInIT1UbXx8J1wiJz09PVRtJiYnXCInPT09Qm0oKSk7KSdcIic9PT1UbT8oTW0rPVRtLERtKCkpOlwiXFxcXFwiPT09VG0mJlwiblwiPT09Qm0oKT8oTW0rPVwiXFxuXCIsRG0oKSk6TW0rPVRtLERtKCk7aWYoJ1wiJyE9VG0pdGhyb3cgVW0oJ0VuZCBvZiBzdHJpbmcgXCIgZXhwZWN0ZWQnKTtyZXR1cm4gRG0oKSx2b2lkKFBtPXhtKX1mb3IoUG09RW07XCJcIiE9VG07KU1tKz1UbSxEbSgpO3Rocm93IG5ldyBTeW50YXhFcnJvcignU3ludGF4IGVycm9yIGluIHBhcnQgXCInK1ltKE1tLDMwKSsnXCInKX1QbT1fbX1mdW5jdGlvbiBMbSh0KXtmb3IoO1wiXCIhPT1NbSYmXCJ9XCIhPU1tOylIbSh0KSxcIjtcIj09PU1tJiZqbSgpfWZ1bmN0aW9uIEhtKHQpe3ZhciBlPVdtKHQpO2lmKGUpVm0odCxlKTtlbHNle3ZhciBpPWZ1bmN0aW9uKHQpe2lmKFwibm9kZVwiPT09TW0pcmV0dXJuIGptKCksdC5ub2RlPXFtKCksXCJub2RlXCI7aWYoXCJlZGdlXCI9PT1NbSlyZXR1cm4gam0oKSx0LmVkZ2U9cW0oKSxcImVkZ2VcIjtpZihcImdyYXBoXCI9PT1NbSlyZXR1cm4gam0oKSx0LmdyYXBoPXFtKCksXCJncmFwaFwiO3JldHVybiBudWxsfSh0KTtpZighaSl7aWYoUG0hPXhtKXRocm93IFVtKFwiSWRlbnRpZmllciBleHBlY3RlZFwiKTt2YXIgbz1NbTtpZihqbSgpLFwiPVwiPT09TW0pe2lmKGptKCksUG0hPXhtKXRocm93IFVtKFwiSWRlbnRpZmllciBleHBlY3RlZFwiKTt0W29dPU1tLGptKCl9ZWxzZSFmdW5jdGlvbih0LGUpe3ZhciBpPXtpZDplfSxvPXFtKCk7byYmKGkuYXR0cj1vKTtObSh0LGkpLFZtKHQsZSl9KHQsbyl9fX1mdW5jdGlvbiBXbSh0KXt2YXIgZT1udWxsO2lmKFwic3ViZ3JhcGhcIj09PU1tJiYoKGU9e30pLnR5cGU9XCJzdWJncmFwaFwiLGptKCksUG09PT14bSYmKGUuaWQ9TW0sam0oKSkpLFwie1wiPT09TW0pe2lmKGptKCksZXx8KGU9e30pLGUucGFyZW50PXQsZS5ub2RlPXQubm9kZSxlLmVkZ2U9dC5lZGdlLGUuZ3JhcGg9dC5ncmFwaCxMbShlKSxcIn1cIiE9TW0pdGhyb3cgVW0oXCJBbmdsZSBicmFja2V0IH0gZXhwZWN0ZWRcIik7am0oKSxkZWxldGUgZS5ub2RlLGRlbGV0ZSBlLmVkZ2UsZGVsZXRlIGUuZ3JhcGgsZGVsZXRlIGUucGFyZW50LHQuc3ViZ3JhcGhzfHwodC5zdWJncmFwaHM9W10pLHQuc3ViZ3JhcGhzLnB1c2goZSl9cmV0dXJuIGV9ZnVuY3Rpb24gVm0odCxlKXtmb3IoO1wiLT5cIj09PU1tfHxcIi0tXCI9PT1NbTspe3ZhciBpLG89TW07am0oKTt2YXIgbj1XbSh0KTtpZihuKWk9bjtlbHNle2lmKFBtIT14bSl0aHJvdyBVbShcIklkZW50aWZpZXIgb3Igc3ViZ3JhcGggZXhwZWN0ZWRcIik7Tm0odCx7aWQ6aT1NbX0pLGptKCl9QW0odCxSbSh0LGUsaSxvLHFtKCkpKSxlPWl9fWZ1bmN0aW9uIHFtKCl7Zm9yKHZhciB0LGUsaT1udWxsLG89e2Rhc2hlZDohMCxzb2xpZDohMSxkb3R0ZWQ6WzEsNV19LG49e2RvdDpcImNpcmNsZVwiLGJveDpcImJveFwiLGNyb3c6XCJjcm93XCIsY3VydmU6XCJjdXJ2ZVwiLGljdXJ2ZTpcImludl9jdXJ2ZVwiLG5vcm1hbDpcInRyaWFuZ2xlXCIsaW52OlwiaW52X3RyaWFuZ2xlXCIsZGlhbW9uZDpcImRpYW1vbmRcIix0ZWU6XCJiYXJcIix2ZWU6XCJ2ZWVcIn0scj1uZXcgQXJyYXkscz1uZXcgQXJyYXk7XCJbXCI9PT1NbTspe2ZvcihqbSgpLGk9e307XCJcIiE9PU1tJiZcIl1cIiE9TW07KXtpZihQbSE9eG0pdGhyb3cgVW0oXCJBdHRyaWJ1dGUgbmFtZSBleHBlY3RlZFwiKTt2YXIgYT1NbTtpZihqbSgpLFwiPVwiIT1NbSl0aHJvdyBVbShcIkVxdWFsIHNpZ24gPSBleHBlY3RlZFwiKTtpZihqbSgpLFBtIT14bSl0aHJvdyBVbShcIkF0dHJpYnV0ZSB2YWx1ZSBleHBlY3RlZFwiKTt2YXIgaD1NbTtcInN0eWxlXCI9PT1hJiYoaD1vW2hdKSxcImFycm93aGVhZFwiPT09YSYmKGE9XCJhcnJvd3NcIixoPXt0bzp7ZW5hYmxlZDohMCx0eXBlOm5baF19fSksXCJhcnJvd3RhaWxcIj09PWEmJihhPVwiYXJyb3dzXCIsaD17ZnJvbTp7ZW5hYmxlZDohMCx0eXBlOm5baF19fSksci5wdXNoKHthdHRyOmksbmFtZTphLHZhbHVlOmh9KSxzLnB1c2goYSksam0oKSxcIixcIj09TW0mJmptKCl9aWYoXCJdXCIhPU1tKXRocm93IFVtKFwiQnJhY2tldCBdIGV4cGVjdGVkXCIpO2ptKCl9aWYoemYocykuY2FsbChzLFwiZGlyXCIpKXt2YXIgZD17YXJyb3dzOnt9fTtmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKWlmKFwiYXJyb3dzXCI9PT1yW3RdLm5hbWUpaWYobnVsbCE9clt0XS52YWx1ZS50bylkLmFycm93cy50bz10O2Vsc2V7aWYobnVsbD09clt0XS52YWx1ZS5mcm9tKXRocm93IFVtKFwiSW52YWxpZCB2YWx1ZSBvZiBhcnJvd3NcIik7ZC5hcnJvd3MuZnJvbT10fWVsc2VcImRpclwiPT09clt0XS5uYW1lJiYoZC5kaXI9dCk7dmFyIGwsYyx1PXJbZC5kaXJdLnZhbHVlO2lmKCF6ZihzKS5jYWxsKHMsXCJhcnJvd3NcIikpaWYoXCJib3RoXCI9PT11KXIucHVzaCh7YXR0cjpyW2QuZGlyXS5hdHRyLG5hbWU6XCJhcnJvd3NcIix2YWx1ZTp7dG86e2VuYWJsZWQ6ITB9fX0pLGQuYXJyb3dzLnRvPXIubGVuZ3RoLTEsci5wdXNoKHthdHRyOnJbZC5kaXJdLmF0dHIsbmFtZTpcImFycm93c1wiLHZhbHVlOntmcm9tOntlbmFibGVkOiEwfX19KSxkLmFycm93cy5mcm9tPXIubGVuZ3RoLTE7ZWxzZSBpZihcImZvcndhcmRcIj09PXUpci5wdXNoKHthdHRyOnJbZC5kaXJdLmF0dHIsbmFtZTpcImFycm93c1wiLHZhbHVlOnt0bzp7ZW5hYmxlZDohMH19fSksZC5hcnJvd3MudG89ci5sZW5ndGgtMTtlbHNlIGlmKFwiYmFja1wiPT09dSlyLnB1c2goe2F0dHI6cltkLmRpcl0uYXR0cixuYW1lOlwiYXJyb3dzXCIsdmFsdWU6e2Zyb206e2VuYWJsZWQ6ITB9fX0pLGQuYXJyb3dzLmZyb209ci5sZW5ndGgtMTtlbHNle2lmKFwibm9uZVwiIT09dSl0aHJvdyBVbSgnSW52YWxpZCBkaXIgdHlwZSBcIicrdSsnXCInKTtyLnB1c2goe2F0dHI6cltkLmRpcl0uYXR0cixuYW1lOlwiYXJyb3dzXCIsdmFsdWU6XCJcIn0pLGQuYXJyb3dzLnRvPXIubGVuZ3RoLTF9aWYoXCJib3RoXCI9PT11KWQuYXJyb3dzLnRvJiZkLmFycm93cy5mcm9tPyhjPXJbZC5hcnJvd3MudG9dLnZhbHVlLnRvLnR5cGUsbD1yW2QuYXJyb3dzLmZyb21dLnZhbHVlLmZyb20udHlwZSxyW2QuYXJyb3dzLnRvXT17YXR0cjpyW2QuYXJyb3dzLnRvXS5hdHRyLG5hbWU6cltkLmFycm93cy50b10ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpjfSxmcm9tOntlbmFibGVkOiEwLHR5cGU6bH19fSx1ZihyKS5jYWxsKHIsZC5hcnJvd3MuZnJvbSwxKSk6ZC5hcnJvd3MudG8/KGM9cltkLmFycm93cy50b10udmFsdWUudG8udHlwZSxsPVwiYXJyb3dcIixyW2QuYXJyb3dzLnRvXT17YXR0cjpyW2QuYXJyb3dzLnRvXS5hdHRyLG5hbWU6cltkLmFycm93cy50b10ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpjfSxmcm9tOntlbmFibGVkOiEwLHR5cGU6bH19fSk6ZC5hcnJvd3MuZnJvbSYmKGM9XCJhcnJvd1wiLGw9cltkLmFycm93cy5mcm9tXS52YWx1ZS5mcm9tLnR5cGUscltkLmFycm93cy5mcm9tXT17YXR0cjpyW2QuYXJyb3dzLmZyb21dLmF0dHIsbmFtZTpyW2QuYXJyb3dzLmZyb21dLm5hbWUsdmFsdWU6e3RvOntlbmFibGVkOiEwLHR5cGU6Y30sZnJvbTp7ZW5hYmxlZDohMCx0eXBlOmx9fX0pO2Vsc2UgaWYoXCJiYWNrXCI9PT11KWQuYXJyb3dzLnRvJiZkLmFycm93cy5mcm9tPyhjPVwiXCIsbD1yW2QuYXJyb3dzLmZyb21dLnZhbHVlLmZyb20udHlwZSxyW2QuYXJyb3dzLmZyb21dPXthdHRyOnJbZC5hcnJvd3MuZnJvbV0uYXR0cixuYW1lOnJbZC5hcnJvd3MuZnJvbV0ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpjfSxmcm9tOntlbmFibGVkOiEwLHR5cGU6bH19fSk6ZC5hcnJvd3MudG8/KGM9XCJcIixsPVwiYXJyb3dcIixkLmFycm93cy5mcm9tPWQuYXJyb3dzLnRvLHJbZC5hcnJvd3MuZnJvbV09e2F0dHI6cltkLmFycm93cy5mcm9tXS5hdHRyLG5hbWU6cltkLmFycm93cy5mcm9tXS5uYW1lLHZhbHVlOnt0bzp7ZW5hYmxlZDohMCx0eXBlOmN9LGZyb206e2VuYWJsZWQ6ITAsdHlwZTpsfX19KTpkLmFycm93cy5mcm9tJiYoYz1cIlwiLGw9cltkLmFycm93cy5mcm9tXS52YWx1ZS5mcm9tLnR5cGUscltkLmFycm93cy50b109e2F0dHI6cltkLmFycm93cy5mcm9tXS5hdHRyLG5hbWU6cltkLmFycm93cy5mcm9tXS5uYW1lLHZhbHVlOnt0bzp7ZW5hYmxlZDohMCx0eXBlOmN9LGZyb206e2VuYWJsZWQ6ITAsdHlwZTpsfX19KSxyW2QuYXJyb3dzLmZyb21dPXthdHRyOnJbZC5hcnJvd3MuZnJvbV0uYXR0cixuYW1lOnJbZC5hcnJvd3MuZnJvbV0ubmFtZSx2YWx1ZTp7ZnJvbTp7ZW5hYmxlZDohMCx0eXBlOnJbZC5hcnJvd3MuZnJvbV0udmFsdWUuZnJvbS50eXBlfX19O2Vsc2UgaWYoXCJub25lXCI9PT11KXt2YXIgZjtyW2Y9ZC5hcnJvd3MudG8/ZC5hcnJvd3MudG86ZC5hcnJvd3MuZnJvbV09e2F0dHI6cltmXS5hdHRyLG5hbWU6cltmXS5uYW1lLHZhbHVlOlwiXCJ9fWVsc2V7aWYoXCJmb3J3YXJkXCIhPT11KXRocm93IFVtKCdJbnZhbGlkIGRpciB0eXBlIFwiJyt1KydcIicpO2QuYXJyb3dzLnRvJiZkLmFycm93cy5mcm9tfHxkLmFycm93cy50bz8oYz1yW2QuYXJyb3dzLnRvXS52YWx1ZS50by50eXBlLGw9XCJcIixyW2QuYXJyb3dzLnRvXT17YXR0cjpyW2QuYXJyb3dzLnRvXS5hdHRyLG5hbWU6cltkLmFycm93cy50b10ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpjfSxmcm9tOntlbmFibGVkOiEwLHR5cGU6bH19fSk6ZC5hcnJvd3MuZnJvbSYmKGM9XCJhcnJvd1wiLGw9XCJcIixkLmFycm93cy50bz1kLmFycm93cy5mcm9tLHJbZC5hcnJvd3MudG9dPXthdHRyOnJbZC5hcnJvd3MudG9dLmF0dHIsbmFtZTpyW2QuYXJyb3dzLnRvXS5uYW1lLHZhbHVlOnt0bzp7ZW5hYmxlZDohMCx0eXBlOmN9LGZyb206e2VuYWJsZWQ6ITAsdHlwZTpsfX19KSxyW2QuYXJyb3dzLnRvXT17YXR0cjpyW2QuYXJyb3dzLnRvXS5hdHRyLG5hbWU6cltkLmFycm93cy50b10ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpyW2QuYXJyb3dzLnRvXS52YWx1ZS50by50eXBlfX19fXVmKHIpLmNhbGwocixkLmRpciwxKX1pZih6ZihzKS5jYWxsKHMsXCJwZW53aWR0aFwiKSl7dmFyIHA9W107Zm9yKGU9ci5sZW5ndGgsdD0wO3Q8ZTt0KyspXCJ3aWR0aFwiIT09clt0XS5uYW1lJiYoXCJwZW53aWR0aFwiPT09clt0XS5uYW1lJiYoclt0XS5uYW1lPVwid2lkdGhcIikscC5wdXNoKHJbdF0pKTtyPXB9Zm9yKGU9ci5sZW5ndGgsdD0wO3Q8ZTt0KyspRm0oclt0XS5hdHRyLHJbdF0ubmFtZSxyW3RdLnZhbHVlKTtyZXR1cm4gaX1mdW5jdGlvbiBVbSh0KXtyZXR1cm4gbmV3IFN5bnRheEVycm9yKHQrJywgZ290IFwiJytZbShNbSwzMCkrJ1wiIChjaGFyICcrU20rXCIpXCIpfWZ1bmN0aW9uIFltKHQsZSl7cmV0dXJuIHQubGVuZ3RoPD1lP3Q6dC5zdWJzdHIoMCwyNykrXCIuLi5cIn1mdW5jdGlvbiBYbSh0LGUsaSl7Zm9yKHZhciBvPWUuc3BsaXQoXCIuXCIpLG49by5wb3AoKSxyPXQscz0wO3M8by5sZW5ndGg7cysrKXt2YXIgYT1vW3NdO2EgaW4gcnx8KHJbYV09e30pLHI9clthXX1yZXR1cm4gcltuXT1pLHR9ZnVuY3Rpb24gR20odCxlKXt2YXIgaT17fTtmb3IodmFyIG8gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG8pKXt2YXIgbj1lW29dO2h1KG4pP0Z1KG4pLmNhbGwobiwoZnVuY3Rpb24oZSl7WG0oaSxlLHRbb10pfSkpOlhtKGksXCJzdHJpbmdcIj09dHlwZW9mIG4/bjpvLHRbb10pfXJldHVybiBpfWZ1bmN0aW9uIEttKHQpe3ZhciBlLGk9bW0odCksbz17bm9kZXM6W10sZWRnZXM6W10sb3B0aW9uczp7fX07aS5ub2RlcyYmRnUoZT1pLm5vZGVzKS5jYWxsKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXtpZDp0LmlkLGxhYmVsOlN0cmluZyh0LmxhYmVsfHx0LmlkKX07em0oZSxHbSh0LmF0dHIsYm0pKSxlLmltYWdlJiYoZS5zaGFwZT1cImltYWdlXCIpLG8ubm9kZXMucHVzaChlKX0pKTtpZihpLmVkZ2VzKXt2YXIgbixyPWZ1bmN0aW9uKHQpe3ZhciBlPXtmcm9tOnQuZnJvbSx0bzp0LnRvfTtyZXR1cm4gem0oZSxHbSh0LmF0dHIsd20pKSxudWxsPT1lLmFycm93cyYmXCItPlwiPT09dC50eXBlJiYoZS5hcnJvd3M9XCJ0b1wiKSxlfTtGdShuPWkuZWRnZXMpLmNhbGwobiwoZnVuY3Rpb24odCl7dmFyIGUsaSxuLHMsYSxoLGQ7KGU9dC5mcm9tIGluc3RhbmNlb2YgT2JqZWN0P3QuZnJvbS5ub2Rlczp7aWQ6dC5mcm9tfSxpPXQudG8gaW5zdGFuY2VvZiBPYmplY3Q/dC50by5ub2Rlczp7aWQ6dC50b30sdC5mcm9tIGluc3RhbmNlb2YgT2JqZWN0JiZ0LmZyb20uZWRnZXMpJiZGdShuPXQuZnJvbS5lZGdlcykuY2FsbChuLChmdW5jdGlvbih0KXt2YXIgZT1yKHQpO28uZWRnZXMucHVzaChlKX0pKTsoYT1pLGg9ZnVuY3Rpb24oZSxpKXt2YXIgbj1SbShvLGUuaWQsaS5pZCx0LnR5cGUsdC5hdHRyKSxzPXIobik7by5lZGdlcy5wdXNoKHMpfSxodShzPWUpP0Z1KHMpLmNhbGwocywoZnVuY3Rpb24odCl7aHUoYSk/RnUoYSkuY2FsbChhLChmdW5jdGlvbihlKXtoKHQsZSl9KSk6aCh0LGEpfSkpOmh1KGEpP0Z1KGEpLmNhbGwoYSwoZnVuY3Rpb24odCl7aChzLHQpfSkpOmgocyxhKSx0LnRvIGluc3RhbmNlb2YgT2JqZWN0JiZ0LnRvLmVkZ2VzKSYmRnUoZD10LnRvLmVkZ2VzKS5jYWxsKGQsKGZ1bmN0aW9uKHQpe3ZhciBlPXIodCk7by5lZGdlcy5wdXNoKGUpfSkpfSkpfXJldHVybiBpLmF0dHImJihvLm9wdGlvbnM9aS5hdHRyKSxvfXZhciAkbT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwYXJzZURPVDptbSxET1RUb0dyYXBoOkttfSk7ZnVuY3Rpb24gWm0odCxlKXt2YXIgaSxvPXtlZGdlczp7aW5oZXJpdENvbG9yOiExfSxub2Rlczp7Zml4ZWQ6ITEscGFyc2VDb2xvcjohMX19O251bGwhPWUmJihudWxsIT1lLmZpeGVkJiYoby5ub2Rlcy5maXhlZD1lLmZpeGVkKSxudWxsIT1lLnBhcnNlQ29sb3ImJihvLm5vZGVzLnBhcnNlQ29sb3I9ZS5wYXJzZUNvbG9yKSxudWxsIT1lLmluaGVyaXRDb2xvciYmKG8uZWRnZXMuaW5oZXJpdENvbG9yPWUuaW5oZXJpdENvbG9yKSk7dmFyIG49dC5lZGdlcyxyPXZ1KG4pLmNhbGwobiwoZnVuY3Rpb24odCl7dmFyIGU9e2Zyb206dC5zb3VyY2UsaWQ6dC5pZCx0bzp0LnRhcmdldH07cmV0dXJuIG51bGwhPXQuYXR0cmlidXRlcyYmKGUuYXR0cmlidXRlcz10LmF0dHJpYnV0ZXMpLG51bGwhPXQubGFiZWwmJihlLmxhYmVsPXQubGFiZWwpLG51bGwhPXQuYXR0cmlidXRlcyYmbnVsbCE9dC5hdHRyaWJ1dGVzLnRpdGxlJiYoZS50aXRsZT10LmF0dHJpYnV0ZXMudGl0bGUpLFwiRGlyZWN0ZWRcIj09PXQudHlwZSYmKGUuYXJyb3dzPVwidG9cIiksdC5jb2xvciYmITE9PT1vLmVkZ2VzLmluaGVyaXRDb2xvciYmKGUuY29sb3I9dC5jb2xvciksZX0pKTtyZXR1cm57bm9kZXM6dnUoaT10Lm5vZGVzKS5jYWxsKGksKGZ1bmN0aW9uKHQpe3ZhciBlPXtpZDp0LmlkLGZpeGVkOm8ubm9kZXMuZml4ZWQmJm51bGwhPXQueCYmbnVsbCE9dC55fTtyZXR1cm4gbnVsbCE9dC5hdHRyaWJ1dGVzJiYoZS5hdHRyaWJ1dGVzPXQuYXR0cmlidXRlcyksbnVsbCE9dC5sYWJlbCYmKGUubGFiZWw9dC5sYWJlbCksbnVsbCE9dC5zaXplJiYoZS5zaXplPXQuc2l6ZSksbnVsbCE9dC5hdHRyaWJ1dGVzJiZudWxsIT10LmF0dHJpYnV0ZXMudGl0bGUmJihlLnRpdGxlPXQuYXR0cmlidXRlcy50aXRsZSksbnVsbCE9dC50aXRsZSYmKGUudGl0bGU9dC50aXRsZSksbnVsbCE9dC54JiYoZS54PXQueCksbnVsbCE9dC55JiYoZS55PXQueSksbnVsbCE9dC5jb2xvciYmKCEwPT09by5ub2Rlcy5wYXJzZUNvbG9yP2UuY29sb3I9dC5jb2xvcjplLmNvbG9yPXtiYWNrZ3JvdW5kOnQuY29sb3IsYm9yZGVyOnQuY29sb3IsaGlnaGxpZ2h0OntiYWNrZ3JvdW5kOnQuY29sb3IsYm9yZGVyOnQuY29sb3J9LGhvdmVyOntiYWNrZ3JvdW5kOnQuY29sb3IsYm9yZGVyOnQuY29sb3J9fSksZX0pKSxlZGdlczpyfX12YXIgUW09T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwscGFyc2VHZXBoaTpabX0pLEptPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGVuOnthZGREZXNjcmlwdGlvbjpcIkNsaWNrIGluIGFuIGVtcHR5IHNwYWNlIHRvIHBsYWNlIGEgbmV3IG5vZGUuXCIsYWRkRWRnZTpcIkFkZCBFZGdlXCIsYWRkTm9kZTpcIkFkZCBOb2RlXCIsYmFjazpcIkJhY2tcIixjbG9zZTpcIkNsb3NlXCIsY3JlYXRlRWRnZUVycm9yOlwiQ2Fubm90IGxpbmsgZWRnZXMgdG8gYSBjbHVzdGVyLlwiLGRlbDpcIkRlbGV0ZSBzZWxlY3RlZFwiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIGNhbm5vdCBiZSBkZWxldGVkLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIkNsaWNrIG9uIGEgbm9kZSBhbmQgZHJhZyB0aGUgZWRnZSB0byBhbm90aGVyIG5vZGUgdG8gY29ubmVjdCB0aGVtLlwiLGVkaXQ6XCJFZGl0XCIsZWRpdENsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIGNhbm5vdCBiZSBlZGl0ZWQuXCIsZWRpdEVkZ2U6XCJFZGl0IEVkZ2VcIixlZGl0RWRnZURlc2NyaXB0aW9uOlwiQ2xpY2sgb24gdGhlIGNvbnRyb2wgcG9pbnRzIGFuZCBkcmFnIHRoZW0gdG8gYSBub2RlIHRvIGNvbm5lY3QgdG8gaXQuXCIsZWRpdE5vZGU6XCJFZGl0IE5vZGVcIn0sZGU6e2FkZERlc2NyaXB0aW9uOlwiS2xpY2tlIGF1ZiBlaW5lIGZyZWllIFN0ZWxsZSwgdW0gZWluZW4gbmV1ZW4gS25vdGVuIHp1IHBsYXppZXJlbi5cIixhZGRFZGdlOlwiS2FudGUgaGluenVmw7xnZW5cIixhZGROb2RlOlwiS25vdGVuIGhpbnp1ZsO8Z2VuXCIsYmFjazpcIlp1csO8Y2tcIixjbG9zZTpcIlNjaGxpZcOfZW5cIixjcmVhdGVFZGdlRXJyb3I6XCJFcyBpc3QgbmljaHQgbcO2Z2xpY2gsIEthbnRlbiBtaXQgQ2x1c3Rlcm4genUgdmVyYmluZGVuLlwiLGRlbDpcIkzDtnNjaGUgQXVzd2FobFwiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcIkNsdXN0ZXIga8O2bm5lbiBuaWNodCBnZWzDtnNjaHQgd2VyZGVuLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIktsaWNrZSBhdWYgZWluZW4gS25vdGVuIHVuZCB6aWVoZSBkaWUgS2FudGUgenUgZWluZW0gYW5kZXJlbiBLbm90ZW4sIHVtIGRpZXNlIHp1IHZlcmJpbmRlbi5cIixlZGl0OlwiRWRpdGllcmVuXCIsZWRpdENsdXN0ZXJFcnJvcjpcIkNsdXN0ZXIga8O2bm5lbiBuaWNodCBlZGl0aWVydCB3ZXJkZW4uXCIsZWRpdEVkZ2U6XCJLYW50ZSBlZGl0aWVyZW5cIixlZGl0RWRnZURlc2NyaXB0aW9uOlwiS2xpY2tlIGF1ZiBkaWUgVmVyYmluZHVuZ3NwdW5rdGUgdW5kIHppZWhlIGRpZXNlIGF1ZiBlaW5lbiBLbm90ZW4sIHVtIHNpZSB6dSB2ZXJiaW5kZW4uXCIsZWRpdE5vZGU6XCJLbm90ZW4gZWRpdGllcmVuXCJ9LGVzOnthZGREZXNjcmlwdGlvbjpcIkhhZ2EgY2xpYyBlbiB1biBsdWdhciB2YWPDrW8gcGFyYSBjb2xvY2FyIHVuIG51ZXZvIG5vZG8uXCIsYWRkRWRnZTpcIkHDsWFkaXIgYXJpc3RhXCIsYWRkTm9kZTpcIkHDsWFkaXIgbm9kb1wiLGJhY2s6XCJBdHLDoXNcIixjbG9zZTpcIkNlcnJhclwiLGNyZWF0ZUVkZ2VFcnJvcjpcIk5vIHNlIHB1ZWRlIGNvbmVjdGFyIHVuYSBhcmlzdGEgYSB1biBncnVwby5cIixkZWw6XCJFbGltaW5hciBzZWxlY2Npw7NuXCIsZGVsZXRlQ2x1c3RlckVycm9yOlwiTm8gZXMgcG9zaWJsZSBlbGltaW5hciBncnVwb3MuXCIsZWRnZURlc2NyaXB0aW9uOlwiSGFnYSBjbGljIGVuIHVuIG5vZG8geSBhcnJhc3RyZSBsYSBhcmlzdGEgaGFjaWEgb3RybyBub2RvIHBhcmEgY29uZWN0YXJsb3MuXCIsZWRpdDpcIkVkaXRhclwiLGVkaXRDbHVzdGVyRXJyb3I6XCJObyBlcyBwb3NpYmxlIGVkaXRhciBncnVwb3MuXCIsZWRpdEVkZ2U6XCJFZGl0YXIgYXJpc3RhXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIkhhZ2EgY2xpYyBlbiB1biBwdW50byBkZSBjb250cm9sIHkgYXJyYXN0cmVsbyBhIHVuIG5vZG8gcGFyYSBjb25lY3RhcmxvLlwiLGVkaXROb2RlOlwiRWRpdGFyIG5vZG9cIn0saXQ6e2FkZERlc2NyaXB0aW9uOlwiQ2xpY2NhIHBlciBhZ2dpdW5nZXJlIHVuIG51b3ZvIG5vZG9cIixhZGRFZGdlOlwiQWdnaXVuZ2kgdW4gdmVydGljZVwiLGFkZE5vZGU6XCJBZ2dpdW5naSB1biBub2RvXCIsYmFjazpcIkluZGlldHJvXCIsY2xvc2U6XCJDaGl1ZGVyZVwiLGNyZWF0ZUVkZ2VFcnJvcjpcIk5vbiBzaSBwb3Nzb25vIGNvbGxlZ2FyZSB2ZXJ0aWNpIGFkIHVuIGNsdXN0ZXJcIixkZWw6XCJDYW5jZWxsYSBsYSBzZWxlemlvbmVcIixkZWxldGVDbHVzdGVyRXJyb3I6XCJJIGNsdXN0ZXIgbm9uIHBvc3Nvbm8gZXNzZXJlIGNhbmNlbGxhdGlcIixlZGdlRGVzY3JpcHRpb246XCJDbGljY2Egc3UgdW4gbm9kbyBlIHRyYXNjaW5hbG8gYWQgdW4gYWx0cm8gbm9kbyBwZXIgY29ubmV0dGVybGkuXCIsZWRpdDpcIk1vZGlmaWNhXCIsZWRpdENsdXN0ZXJFcnJvcjpcIkkgY2x1c3RlcnMgbm9uIHBvc3Nvbm8gZXNzZXJlIG1vZGlmaWNhdGkuXCIsZWRpdEVkZ2U6XCJNb2RpZmljYSBpbCB2ZXJ0aWNlXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIkNsaWNjYSBzdWkgUHVudGkgZGkgY29udHJvbGxvIGUgdHJhc2NpbmFsaSBhZCB1biBub2RvIHBlciBjb25uZXR0ZXJsaS5cIixlZGl0Tm9kZTpcIk1vZGlmaWNhIGlsIG5vZG9cIn0sbmw6e2FkZERlc2NyaXB0aW9uOlwiS2xpayBvcCBlZW4gbGVlZyBnZWJpZWQgb20gZWVuIG5pZXV3ZSBub2RlIHRlIG1ha2VuLlwiLGFkZEVkZ2U6XCJMaW5rIHRvZXZvZWdlblwiLGFkZE5vZGU6XCJOb2RlIHRvZXZvZWdlblwiLGJhY2s6XCJUZXJ1Z1wiLGNsb3NlOlwiU2x1aXRlblwiLGNyZWF0ZUVkZ2VFcnJvcjpcIkthbiBnZWVuIGxpbmsgbWFrZW4gbmFhciBlZW4gY2x1c3Rlci5cIixkZWw6XCJTZWxlY3RpZSB2ZXJ3aWpkZXJlblwiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIGt1bm5lbiBuaWV0IHdvcmRlbiB2ZXJ3aWpkZXJkLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIktsaWsgb3AgZWVuIG5vZGUgZW4gc2xlZXAgZGUgbGluayBuYWFyIGVlbiBhbmRlcmUgbm9kZSBvbSB6ZSB0ZSB2ZXJiaW5kZW4uXCIsZWRpdDpcIldpanppZ2VuXCIsZWRpdENsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIGt1bm5lbiBuaWV0IHdvcmRlbiBhYW5nZXBhc3QuXCIsZWRpdEVkZ2U6XCJMaW5rIHdpanppZ2VuXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIktsaWsgb3AgZGUgdmVyYmluZGluZ3NwdW50ZW4gZW4gc2xlZXAgemUgbmFhciBlZW4gbm9kZSBvbSBkYWFybWVlIHRlIHZlcmJpbmRlbi5cIixlZGl0Tm9kZTpcIk5vZGUgd2lqemlnZW5cIn0scHQ6e2FkZERlc2NyaXB0aW9uOlwiQ2xpcXVlIGVtIHVtIGVzcGHDp28gZW0gYnJhbmNvIHBhcmEgYWRpY2lvbmFyIHVtIG5vdm8gbsOzXCIsYWRkRWRnZTpcIkFkaWNpb25hciBhcmVzdGFcIixhZGROb2RlOlwiQWRpY2lvbmFyIG7Ds1wiLGJhY2s6XCJWb2x0YXJcIixjbG9zZTpcIkZlY2hhclwiLGNyZWF0ZUVkZ2VFcnJvcjpcIk7Do28gZm9pIHBvc3PDrXZlbCBsaW5rYXIgYXJlc3RhcyBhIHVtIGNsdXN0ZXIuXCIsZGVsOlwiUmVtb3ZlciBzZWxlY2lvbmFkb1wiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIG7Do28gcHVkZXJhbSBzZXIgcmVtb3ZpZG9zLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIkNsaXF1ZSBlbSB1bSBuw7MgZSBhcnJhc3RlIGEgYXJlc3RhIGF0w6kgb3V0cm8gbsOzIHBhcmEgY29uZWN0w6EtbG9zXCIsZWRpdDpcIkVkaXRhclwiLGVkaXRDbHVzdGVyRXJyb3I6XCJDbHVzdGVycyBuw6NvIHB1ZGVyYW0gc2VyIGVkaXRhZG9zLlwiLGVkaXRFZGdlOlwiRWRpdGFyIGFyZXN0YVwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCJDbGlxdWUgbm9zIHBvbnRvcyBkZSBjb250cm9sZSBlIG9zIGFycmFzdGUgcGFyYSB1bSBuw7MgcGFyYSBjb25lY3TDoS1sb3NcIixlZGl0Tm9kZTpcIkVkaXRhciBuw7NcIn0scnU6e2FkZERlc2NyaXB0aW9uOlwi0JrQu9C40LrQvdC40YLQtSDQsiDRgdCy0L7QsdC+0LTQvdC+0LUg0LzQtdGB0YLQviwg0YfRgtC+0LHRiyDQtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0YPQt9C10LsuXCIsYWRkRWRnZTpcItCU0L7QsdCw0LLQuNGC0Ywg0YDQtdCx0YDQvlwiLGFkZE5vZGU6XCLQlNC+0LHQsNCy0LjRgtGMINGD0LfQtdC7XCIsYmFjazpcItCd0LDQt9Cw0LRcIixjbG9zZTpcItCX0LDQutGA0YvQstCw0YLRjFwiLGNyZWF0ZUVkZ2VFcnJvcjpcItCd0LXQstC+0LfQvNC+0LbQvdC+INGB0L7QtdC00LjQvdC40YLRjCDRgNC10LHRgNCwINCyINC60LvQsNGB0YLQtdGALlwiLGRlbDpcItCj0LTQsNC70LjRgtGMINCy0YvQsdGA0LDQvdC90L7QtVwiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcItCa0LvQsNGB0YLQtdGA0Ysg0L3QtSDQvNC+0LPRg9GCINCx0YvRgtGMINGD0LTQsNC70LXQvdGLXCIsZWRnZURlc2NyaXB0aW9uOlwi0JrQu9C40LrQvdC40YLQtSDQvdCwINGD0LfQtdC7INC4INC/0YDQvtGC0Y/QvdC40YLQtSDRgNC10LHRgNC+INC6INC00YDRg9Cz0L7QvNGDINGD0LfQu9GDLCDRh9GC0L7QsdGLINGB0L7QtdC00LjQvdC40YLRjCDQuNGFLlwiLGVkaXQ6XCLQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjFwiLGVkaXRDbHVzdGVyRXJyb3I6XCLQmtC70LDRgdGC0LXRgNGLINC90LXQtNC+0YHRgtGD0L/QvdGLINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPLlwiLGVkaXRFZGdlOlwi0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0YDQtdCx0YDQvlwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCLQmtC70LjQutC90LjRgtC1INC90LAg0LrQvtC90YLRgNC+0LvRjNC90YvQtSDRgtC+0YfQutC4INC4INC/0LXRgNC10YLQsNGJ0LjRgtC1INC40YUg0LIg0YPQt9C10LssINGH0YLQvtCx0Ysg0L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INC90LXQvNGDLlwiLGVkaXROb2RlOlwi0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0YPQt9C10LtcIn0sY246e2FkZERlc2NyaXB0aW9uOlwi5Y2V5Ye756m655m95aSE5pS+572u5paw6IqC54K544CCXCIsYWRkRWRnZTpcIua3u+WKoOi/nuaOpee6v1wiLGFkZE5vZGU6XCLmt7vliqDoioLngrlcIixiYWNrOlwi6L+U5ZueXCIsY2xvc2U6XCLpl5zplolcIixjcmVhdGVFZGdlRXJyb3I6XCLml6Dms5XlsIbov57mjqXnur/ov57mjqXliLDnvqTpm4bjgIJcIixkZWw6XCLliKDpmaTpgInlrppcIixkZWxldGVDbHVzdGVyRXJyb3I6XCLml6Dms5XliKDpmaTnvqTpm4bjgIJcIixlZGdlRGVzY3JpcHRpb246XCLljZXlh7vmn5DkuKroioLngrnlubblsIbor6Xov57mjqXnur/mi5bliqjliLDlj6bkuIDkuKroioLngrnku6Xov57mjqXlroPku6zjgIJcIixlZGl0Olwi57yW6L6RXCIsZWRpdENsdXN0ZXJFcnJvcjpcIuaXoOazlee8lui+kee+pOmbhuOAglwiLGVkaXRFZGdlOlwi57yW6L6R6L+e5o6l57q/XCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIuWNleWHu+aOp+WItuiKgueCueW5tuWwhuWug+S7rOaLluWIsOiKgueCueS4iui/nuaOpeOAglwiLGVkaXROb2RlOlwi57yW6L6R6IqC54K5XCJ9LHVrOnthZGREZXNjcmlwdGlvbjpcIkvQu9GW0LrQvdGW0YLRjCDQvdCwINCy0ZbQu9GM0L3QtSDQvNGW0YHRhtC1LCDRidC+0LEg0LTQvtC00LDRgtC4INC90L7QstC40Lkg0LLRg9C30L7Quy5cIixhZGRFZGdlOlwi0JTQvtC00LDRgtC4INC60YDQsNC5XCIsYWRkTm9kZTpcItCU0L7QtNCw0YLQuCDQstGD0LfQvtC7XCIsYmFjazpcItCd0LDQt9Cw0LRcIixjbG9zZTpcItCX0LDQutGA0LjRgtC4XCIsY3JlYXRlRWRnZUVycm9yOlwi0J3QtSDQvNC+0LbQu9C40LLQviDQvtCxJ9GU0LTQvdCw0YLQuCDQutGA0LDRlyDQsiDQs9GA0YPQv9GDLlwiLGRlbDpcItCS0LjQtNCw0LvQuNGC0Lgg0L7QsdGA0LDQvdC1XCIsZGVsZXRlQ2x1c3RlckVycm9yOlwi0JPRgNGD0L/QuCDQvdC1INC80L7QttGD0YLRjCDQsdGD0YLQuCDQstC40LTQsNC70LXQvdGWLlwiLGVkZ2VEZXNjcmlwdGlvbjpcItCa0LvRltC60L3RltGC0Ywg0L3QsCDQstGD0LfQvtC7INGWINC/0LXRgNC10YLRj9Cz0L3RltGC0Ywg0LrRgNCw0Lkg0LTQviDRltC90YjQvtCz0L4g0LLRg9C30LvQsCwg0YnQvtCxINGX0YUg0Lcn0ZTQtNC90LDRgtC4LlwiLGVkaXQ6XCLQoNC10LTQsNCz0YPQstCw0YLQuFwiLGVkaXRDbHVzdGVyRXJyb3I6XCLQk9GA0YPQv9C4INC90LXQtNC+0YHRgtGD0L/QvdGWINC00LvRjyDRgNC10LTQsNCz0YPQstCw0L3QvdGPLlwiLGVkaXRFZGdlOlwi0KDQtdC00LDQs9GD0LLQsNGC0Lgg0LrRgNCw0LlcIixlZGl0RWRnZURlc2NyaXB0aW9uOlwi0JrQu9GW0LrQvdGW0YLRjCDQvdCwINC60L7QvdGC0YDQvtC70YzQvdGWINGC0L7Rh9C60Lgg0ZYg0L/QtdGA0LXRgtGP0LPQvdGW0YLRjCDRl9GFINGDINCy0YPQt9C+0LssINGJ0L7QsSDQv9GW0LTQutC70Y7Rh9C40YLQuNGB0Y8g0LTQviDQvdGM0L7Qs9C+LlwiLGVkaXROb2RlOlwi0KDQtdC00LDQs9GD0LLQsNGC0Lgg0LLRg9C30L7Qu1wifSxmcjp7YWRkRGVzY3JpcHRpb246XCJDbGlxdWV6IGRhbnMgdW4gZW5kcm9pdCB2aWRlIHBvdXIgcGxhY2VyIHVuIG7Fk3VkLlwiLGFkZEVkZ2U6XCJBam91dGVyIHVuIGxpZW5cIixhZGROb2RlOlwiQWpvdXRlciB1biBuxZN1ZFwiLGJhY2s6XCJSZXRvdXJcIixjbG9zZTpcIkZlcm1lclwiLGNyZWF0ZUVkZ2VFcnJvcjpcIkltcG9zc2libGUgZGUgY3LDqWVyIHVuIGxpZW4gdmVycyB1biBjbHVzdGVyLlwiLGRlbDpcIkVmZmFjZXIgbGEgc8OpbGVjdGlvblwiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcIkxlcyBjbHVzdGVycyBuZSBwZXV2ZW50IHBhcyDDqnRyZSBlZmZhY8Opcy5cIixlZGdlRGVzY3JpcHRpb246XCJDbGlxdWV6IHN1ciB1biBuxZN1ZCBldCBnbGlzc2V6IGxlIGxpZW4gdmVycyB1biBhdXRyZSBuxZN1ZCBwb3VyIGxlcyBjb25uZWN0ZXIuXCIsZWRpdDpcIsOJZGl0ZXJcIixlZGl0Q2x1c3RlckVycm9yOlwiTGVzIGNsdXN0ZXJzIG5lIHBldXZlbnQgcGFzIMOqdHJlIMOpZGl0w6lzLlwiLGVkaXRFZGdlOlwiw4lkaXRlciBsZSBsaWVuXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIkNsaXF1ZXogc3VyIGxlcyBwb2ludHMgZGUgY29udHLDtGxlIGV0IGdsaXNzZXotbGVzIHBvdXIgY29ubmVjdGVyIHVuIG7Fk3VkLlwiLGVkaXROb2RlOlwiw4lkaXRlciBsZSBuxZN1ZFwifSxjczp7YWRkRGVzY3JpcHRpb246XCJLbHVrbnV0w61tIGRvIHByw6F6ZG7DqWhvIHByb3N0b3J1IG3Fr8W+ZXRlIHDFmWlkYXQgbm92w70gdnJjaG9sLlwiLGFkZEVkZ2U6XCJQxZlpZGF0IGhyYW51XCIsYWRkTm9kZTpcIlDFmWlkYXQgdnJjaG9sXCIsYmFjazpcIlpwxJt0XCIsY2xvc2U6XCJaYXbFmcOtdFwiLGNyZWF0ZUVkZ2VFcnJvcjpcIk5lbHplIHDFmWlwb2ppdCBocmFudSBrZSBzaGx1a3UuXCIsZGVsOlwiU21hemF0IHbDvWLEm3JcIixkZWxldGVDbHVzdGVyRXJyb3I6XCJOZWx6ZSBtYXphdCBzaGx1a3kuXCIsZWRnZURlc2NyaXB0aW9uOlwiUMWZZXRhxb5lbsOtbSB6IGplZG5vaG8gdnJjaG9sdSBkbyBkcnVow6lobyBtxa/FvmV0ZSBzcG9qaXQgdHl0byB2cmNob2x5IG5vdm91IGhyYW5vdS5cIixlZGl0OlwiVXByYXZpdFwiLGVkaXRDbHVzdGVyRXJyb3I6XCJOZWx6ZSB1cHJhdm92YXQgc2hsdWt5LlwiLGVkaXRFZGdlOlwiVXByYXZpdCBocmFudVwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCJQxZlldGHFvmVuw61tIGtvbnRyb2xuw61obyB2cmNob2x1IGhyYW55IGppIG3Fr8W+ZXRlIHDFmWlwb2ppdCBrIGppbsOpbXUgdnJjaG9sdS5cIixlZGl0Tm9kZTpcIlVwcmF2aXQgdnJjaG9sXCJ9fSk7dmFyIHRiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCksdGhpcy5OVU1fSVRFUkFUSU9OUz00LHRoaXMuaW1hZ2U9bmV3IEltYWdlLHRoaXMuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIil9cmV0dXJuICRsKHQsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5pbml0aWFsaXplZCgpKXt0aGlzLnNyYz10aGlzLmltYWdlLnNyYzt2YXIgdD10aGlzLmltYWdlLndpZHRoLGU9dGhpcy5pbWFnZS5oZWlnaHQ7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWU7dmFyIGk9TWF0aC5mbG9vcihlLzIpLG89TWF0aC5mbG9vcihlLzQpLG49TWF0aC5mbG9vcihlLzgpLHI9TWF0aC5mbG9vcihlLzE2KSxzPU1hdGguZmxvb3IodC8yKSxhPU1hdGguZmxvb3IodC80KSxoPU1hdGguZmxvb3IodC84KSxkPU1hdGguZmxvb3IodC8xNik7dGhpcy5jYW52YXMud2lkdGg9MyphLHRoaXMuY2FudmFzLmhlaWdodD1pLHRoaXMuY29vcmRpbmF0ZXM9W1swLDAscyxpXSxbcywwLGEsb10sW3MsbyxoLG5dLFs1KmgsbyxkLHJdXSx0aGlzLl9maWxsTWlwTWFwKCl9fX0se2tleTpcImluaXRpYWxpemVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5jb29yZGluYXRlc319LHtrZXk6XCJfZmlsbE1pcE1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLGU9dGhpcy5jb29yZGluYXRlc1swXTt0LmRyYXdJbWFnZSh0aGlzLmltYWdlLGVbMF0sZVsxXSxlWzJdLGVbM10pO2Zvcih2YXIgaT0xO2k8dGhpcy5OVU1fSVRFUkFUSU9OUztpKyspe3ZhciBvPXRoaXMuY29vcmRpbmF0ZXNbaS0xXSxuPXRoaXMuY29vcmRpbmF0ZXNbaV07dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsb1swXSxvWzFdLG9bMl0sb1szXSxuWzBdLG5bMV0sblsyXSxuWzNdKX19fSx7a2V5OlwiZHJhd0ltYWdlQXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXtpZih0aGlzLmluaXRpYWxpemVkKCkpaWYoZT4yKXtlKj0uNTtmb3IodmFyIHM9MDtlPjImJnM8dGhpcy5OVU1fSVRFUkFUSU9OUzspZSo9LjUscys9MTtzPj10aGlzLk5VTV9JVEVSQVRJT05TJiYocz10aGlzLk5VTV9JVEVSQVRJT05TLTEpO3ZhciBhPXRoaXMuY29vcmRpbmF0ZXNbc107dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsYVswXSxhWzFdLGFbMl0sYVszXSxpLG8sbixyKX1lbHNlIHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsaSxvLG4scil9fV0pLHR9KCksZWI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe1hsKHRoaXMsdCksdGhpcy5pbWFnZXM9e30sdGhpcy5pbWFnZUJyb2tlbj17fSx0aGlzLmNhbGxiYWNrPWV9cmV0dXJuICRsKHQsW3trZXk6XCJfdHJ5bG9hZEJyb2tlblVybFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDAhPT10JiZ2b2lkIDAhPT1pJiYodm9pZCAwIT09ZT8oaS5pbWFnZS5vbmVycm9yPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBsb2FkIGJyb2tlbkltYWdlOlwiLGUpfSxpLmltYWdlLnNyYz1lKTpjb25zb2xlLndhcm4oXCJObyBicm9rZW4gdXJsIGltYWdlIGRlZmluZWRcIikpfX0se2tleTpcIl9yZWRyYXdXaXRoSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNhbGxiYWNrJiZ0aGlzLmNhbGxiYWNrKHQpfX0se2tleTpcImxvYWRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbz10aGlzLmltYWdlc1t0XTtpZihvKXJldHVybiBvO3ZhciBuPW5ldyB0YjtyZXR1cm4gdGhpcy5pbWFnZXNbdF09bixuLmltYWdlLm9ubG9hZD1mdW5jdGlvbigpe2kuX2ZpeEltYWdlQ29vcmRpbmF0ZXMobi5pbWFnZSksbi5pbml0KCksaS5fcmVkcmF3V2l0aEltYWdlKG4pfSxuLmltYWdlLm9uZXJyb3I9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IGxvYWQgaW1hZ2U6XCIsdCksaS5fdHJ5bG9hZEJyb2tlblVybCh0LGUsbil9LG4uaW1hZ2Uuc3JjPXQsbn19LHtrZXk6XCJfZml4SW1hZ2VDb29yZGluYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpezA9PT10LndpZHRoJiYoZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSx0LndpZHRoPXQub2Zmc2V0V2lkdGgsdC5oZWlnaHQ9dC5vZmZzZXRIZWlnaHQsZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KSl9fV0pLHR9KCksaWI9e2V4cG9ydHM6e319LG9iPXIoKGZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIpe3ZhciB0PW5ldyBBcnJheUJ1ZmZlcig4KTtPYmplY3QuaXNFeHRlbnNpYmxlKHQpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImFcIix7dmFsdWU6OH0pfX0pKSxuYj1yLHJiPVgsc2I9eixhYj1vYixoYj1PYmplY3QuaXNFeHRlbnNpYmxlLGRiPW5iKChmdW5jdGlvbigpe2hiKDEpfSkpfHxhYj9mdW5jdGlvbih0KXtyZXR1cm4hIXJiKHQpJiYoKCFhYnx8XCJBcnJheUJ1ZmZlclwiIT1zYih0KSkmJighaGJ8fGhiKHQpKSl9OmhiLGxiPSFyKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpLGNiPXhpLHViPXksZmI9TGkscGI9WCx2Yj1WdCxnYj1VZS5mLHliPXNoLG1iPWRoLGJiPWRiLHdiPWxiLGtiPSExLF9iPUd0KFwibWV0YVwiKSx4Yj0wLEViPWZ1bmN0aW9uKHQpe2diKHQsX2Ise3ZhbHVlOntvYmplY3RJRDpcIk9cIit4YisrLHdlYWtEYXRhOnt9fX0pfSxPYj1pYi5leHBvcnRzPXtlbmFibGU6ZnVuY3Rpb24oKXtPYi5lbmFibGU9ZnVuY3Rpb24oKXt9LGtiPSEwO3ZhciB0PXliLmYsZT11YihbXS5zcGxpY2UpLGk9e307aVtfYl09MSx0KGkpLmxlbmd0aCYmKHliLmY9ZnVuY3Rpb24oaSl7Zm9yKHZhciBvPXQoaSksbj0wLHI9by5sZW5ndGg7bjxyO24rKylpZihvW25dPT09X2Ipe2UobyxuLDEpO2JyZWFrfXJldHVybiBvfSxjYih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6ITB9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOm1iLmZ9KSl9LGZhc3RLZXk6ZnVuY3Rpb24odCxlKXtpZighcGIodCkpcmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDooXCJzdHJpbmdcIj09dHlwZW9mIHQ/XCJTXCI6XCJQXCIpK3Q7aWYoIXZiKHQsX2IpKXtpZighYmIodCkpcmV0dXJuXCJGXCI7aWYoIWUpcmV0dXJuXCJFXCI7RWIodCl9cmV0dXJuIHRbX2JdLm9iamVjdElEfSxnZXRXZWFrRGF0YTpmdW5jdGlvbih0LGUpe2lmKCF2Yih0LF9iKSl7aWYoIWJiKHQpKXJldHVybiEwO2lmKCFlKXJldHVybiExO0ViKHQpfXJldHVybiB0W19iXS53ZWFrRGF0YX0sb25GcmVlemU6ZnVuY3Rpb24odCl7cmV0dXJuIHdiJiZrYiYmYmIodCkmJiF2Yih0LF9iKSYmRWIodCksdH19O2ZiW19iXT0hMDt2YXIgQ2I9cWUsU2I9eCxUYj1aZSxNYj13dCxQYj1xcyxEYj16aSxCYj10dCxJYj13YSx6Yj1mYSxGYj1ScyxOYj1uLlR5cGVFcnJvcixBYj1mdW5jdGlvbih0LGUpe3RoaXMuc3RvcHBlZD10LHRoaXMucmVzdWx0PWV9LFJiPUFiLnByb3RvdHlwZSxqYj1mdW5jdGlvbih0LGUsaSl7dmFyIG8sbixyLHMsYSxoLGQsbD1pJiZpLnRoYXQsYz0hKCFpfHwhaS5BU19FTlRSSUVTKSx1PSEoIWl8fCFpLklTX0lURVJBVE9SKSxmPSEoIWl8fCFpLklOVEVSUlVQVEVEKSxwPUNiKGUsbCksdj1mdW5jdGlvbih0KXtyZXR1cm4gbyYmRmIobyxcIm5vcm1hbFwiLHQpLG5ldyBBYighMCx0KX0sZz1mdW5jdGlvbih0KXtyZXR1cm4gYz8oVGIodCksZj9wKHRbMF0sdFsxXSx2KTpwKHRbMF0sdFsxXSkpOmY/cCh0LHYpOnAodCl9O2lmKHUpbz10O2Vsc2V7aWYoIShuPXpiKHQpKSl0aHJvdyBOYihNYih0KStcIiBpcyBub3QgaXRlcmFibGVcIik7aWYoUGIobikpe2ZvcihyPTAscz1EYih0KTtzPnI7cisrKWlmKChhPWcodFtyXSkpJiZCYihSYixhKSlyZXR1cm4gYTtyZXR1cm4gbmV3IEFiKCExKX1vPUliKHQsbil9Zm9yKGg9by5uZXh0OyEoZD1TYihoLG8pKS5kb25lOyl7dHJ5e2E9ZyhkLnZhbHVlKX1jYXRjaCh0KXtGYihvLFwidGhyb3dcIix0KX1pZihcIm9iamVjdFwiPT10eXBlb2YgYSYmYSYmQmIoUmIsYSkpcmV0dXJuIGF9cmV0dXJuIG5ldyBBYighMSl9LExiPXR0LEhiPW4uVHlwZUVycm9yLFdiPWZ1bmN0aW9uKHQsZSl7aWYoTGIoZSx0KSlyZXR1cm4gdDt0aHJvdyBIYihcIkluY29ycmVjdCBpbnZvY2F0aW9uXCIpfSxWYj14aSxxYj1uLFViPWliLmV4cG9ydHMsWWI9cixYYj1jaSxHYj1qYixLYj1XYiwkYj1tLFpiPVgsUWI9WnIsSmI9VWUuZix0dz1WaC5mb3JFYWNoLGV3PXcsaXc9VW4uc2V0LG93PVVuLmdldHRlckZvcixudz1mdW5jdGlvbih0LGUsaSl7dmFyIG8sbj0tMSE9PXQuaW5kZXhPZihcIk1hcFwiKSxyPS0xIT09dC5pbmRleE9mKFwiV2Vha1wiKSxzPW4/XCJzZXRcIjpcImFkZFwiLGE9cWJbdF0saD1hJiZhLnByb3RvdHlwZSxkPXt9O2lmKGV3JiYkYihhKSYmKHJ8fGguZm9yRWFjaCYmIVliKChmdW5jdGlvbigpeyhuZXcgYSkuZW50cmllcygpLm5leHQoKX0pKSkpe3ZhciBsPShvPWUoKGZ1bmN0aW9uKGUsaSl7aXcoS2IoZSxsKSx7dHlwZTp0LGNvbGxlY3Rpb246bmV3IGF9KSxudWxsIT1pJiZHYihpLGVbc10se3RoYXQ6ZSxBU19FTlRSSUVTOm59KX0pKSkucHJvdG90eXBlLGM9b3codCk7dHcoW1wiYWRkXCIsXCJjbGVhclwiLFwiZGVsZXRlXCIsXCJmb3JFYWNoXCIsXCJnZXRcIixcImhhc1wiLFwic2V0XCIsXCJrZXlzXCIsXCJ2YWx1ZXNcIixcImVudHJpZXNcIl0sKGZ1bmN0aW9uKHQpe3ZhciBlPVwiYWRkXCI9PXR8fFwic2V0XCI9PXQ7ISh0IGluIGgpfHxyJiZcImNsZWFyXCI9PXR8fFhiKGwsdCwoZnVuY3Rpb24oaSxvKXt2YXIgbj1jKHRoaXMpLmNvbGxlY3Rpb247aWYoIWUmJnImJiFaYihpKSlyZXR1cm5cImdldFwiPT10JiZ2b2lkIDA7dmFyIHM9blt0XSgwPT09aT8wOmksbyk7cmV0dXJuIGU/dGhpczpzfSkpfSkpLHJ8fEpiKGwsXCJzaXplXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzKS5jb2xsZWN0aW9uLnNpemV9fSl9ZWxzZSBvPWkuZ2V0Q29uc3RydWN0b3IoZSx0LG4scyksVWIuZW5hYmxlKCk7cmV0dXJuIFFiKG8sdCwhMSwhMCksZFt0XT1vLFZiKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSxkKSxyfHxpLnNldFN0cm9uZyhvLHQsbiksb30scnc9SXIsc3c9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbyBpbiBlKWkmJmkudW5zYWZlJiZ0W29dP3Rbb109ZVtvXTpydyh0LG8sZVtvXSxpKTtyZXR1cm4gdH0sYXc9Sixodz1VZSxkdz13LGx3PXJlKFwic3BlY2llc1wiKSxjdz1VZS5mLHV3PWtyLGZ3PXN3LHB3PXFlLHZ3PVdiLGd3PWpiLHl3PVNzLG13PWZ1bmN0aW9uKHQpe3ZhciBlPWF3KHQpLGk9aHcuZjtkdyYmZSYmIWVbbHddJiZpKGUsbHcse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX0sYnc9dyx3dz1pYi5leHBvcnRzLmZhc3RLZXksa3c9VW4uc2V0LF93PVVuLmdldHRlckZvcix4dz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49dCgoZnVuY3Rpb24odCxuKXt2dyh0LHIpLGt3KHQse3R5cGU6ZSxpbmRleDp1dyhudWxsKSxmaXJzdDp2b2lkIDAsbGFzdDp2b2lkIDAsc2l6ZTowfSksYnd8fCh0LnNpemU9MCksbnVsbCE9biYmZ3cobix0W29dLHt0aGF0OnQsQVNfRU5UUklFUzppfSl9KSkscj1uLnByb3RvdHlwZSxzPV93KGUpLGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBvLG4scj1zKHQpLGE9aCh0LGUpO3JldHVybiBhP2EudmFsdWU9aTooci5sYXN0PWE9e2luZGV4Om49d3coZSwhMCksa2V5OmUsdmFsdWU6aSxwcmV2aW91czpvPXIubGFzdCxuZXh0OnZvaWQgMCxyZW1vdmVkOiExfSxyLmZpcnN0fHwoci5maXJzdD1hKSxvJiYoby5uZXh0PWEpLGJ3P3Iuc2l6ZSsrOnQuc2l6ZSsrLFwiRlwiIT09biYmKHIuaW5kZXhbbl09YSkpLHR9LGg9ZnVuY3Rpb24odCxlKXt2YXIgaSxvPXModCksbj13dyhlKTtpZihcIkZcIiE9PW4pcmV0dXJuIG8uaW5kZXhbbl07Zm9yKGk9by5maXJzdDtpO2k9aS5uZXh0KWlmKGkua2V5PT1lKXJldHVybiBpfTtyZXR1cm4gZncocix7Y2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9cyh0aGlzKSxlPXQuaW5kZXgsaT10LmZpcnN0O2k7KWkucmVtb3ZlZD0hMCxpLnByZXZpb3VzJiYoaS5wcmV2aW91cz1pLnByZXZpb3VzLm5leHQ9dm9pZCAwKSxkZWxldGUgZVtpLmluZGV4XSxpPWkubmV4dDt0LmZpcnN0PXQubGFzdD12b2lkIDAsYnc/dC5zaXplPTA6dGhpcy5zaXplPTB9LGRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9cyhlKSxvPWgoZSx0KTtpZihvKXt2YXIgbj1vLm5leHQscj1vLnByZXZpb3VzO2RlbGV0ZSBpLmluZGV4W28uaW5kZXhdLG8ucmVtb3ZlZD0hMCxyJiYoci5uZXh0PW4pLG4mJihuLnByZXZpb3VzPXIpLGkuZmlyc3Q9PW8mJihpLmZpcnN0PW4pLGkubGFzdD09byYmKGkubGFzdD1yKSxidz9pLnNpemUtLTplLnNpemUtLX1yZXR1cm4hIW99LGZvckVhY2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9cyh0aGlzKSxvPXB3KHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApO2U9ZT9lLm5leHQ6aS5maXJzdDspZm9yKG8oZS52YWx1ZSxlLmtleSx0aGlzKTtlJiZlLnJlbW92ZWQ7KWU9ZS5wcmV2aW91c30saGFzOmZ1bmN0aW9uKHQpe3JldHVybiEhaCh0aGlzLHQpfX0pLGZ3KHIsaT97Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPWgodGhpcyx0KTtyZXR1cm4gZSYmZS52YWx1ZX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEodGhpcywwPT09dD8wOnQsZSl9fTp7YWRkOmZ1bmN0aW9uKHQpe3JldHVybiBhKHRoaXMsdD0wPT09dD8wOnQsdCl9fSksYncmJmN3KHIsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBzKHRoaXMpLnNpemV9fSksbn0sc2V0U3Ryb25nOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1lK1wiIEl0ZXJhdG9yXCIsbj1fdyhlKSxyPV93KG8pO3l3KHQsZSwoZnVuY3Rpb24odCxlKXtrdyh0aGlzLHt0eXBlOm8sdGFyZ2V0OnQsc3RhdGU6bih0KSxraW5kOmUsbGFzdDp2b2lkIDB9KX0pLChmdW5jdGlvbigpe2Zvcih2YXIgdD1yKHRoaXMpLGU9dC5raW5kLGk9dC5sYXN0O2kmJmkucmVtb3ZlZDspaT1pLnByZXZpb3VzO3JldHVybiB0LnRhcmdldCYmKHQubGFzdD1pPWk/aS5uZXh0OnQuc3RhdGUuZmlyc3QpP1wia2V5c1wiPT1lP3t2YWx1ZTppLmtleSxkb25lOiExfTpcInZhbHVlc1wiPT1lP3t2YWx1ZTppLnZhbHVlLGRvbmU6ITF9Ont2YWx1ZTpbaS5rZXksaS52YWx1ZV0sZG9uZTohMX06KHQudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KX0pLGk/XCJlbnRyaWVzXCI6XCJ2YWx1ZXNcIiwhaSwhMCksbXcoZSl9fTtudyhcIk1hcFwiLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSkseHcpO3ZhciBFdz1HLk1hcCxPdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtYbCh0aGlzLHQpLHRoaXMuY2xlYXIoKSx0aGlzLl9kZWZhdWx0SW5kZXg9MCx0aGlzLl9ncm91cEluZGV4PTAsdGhpcy5fZGVmYXVsdEdyb3Vwcz1be2JvcmRlcjpcIiMyQjdDRTlcIixiYWNrZ3JvdW5kOlwiIzk3QzJGQ1wiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiIzJCN0NFOVwiLGJhY2tncm91bmQ6XCIjRDJFNUZGXCJ9LGhvdmVyOntib3JkZXI6XCIjMkI3Q0U5XCIsYmFja2dyb3VuZDpcIiNEMkU1RkZcIn19LHtib3JkZXI6XCIjRkZBNTAwXCIsYmFja2dyb3VuZDpcIiNGRkZGMDBcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNGRkE1MDBcIixiYWNrZ3JvdW5kOlwiI0ZGRkZBM1wifSxob3Zlcjp7Ym9yZGVyOlwiI0ZGQTUwMFwiLGJhY2tncm91bmQ6XCIjRkZGRkEzXCJ9fSx7Ym9yZGVyOlwiI0ZBMEExMFwiLGJhY2tncm91bmQ6XCIjRkI3RTgxXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRkEwQTEwXCIsYmFja2dyb3VuZDpcIiNGRkFGQjFcIn0saG92ZXI6e2JvcmRlcjpcIiNGQTBBMTBcIixiYWNrZ3JvdW5kOlwiI0ZGQUZCMVwifX0se2JvcmRlcjpcIiM0MUE5MDZcIixiYWNrZ3JvdW5kOlwiIzdCRTE0MVwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiIzQxQTkwNlwiLGJhY2tncm91bmQ6XCIjQTFFQzc2XCJ9LGhvdmVyOntib3JkZXI6XCIjNDFBOTA2XCIsYmFja2dyb3VuZDpcIiNBMUVDNzZcIn19LHtib3JkZXI6XCIjRTEyOUYwXCIsYmFja2dyb3VuZDpcIiNFQjdERjRcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNFMTI5RjBcIixiYWNrZ3JvdW5kOlwiI0YwQjNGNVwifSxob3Zlcjp7Ym9yZGVyOlwiI0UxMjlGMFwiLGJhY2tncm91bmQ6XCIjRjBCM0Y1XCJ9fSx7Ym9yZGVyOlwiIzdDMjlGMFwiLGJhY2tncm91bmQ6XCIjQUQ4NUU0XCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjN0MyOUYwXCIsYmFja2dyb3VuZDpcIiNEM0JERjBcIn0saG92ZXI6e2JvcmRlcjpcIiM3QzI5RjBcIixiYWNrZ3JvdW5kOlwiI0QzQkRGMFwifX0se2JvcmRlcjpcIiNDMzdGMDBcIixiYWNrZ3JvdW5kOlwiI0ZGQTgwN1wiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0MzN0YwMFwiLGJhY2tncm91bmQ6XCIjRkZDQTY2XCJ9LGhvdmVyOntib3JkZXI6XCIjQzM3RjAwXCIsYmFja2dyb3VuZDpcIiNGRkNBNjZcIn19LHtib3JkZXI6XCIjNDIyMEZCXCIsYmFja2dyb3VuZDpcIiM2RTZFRkRcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiM0MjIwRkJcIixiYWNrZ3JvdW5kOlwiIzlCOUJGRFwifSxob3Zlcjp7Ym9yZGVyOlwiIzQyMjBGQlwiLGJhY2tncm91bmQ6XCIjOUI5QkZEXCJ9fSx7Ym9yZGVyOlwiI0ZENUE3N1wiLGJhY2tncm91bmQ6XCIjRkZDMENCXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRkQ1QTc3XCIsYmFja2dyb3VuZDpcIiNGRkQxRDlcIn0saG92ZXI6e2JvcmRlcjpcIiNGRDVBNzdcIixiYWNrZ3JvdW5kOlwiI0ZGRDFEOVwifX0se2JvcmRlcjpcIiM0QUQ2M0FcIixiYWNrZ3JvdW5kOlwiI0MyRkFCQ1wiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiIzRBRDYzQVwiLGJhY2tncm91bmQ6XCIjRTZGRkUzXCJ9LGhvdmVyOntib3JkZXI6XCIjNEFENjNBXCIsYmFja2dyb3VuZDpcIiNFNkZGRTNcIn19LHtib3JkZXI6XCIjOTkwMDAwXCIsYmFja2dyb3VuZDpcIiNFRTAwMDBcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNCQjAwMDBcIixiYWNrZ3JvdW5kOlwiI0ZGMzMzM1wifSxob3Zlcjp7Ym9yZGVyOlwiI0JCMDAwMFwiLGJhY2tncm91bmQ6XCIjRkYzMzMzXCJ9fSx7Ym9yZGVyOlwiI0ZGNjAwMFwiLGJhY2tncm91bmQ6XCIjRkY2MDAwXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRkY2MDAwXCIsYmFja2dyb3VuZDpcIiNGRjYwMDBcIn0saG92ZXI6e2JvcmRlcjpcIiNGRjYwMDBcIixiYWNrZ3JvdW5kOlwiI0ZGNjAwMFwifX0se2JvcmRlcjpcIiM5N0MyRkNcIixiYWNrZ3JvdW5kOlwiIzJCN0NFOVwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0QyRTVGRlwiLGJhY2tncm91bmQ6XCIjMkI3Q0U5XCJ9LGhvdmVyOntib3JkZXI6XCIjRDJFNUZGXCIsYmFja2dyb3VuZDpcIiMyQjdDRTlcIn19LHtib3JkZXI6XCIjMzk5NjA1XCIsYmFja2dyb3VuZDpcIiMyNTVDMDNcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiMzOTk2MDVcIixiYWNrZ3JvdW5kOlwiIzI1NUMwM1wifSxob3Zlcjp7Ym9yZGVyOlwiIzM5OTYwNVwiLGJhY2tncm91bmQ6XCIjMjU1QzAzXCJ9fSx7Ym9yZGVyOlwiI0I3MDA1NFwiLGJhY2tncm91bmQ6XCIjRkYwMDdFXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjQjcwMDU0XCIsYmFja2dyb3VuZDpcIiNGRjAwN0VcIn0saG92ZXI6e2JvcmRlcjpcIiNCNzAwNTRcIixiYWNrZ3JvdW5kOlwiI0ZGMDA3RVwifX0se2JvcmRlcjpcIiNBRDg1RTRcIixiYWNrZ3JvdW5kOlwiIzdDMjlGMFwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0QzQkRGMFwiLGJhY2tncm91bmQ6XCIjN0MyOUYwXCJ9LGhvdmVyOntib3JkZXI6XCIjRDNCREYwXCIsYmFja2dyb3VuZDpcIiM3QzI5RjBcIn19LHtib3JkZXI6XCIjNDU1N0ZBXCIsYmFja2dyb3VuZDpcIiMwMDBFQTFcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiM2RTZFRkRcIixiYWNrZ3JvdW5kOlwiIzAwMEVBMVwifSxob3Zlcjp7Ym9yZGVyOlwiIzZFNkVGRFwiLGJhY2tncm91bmQ6XCIjMDAwRUExXCJ9fSx7Ym9yZGVyOlwiI0ZGQzBDQlwiLGJhY2tncm91bmQ6XCIjRkQ1QTc3XCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRkZEMUQ5XCIsYmFja2dyb3VuZDpcIiNGRDVBNzdcIn0saG92ZXI6e2JvcmRlcjpcIiNGRkQxRDlcIixiYWNrZ3JvdW5kOlwiI0ZENUE3N1wifX0se2JvcmRlcjpcIiNDMkZBQkNcIixiYWNrZ3JvdW5kOlwiIzc0RDY2QVwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0U2RkZFM1wiLGJhY2tncm91bmQ6XCIjNzRENjZBXCJ9LGhvdmVyOntib3JkZXI6XCIjRTZGRkUzXCIsYmFja2dyb3VuZDpcIiM3NEQ2NkFcIn19LHtib3JkZXI6XCIjRUUwMDAwXCIsYmFja2dyb3VuZDpcIiM5OTAwMDBcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNGRjMzMzNcIixiYWNrZ3JvdW5kOlwiI0JCMDAwMFwifSxob3Zlcjp7Ym9yZGVyOlwiI0ZGMzMzM1wiLGJhY2tncm91bmQ6XCIjQkIwMDAwXCJ9fV0sdGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e3VzZURlZmF1bHRHcm91cHM6ITB9LGZvKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKX1yZXR1cm4gJGwodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXCJ1c2VEZWZhdWx0R3JvdXBzXCJdO2lmKHZvaWQgMCE9PXQpZm9yKHZhciBpIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJi0xPT09enAoZSkuY2FsbChlLGkpKXt2YXIgbz10W2ldO3RoaXMuYWRkKGksbyl9fX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9ncm91cHM9bmV3IEV3LHRoaXMuX2dyb3VwTmFtZXM9W119fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuX2dyb3Vwcy5nZXQodCk7aWYodm9pZCAwPT09aSYmZSlpZighMT09PXRoaXMub3B0aW9ucy51c2VEZWZhdWx0R3JvdXBzJiZ0aGlzLl9ncm91cE5hbWVzLmxlbmd0aD4wKXt2YXIgbz10aGlzLl9ncm91cEluZGV4JXRoaXMuX2dyb3VwTmFtZXMubGVuZ3RoOysrdGhpcy5fZ3JvdXBJbmRleCwoaT17fSkuY29sb3I9dGhpcy5fZ3JvdXBzLmdldCh0aGlzLl9ncm91cE5hbWVzW29dKSx0aGlzLl9ncm91cHMuc2V0KHQsaSl9ZWxzZXt2YXIgbj10aGlzLl9kZWZhdWx0SW5kZXgldGhpcy5fZGVmYXVsdEdyb3Vwcy5sZW5ndGg7dGhpcy5fZGVmYXVsdEluZGV4KyssKGk9e30pLmNvbG9yPXRoaXMuX2RlZmF1bHRHcm91cHNbbl0sdGhpcy5fZ3JvdXBzLnNldCh0LGkpfXJldHVybiBpfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2dyb3Vwcy5oYXModCl8fHRoaXMuX2dyb3VwTmFtZXMucHVzaCh0KSx0aGlzLl9ncm91cHMuc2V0KHQsZSksZX19XSksdH0oKTt4aSh7dGFyZ2V0OlwiTnVtYmVyXCIsc3RhdDohMH0se2lzTmFOOmZ1bmN0aW9uKHQpe3JldHVybiB0IT10fX0pO3ZhciBDdz1HLk51bWJlci5pc05hTixTdz1uLmlzRmluaXRlLFR3PU51bWJlci5pc0Zpbml0ZXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJlN3KHQpfTt4aSh7dGFyZ2V0OlwiTnVtYmVyXCIsc3RhdDohMH0se2lzRmluaXRlOlR3fSk7dmFyIE13PUcuTnVtYmVyLmlzRmluaXRlLFB3PVZoLnNvbWU7eGkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFPdShcInNvbWVcIil9LHtzb21lOmZ1bmN0aW9uKHQpe3JldHVybiBQdyh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBEdz1NbyhcIkFycmF5XCIpLnNvbWUsQnc9dHQsSXc9RHcsenc9QXJyYXkucHJvdG90eXBlLEZ3PWZ1bmN0aW9uKHQpe3ZhciBlPXQuc29tZTtyZXR1cm4gdD09PXp3fHxCdyh6dyx0KSYmZT09PXp3LnNvbWU/SXc6ZX0sTnc9RncsQXc9bixSdz1yLGp3PW9uLEx3PWRwLnRyaW0sSHc9eShcIlwiLmNoYXJBdCksV3c9QXcucGFyc2VGbG9hdCxWdz1Bdy5TeW1ib2wscXc9VncmJlZ3Lml0ZXJhdG9yLFV3PTEvV3coXCJcXHRcXG5cXHZcXGZcXHIgwqDhmoDigIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVxcdWZlZmYtMFwiKSE9LTEvMHx8cXcmJiFSdygoZnVuY3Rpb24oKXtXdyhPYmplY3QocXcpKX0pKT9mdW5jdGlvbih0KXt2YXIgZT1Mdyhqdyh0KSksaT1XdyhlKTtyZXR1cm4gMD09PWkmJlwiLVwiPT1IdyhlLDApPy0wOml9Old3O3hpKHtnbG9iYWw6ITAsZm9yY2VkOnBhcnNlRmxvYXQhPVV3fSx7cGFyc2VGbG9hdDpVd30pO3ZhciBZdz1HLnBhcnNlRmxvYXQsWHc9eGksR3c9cixLdz1kaC5mO1h3KHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpHdygoZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoMSl9KSl9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOkt3fSk7dmFyICR3PUcuT2JqZWN0LFp3PWZ1bmN0aW9uKHQpe3JldHVybiAkdy5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpfSxRdz1adztmdW5jdGlvbiBKdyh0LGUpe3ZhciBpPVtcIm5vZGVcIixcImVkZ2VcIixcImxhYmVsXCJdLG89ITAsbj1pbShlLFwiY2hvc2VuXCIpO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgbilvPW47ZWxzZSBpZihcIm9iamVjdFwiPT09UWMobikpe2lmKC0xPT09enAoaSkuY2FsbChpLHQpKXRocm93IG5ldyBFcnJvcihcImNob29zaWZ5OiBzdWJPcHRpb24gJ1wiK3QrXCInIHNob3VsZCBiZSBvbmUgb2YgJ1wiK2kuam9pbihcIicsICdcIikrXCInXCIpO3ZhciByPWltKGUsW1wiY2hvc2VuXCIsdF0pO1wiYm9vbGVhblwiIT10eXBlb2YgciYmXCJmdW5jdGlvblwiIT10eXBlb2Ygcnx8KG89cil9cmV0dXJuIG99ZnVuY3Rpb24gdGsodCxlLGkpe2lmKHQud2lkdGg8PTB8fHQuaGVpZ2h0PD0wKXJldHVybiExO2lmKHZvaWQgMCE9PWkpe3ZhciBvPXt4OmUueC1pLngseTplLnktaS55fTtpZigwIT09aS5hbmdsZSl7dmFyIG49LWkuYW5nbGU7ZT17eDpNYXRoLmNvcyhuKSpvLngtTWF0aC5zaW4obikqby55LHk6TWF0aC5zaW4obikqby54K01hdGguY29zKG4pKm8ueX19ZWxzZSBlPW99dmFyIHI9dC54K3Qud2lkdGgscz10LnkrdC53aWR0aDtyZXR1cm4gdC5sZWZ0PGUueCYmcj5lLngmJnQudG9wPGUueSYmcz5lLnl9ZnVuY3Rpb24gZWsodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiXCIhPT10fWZ1bmN0aW9uIGlrKHQsZSxpLG8pe3ZhciBuPW8ueCxyPW8ueTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLmRpc3RhbmNlVG9Cb3JkZXIpe3ZhciBzPW8uZGlzdGFuY2VUb0JvcmRlcih0LGUpLGE9TWF0aC5zaW4oZSkqcyxoPU1hdGguY29zKGUpKnM7aD09PXM/KG4rPXMscj1vLnkpOmE9PT1zPyhuPW8ueCxyLT1zKToobis9aCxyLT1hKX1lbHNlIG8uc2hhcGUud2lkdGg+by5zaGFwZS5oZWlnaHQ/KG49by54Ky41Km8uc2hhcGUud2lkdGgscj1vLnktaSk6KG49by54K2kscj1vLnktLjUqby5zaGFwZS5oZWlnaHQpO3JldHVybnt4Om4seTpyfX12YXIgb2s9TW8oXCJBcnJheVwiKS52YWx1ZXMsbms9Sm8scms9VnQsc2s9dHQsYWs9b2ssaGs9QXJyYXkucHJvdG90eXBlLGRrPXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9LGxrPWZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWVzO3JldHVybiB0PT09aGt8fHNrKGhrLHQpJiZlPT09aGsudmFsdWVzfHxyayhkayxuayh0KSk/YWs6ZX0sY2s9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe1hsKHRoaXMsdCksdGhpcy5tZWFzdXJlVGV4dD1lLHRoaXMuY3VycmVudD0wLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMubGluZXM9W119cmV0dXJuICRsKHQsW3trZXk6XCJfYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06XCJub3JtYWxcIjt2b2lkIDA9PT10aGlzLmxpbmVzW3RdJiYodGhpcy5saW5lc1t0XT17d2lkdGg6MCxoZWlnaHQ6MCxibG9ja3M6W119KTt2YXIgbz1lO3ZvaWQgMCE9PWUmJlwiXCIhPT1lfHwobz1cIiBcIik7dmFyIG49dGhpcy5tZWFzdXJlVGV4dChvLGkpLHI9Zm8oe30sbGsobikpO3IudGV4dD1lLHIud2lkdGg9bi53aWR0aCxyLm1vZD1pLHZvaWQgMCE9PWUmJlwiXCIhPT1lfHwoci53aWR0aD0wKSx0aGlzLmxpbmVzW3RdLmJsb2Nrcy5wdXNoKHIpLHRoaXMubGluZXNbdF0ud2lkdGgrPXIud2lkdGh9fSx7a2V5OlwiY3VyV2lkdGhcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubGluZXNbdGhpcy5jdXJyZW50XTtyZXR1cm4gdm9pZCAwPT09dD8wOnQud2lkdGh9fSx7a2V5OlwiYXBwZW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwibm9ybWFsXCI7dGhpcy5fYWRkKHRoaXMuY3VycmVudCx0LGUpfX0se2tleTpcIm5ld0xpbmVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJub3JtYWxcIjt0aGlzLl9hZGQodGhpcy5jdXJyZW50LHQsZSksdGhpcy5jdXJyZW50Kyt9fSx7a2V5OlwiZGV0ZXJtaW5lTGluZUhlaWdodHNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5saW5lcy5sZW5ndGg7dCsrKXt2YXIgZT10aGlzLmxpbmVzW3RdLGk9MDtpZih2b2lkIDAhPT1lLmJsb2Nrcylmb3IodmFyIG89MDtvPGUuYmxvY2tzLmxlbmd0aDtvKyspe3ZhciBuPWUuYmxvY2tzW29dO2k8bi5oZWlnaHQmJihpPW4uaGVpZ2h0KX1lLmhlaWdodD1pfX19LHtrZXk6XCJkZXRlcm1pbmVMYWJlbFNpemVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxpPTA7aTx0aGlzLmxpbmVzLmxlbmd0aDtpKyspe3ZhciBvPXRoaXMubGluZXNbaV07by53aWR0aD50JiYodD1vLndpZHRoKSxlKz1vLmhlaWdodH10aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZX19LHtrZXk6XCJyZW1vdmVFbXB0eUJsb2Nrc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMubGluZXMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5saW5lc1tlXTtpZigwIT09aS5ibG9ja3MubGVuZ3RoJiYoZSE9PXRoaXMubGluZXMubGVuZ3RoLTF8fDAhPT1pLndpZHRoKSl7dmFyIG89e307Zm8obyxpKSxvLmJsb2Nrcz1bXTtmb3IodmFyIG49dm9pZCAwLHI9W10scz0wO3M8aS5ibG9ja3MubGVuZ3RoO3MrKyl7dmFyIGE9aS5ibG9ja3Nbc107MCE9PWEud2lkdGg/ci5wdXNoKGEpOnZvaWQgMD09PW4mJihuPWEpfTA9PT1yLmxlbmd0aCYmdm9pZCAwIT09biYmci5wdXNoKG4pLG8uYmxvY2tzPXIsdC5wdXNoKG8pfX1yZXR1cm4gdH19LHtrZXk6XCJmaW5hbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kZXRlcm1pbmVMaW5lSGVpZ2h0cygpLHRoaXMuZGV0ZXJtaW5lTGFiZWxTaXplKCk7dmFyIHQ9dGhpcy5yZW1vdmVFbXB0eUJsb2NrcygpO3JldHVybnt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxsaW5lczp0fX19XSksdH0oKSx1az17XCI8Yj5cIjovPGI+LyxcIjxpPlwiOi88aT4vLFwiPGNvZGU+XCI6Lzxjb2RlPi8sXCI8L2I+XCI6LzxcXC9iPi8sXCI8L2k+XCI6LzxcXC9pPi8sXCI8L2NvZGU+XCI6LzxcXC9jb2RlPi8sXCIqXCI6L1xcKi8sXzovXy8sXCJgXCI6L2AvLGFmdGVyQm9sZDovW14qXS8sYWZ0ZXJJdGFsOi9bXl9dLyxhZnRlck1vbm86L1teYF0vfSxmaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7WGwodGhpcyx0KSx0aGlzLnRleHQ9ZSx0aGlzLmJvbGQ9ITEsdGhpcy5pdGFsPSExLHRoaXMubW9ubz0hMSx0aGlzLnNwYWNpbmc9ITEsdGhpcy5wb3NpdGlvbj0wLHRoaXMuYnVmZmVyPVwiXCIsdGhpcy5tb2RTdGFjaz1bXSx0aGlzLmJsb2Nrcz1bXX1yZXR1cm4gJGwodCxbe2tleTpcIm1vZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLm1vZFN0YWNrLmxlbmd0aD9cIm5vcm1hbFwiOnRoaXMubW9kU3RhY2tbMF19fSx7a2V5OlwibW9kTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLm1vZFN0YWNrLmxlbmd0aD9cIm5vcm1hbFwiOlwibW9ub1wiPT09dGhpcy5tb2RTdGFja1swXT9cIm1vbm9cIjp0aGlzLmJvbGQmJnRoaXMuaXRhbD9cImJvbGRpdGFsXCI6dGhpcy5ib2xkP1wiYm9sZFwiOnRoaXMuaXRhbD9cIml0YWxcIjp2b2lkIDB9fSx7a2V5OlwiZW1pdEJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNwYWNpbmcmJih0aGlzLmFkZChcIiBcIiksdGhpcy5zcGFjaW5nPSExKSx0aGlzLmJ1ZmZlci5sZW5ndGg+MCYmKHRoaXMuYmxvY2tzLnB1c2goe3RleHQ6dGhpcy5idWZmZXIsbW9kOnRoaXMubW9kTmFtZSgpfSksdGhpcy5idWZmZXI9XCJcIil9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7XCIgXCI9PT10JiYodGhpcy5zcGFjaW5nPSEwKSx0aGlzLnNwYWNpbmcmJih0aGlzLmJ1ZmZlcis9XCIgXCIsdGhpcy5zcGFjaW5nPSExKSxcIiBcIiE9dCYmKHRoaXMuYnVmZmVyKz10KX19LHtrZXk6XCJwYXJzZVdTXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuISEvWyBcXHRdLy50ZXN0KHQpJiYodGhpcy5tb25vP3RoaXMuYWRkKHQpOnRoaXMuc3BhY2luZz0hMCwhMCl9fSx7a2V5Olwic2V0VGFnXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5lbWl0QmxvY2soKSx0aGlzW3RdPSEwLHRoaXMubW9kU3RhY2sudW5zaGlmdCh0KX19LHtrZXk6XCJ1bnNldFRhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW1pdEJsb2NrKCksdGhpc1t0XT0hMSx0aGlzLm1vZFN0YWNrLnNoaWZ0KCl9fSx7a2V5OlwicGFyc2VTdGFydFRhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISh0aGlzLm1vbm98fHRoaXNbdF18fCF0aGlzLm1hdGNoKGUpKSYmKHRoaXMuc2V0VGFnKHQpLCEwKX19LHtrZXk6XCJtYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLnByZXBhcmVSZWdFeHAodCksbz0kYyhpLDIpLG49b1swXSxyPW9bMV0scz1uLnRlc3QodGhpcy50ZXh0LnN1YnN0cih0aGlzLnBvc2l0aW9uLHIpKTtyZXR1cm4gcyYmZSYmKHRoaXMucG9zaXRpb24rPXItMSksc319LHtrZXk6XCJwYXJzZUVuZFRhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLm1vZCgpPT09dDtyZXR1cm4hKCEobz1cIm1vbm9cIj09PXQ/byYmdGhpcy5tb25vOm8mJiF0aGlzLm1vbm8pfHwhdGhpcy5tYXRjaChlKSkmJih2b2lkIDAhPT1pPyh0aGlzLnBvc2l0aW9uPT09dGhpcy50ZXh0Lmxlbmd0aC0xfHx0aGlzLm1hdGNoKGksITEpKSYmdGhpcy51bnNldFRhZyh0KTp0aGlzLnVuc2V0VGFnKHQpLCEwKX19LHtrZXk6XCJyZXBsYWNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXRoaXMubWF0Y2godCkmJih0aGlzLmFkZChlKSx0aGlzLnBvc2l0aW9uKz1sZW5ndGgtMSwhMCl9fSx7a2V5OlwicHJlcGFyZVJlZ0V4cFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cClpPXQsZT0xO2Vsc2V7dmFyIG89dWtbdF07aT12b2lkIDAhPT1vP286bmV3IFJlZ0V4cCh0KSxlPXQubGVuZ3RofXJldHVybltpLGVdfX1dKSx0fSgpLHBrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyxuKXt2YXIgcj10aGlzO1hsKHRoaXMsdCksdGhpcy5jdHg9ZSx0aGlzLnBhcmVudD1pLHRoaXMuc2VsZWN0ZWQ9byx0aGlzLmhvdmVyPW47dGhpcy5saW5lcz1uZXcgY2soKGZ1bmN0aW9uKHQsaSl7aWYodm9pZCAwPT09dClyZXR1cm4gMDt2YXIgcz1yLnBhcmVudC5nZXRGb3JtYXR0aW5nVmFsdWVzKGUsbyxuLGkpLGE9MDtcIlwiIT09dCYmKGE9ci5jdHgubWVhc3VyZVRleHQodCkud2lkdGgpO3JldHVybnt3aWR0aDphLHZhbHVlczpzfX0pKX1yZXR1cm4gJGwodCxbe2tleTpcInByb2Nlc3NcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighZWsodCkpcmV0dXJuIHRoaXMubGluZXMuZmluYWxpemUoKTt2YXIgZT10aGlzLnBhcmVudC5mb250T3B0aW9uczt0PSh0PXQucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpO3ZhciBpPVN0cmluZyh0KS5zcGxpdChcIlxcblwiKSxvPWkubGVuZ3RoO2lmKGUubXVsdGkpZm9yKHZhciBuPTA7bjxvO24rKyl7dmFyIHI9dGhpcy5zcGxpdEJsb2NrcyhpW25dLGUubXVsdGkpO2lmKHZvaWQgMCE9PXIpaWYoMCE9PXIubGVuZ3RoKXtpZihlLm1heFdkdD4wKWZvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgYT1yW3NdLm1vZCxoPXJbc10udGV4dDt0aGlzLnNwbGl0U3RyaW5nSW50b0xpbmVzKGgsYSwhMCl9ZWxzZSBmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKyl7dmFyIGw9cltkXS5tb2QsYz1yW2RdLnRleHQ7dGhpcy5saW5lcy5hcHBlbmQoYyxsKX10aGlzLmxpbmVzLm5ld0xpbmUoKX1lbHNlIHRoaXMubGluZXMubmV3TGluZShcIlwiKX1lbHNlIGlmKGUubWF4V2R0PjApZm9yKHZhciB1PTA7dTxvO3UrKyl0aGlzLnNwbGl0U3RyaW5nSW50b0xpbmVzKGlbdV0pO2Vsc2UgZm9yKHZhciBmPTA7ZjxvO2YrKyl0aGlzLmxpbmVzLm5ld0xpbmUoaVtmXSk7cmV0dXJuIHRoaXMubGluZXMuZmluYWxpemUoKX19LHtrZXk6XCJkZWNvZGVNYXJrdXBTeXN0ZW1cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1cIm5vbmVcIjtyZXR1cm5cIm1hcmtkb3duXCI9PT10fHxcIm1kXCI9PT10P2U9XCJtYXJrZG93blwiOiEwIT09dCYmXCJodG1sXCIhPT10fHwoZT1cImh0bWxcIiksZX19LHtrZXk6XCJzcGxpdEh0bWxCbG9ja3NcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGZrKHQpLGk9ZnVuY3Rpb24odCl7cmV0dXJuISEvJi8udGVzdCh0KSYmKGUucmVwbGFjZShlLnRleHQsXCImbHQ7XCIsXCI8XCIpfHxlLnJlcGxhY2UoZS50ZXh0LFwiJmFtcDtcIixcIiZcIil8fGUuYWRkKFwiJlwiKSwhMCl9O2UucG9zaXRpb248ZS50ZXh0Lmxlbmd0aDspe3ZhciBvPWUudGV4dC5jaGFyQXQoZS5wb3NpdGlvbik7ZS5wYXJzZVdTKG8pfHwvPC8udGVzdChvKSYmKGUucGFyc2VTdGFydFRhZyhcImJvbGRcIixcIjxiPlwiKXx8ZS5wYXJzZVN0YXJ0VGFnKFwiaXRhbFwiLFwiPGk+XCIpfHxlLnBhcnNlU3RhcnRUYWcoXCJtb25vXCIsXCI8Y29kZT5cIil8fGUucGFyc2VFbmRUYWcoXCJib2xkXCIsXCI8L2I+XCIpfHxlLnBhcnNlRW5kVGFnKFwiaXRhbFwiLFwiPC9pPlwiKXx8ZS5wYXJzZUVuZFRhZyhcIm1vbm9cIixcIjwvY29kZT5cIikpfHxpKG8pfHxlLmFkZChvKSxlLnBvc2l0aW9uKyt9cmV0dXJuIGUuZW1pdEJsb2NrKCksZS5ibG9ja3N9fSx7a2V5Olwic3BsaXRNYXJrZG93bkJsb2Nrc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLGk9bmV3IGZrKHQpLG89ITAsbj1mdW5jdGlvbih0KXtyZXR1cm4hIS9cXFxcLy50ZXN0KHQpJiYoaS5wb3NpdGlvbjxlLnRleHQubGVuZ3RoKzEmJihpLnBvc2l0aW9uKyssdD1lLnRleHQuY2hhckF0KGkucG9zaXRpb24pLC8gXFx0Ly50ZXN0KHQpP2kuc3BhY2luZz0hMDooaS5hZGQodCksbz0hMSkpLCEwKX07aS5wb3NpdGlvbjxpLnRleHQubGVuZ3RoOyl7dmFyIHI9aS50ZXh0LmNoYXJBdChpLnBvc2l0aW9uKTtpLnBhcnNlV1Mocil8fG4ocil8fChvfHxpLnNwYWNpbmcpJiYoaS5wYXJzZVN0YXJ0VGFnKFwiYm9sZFwiLFwiKlwiKXx8aS5wYXJzZVN0YXJ0VGFnKFwiaXRhbFwiLFwiX1wiKXx8aS5wYXJzZVN0YXJ0VGFnKFwibW9ub1wiLFwiYFwiKSl8fGkucGFyc2VFbmRUYWcoXCJib2xkXCIsXCIqXCIsXCJhZnRlckJvbGRcIil8fGkucGFyc2VFbmRUYWcoXCJpdGFsXCIsXCJfXCIsXCJhZnRlckl0YWxcIil8fGkucGFyc2VFbmRUYWcoXCJtb25vXCIsXCJgXCIsXCJhZnRlck1vbm9cIil8fChpLmFkZChyKSxvPSExKSxpLnBvc2l0aW9uKyt9cmV0dXJuIGkuZW1pdEJsb2NrKCksaS5ibG9ja3N9fSx7a2V5Olwic3BsaXRCbG9ja3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZGVjb2RlTWFya3VwU3lzdGVtKGUpO3JldHVyblwibm9uZVwiPT09aT9be3RleHQ6dCxtb2Q6XCJub3JtYWxcIn1dOlwibWFya2Rvd25cIj09PWk/dGhpcy5zcGxpdE1hcmtkb3duQmxvY2tzKHQpOlwiaHRtbFwiPT09aT90aGlzLnNwbGl0SHRtbEJsb2Nrcyh0KTp2b2lkIDB9fSx7a2V5Olwib3Zlck1heFdpZHRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdHgubWVhc3VyZVRleHQodCkud2lkdGg7cmV0dXJuIHRoaXMubGluZXMuY3VyV2lkdGgoKStlPnRoaXMucGFyZW50LmZvbnRPcHRpb25zLm1heFdkdH19LHtrZXk6XCJnZXRMb25nZXN0Rml0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIsaT0wO2k8dC5sZW5ndGg7KXt2YXIgbz1lKyhcIlwiPT09ZT9cIlwiOlwiIFwiKSt0W2ldO2lmKHRoaXMub3Zlck1heFdpZHRoKG8pKWJyZWFrO2U9byxpKyt9cmV0dXJuIGl9fSx7a2V5OlwiZ2V0TG9uZ2VzdEZpdFdvcmRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoJiYhdGhpcy5vdmVyTWF4V2lkdGgoYXUodCkuY2FsbCh0LDAsZSkpOyllKys7cmV0dXJuIGV9fSx7a2V5Olwic3BsaXRTdHJpbmdJbnRvTGluZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJub3JtYWxcIixpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07dGhpcy5wYXJlbnQuZ2V0Rm9ybWF0dGluZ1ZhbHVlcyh0aGlzLmN0eCx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsZSk7Zm9yKHZhciBvPSh0PSh0PXQucmVwbGFjZSgvXiggKykvZyxcIiQxXFxyXCIpKS5yZXBsYWNlKC8oW15cXHJdW14gXSopKCArKS9nLFwiJDFcXHIkMlxcclwiKSkuc3BsaXQoXCJcXHJcIik7by5sZW5ndGg+MDspe3ZhciBuPXRoaXMuZ2V0TG9uZ2VzdEZpdChvKTtpZigwPT09bil7dmFyIHI9b1swXSxzPXRoaXMuZ2V0TG9uZ2VzdEZpdFdvcmQocik7dGhpcy5saW5lcy5uZXdMaW5lKGF1KHIpLmNhbGwociwwLHMpLGUpLG9bMF09YXUocikuY2FsbChyLHMpfWVsc2V7dmFyIGE9bjtcIiBcIj09PW9bbi0xXT9uLS06XCIgXCI9PT1vW2FdJiZhKys7dmFyIGg9YXUobykuY2FsbChvLDAsbikuam9pbihcIlwiKTtuPT1vLmxlbmd0aCYmaT90aGlzLmxpbmVzLmFwcGVuZChoLGUpOnRoaXMubGluZXMubmV3TGluZShoLGUpLG89YXUobykuY2FsbChvLGEpfX19fV0pLHR9KCksdms9W1wiYm9sZFwiLFwiaXRhbFwiLFwiYm9sZGl0YWxcIixcIm1vbm9cIl0sZ2s9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtYbCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucG9pbnRUb1NlbGY9ITEsdGhpcy5iYXNlU2l6ZT12b2lkIDAsdGhpcy5mb250T3B0aW9ucz17fSx0aGlzLnNldE9wdGlvbnMoaSksdGhpcy5zaXplPXt0b3A6MCxsZWZ0OjAsd2lkdGg6MCxoZWlnaHQ6MCx5TGluZTowfSx0aGlzLmlzRWRnZUxhYmVsPW99cmV0dXJuICRsKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5lbGVtZW50T3B0aW9ucz10LHRoaXMuaW5pdEZvbnRPcHRpb25zKHQuZm9udCksZWsodC5sYWJlbCk/dGhpcy5sYWJlbERpcnR5PSEwOnQubGFiZWw9dm9pZCAwLHZvaWQgMCE9PXQuZm9udCYmbnVsbCE9PXQuZm9udClpZihcInN0cmluZ1wiPT10eXBlb2YgdC5mb250KXRoaXMuYmFzZVNpemU9dGhpcy5mb250T3B0aW9ucy5zaXplO2Vsc2UgaWYoXCJvYmplY3RcIj09PVFjKHQuZm9udCkpe3ZhciBlPXQuZm9udC5zaXplO3ZvaWQgMCE9PWUmJih0aGlzLmJhc2VTaXplPWUpfX19LHtrZXk6XCJpbml0Rm9udE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgaT10aGlzO1d5KHZrLChmdW5jdGlvbih0KXtpLmZvbnRPcHRpb25zW3RdPXt9fSkpLHQucGFyc2VGb250U3RyaW5nKHRoaXMuZm9udE9wdGlvbnMsZSk/dGhpcy5mb250T3B0aW9ucy52YWRqdXN0PTA6V3koZSwoZnVuY3Rpb24odCxlKXtudWxsIT10JiZcIm9iamVjdFwiIT09UWModCkmJihpLmZvbnRPcHRpb25zW2VdPXQpfSkpfX0se2tleTpcImNvbnN0cmFpblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXtjb25zdHJhaW5XaWR0aDohMSxtYXhXZHQ6LTEsbWluV2R0Oi0xLGNvbnN0cmFpbkhlaWdodDohMSxtaW5IZ3Q6LTEsdmFsaWduOlwibWlkZGxlXCJ9LGk9aW0odCxcIndpZHRoQ29uc3RyYWludFwiKTtpZihcIm51bWJlclwiPT10eXBlb2YgaSllLm1heFdkdD1OdW1iZXIoaSksZS5taW5XZHQ9TnVtYmVyKGkpO2Vsc2UgaWYoXCJvYmplY3RcIj09PVFjKGkpKXt2YXIgbz1pbSh0LFtcIndpZHRoQ29uc3RyYWludFwiLFwibWF4aW11bVwiXSk7XCJudW1iZXJcIj09dHlwZW9mIG8mJihlLm1heFdkdD1OdW1iZXIobykpO3ZhciBuPWltKHQsW1wid2lkdGhDb25zdHJhaW50XCIsXCJtaW5pbXVtXCJdKTtcIm51bWJlclwiPT10eXBlb2YgbiYmKGUubWluV2R0PU51bWJlcihuKSl9dmFyIHI9aW0odCxcImhlaWdodENvbnN0cmFpbnRcIik7aWYoXCJudW1iZXJcIj09dHlwZW9mIHIpZS5taW5IZ3Q9TnVtYmVyKHIpO2Vsc2UgaWYoXCJvYmplY3RcIj09PVFjKHIpKXt2YXIgcz1pbSh0LFtcImhlaWdodENvbnN0cmFpbnRcIixcIm1pbmltdW1cIl0pO1wibnVtYmVyXCI9PXR5cGVvZiBzJiYoZS5taW5IZ3Q9TnVtYmVyKHMpKTt2YXIgYT1pbSh0LFtcImhlaWdodENvbnN0cmFpbnRcIixcInZhbGlnblwiXSk7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihcInRvcFwiIT09YSYmXCJib3R0b21cIiE9PWF8fChlLnZhbGlnbj1hKSl9cmV0dXJuIGV9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnNldE9wdGlvbnModCwhMCksdGhpcy5wcm9wYWdhdGVGb250cyhlKSxSeSh0aGlzLmZvbnRPcHRpb25zLHRoaXMuY29uc3RyYWluKGUpKSx0aGlzLmZvbnRPcHRpb25zLmNob29zZXI9SncoXCJsYWJlbFwiLGUpfX0se2tleTpcImFkanVzdFNpemVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dD90LnJpZ2h0K3QubGVmdDowO3RoaXMuZm9udE9wdGlvbnMuY29uc3RyYWluV2lkdGgmJih0aGlzLmZvbnRPcHRpb25zLm1heFdkdC09ZSx0aGlzLmZvbnRPcHRpb25zLm1pbldkdC09ZSk7dmFyIGk9dD90LnRvcCt0LmJvdHRvbTowO3RoaXMuZm9udE9wdGlvbnMuY29uc3RyYWluSGVpZ2h0JiYodGhpcy5mb250T3B0aW9ucy5taW5IZ3QtPWkpfX0se2tleTpcImFkZEZvbnRPcHRpb25zVG9QaWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSl0aGlzLmFkZEZvbnRUb1BpbGUodCxlW2ldKX19LHtrZXk6XCJhZGRGb250VG9QaWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLmZvbnQmJm51bGwhPT1lLmZvbnQpe3ZhciBpPWUuZm9udDt0LnB1c2goaSl9fX0se2tleTpcImdldEJhc2ljT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgaT17fSxvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBuPWVbb10scj17fTt0LnBhcnNlRm9udFN0cmluZyhyLG4pJiYobj1yKSxXeShuLChmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PXQmJihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxlKXx8KC0xIT09enAodmspLmNhbGwodmssZSk/aVtlXT17fTppW2VdPXQpKX0pKX1yZXR1cm4gaX19LHtrZXk6XCJnZXRGb250T3B0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgbixyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBzPWVbcl07aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsaSkpe2lmKG51bGw9PShuPXNbaV0pKWNvbnRpbnVlO3ZhciBhPXt9O2lmKHQucGFyc2VGb250U3RyaW5nKGEsbikmJihuPWEpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG8pKXJldHVybiBuW29dfX1pZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5mb250T3B0aW9ucyxvKSlyZXR1cm4gdGhpcy5mb250T3B0aW9uc1tvXTt0aHJvdyBuZXcgRXJyb3IoXCJEaWQgbm90IGZpbmQgdmFsdWUgZm9yIG11bHRpLWZvbnQgZm9yIHByb3BlcnR5OiAnXCIrbytcIidcIil9fSx7a2V5OlwiZ2V0Rm9udE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT17fSxvPVtcImNvbG9yXCIsXCJzaXplXCIsXCJmYWNlXCIsXCJtb2RcIixcInZhZGp1c3RcIl0sbj0wO248by5sZW5ndGg7KytuKXt2YXIgcj1vW25dO2lbcl09dGhpcy5nZXRGb250T3B0aW9uKHQsZSxyKX1yZXR1cm4gaX19LHtrZXk6XCJwcm9wYWdhdGVGb250c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1bXTt0aGlzLmFkZEZvbnRPcHRpb25zVG9QaWxlKGksdCksdGhpcy5mb250T3B0aW9ucz10aGlzLmdldEJhc2ljT3B0aW9ucyhpKTtmb3IodmFyIG89ZnVuY3Rpb24odCl7dmFyIG89dmtbdF0sbj1lLmZvbnRPcHRpb25zW29dO1d5KGUuZ2V0Rm9udE9wdGlvbnMoaSxvKSwoZnVuY3Rpb24odCxlKXtuW2VdPXR9KSksbi5zaXplPU51bWJlcihuLnNpemUpLG4udmFkanVzdD1OdW1iZXIobi52YWRqdXN0KX0sbj0wO248dmsubGVuZ3RoOysrbilvKG4pfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTpcIm1pZGRsZVwiO2lmKHZvaWQgMCE9PXRoaXMuZWxlbWVudE9wdGlvbnMubGFiZWwpe3ZhciBzPXRoaXMuZm9udE9wdGlvbnMuc2l6ZSp0aGlzLmJvZHkudmlldy5zY2FsZTt0aGlzLmVsZW1lbnRPcHRpb25zLmxhYmVsJiZzPHRoaXMuZWxlbWVudE9wdGlvbnMuc2NhbGluZy5sYWJlbC5kcmF3VGhyZXNob2xkLTF8fChzPj10aGlzLmVsZW1lbnRPcHRpb25zLnNjYWxpbmcubGFiZWwubWF4VmlzaWJsZSYmKHM9TnVtYmVyKHRoaXMuZWxlbWVudE9wdGlvbnMuc2NhbGluZy5sYWJlbC5tYXhWaXNpYmxlKS90aGlzLmJvZHkudmlldy5zY2FsZSksdGhpcy5jYWxjdWxhdGVMYWJlbFNpemUodCxvLG4sZSxpLHIpLHRoaXMuX2RyYXdCYWNrZ3JvdW5kKHQpLHRoaXMuX2RyYXdUZXh0KHQsZSx0aGlzLnNpemUueUxpbmUscixzKSl9fX0se2tleTpcIl9kcmF3QmFja2dyb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXRoaXMuZm9udE9wdGlvbnMuYmFja2dyb3VuZCYmXCJub25lXCIhPT10aGlzLmZvbnRPcHRpb25zLmJhY2tncm91bmQpe3QuZmlsbFN0eWxlPXRoaXMuZm9udE9wdGlvbnMuYmFja2dyb3VuZDt2YXIgZT10aGlzLmdldFNpemUoKTt0LmZpbGxSZWN0KGUubGVmdCxlLnRvcCxlLndpZHRoLGUuaGVpZ2h0KX19fSx7a2V5OlwiX2RyYXdUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpcIm1pZGRsZVwiLG49YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTp2b2lkIDAscj10aGlzLl9zZXRBbGlnbm1lbnQodCxlLGksbykscz0kYyhyLDIpO2U9c1swXSxpPXNbMV0sdC50ZXh0QWxpZ249XCJsZWZ0XCIsZS09dGhpcy5zaXplLndpZHRoLzIsdGhpcy5mb250T3B0aW9ucy52YWxpZ24mJnRoaXMuc2l6ZS5oZWlnaHQ+dGhpcy5zaXplLmxhYmVsSGVpZ2h0JiYoXCJ0b3BcIj09PXRoaXMuZm9udE9wdGlvbnMudmFsaWduJiYoaS09KHRoaXMuc2l6ZS5oZWlnaHQtdGhpcy5zaXplLmxhYmVsSGVpZ2h0KS8yKSxcImJvdHRvbVwiPT09dGhpcy5mb250T3B0aW9ucy52YWxpZ24mJihpKz0odGhpcy5zaXplLmhlaWdodC10aGlzLnNpemUubGFiZWxIZWlnaHQpLzIpKTtmb3IodmFyIGE9MDthPHRoaXMubGluZUNvdW50O2ErKyl7dmFyIGg9dGhpcy5saW5lc1thXTtpZihoJiZoLmJsb2Nrcyl7dmFyIGQ9MDt0aGlzLmlzRWRnZUxhYmVsfHxcImNlbnRlclwiPT09dGhpcy5mb250T3B0aW9ucy5hbGlnbj9kKz0odGhpcy5zaXplLndpZHRoLWgud2lkdGgpLzI6XCJyaWdodFwiPT09dGhpcy5mb250T3B0aW9ucy5hbGlnbiYmKGQrPXRoaXMuc2l6ZS53aWR0aC1oLndpZHRoKTtmb3IodmFyIGw9MDtsPGguYmxvY2tzLmxlbmd0aDtsKyspe3ZhciBjPWguYmxvY2tzW2xdO3QuZm9udD1jLmZvbnQ7dmFyIHU9dGhpcy5fZ2V0Q29sb3IoYy5jb2xvcixuLGMuc3Ryb2tlQ29sb3IpLGY9JGModSwyKSxwPWZbMF0sdj1mWzFdO2Muc3Ryb2tlV2lkdGg+MCYmKHQubGluZVdpZHRoPWMuc3Ryb2tlV2lkdGgsdC5zdHJva2VTdHlsZT12LHQubGluZUpvaW49XCJyb3VuZFwiKSx0LmZpbGxTdHlsZT1wLGMuc3Ryb2tlV2lkdGg+MCYmdC5zdHJva2VUZXh0KGMudGV4dCxlK2QsaStjLnZhZGp1c3QpLHQuZmlsbFRleHQoYy50ZXh0LGUrZCxpK2MudmFkanVzdCksZCs9Yy53aWR0aH1pKz1oLmhlaWdodH19fX0se2tleTpcIl9zZXRBbGlnbm1lbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXtpZih0aGlzLmlzRWRnZUxhYmVsJiZcImhvcml6b250YWxcIiE9PXRoaXMuZm9udE9wdGlvbnMuYWxpZ24mJiExPT09dGhpcy5wb2ludFRvU2VsZil7ZT0wLGk9MDtcInRvcFwiPT09dGhpcy5mb250T3B0aW9ucy5hbGlnbj8odC50ZXh0QmFzZWxpbmU9XCJhbHBoYWJldGljXCIsaS09NCk6XCJib3R0b21cIj09PXRoaXMuZm9udE9wdGlvbnMuYWxpZ24/KHQudGV4dEJhc2VsaW5lPVwiaGFuZ2luZ1wiLGkrPTQpOnQudGV4dEJhc2VsaW5lPVwibWlkZGxlXCJ9ZWxzZSB0LnRleHRCYXNlbGluZT1vO3JldHVybltlLGldfX0se2tleTpcIl9nZXRDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10fHxcIiMwMDAwMDBcIixuPWl8fFwiI2ZmZmZmZlwiO2lmKGU8PXRoaXMuZWxlbWVudE9wdGlvbnMuc2NhbGluZy5sYWJlbC5kcmF3VGhyZXNob2xkKXt2YXIgcj1NYXRoLm1heCgwLE1hdGgubWluKDEsMS0odGhpcy5lbGVtZW50T3B0aW9ucy5zY2FsaW5nLmxhYmVsLmRyYXdUaHJlc2hvbGQtZSkpKTtvPXF5KG8sciksbj1xeShuLHIpfXJldHVybltvLG5dfX0se2tleTpcImdldFRleHRTaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07cmV0dXJuIHRoaXMuX3Byb2Nlc3NMYWJlbCh0LGUsaSkse3dpZHRoOnRoaXMuc2l6ZS53aWR0aCxoZWlnaHQ6dGhpcy5zaXplLmhlaWdodCxsaW5lQ291bnQ6dGhpcy5saW5lQ291bnR9fX0se2tleTpcImdldFNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2l6ZS5sZWZ0LGU9dGhpcy5zaXplLnRvcC0xO2lmKHRoaXMuaXNFZGdlTGFiZWwpe3ZhciBpPS41Ki10aGlzLnNpemUud2lkdGg7c3dpdGNoKHRoaXMuZm9udE9wdGlvbnMuYWxpZ24pe2Nhc2VcIm1pZGRsZVwiOnQ9aSxlPS41Ki10aGlzLnNpemUuaGVpZ2h0O2JyZWFrO2Nhc2VcInRvcFwiOnQ9aSxlPS0odGhpcy5zaXplLmhlaWdodCsyKTticmVhaztjYXNlXCJib3R0b21cIjp0PWksZT0yfX1yZXR1cm57bGVmdDp0LHRvcDplLHdpZHRoOnRoaXMuc2l6ZS53aWR0aCxoZWlnaHQ6dGhpcy5zaXplLmhlaWdodH19fSx7a2V5OlwiY2FsY3VsYXRlTGFiZWxTaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTowLG49YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjAscj1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06XCJtaWRkbGVcIjt0aGlzLl9wcm9jZXNzTGFiZWwodCxlLGkpLHRoaXMuc2l6ZS5sZWZ0PW8tLjUqdGhpcy5zaXplLndpZHRoLHRoaXMuc2l6ZS50b3A9bi0uNSp0aGlzLnNpemUuaGVpZ2h0LHRoaXMuc2l6ZS55TGluZT1uKy41KigxLXRoaXMubGluZUNvdW50KSp0aGlzLmZvbnRPcHRpb25zLnNpemUsXCJoYW5naW5nXCI9PT1yJiYodGhpcy5zaXplLnRvcCs9LjUqdGhpcy5mb250T3B0aW9ucy5zaXplLHRoaXMuc2l6ZS50b3ArPTQsdGhpcy5zaXplLnlMaW5lKz00KX19LHtrZXk6XCJnZXRGb3JtYXR0aW5nVmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49ZnVuY3Rpb24odCxlLGkpe3JldHVyblwibm9ybWFsXCI9PT1lP1wibW9kXCI9PT1pP1wiXCI6dFtpXTp2b2lkIDAhPT10W2VdW2ldP3RbZV1baV06dFtpXX0scj17Y29sb3I6bih0aGlzLmZvbnRPcHRpb25zLG8sXCJjb2xvclwiKSxzaXplOm4odGhpcy5mb250T3B0aW9ucyxvLFwic2l6ZVwiKSxmYWNlOm4odGhpcy5mb250T3B0aW9ucyxvLFwiZmFjZVwiKSxtb2Q6bih0aGlzLmZvbnRPcHRpb25zLG8sXCJtb2RcIiksdmFkanVzdDpuKHRoaXMuZm9udE9wdGlvbnMsbyxcInZhZGp1c3RcIiksc3Ryb2tlV2lkdGg6dGhpcy5mb250T3B0aW9ucy5zdHJva2VXaWR0aCxzdHJva2VDb2xvcjp0aGlzLmZvbnRPcHRpb25zLnN0cm9rZUNvbG9yfTsoZXx8aSkmJihcIm5vcm1hbFwiPT09byYmITA9PT10aGlzLmZvbnRPcHRpb25zLmNob29zZXImJnRoaXMuZWxlbWVudE9wdGlvbnMubGFiZWxIaWdobGlnaHRCb2xkP3IubW9kPVwiYm9sZFwiOlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuZm9udE9wdGlvbnMuY2hvb3NlciYmdGhpcy5mb250T3B0aW9ucy5jaG9vc2VyKHIsdGhpcy5lbGVtZW50T3B0aW9ucy5pZCxlLGkpKTt2YXIgcz1cIlwiO3JldHVybiB2b2lkIDAhPT1yLm1vZCYmXCJcIiE9PXIubW9kJiYocys9ci5tb2QrXCIgXCIpLHMrPXIuc2l6ZStcInB4IFwiK3IuZmFjZSx0LmZvbnQ9cy5yZXBsYWNlKC9cIi9nLFwiXCIpLHIuZm9udD10LmZvbnQsci5oZWlnaHQ9ci5zaXplLHJ9fSx7a2V5OlwiZGlmZmVyZW50U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0IT09dGhpcy5zZWxlY3RlZFN0YXRlfHxlIT09dGhpcy5ob3ZlclN0YXRlfX0se2tleTpcIl9wcm9jZXNzTGFiZWxUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIG5ldyBwayh0LHRoaXMsZSxpKS5wcm9jZXNzKG8pfX0se2tleTpcIl9wcm9jZXNzTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7aWYoITEhPT10aGlzLmxhYmVsRGlydHl8fHRoaXMuZGlmZmVyZW50U3RhdGUoZSxpKSl7dmFyIG89dGhpcy5fcHJvY2Vzc0xhYmVsVGV4dCh0LGUsaSx0aGlzLmVsZW1lbnRPcHRpb25zLmxhYmVsKTt0aGlzLmZvbnRPcHRpb25zLm1pbldkdD4wJiZvLndpZHRoPHRoaXMuZm9udE9wdGlvbnMubWluV2R0JiYoby53aWR0aD10aGlzLmZvbnRPcHRpb25zLm1pbldkdCksdGhpcy5zaXplLmxhYmVsSGVpZ2h0PW8uaGVpZ2h0LHRoaXMuZm9udE9wdGlvbnMubWluSGd0PjAmJm8uaGVpZ2h0PHRoaXMuZm9udE9wdGlvbnMubWluSGd0JiYoby5oZWlnaHQ9dGhpcy5mb250T3B0aW9ucy5taW5IZ3QpLHRoaXMubGluZXM9by5saW5lcyx0aGlzLmxpbmVDb3VudD1vLmxpbmVzLmxlbmd0aCx0aGlzLnNpemUud2lkdGg9by53aWR0aCx0aGlzLnNpemUuaGVpZ2h0PW8uaGVpZ2h0LHRoaXMuc2VsZWN0ZWRTdGF0ZT1lLHRoaXMuaG92ZXJTdGF0ZT1pLHRoaXMubGFiZWxEaXJ0eT0hMX19fSx7a2V5OlwidmlzaWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLnNpemUud2lkdGgmJjAhPT10aGlzLnNpemUuaGVpZ2h0JiZ2b2lkIDAhPT10aGlzLmVsZW1lbnRPcHRpb25zLmxhYmVsJiYhKHRoaXMuZm9udE9wdGlvbnMuc2l6ZSp0aGlzLmJvZHkudmlldy5zY2FsZTx0aGlzLmVsZW1lbnRPcHRpb25zLnNjYWxpbmcubGFiZWwuZHJhd1RocmVzaG9sZC0xKX19XSxbe2tleTpcInBhcnNlRm9udFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiExO3ZhciBpPWUuc3BsaXQoXCIgXCIpO3JldHVybiB0LnNpemU9K2lbMF0ucmVwbGFjZShcInB4XCIsXCJcIiksdC5mYWNlPWlbMV0sdC5jb2xvcj1pWzJdLCEwfX1dKSx0fSgpLHlrPW5hLG1rPXd0LGJrPW4uVHlwZUVycm9yLHdrPXhpLGtrPWMsX2s9Q28seGs9ZnVuY3Rpb24odCl7aWYoeWsodCkpcmV0dXJuIHQ7dGhyb3cgYmsobWsodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIil9LEVrPVplLE9rPVgsQ2s9a3IsU2s9cixUaz1KKFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLE1rPU9iamVjdC5wcm90b3R5cGUsUGs9W10ucHVzaCxEaz1TaygoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiEoVGsoKGZ1bmN0aW9uKCl7fSksW10sdClpbnN0YW5jZW9mIHQpfSkpLEJrPSFTaygoZnVuY3Rpb24oKXtUaygoZnVuY3Rpb24oKXt9KSl9KSksSWs9RGt8fEJrO3drKHt0YXJnZXQ6XCJSZWZsZWN0XCIsc3RhdDohMCxmb3JjZWQ6SWssc2hhbTpJa30se2NvbnN0cnVjdDpmdW5jdGlvbih0LGUpe3hrKHQpLEVrKGUpO3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg8Mz90OnhrKGFyZ3VtZW50c1syXSk7aWYoQmsmJiFEaylyZXR1cm4gVGsodCxlLGkpO2lmKHQ9PWkpe3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGVbMF0pO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZVswXSxlWzFdKTtjYXNlIDM6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10pfXZhciBvPVtudWxsXTtyZXR1cm4ga2soUGssbyxlKSxuZXcoa2soX2ssdCxvKSl9dmFyIG49aS5wcm90b3R5cGUscj1DayhPayhuKT9uOk1rKSxzPWtrKHQscixlKTtyZXR1cm4gT2socyk/czpyfX0pO3ZhciB6az1HLlJlZmxlY3QuY29uc3RydWN0LEZrPUxwO3hpKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwfSx7c2V0UHJvdG90eXBlT2Y6dXN9KTt2YXIgTms9Ry5PYmplY3Quc2V0UHJvdG90eXBlT2Y7ZnVuY3Rpb24gQWsodCxlKXtyZXR1cm4gQWs9Tmt8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQWsodCxlKX1mdW5jdGlvbiBSayh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1GayhlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLEdsKHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZBayh0LGUpfWZ1bmN0aW9uIGprKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1RYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX12YXIgTGs9UmY7ZnVuY3Rpb24gSGsodCl7cmV0dXJuIEhrPU5rP0xrOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8TGsodCl9LEhrKHQpfXZhciBXaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe1hsKHRoaXMsdCksdGhpcy5ib2R5PWksdGhpcy5sYWJlbE1vZHVsZT1vLHRoaXMuc2V0T3B0aW9ucyhlKSx0aGlzLnRvcD12b2lkIDAsdGhpcy5sZWZ0PXZvaWQgMCx0aGlzLmhlaWdodD12b2lkIDAsdGhpcy53aWR0aD12b2lkIDAsdGhpcy5yYWRpdXM9dm9pZCAwLHRoaXMubWFyZ2luPXZvaWQgMCx0aGlzLnJlZnJlc2hOZWVkZWQ9ITAsdGhpcy5ib3VuZGluZ0JveD17dG9wOjAsbGVmdDowLHJpZ2h0OjAsYm90dG9tOjB9fXJldHVybiAkbCh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10fX0se2tleTpcIl9zZXRNYXJnaW5zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5tYXJnaW49e30sdGhpcy5vcHRpb25zLm1hcmdpbiYmKFwib2JqZWN0XCI9PVFjKHRoaXMub3B0aW9ucy5tYXJnaW4pPyh0aGlzLm1hcmdpbi50b3A9dGhpcy5vcHRpb25zLm1hcmdpbi50b3AsdGhpcy5tYXJnaW4ucmlnaHQ9dGhpcy5vcHRpb25zLm1hcmdpbi5yaWdodCx0aGlzLm1hcmdpbi5ib3R0b209dGhpcy5vcHRpb25zLm1hcmdpbi5ib3R0b20sdGhpcy5tYXJnaW4ubGVmdD10aGlzLm9wdGlvbnMubWFyZ2luLmxlZnQpOih0aGlzLm1hcmdpbi50b3A9dGhpcy5vcHRpb25zLm1hcmdpbix0aGlzLm1hcmdpbi5yaWdodD10aGlzLm9wdGlvbnMubWFyZ2luLHRoaXMubWFyZ2luLmJvdHRvbT10aGlzLm9wdGlvbnMubWFyZ2luLHRoaXMubWFyZ2luLmxlZnQ9dGhpcy5vcHRpb25zLm1hcmdpbikpLHQuYWRqdXN0U2l6ZXModGhpcy5tYXJnaW4pfX0se2tleTpcIl9kaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7cmV0dXJuIHQmJnRoaXMucmVzaXplKHQpLE1hdGgubWluKE1hdGguYWJzKHRoaXMud2lkdGgvMi9NYXRoLmNvcyhlKSksTWF0aC5hYnModGhpcy5oZWlnaHQvMi9NYXRoLnNpbihlKSkpK2l9fSx7a2V5OlwiZW5hYmxlU2hhZG93XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlLnNoYWRvdyYmKHQuc2hhZG93Q29sb3I9ZS5zaGFkb3dDb2xvcix0LnNoYWRvd0JsdXI9ZS5zaGFkb3dTaXplLHQuc2hhZG93T2Zmc2V0WD1lLnNoYWRvd1gsdC5zaGFkb3dPZmZzZXRZPWUuc2hhZG93WSl9fSx7a2V5OlwiZGlzYWJsZVNoYWRvd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZS5zaGFkb3cmJih0LnNoYWRvd0NvbG9yPVwicmdiYSgwLDAsMCwwKVwiLHQuc2hhZG93Qmx1cj0wLHQuc2hhZG93T2Zmc2V0WD0wLHQuc2hhZG93T2Zmc2V0WT0wKX19LHtrZXk6XCJlbmFibGVCb3JkZXJEYXNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCExIT09ZS5ib3JkZXJEYXNoZXMpaWYodm9pZCAwIT09dC5zZXRMaW5lRGFzaCl7dmFyIGk9ZS5ib3JkZXJEYXNoZXM7ITA9PT1pJiYoaT1bNSwxNV0pLHQuc2V0TGluZURhc2goaSl9ZWxzZSBjb25zb2xlLndhcm4oXCJzZXRMaW5lRGFzaCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4gVGhlIGRhc2hlZCBib3JkZXJzIGNhbm5vdCBiZSB1c2VkLlwiKSx0aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLmJvcmRlckRhc2hlcz0hMSxlLmJvcmRlckRhc2hlcz0hMX19LHtrZXk6XCJkaXNhYmxlQm9yZGVyRGFzaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXshMSE9PWUuYm9yZGVyRGFzaGVzJiYodm9pZCAwIT09dC5zZXRMaW5lRGFzaD90LnNldExpbmVEYXNoKFswXSk6KGNvbnNvbGUud2FybihcInNldExpbmVEYXNoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLiBUaGUgZGFzaGVkIGJvcmRlcnMgY2Fubm90IGJlIHVzZWQuXCIpLHRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuYm9yZGVyRGFzaGVzPSExLGUuYm9yZGVyRGFzaGVzPSExKSl9fSx7a2V5OlwibmVlZHNSZWZyZXNoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMD09PXRoaXMucmVmcmVzaE5lZWRlZD8odGhpcy5yZWZyZXNoTmVlZGVkPSExLCEwKTp2b2lkIDA9PT10aGlzLndpZHRofHx0aGlzLmxhYmVsTW9kdWxlLmRpZmZlcmVudFN0YXRlKHQsZSl9fSx7a2V5OlwiaW5pdENvbnRleHRGb3JEcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmJvcmRlcldpZHRoL3RoaXMuYm9keS52aWV3LnNjYWxlO3QubGluZVdpZHRoPU1hdGgubWluKHRoaXMud2lkdGgsaSksdC5zdHJva2VTdHlsZT1lLmJvcmRlckNvbG9yLHQuZmlsbFN0eWxlPWUuY29sb3J9fSx7a2V5OlwicGVyZm9ybVN0cm9rZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5ib3JkZXJXaWR0aC90aGlzLmJvZHkudmlldy5zY2FsZTt0LnNhdmUoKSxpPjAmJih0aGlzLmVuYWJsZUJvcmRlckRhc2hlcyh0LGUpLHQuc3Ryb2tlKCksdGhpcy5kaXNhYmxlQm9yZGVyRGFzaGVzKHQsZSkpLHQucmVzdG9yZSgpfX0se2tleTpcInBlcmZvcm1GaWxsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LnNhdmUoKSx0LmZpbGxTdHlsZT1lLmNvbG9yLHRoaXMuZW5hYmxlU2hhZG93KHQsZSksUHYodCkuY2FsbCh0KSx0aGlzLmRpc2FibGVTaGFkb3codCxlKSx0LnJlc3RvcmUoKSx0aGlzLnBlcmZvcm1TdHJva2UodCxlKX19LHtrZXk6XCJfYWRkQm91bmRpbmdCb3hNYXJnaW5cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmJvdW5kaW5nQm94LmxlZnQtPXQsdGhpcy5ib3VuZGluZ0JveC50b3AtPXQsdGhpcy5ib3VuZGluZ0JveC5ib3R0b20rPXQsdGhpcy5ib3VuZGluZ0JveC5yaWdodCs9dH19LHtrZXk6XCJfdXBkYXRlQm91bmRpbmdCb3hcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3ZvaWQgMCE9PWkmJnRoaXMucmVzaXplKGksbyxuKSx0aGlzLmxlZnQ9dC10aGlzLndpZHRoLzIsdGhpcy50b3A9ZS10aGlzLmhlaWdodC8yLHRoaXMuYm91bmRpbmdCb3gubGVmdD10aGlzLmxlZnQsdGhpcy5ib3VuZGluZ0JveC50b3A9dGhpcy50b3AsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209dGhpcy50b3ArdGhpcy5oZWlnaHQsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10aGlzLmxlZnQrdGhpcy53aWR0aH19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dGhpcy5fdXBkYXRlQm91bmRpbmdCb3godCxlLGksbyxuKX19LHtrZXk6XCJnZXREaW1lbnNpb25zRnJvbUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMudGV4dFNpemU9dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LGUsaSk7dmFyIG89dGhpcy50ZXh0U2l6ZS53aWR0aCxuPXRoaXMudGV4dFNpemUuaGVpZ2h0O3JldHVybiAwPT09byYmKG89MTQsbj0xNCkse3dpZHRoOm8saGVpZ2h0Om59fX1dKSx0fSgpO2Z1bmN0aW9uIFZrKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIHFrPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9VmsoaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIFhsKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS5fc2V0TWFyZ2lucyhuKSxyfXJldHVybiAkbChpLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2VsZWN0ZWQsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5ob3ZlcjtpZih0aGlzLm5lZWRzUmVmcmVzaChlLGkpKXt2YXIgbz10aGlzLmdldERpbWVuc2lvbnNGcm9tTGFiZWwodCxlLGkpO3RoaXMud2lkdGg9by53aWR0aCt0aGlzLm1hcmdpbi5yaWdodCt0aGlzLm1hcmdpbi5sZWZ0LHRoaXMuaGVpZ2h0PW8uaGVpZ2h0K3RoaXMubWFyZ2luLnRvcCt0aGlzLm1hcmdpbi5ib3R0b20sdGhpcy5yYWRpdXM9dGhpcy53aWR0aC8yfX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3RoaXMucmVzaXplKHQsbyxuKSx0aGlzLmxlZnQ9ZS10aGlzLndpZHRoLzIsdGhpcy50b3A9aS10aGlzLmhlaWdodC8yLHRoaXMuaW5pdENvbnRleHRGb3JEcmF3KHQsciksQW8odCx0aGlzLmxlZnQsdGhpcy50b3AsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxyLmJvcmRlclJhZGl1cyksdGhpcy5wZXJmb3JtRmlsbCh0LHIpLHRoaXMudXBkYXRlQm91bmRpbmdCb3goZSxpLHQsbyxuKSx0aGlzLmxhYmVsTW9kdWxlLmRyYXcodCx0aGlzLmxlZnQrdGhpcy50ZXh0U2l6ZS53aWR0aC8yK3RoaXMubWFyZ2luLmxlZnQsdGhpcy50b3ArdGhpcy50ZXh0U2l6ZS5oZWlnaHQvMit0aGlzLm1hcmdpbi50b3AsbyxuKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dGhpcy5fdXBkYXRlQm91bmRpbmdCb3godCxlLGksbyxuKTt2YXIgcj10aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLmJvcmRlclJhZGl1czt0aGlzLl9hZGRCb3VuZGluZ0JveE1hcmdpbihyKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0JiZ0aGlzLnJlc2l6ZSh0KTt2YXIgaT10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7cmV0dXJuIE1hdGgubWluKE1hdGguYWJzKHRoaXMud2lkdGgvMi9NYXRoLmNvcyhlKSksTWF0aC5hYnModGhpcy5oZWlnaHQvMi9NYXRoLnNpbihlKSkpK2l9fV0pLGl9KFdrKTtmdW5jdGlvbiBVayh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhemspcmV0dXJuITE7aWYoemsuc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh6ayhCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89SGsodCk7aWYoZSl7dmFyIG49SGsodGhpcykuY29uc3RydWN0b3I7aT16ayhvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGprKHRoaXMsaSl9fXZhciBZaz1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPVVrKGkpO2Z1bmN0aW9uIGkodCxvLG4pe3ZhciByO3JldHVybiBYbCh0aGlzLGkpLChyPWUuY2FsbCh0aGlzLHQsbyxuKSkubGFiZWxPZmZzZXQ9MCxyLnNlbGVjdGVkPSExLHJ9cmV0dXJuICRsKGksW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMub3B0aW9ucz10LHZvaWQgMD09PWUmJnZvaWQgMD09PWl8fHRoaXMuc2V0SW1hZ2VzKGUsaSl9fSx7a2V5Olwic2V0SW1hZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlJiZ0aGlzLnNlbGVjdGVkPyh0aGlzLmltYWdlT2JqPWUsdGhpcy5pbWFnZU9iakFsdD10KToodGhpcy5pbWFnZU9iaj10LHRoaXMuaW1hZ2VPYmpBbHQ9ZSl9fSx7a2V5Olwic3dpdGNoSW1hZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dCYmIXRoaXMuc2VsZWN0ZWR8fCF0JiZ0aGlzLnNlbGVjdGVkO2lmKHRoaXMuc2VsZWN0ZWQ9dCx2b2lkIDAhPT10aGlzLmltYWdlT2JqQWx0JiZlKXt2YXIgaT10aGlzLmltYWdlT2JqO3RoaXMuaW1hZ2VPYmo9dGhpcy5pbWFnZU9iakFsdCx0aGlzLmltYWdlT2JqQWx0PWl9fX0se2tleTpcIl9nZXRJbWFnZVBhZGRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH07aWYodGhpcy5vcHRpb25zLmltYWdlUGFkZGluZyl7dmFyIGU9dGhpcy5vcHRpb25zLmltYWdlUGFkZGluZztcIm9iamVjdFwiPT1RYyhlKT8odC50b3A9ZS50b3AsdC5yaWdodD1lLnJpZ2h0LHQuYm90dG9tPWUuYm90dG9tLHQubGVmdD1lLmxlZnQpOih0LnRvcD1lLHQucmlnaHQ9ZSx0LmJvdHRvbT1lLHQubGVmdD1lKX1yZXR1cm4gdH19LHtrZXk6XCJfcmVzaXplSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU7aWYoITE9PT10aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLnVzZUltYWdlU2l6ZSl7dmFyIGk9MSxvPTE7dGhpcy5pbWFnZU9iai53aWR0aCYmdGhpcy5pbWFnZU9iai5oZWlnaHQmJih0aGlzLmltYWdlT2JqLndpZHRoPnRoaXMuaW1hZ2VPYmouaGVpZ2h0P2k9dGhpcy5pbWFnZU9iai53aWR0aC90aGlzLmltYWdlT2JqLmhlaWdodDpvPXRoaXMuaW1hZ2VPYmouaGVpZ2h0L3RoaXMuaW1hZ2VPYmoud2lkdGgpLHQ9Mip0aGlzLm9wdGlvbnMuc2l6ZSppLGU9Mip0aGlzLm9wdGlvbnMuc2l6ZSpvfWVsc2V7dmFyIG49dGhpcy5fZ2V0SW1hZ2VQYWRkaW5nKCk7dD10aGlzLmltYWdlT2JqLndpZHRoK24ubGVmdCtuLnJpZ2h0LGU9dGhpcy5pbWFnZU9iai5oZWlnaHQrbi50b3Arbi5ib3R0b219dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5yYWRpdXM9LjUqdGhpcy53aWR0aH19LHtrZXk6XCJfZHJhd1Jhd0NpcmNsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMuaW5pdENvbnRleHRGb3JEcmF3KHQsbyksTm8odCxlLGksby5zaXplKSx0aGlzLnBlcmZvcm1GaWxsKHQsbyl9fSx7a2V5OlwiX2RyYXdJbWFnZUF0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKDAhPXRoaXMuaW1hZ2VPYmoud2lkdGgpe3QuZ2xvYmFsQWxwaGE9dm9pZCAwIT09ZS5vcGFjaXR5P2Uub3BhY2l0eToxLHRoaXMuZW5hYmxlU2hhZG93KHQsZSk7dmFyIGk9MTshMD09PXRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuaW50ZXJwb2xhdGlvbiYmKGk9dGhpcy5pbWFnZU9iai53aWR0aC90aGlzLndpZHRoL3RoaXMuYm9keS52aWV3LnNjYWxlKTt2YXIgbz10aGlzLl9nZXRJbWFnZVBhZGRpbmcoKSxuPXRoaXMubGVmdCtvLmxlZnQscj10aGlzLnRvcCtvLnRvcCxzPXRoaXMud2lkdGgtby5sZWZ0LW8ucmlnaHQsYT10aGlzLmhlaWdodC1vLnRvcC1vLmJvdHRvbTt0aGlzLmltYWdlT2JqLmRyYXdJbWFnZUF0UG9zaXRpb24odCxpLG4scixzLGEpLHRoaXMuZGlzYWJsZVNoYWRvdyh0LGUpfX19LHtrZXk6XCJfZHJhd0ltYWdlTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3ZhciByPTA7aWYodm9pZCAwIT09dGhpcy5oZWlnaHQpe3I9LjUqdGhpcy5oZWlnaHQ7dmFyIHM9dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LG8sbik7cy5saW5lQ291bnQ+PTEmJihyKz1zLmhlaWdodC8yKX12YXIgYT1pK3I7dGhpcy5vcHRpb25zLmxhYmVsJiYodGhpcy5sYWJlbE9mZnNldD1yKSx0aGlzLmxhYmVsTW9kdWxlLmRyYXcodCxlLGEsbyxuLFwiaGFuZ2luZ1wiKX19XSksaX0oV2spO2Z1bmN0aW9uIFhrKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIEdrPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9WGsoaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIFhsKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS5fc2V0TWFyZ2lucyhuKSxyfXJldHVybiAkbChpLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2VsZWN0ZWQsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5ob3ZlcjtpZih0aGlzLm5lZWRzUmVmcmVzaChlLGkpKXt2YXIgbz10aGlzLmdldERpbWVuc2lvbnNGcm9tTGFiZWwodCxlLGkpLG49TWF0aC5tYXgoby53aWR0aCt0aGlzLm1hcmdpbi5yaWdodCt0aGlzLm1hcmdpbi5sZWZ0LG8uaGVpZ2h0K3RoaXMubWFyZ2luLnRvcCt0aGlzLm1hcmdpbi5ib3R0b20pO3RoaXMub3B0aW9ucy5zaXplPW4vMix0aGlzLndpZHRoPW4sdGhpcy5oZWlnaHQ9bix0aGlzLnJhZGl1cz10aGlzLndpZHRoLzJ9fX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dGhpcy5yZXNpemUodCxvLG4pLHRoaXMubGVmdD1lLXRoaXMud2lkdGgvMix0aGlzLnRvcD1pLXRoaXMuaGVpZ2h0LzIsdGhpcy5fZHJhd1Jhd0NpcmNsZSh0LGUsaSxyKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQsdGhpcy5sZWZ0K3RoaXMudGV4dFNpemUud2lkdGgvMit0aGlzLm1hcmdpbi5sZWZ0LGksbyxuKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5ib3VuZGluZ0JveC50b3A9ZS10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9dC10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PXQrdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209ZSt0aGlzLm9wdGlvbnMuc2l6ZX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMucmVzaXplKHQpLC41KnRoaXMud2lkdGh9fV0pLGl9KFlrKTtmdW5jdGlvbiBLayh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhemspcmV0dXJuITE7aWYoemsuc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh6ayhCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89SGsodCk7aWYoZSl7dmFyIG49SGsodGhpcykuY29uc3RydWN0b3I7aT16ayhvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGprKHRoaXMsaSl9fXZhciAkaz1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPUtrKGkpO2Z1bmN0aW9uIGkodCxvLG4scixzKXt2YXIgYTtyZXR1cm4gWGwodGhpcyxpKSwoYT1lLmNhbGwodGhpcyx0LG8sbikpLnNldEltYWdlcyhyLHMpLGF9cmV0dXJuICRsKGksW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5zZWxlY3RlZCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0aGlzLmhvdmVyLG89dm9pZCAwPT09dGhpcy5pbWFnZU9iai5zcmN8fHZvaWQgMD09PXRoaXMuaW1hZ2VPYmoud2lkdGh8fHZvaWQgMD09PXRoaXMuaW1hZ2VPYmouaGVpZ2h0O2lmKG8pe3ZhciBuPTIqdGhpcy5vcHRpb25zLnNpemU7cmV0dXJuIHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1uLHZvaWQodGhpcy5yYWRpdXM9LjUqdGhpcy53aWR0aCl9dGhpcy5uZWVkc1JlZnJlc2goZSxpKSYmdGhpcy5fcmVzaXplSW1hZ2UoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3RoaXMuc3dpdGNoSW1hZ2VzKG8pLHRoaXMucmVzaXplKCk7dmFyIHM9ZSxhPWk7XCJ0b3AtbGVmdFwiPT09dGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy5jb29yZGluYXRlT3JpZ2luPyh0aGlzLmxlZnQ9ZSx0aGlzLnRvcD1pLHMrPXRoaXMud2lkdGgvMixhKz10aGlzLmhlaWdodC8yKToodGhpcy5sZWZ0PWUtdGhpcy53aWR0aC8yLHRoaXMudG9wPWktdGhpcy5oZWlnaHQvMiksdGhpcy5fZHJhd1Jhd0NpcmNsZSh0LHMsYSxyKSx0LnNhdmUoKSx0LmNsaXAoKSx0aGlzLl9kcmF3SW1hZ2VBdFBvc2l0aW9uKHQsciksdC5yZXN0b3JlKCksdGhpcy5fZHJhd0ltYWdlTGFiZWwodCxzLGEsbyxuKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSl9fSx7a2V5OlwidXBkYXRlQm91bmRpbmdCb3hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe1widG9wLWxlZnRcIj09PXRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuY29vcmRpbmF0ZU9yaWdpbj8odGhpcy5ib3VuZGluZ0JveC50b3A9ZSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9dCx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PXQrMip0aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1lKzIqdGhpcy5vcHRpb25zLnNpemUpOih0aGlzLmJvdW5kaW5nQm94LnRvcD1lLXRoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3gubGVmdD10LXRoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9dCt0aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1lK3RoaXMub3B0aW9ucy5zaXplKSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9TWF0aC5taW4odGhpcy5ib3VuZGluZ0JveC5sZWZ0LHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0KSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3gucmlnaHQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQrdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoKSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1NYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSt0aGlzLmxhYmVsT2Zmc2V0KX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMucmVzaXplKHQpLC41KnRoaXMud2lkdGh9fV0pLGl9KFlrKTtmdW5jdGlvbiBaayh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhemspcmV0dXJuITE7aWYoemsuc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh6ayhCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89SGsodCk7aWYoZSl7dmFyIG49SGsodGhpcykuY29uc3RydWN0b3I7aT16ayhvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGprKHRoaXMsaSl9fXZhciBRaz1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPVprKGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiBYbCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gJGwoaSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnNlbGVjdGVkLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMuaG92ZXIsbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e3NpemU6dGhpcy5vcHRpb25zLnNpemV9O2lmKHRoaXMubmVlZHNSZWZyZXNoKGUsaSkpe3ZhciBuLHI7dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LGUsaSk7dmFyIHM9MipvLnNpemU7dGhpcy53aWR0aD1udWxsIT09KG49dGhpcy5jdXN0b21TaXplV2lkdGgpJiZ2b2lkIDAhPT1uP246cyx0aGlzLmhlaWdodD1udWxsIT09KHI9dGhpcy5jdXN0b21TaXplSGVpZ2h0KSYmdm9pZCAwIT09cj9yOnMsdGhpcy5yYWRpdXM9LjUqdGhpcy53aWR0aH19fSx7a2V5OlwiX2RyYXdTaGFwZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyLHMsYSl7dmFyIGgsZD10aGlzO3JldHVybiB0aGlzLnJlc2l6ZSh0LHIscyxhKSx0aGlzLmxlZnQ9by10aGlzLndpZHRoLzIsdGhpcy50b3A9bi10aGlzLmhlaWdodC8yLHRoaXMuaW5pdENvbnRleHRGb3JEcmF3KHQsYSksKGg9ZSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoSG8saCk/SG9baF06ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkoZT4xP2UtMTowKSxvPTE7bzxlO28rKylpW28tMV09YXJndW1lbnRzW29dO0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGVbaF0uY2FsbCh0LGkpfSkodCxvLG4sYS5zaXplKSx0aGlzLnBlcmZvcm1GaWxsKHQsYSksdm9pZCAwIT09dGhpcy5vcHRpb25zLmljb24mJnZvaWQgMCE9PXRoaXMub3B0aW9ucy5pY29uLmNvZGUmJih0LmZvbnQ9KHI/XCJib2xkIFwiOlwiXCIpK3RoaXMuaGVpZ2h0LzIrXCJweCBcIisodGhpcy5vcHRpb25zLmljb24uZmFjZXx8XCJGb250QXdlc29tZVwiKSx0LmZpbGxTdHlsZT10aGlzLm9wdGlvbnMuaWNvbi5jb2xvcnx8XCJibGFja1wiLHQudGV4dEFsaWduPVwiY2VudGVyXCIsdC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIix0LmZpbGxUZXh0KHRoaXMub3B0aW9ucy5pY29uLmNvZGUsbyxuKSkse2RyYXdFeHRlcm5hbExhYmVsOmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09ZC5vcHRpb25zLmxhYmVsKXtkLmxhYmVsTW9kdWxlLmNhbGN1bGF0ZUxhYmVsU2l6ZSh0LHIscyxvLG4sXCJoYW5naW5nXCIpO3ZhciBlPW4rLjUqZC5oZWlnaHQrLjUqZC5sYWJlbE1vZHVsZS5zaXplLmhlaWdodDtkLmxhYmVsTW9kdWxlLmRyYXcodCxvLGUscixzLFwiaGFuZ2luZ1wiKX1kLnVwZGF0ZUJvdW5kaW5nQm94KG8sbil9fX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5ib3VuZGluZ0JveC50b3A9ZS10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9dC10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PXQrdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209ZSt0aGlzLm9wdGlvbnMuc2l6ZSx2b2lkIDAhPT10aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMubGFiZWxNb2R1bGUuc2l6ZS53aWR0aD4wJiYodGhpcy5ib3VuZGluZ0JveC5sZWZ0PU1hdGgubWluKHRoaXMuYm91bmRpbmdCb3gubGVmdCx0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCksdGhpcy5ib3VuZGluZ0JveC5yaWdodD1NYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LnJpZ2h0LHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0K3RoaXMubGFiZWxNb2R1bGUuc2l6ZS53aWR0aCksdGhpcy5ib3VuZGluZ0JveC5ib3R0b209TWF0aC5tYXgodGhpcy5ib3VuZGluZ0JveC5ib3R0b20sdGhpcy5ib3VuZGluZ0JveC5ib3R0b20rdGhpcy5sYWJlbE1vZHVsZS5zaXplLmhlaWdodCkpfX1dKSxpfShXayk7ZnVuY3Rpb24gSmsodCxlKXt2YXIgaT1tdSh0KTtpZihkbCl7dmFyIG89ZGwodCk7ZSYmKG89WWYobykuY2FsbChvLChmdW5jdGlvbihlKXtyZXR1cm4gd2wodCxlKS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxvKX1yZXR1cm4gaX1mdW5jdGlvbiB0Xyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgaSxvLG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RnUoaT1KayhPYmplY3QobiksITApKS5jYWxsKGksKGZ1bmN0aW9uKGUpe1psKHQsZSxuW2VdKX0pKTpEbD9SbCh0LERsKG4pKTpGdShvPUprKE9iamVjdChuKSkpLmNhbGwobywoZnVuY3Rpb24oZSl7WWwodCxlLHdsKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIGVfKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIGlfPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9ZV8oaSk7ZnVuY3Rpb24gaSh0LG8sbixyKXt2YXIgcztyZXR1cm4gWGwodGhpcyxpKSwocz1lLmNhbGwodGhpcyx0LG8sbixyKSkuY3R4UmVuZGVyZXI9cixzfXJldHVybiAkbChpLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXt0aGlzLnJlc2l6ZSh0LG8sbixyKSx0aGlzLmxlZnQ9ZS10aGlzLndpZHRoLzIsdGhpcy50b3A9aS10aGlzLmhlaWdodC8yLHQuc2F2ZSgpO3ZhciBzPXRoaXMuY3R4UmVuZGVyZXIoe2N0eDp0LGlkOnRoaXMub3B0aW9ucy5pZCx4OmUseTppLHN0YXRlOntzZWxlY3RlZDpvLGhvdmVyOm59LHN0eWxlOnRfKHt9LHIpLGxhYmVsOnRoaXMub3B0aW9ucy5sYWJlbH0pO2lmKG51bGwhPXMuZHJhd05vZGUmJnMuZHJhd05vZGUoKSx0LnJlc3RvcmUoKSxzLmRyYXdFeHRlcm5hbExhYmVsKXt2YXIgYT1zLmRyYXdFeHRlcm5hbExhYmVsO3MuZHJhd0V4dGVybmFsTGFiZWw9ZnVuY3Rpb24oKXt0LnNhdmUoKSxhKCksdC5yZXN0b3JlKCl9fXJldHVybiBzLm5vZGVEaW1lbnNpb25zJiYodGhpcy5jdXN0b21TaXplV2lkdGg9cy5ub2RlRGltZW5zaW9ucy53aWR0aCx0aGlzLmN1c3RvbVNpemVIZWlnaHQ9cy5ub2RlRGltZW5zaW9ucy5oZWlnaHQpLHN9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0oUWspO2Z1bmN0aW9uIG9fKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIG5fPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9b18oaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIFhsKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS5fc2V0TWFyZ2lucyhuKSxyfXJldHVybiAkbChpLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMubmVlZHNSZWZyZXNoKGUsaSkpe3ZhciBvPXRoaXMuZ2V0RGltZW5zaW9uc0Zyb21MYWJlbCh0LGUsaSkud2lkdGgrdGhpcy5tYXJnaW4ucmlnaHQrdGhpcy5tYXJnaW4ubGVmdDt0aGlzLndpZHRoPW8sdGhpcy5oZWlnaHQ9byx0aGlzLnJhZGl1cz10aGlzLndpZHRoLzJ9fX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dGhpcy5yZXNpemUodCxvLG4pLHRoaXMubGVmdD1lLXRoaXMud2lkdGgvMix0aGlzLnRvcD1pLXRoaXMuaGVpZ2h0LzIsdGhpcy5pbml0Q29udGV4dEZvckRyYXcodCxyKSxqbyh0LGUtdGhpcy53aWR0aC8yLGktdGhpcy5oZWlnaHQvMix0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLnBlcmZvcm1GaWxsKHQsciksdGhpcy51cGRhdGVCb3VuZGluZ0JveChlLGksdCxvLG4pLHRoaXMubGFiZWxNb2R1bGUuZHJhdyh0LHRoaXMubGVmdCt0aGlzLnRleHRTaXplLndpZHRoLzIrdGhpcy5tYXJnaW4ubGVmdCx0aGlzLnRvcCt0aGlzLnRleHRTaXplLmhlaWdodC8yK3RoaXMubWFyZ2luLnRvcCxvLG4pfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKHQsZSl9fV0pLGl9KFdrKTtmdW5jdGlvbiByXyh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhemspcmV0dXJuITE7aWYoemsuc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh6ayhCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89SGsodCk7aWYoZSl7dmFyIG49SGsodGhpcykuY29uc3RydWN0b3I7aT16ayhvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGprKHRoaXMsaSl9fXZhciBzXz1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPXJfKGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiBYbCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gJGwoaSxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7cmV0dXJuIHRoaXMuX2RyYXdTaGFwZSh0LFwiZGlhbW9uZFwiLDQsZSxpLG8sbixyKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxpfShRayk7ZnVuY3Rpb24gYV8odCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXprKXJldHVybiExO2lmKHprLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoemsoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPUhrKHQpO2lmKGUpe3ZhciBuPUhrKHRoaXMpLmNvbnN0cnVjdG9yO2k9emsobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqayh0aGlzLGkpfX12YXIgaF89ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT1hXyhpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gWGwodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuICRsKGksW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3JldHVybiB0aGlzLl9kcmF3U2hhcGUodCxcImNpcmNsZVwiLDIsZSxpLG8sbixyKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMucmVzaXplKHQpLHRoaXMub3B0aW9ucy5zaXplfX1dKSxpfShRayk7ZnVuY3Rpb24gZF8odCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXprKXJldHVybiExO2lmKHprLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoemsoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPUhrKHQpO2lmKGUpe3ZhciBuPUhrKHRoaXMpLmNvbnN0cnVjdG9yO2k9emsobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqayh0aGlzLGkpfX12YXIgbF89ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT1kXyhpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gWGwodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuICRsKGksW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5zZWxlY3RlZCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0aGlzLmhvdmVyO2lmKHRoaXMubmVlZHNSZWZyZXNoKGUsaSkpe3ZhciBvPXRoaXMuZ2V0RGltZW5zaW9uc0Zyb21MYWJlbCh0LGUsaSk7dGhpcy5oZWlnaHQ9MipvLmhlaWdodCx0aGlzLndpZHRoPW8ud2lkdGgrby5oZWlnaHQsdGhpcy5yYWRpdXM9LjUqdGhpcy53aWR0aH19fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXt0aGlzLnJlc2l6ZSh0LG8sbiksdGhpcy5sZWZ0PWUtLjUqdGhpcy53aWR0aCx0aGlzLnRvcD1pLS41KnRoaXMuaGVpZ2h0LHRoaXMuaW5pdENvbnRleHRGb3JEcmF3KHQsciksUm8odCx0aGlzLmxlZnQsdGhpcy50b3AsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5wZXJmb3JtRmlsbCh0LHIpLHRoaXMudXBkYXRlQm91bmRpbmdCb3goZSxpLHQsbyxuKSx0aGlzLmxhYmVsTW9kdWxlLmRyYXcodCxlLGksbyxuKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0JiZ0aGlzLnJlc2l6ZSh0KTt2YXIgaT0uNSp0aGlzLndpZHRoLG89LjUqdGhpcy5oZWlnaHQsbj1NYXRoLnNpbihlKSppLHI9TWF0aC5jb3MoZSkqbztyZXR1cm4gaSpvL01hdGguc3FydChuKm4rcipyKX19XSksaX0oV2spO2Z1bmN0aW9uIGNfKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIHVfPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9Y18oaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIFhsKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS5fc2V0TWFyZ2lucyhuKSxyfXJldHVybiAkbChpLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMubmVlZHNSZWZyZXNoKGUsaSkmJih0aGlzLmljb25TaXplPXt3aWR0aDpOdW1iZXIodGhpcy5vcHRpb25zLmljb24uc2l6ZSksaGVpZ2h0Ok51bWJlcih0aGlzLm9wdGlvbnMuaWNvbi5zaXplKX0sdGhpcy53aWR0aD10aGlzLmljb25TaXplLndpZHRoK3RoaXMubWFyZ2luLnJpZ2h0K3RoaXMubWFyZ2luLmxlZnQsdGhpcy5oZWlnaHQ9dGhpcy5pY29uU2l6ZS5oZWlnaHQrdGhpcy5tYXJnaW4udG9wK3RoaXMubWFyZ2luLmJvdHRvbSx0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3ZhciBzPXRoaXM7cmV0dXJuIHRoaXMucmVzaXplKHQsbyxuKSx0aGlzLm9wdGlvbnMuaWNvbi5zaXplPXRoaXMub3B0aW9ucy5pY29uLnNpemV8fDUwLHRoaXMubGVmdD1lLXRoaXMud2lkdGgvMix0aGlzLnRvcD1pLXRoaXMuaGVpZ2h0LzIsdGhpcy5faWNvbih0LGUsaSxvLG4scikse2RyYXdFeHRlcm5hbExhYmVsOmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09cy5vcHRpb25zLmxhYmVsKXtzLmxhYmVsTW9kdWxlLmRyYXcodCxzLmxlZnQrcy5pY29uU2l6ZS53aWR0aC8yK3MubWFyZ2luLmxlZnQsaStzLmhlaWdodC8yKzUsbyl9cy51cGRhdGVCb3VuZGluZ0JveChlLGkpfX19fSx7a2V5OlwidXBkYXRlQm91bmRpbmdCb3hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuYm91bmRpbmdCb3gudG9wPWUtLjUqdGhpcy5vcHRpb25zLmljb24uc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9dC0uNSp0aGlzLm9wdGlvbnMuaWNvbi5zaXplLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9dCsuNSp0aGlzLm9wdGlvbnMuaWNvbi5zaXplLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPWUrLjUqdGhpcy5vcHRpb25zLmljb24uc2l6ZSx2b2lkIDAhPT10aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMubGFiZWxNb2R1bGUuc2l6ZS53aWR0aD4wKXt0aGlzLmJvdW5kaW5nQm94LmxlZnQ9TWF0aC5taW4odGhpcy5ib3VuZGluZ0JveC5sZWZ0LHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0KSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3gucmlnaHQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQrdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoKSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1NYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSt0aGlzLmxhYmVsTW9kdWxlLnNpemUuaGVpZ2h0KzUpfX19LHtrZXk6XCJfaWNvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXt2YXIgcz1OdW1iZXIodGhpcy5vcHRpb25zLmljb24uc2l6ZSk7dm9pZCAwIT09dGhpcy5vcHRpb25zLmljb24uY29kZT8odC5mb250PVtudWxsIT10aGlzLm9wdGlvbnMuaWNvbi53ZWlnaHQ/dGhpcy5vcHRpb25zLmljb24ud2VpZ2h0Om8/XCJib2xkXCI6XCJcIiwobnVsbCE9dGhpcy5vcHRpb25zLmljb24ud2VpZ2h0JiZvPzU6MCkrcytcInB4XCIsdGhpcy5vcHRpb25zLmljb24uZmFjZV0uam9pbihcIiBcIiksdC5maWxsU3R5bGU9dGhpcy5vcHRpb25zLmljb24uY29sb3J8fFwiYmxhY2tcIix0LnRleHRBbGlnbj1cImNlbnRlclwiLHQudGV4dEJhc2VsaW5lPVwibWlkZGxlXCIsdGhpcy5lbmFibGVTaGFkb3codCxyKSx0LmZpbGxUZXh0KHRoaXMub3B0aW9ucy5pY29uLmNvZGUsZSxpKSx0aGlzLmRpc2FibGVTaGFkb3codCxyKSk6Y29uc29sZS5lcnJvcihcIldoZW4gdXNpbmcgdGhlIGljb24gc2hhcGUsIHlvdSBuZWVkIHRvIGRlZmluZSB0aGUgY29kZSBpbiB0aGUgaWNvbiBvcHRpb25zIG9iamVjdC4gVGhpcyBjYW4gYmUgZG9uZSBwZXIgbm9kZSBvciBnbG9iYWxseS5cIil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0oV2spO2Z1bmN0aW9uIGZfKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIHBfPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9Zl8oaSk7ZnVuY3Rpb24gaSh0LG8sbixyLHMpe3ZhciBhO3JldHVybiBYbCh0aGlzLGkpLChhPWUuY2FsbCh0aGlzLHQsbyxuKSkuc2V0SW1hZ2VzKHIscyksYX1yZXR1cm4gJGwoaSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnNlbGVjdGVkLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMuaG92ZXIsbz12b2lkIDA9PT10aGlzLmltYWdlT2JqLnNyY3x8dm9pZCAwPT09dGhpcy5pbWFnZU9iai53aWR0aHx8dm9pZCAwPT09dGhpcy5pbWFnZU9iai5oZWlnaHQ7aWYobyl7dmFyIG49Mip0aGlzLm9wdGlvbnMuc2l6ZTtyZXR1cm4gdGhpcy53aWR0aD1uLHZvaWQodGhpcy5oZWlnaHQ9bil9dGhpcy5uZWVkc1JlZnJlc2goZSxpKSYmdGhpcy5fcmVzaXplSW1hZ2UoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3Quc2F2ZSgpLHRoaXMuc3dpdGNoSW1hZ2VzKG8pLHRoaXMucmVzaXplKCk7dmFyIHM9ZSxhPWk7aWYoXCJ0b3AtbGVmdFwiPT09dGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy5jb29yZGluYXRlT3JpZ2luPyh0aGlzLmxlZnQ9ZSx0aGlzLnRvcD1pLHMrPXRoaXMud2lkdGgvMixhKz10aGlzLmhlaWdodC8yKToodGhpcy5sZWZ0PWUtdGhpcy53aWR0aC8yLHRoaXMudG9wPWktdGhpcy5oZWlnaHQvMiksITA9PT10aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLnVzZUJvcmRlcldpdGhJbWFnZSl7dmFyIGg9dGhpcy5vcHRpb25zLmJvcmRlcldpZHRoLGQ9dGhpcy5vcHRpb25zLmJvcmRlcldpZHRoU2VsZWN0ZWR8fDIqdGhpcy5vcHRpb25zLmJvcmRlcldpZHRoLGw9KG8/ZDpoKS90aGlzLmJvZHkudmlldy5zY2FsZTt0LmxpbmVXaWR0aD1NYXRoLm1pbih0aGlzLndpZHRoLGwpLHQuYmVnaW5QYXRoKCk7dmFyIGM9bz90aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcjpuP3RoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5ib3JkZXI6dGhpcy5vcHRpb25zLmNvbG9yLmJvcmRlcix1PW8/dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5iYWNrZ3JvdW5kOm4/dGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJhY2tncm91bmQ6dGhpcy5vcHRpb25zLmNvbG9yLmJhY2tncm91bmQ7dm9pZCAwIT09ci5vcGFjaXR5JiYoYz1xeShjLHIub3BhY2l0eSksdT1xeSh1LHIub3BhY2l0eSkpLHQuc3Ryb2tlU3R5bGU9Yyx0LmZpbGxTdHlsZT11LHQucmVjdCh0aGlzLmxlZnQtLjUqdC5saW5lV2lkdGgsdGhpcy50b3AtLjUqdC5saW5lV2lkdGgsdGhpcy53aWR0aCt0LmxpbmVXaWR0aCx0aGlzLmhlaWdodCt0LmxpbmVXaWR0aCksUHYodCkuY2FsbCh0KSx0aGlzLnBlcmZvcm1TdHJva2UodCxyKSx0LmNsb3NlUGF0aCgpfXRoaXMuX2RyYXdJbWFnZUF0UG9zaXRpb24odCxyKSx0aGlzLl9kcmF3SW1hZ2VMYWJlbCh0LHMsYSxvLG4pLHRoaXMudXBkYXRlQm91bmRpbmdCb3goZSxpKSx0LnJlc3RvcmUoKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5yZXNpemUoKSxcInRvcC1sZWZ0XCI9PT10aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLmNvb3JkaW5hdGVPcmlnaW4/KHRoaXMubGVmdD10LHRoaXMudG9wPWUpOih0aGlzLmxlZnQ9dC10aGlzLndpZHRoLzIsdGhpcy50b3A9ZS10aGlzLmhlaWdodC8yKSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9dGhpcy5sZWZ0LHRoaXMuYm91bmRpbmdCb3gudG9wPXRoaXMudG9wLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPXRoaXMudG9wK3RoaXMuaGVpZ2h0LHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9dGhpcy5sZWZ0K3RoaXMud2lkdGgsdm9pZCAwIT09dGhpcy5vcHRpb25zLmxhYmVsJiZ0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGg+MCYmKHRoaXMuYm91bmRpbmdCb3gubGVmdD1NYXRoLm1pbih0aGlzLmJvdW5kaW5nQm94LmxlZnQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQpLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9TWF0aC5tYXgodGhpcy5ib3VuZGluZ0JveC5yaWdodCx0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCt0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGgpLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3guYm90dG9tLHRoaXMuYm91bmRpbmdCb3guYm90dG9tK3RoaXMubGFiZWxPZmZzZXQpKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxpfShZayk7ZnVuY3Rpb24gdl8odCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXprKXJldHVybiExO2lmKHprLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoemsoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPUhrKHQpO2lmKGUpe3ZhciBuPUhrKHRoaXMpLmNvbnN0cnVjdG9yO2k9emsobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqayh0aGlzLGkpfX12YXIgZ189ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT12XyhpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gWGwodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuICRsKGksW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3JldHVybiB0aGlzLl9kcmF3U2hhcGUodCxcInNxdWFyZVwiLDIsZSxpLG8sbixyKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxpfShRayk7ZnVuY3Rpb24geV8odCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXprKXJldHVybiExO2lmKHprLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoemsoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPUhrKHQpO2lmKGUpe3ZhciBuPUhrKHRoaXMpLmNvbnN0cnVjdG9yO2k9emsobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqayh0aGlzLGkpfX12YXIgbV89ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT15XyhpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gWGwodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuICRsKGksW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3JldHVybiB0aGlzLl9kcmF3U2hhcGUodCxcImhleGFnb25cIiw0LGUsaSxvLG4scil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0oUWspO2Z1bmN0aW9uIGJfKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIHdfPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9Yl8oaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIFhsKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiAkbChpLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKHQsXCJzdGFyXCIsNCxlLGksbyxuLHIpfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKHQsZSl9fV0pLGl9KFFrKTtmdW5jdGlvbiBrXyh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhemspcmV0dXJuITE7aWYoemsuc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh6ayhCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89SGsodCk7aWYoZSl7dmFyIG49SGsodGhpcykuY29uc3RydWN0b3I7aT16ayhvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGprKHRoaXMsaSl9fXZhciBfXz1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPWtfKGkpO2Z1bmN0aW9uIGkodCxvLG4pe3ZhciByO3JldHVybiBYbCh0aGlzLGkpLChyPWUuY2FsbCh0aGlzLHQsbyxuKSkuX3NldE1hcmdpbnMobikscn1yZXR1cm4gJGwoaSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLm5lZWRzUmVmcmVzaChlLGkpJiYodGhpcy50ZXh0U2l6ZT10aGlzLmxhYmVsTW9kdWxlLmdldFRleHRTaXplKHQsZSxpKSx0aGlzLndpZHRoPXRoaXMudGV4dFNpemUud2lkdGgrdGhpcy5tYXJnaW4ucmlnaHQrdGhpcy5tYXJnaW4ubGVmdCx0aGlzLmhlaWdodD10aGlzLnRleHRTaXplLmhlaWdodCt0aGlzLm1hcmdpbi50b3ArdGhpcy5tYXJnaW4uYm90dG9tLHRoaXMucmFkaXVzPS41KnRoaXMud2lkdGgpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dGhpcy5yZXNpemUodCxvLG4pLHRoaXMubGVmdD1lLXRoaXMud2lkdGgvMix0aGlzLnRvcD1pLXRoaXMuaGVpZ2h0LzIsdGhpcy5lbmFibGVTaGFkb3codCxyKSx0aGlzLmxhYmVsTW9kdWxlLmRyYXcodCx0aGlzLmxlZnQrdGhpcy50ZXh0U2l6ZS53aWR0aC8yK3RoaXMubWFyZ2luLmxlZnQsdGhpcy50b3ArdGhpcy50ZXh0U2l6ZS5oZWlnaHQvMit0aGlzLm1hcmdpbi50b3AsbyxuKSx0aGlzLmRpc2FibGVTaGFkb3codCxyKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSx0LG8sbil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0oV2spO2Z1bmN0aW9uIHhfKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIEVfPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9eF8oaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIFhsKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiAkbChpLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKHQsXCJ0cmlhbmdsZVwiLDMsZSxpLG8sbixyKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxpfShRayk7ZnVuY3Rpb24gT18odCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXprKXJldHVybiExO2lmKHprLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoemsoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPUhrKHQpO2lmKGUpe3ZhciBuPUhrKHRoaXMpLmNvbnN0cnVjdG9yO2k9emsobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqayh0aGlzLGkpfX12YXIgQ189ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT1PXyhpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gWGwodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuICRsKGksW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3JldHVybiB0aGlzLl9kcmF3U2hhcGUodCxcInRyaWFuZ2xlRG93blwiLDMsZSxpLG8sbixyKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxpfShRayk7ZnVuY3Rpb24gU18odCxlKXt2YXIgaT1tdSh0KTtpZihkbCl7dmFyIG89ZGwodCk7ZSYmKG89WWYobykuY2FsbChvLChmdW5jdGlvbihlKXtyZXR1cm4gd2wodCxlKS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxvKX1yZXR1cm4gaX1mdW5jdGlvbiBUXyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgaSxvLG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RnUoaT1TXyhPYmplY3QobiksITApKS5jYWxsKGksKGZ1bmN0aW9uKGUpe1psKHQsZSxuW2VdKX0pKTpEbD9SbCh0LERsKG4pKTpGdShvPVNfKE9iamVjdChuKSkpLmNhbGwobywoZnVuY3Rpb24oZSl7WWwodCxlLHdsKG4sZSkpfSkpfXJldHVybiB0fXZhciBNXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8sbixyLHMpe1hsKHRoaXMsdCksdGhpcy5vcHRpb25zPUp5KHIpLHRoaXMuZ2xvYmFsT3B0aW9ucz1yLHRoaXMuZGVmYXVsdE9wdGlvbnM9cyx0aGlzLmJvZHk9aSx0aGlzLmVkZ2VzPVtdLHRoaXMuaWQ9dm9pZCAwLHRoaXMuaW1hZ2VsaXN0PW8sdGhpcy5ncm91cGxpc3Q9bix0aGlzLng9dm9pZCAwLHRoaXMueT12b2lkIDAsdGhpcy5iYXNlU2l6ZT10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJhc2VGb250U2l6ZT10aGlzLm9wdGlvbnMuZm9udC5zaXplLHRoaXMucHJlZGVmaW5lZFBvc2l0aW9uPSExLHRoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5ob3Zlcj0hMSx0aGlzLmxhYmVsTW9kdWxlPW5ldyBnayh0aGlzLmJvZHksdGhpcy5vcHRpb25zLCExKSx0aGlzLnNldE9wdGlvbnMoZSl9cmV0dXJuICRsKHQsW3trZXk6XCJhdHRhY2hFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7LTE9PT16cChlPXRoaXMuZWRnZXMpLmNhbGwoZSx0KSYmdGhpcy5lZGdlcy5wdXNoKHQpfX0se2tleTpcImRldGFjaEVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLG89enAoZT10aGlzLmVkZ2VzKS5jYWxsKGUsdCk7LTEhPW8mJnVmKGk9dGhpcy5lZGdlcykuY2FsbChpLG8sMSl9fSx7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMub3B0aW9ucy5zaGFwZTtpZihlKXtpZih2b2lkIDAhPT1lLmNvbG9yJiYodGhpcy5fbG9jYWxDb2xvcj1lLmNvbG9yKSx2b2lkIDAhPT1lLmlkJiYodGhpcy5pZD1lLmlkKSx2b2lkIDA9PT10aGlzLmlkKXRocm93IG5ldyBFcnJvcihcIk5vZGUgbXVzdCBoYXZlIGFuIGlkXCIpO3QuY2hlY2tNYXNzKGUsdGhpcy5pZCksdm9pZCAwIT09ZS54JiYobnVsbD09PWUueD8odGhpcy54PXZvaWQgMCx0aGlzLnByZWRlZmluZWRQb3NpdGlvbj0hMSk6KHRoaXMueD1fcChlLngpLHRoaXMucHJlZGVmaW5lZFBvc2l0aW9uPSEwKSksdm9pZCAwIT09ZS55JiYobnVsbD09PWUueT8odGhpcy55PXZvaWQgMCx0aGlzLnByZWRlZmluZWRQb3NpdGlvbj0hMSk6KHRoaXMueT1fcChlLnkpLHRoaXMucHJlZGVmaW5lZFBvc2l0aW9uPSEwKSksdm9pZCAwIT09ZS5zaXplJiYodGhpcy5iYXNlU2l6ZT1lLnNpemUpLHZvaWQgMCE9PWUudmFsdWUmJihlLnZhbHVlPVl3KGUudmFsdWUpKSx0LnBhcnNlT3B0aW9ucyh0aGlzLm9wdGlvbnMsZSwhMCx0aGlzLmdsb2JhbE9wdGlvbnMsdGhpcy5ncm91cGxpc3QpO3ZhciBvPVtlLHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zXTtyZXR1cm4gdGhpcy5jaG9vc2VyPUp3KFwibm9kZVwiLG8pLHRoaXMuX2xvYWRfaW1hZ2VzKCksdGhpcy51cGRhdGVMYWJlbE1vZHVsZShlKSx2b2lkIDAhPT1lLm9wYWNpdHkmJnQuY2hlY2tPcGFjaXR5KGUub3BhY2l0eSkmJih0aGlzLm9wdGlvbnMub3BhY2l0eT1lLm9wYWNpdHkpLHRoaXMudXBkYXRlU2hhcGUoaSksdm9pZCAwIT09ZS5oaWRkZW58fHZvaWQgMCE9PWUucGh5c2ljc319fSx7a2V5OlwiX2xvYWRfaW1hZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZigoXCJjaXJjdWxhckltYWdlXCI9PT10aGlzLm9wdGlvbnMuc2hhcGV8fFwiaW1hZ2VcIj09PXRoaXMub3B0aW9ucy5zaGFwZSkmJnZvaWQgMD09PXRoaXMub3B0aW9ucy5pbWFnZSl0aHJvdyBuZXcgRXJyb3IoXCJPcHRpb24gaW1hZ2UgbXVzdCBiZSBkZWZpbmVkIGZvciBub2RlIHR5cGUgJ1wiK3RoaXMub3B0aW9ucy5zaGFwZStcIidcIik7aWYodm9pZCAwIT09dGhpcy5vcHRpb25zLmltYWdlKXtpZih2b2lkIDA9PT10aGlzLmltYWdlbGlzdCl0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbCBFcnJvcjogTm8gaW1hZ2VzIHByb3ZpZGVkXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuaW1hZ2UpdGhpcy5pbWFnZU9iaj10aGlzLmltYWdlbGlzdC5sb2FkKHRoaXMub3B0aW9ucy5pbWFnZSx0aGlzLm9wdGlvbnMuYnJva2VuSW1hZ2UsdGhpcy5pZCk7ZWxzZXtpZih2b2lkIDA9PT10aGlzLm9wdGlvbnMuaW1hZ2UudW5zZWxlY3RlZCl0aHJvdyBuZXcgRXJyb3IoXCJObyB1bnNlbGVjdGVkIGltYWdlIHByb3ZpZGVkXCIpO3RoaXMuaW1hZ2VPYmo9dGhpcy5pbWFnZWxpc3QubG9hZCh0aGlzLm9wdGlvbnMuaW1hZ2UudW5zZWxlY3RlZCx0aGlzLm9wdGlvbnMuYnJva2VuSW1hZ2UsdGhpcy5pZCksdm9pZCAwIT09dGhpcy5vcHRpb25zLmltYWdlLnNlbGVjdGVkP3RoaXMuaW1hZ2VPYmpBbHQ9dGhpcy5pbWFnZWxpc3QubG9hZCh0aGlzLm9wdGlvbnMuaW1hZ2Uuc2VsZWN0ZWQsdGhpcy5vcHRpb25zLmJyb2tlbkltYWdlLHRoaXMuaWQpOnRoaXMuaW1hZ2VPYmpBbHQ9dm9pZCAwfX19fSx7a2V5OlwiZ2V0Rm9ybWF0dGluZ1ZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9e2NvbG9yOnRoaXMub3B0aW9ucy5jb2xvci5iYWNrZ3JvdW5kLG9wYWNpdHk6dGhpcy5vcHRpb25zLm9wYWNpdHksYm9yZGVyV2lkdGg6dGhpcy5vcHRpb25zLmJvcmRlcldpZHRoLGJvcmRlckNvbG9yOnRoaXMub3B0aW9ucy5jb2xvci5ib3JkZXIsc2l6ZTp0aGlzLm9wdGlvbnMuc2l6ZSxib3JkZXJEYXNoZXM6dGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy5ib3JkZXJEYXNoZXMsYm9yZGVyUmFkaXVzOnRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuYm9yZGVyUmFkaXVzLHNoYWRvdzp0aGlzLm9wdGlvbnMuc2hhZG93LmVuYWJsZWQsc2hhZG93Q29sb3I6dGhpcy5vcHRpb25zLnNoYWRvdy5jb2xvcixzaGFkb3dTaXplOnRoaXMub3B0aW9ucy5zaGFkb3cuc2l6ZSxzaGFkb3dYOnRoaXMub3B0aW9ucy5zaGFkb3cueCxzaGFkb3dZOnRoaXMub3B0aW9ucy5zaGFkb3cueX07aWYodGhpcy5zZWxlY3RlZHx8dGhpcy5ob3Zlcj8hMD09PXRoaXMuY2hvb3Nlcj90aGlzLnNlbGVjdGVkPyhudWxsIT10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGhTZWxlY3RlZD90LmJvcmRlcldpZHRoPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aFNlbGVjdGVkOnQuYm9yZGVyV2lkdGgqPTIsdC5jb2xvcj10aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJhY2tncm91bmQsdC5ib3JkZXJDb2xvcj10aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcix0LnNoYWRvdz10aGlzLm9wdGlvbnMuc2hhZG93LmVuYWJsZWQpOnRoaXMuaG92ZXImJih0LmNvbG9yPXRoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5iYWNrZ3JvdW5kLHQuYm9yZGVyQ29sb3I9dGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJvcmRlcix0LnNoYWRvdz10aGlzLm9wdGlvbnMuc2hhZG93LmVuYWJsZWQpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuY2hvb3NlciYmKHRoaXMuY2hvb3Nlcih0LHRoaXMub3B0aW9ucy5pZCx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIpLCExPT09dC5zaGFkb3cmJih0LnNoYWRvd0NvbG9yPT09dGhpcy5vcHRpb25zLnNoYWRvdy5jb2xvciYmdC5zaGFkb3dTaXplPT09dGhpcy5vcHRpb25zLnNoYWRvdy5zaXplJiZ0LnNoYWRvd1g9PT10aGlzLm9wdGlvbnMuc2hhZG93LngmJnQuc2hhZG93WT09PXRoaXMub3B0aW9ucy5zaGFkb3cueXx8KHQuc2hhZG93PSEwKSkpOnQuc2hhZG93PXRoaXMub3B0aW9ucy5zaGFkb3cuZW5hYmxlZCx2b2lkIDAhPT10aGlzLm9wdGlvbnMub3BhY2l0eSl7dmFyIGU9dGhpcy5vcHRpb25zLm9wYWNpdHk7dC5ib3JkZXJDb2xvcj1xeSh0LmJvcmRlckNvbG9yLGUpLHQuY29sb3I9cXkodC5jb2xvcixlKSx0LnNoYWRvd0NvbG9yPXF5KHQuc2hhZG93Q29sb3IsZSl9cmV0dXJuIHR9fSx7a2V5OlwidXBkYXRlTGFiZWxNb2R1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2b2lkIDAhPT10aGlzLm9wdGlvbnMubGFiZWwmJm51bGwhPT10aGlzLm9wdGlvbnMubGFiZWx8fCh0aGlzLm9wdGlvbnMubGFiZWw9XCJcIiksdC51cGRhdGVHcm91cE9wdGlvbnModGhpcy5vcHRpb25zLFRfKFRfKHt9LGUpLHt9LHtjb2xvcjplJiZlLmNvbG9yfHx0aGlzLl9sb2NhbENvbG9yfHx2b2lkIDB9KSx0aGlzLmdyb3VwbGlzdCk7dmFyIGk9dGhpcy5ncm91cGxpc3QuZ2V0KHRoaXMub3B0aW9ucy5ncm91cCwhMSksbz1bZSx0aGlzLm9wdGlvbnMsaSx0aGlzLmdsb2JhbE9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9uc107dGhpcy5sYWJlbE1vZHVsZS51cGRhdGUodGhpcy5vcHRpb25zLG8pLHZvaWQgMCE9PXRoaXMubGFiZWxNb2R1bGUuYmFzZVNpemUmJih0aGlzLmJhc2VGb250U2l6ZT10aGlzLmxhYmVsTW9kdWxlLmJhc2VTaXplKX19LHtrZXk6XCJ1cGRhdGVTaGFwZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzLm9wdGlvbnMuc2hhcGUmJnRoaXMuc2hhcGUpdGhpcy5zaGFwZS5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyx0aGlzLmltYWdlT2JqLHRoaXMuaW1hZ2VPYmpBbHQpO2Vsc2Ugc3dpdGNoKHRoaXMub3B0aW9ucy5zaGFwZSl7Y2FzZVwiYm94XCI6dGhpcy5zaGFwZT1uZXcgcWsodGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJjaXJjbGVcIjp0aGlzLnNoYXBlPW5ldyBHayh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcImNpcmN1bGFySW1hZ2VcIjp0aGlzLnNoYXBlPW5ldyAkayh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUsdGhpcy5pbWFnZU9iaix0aGlzLmltYWdlT2JqQWx0KTticmVhaztjYXNlXCJjdXN0b21cIjp0aGlzLnNoYXBlPW5ldyBpXyh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUsdGhpcy5vcHRpb25zLmN0eFJlbmRlcmVyKTticmVhaztjYXNlXCJkYXRhYmFzZVwiOnRoaXMuc2hhcGU9bmV3IG5fKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwiZGlhbW9uZFwiOnRoaXMuc2hhcGU9bmV3IHNfKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwiZG90XCI6dGhpcy5zaGFwZT1uZXcgaF8odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJlbGxpcHNlXCI6ZGVmYXVsdDp0aGlzLnNoYXBlPW5ldyBsXyh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcImljb25cIjp0aGlzLnNoYXBlPW5ldyB1Xyh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcImltYWdlXCI6dGhpcy5zaGFwZT1uZXcgcF8odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlLHRoaXMuaW1hZ2VPYmosdGhpcy5pbWFnZU9iakFsdCk7YnJlYWs7Y2FzZVwic3F1YXJlXCI6dGhpcy5zaGFwZT1uZXcgZ18odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJoZXhhZ29uXCI6dGhpcy5zaGFwZT1uZXcgbV8odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJzdGFyXCI6dGhpcy5zaGFwZT1uZXcgd18odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJ0ZXh0XCI6dGhpcy5zaGFwZT1uZXcgX18odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJ0cmlhbmdsZVwiOnRoaXMuc2hhcGU9bmV3IEVfKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwidHJpYW5nbGVEb3duXCI6dGhpcy5zaGFwZT1uZXcgQ18odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKX10aGlzLm5lZWRzUmVmcmVzaCgpfX0se2tleTpcInNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMCx0aGlzLm5lZWRzUmVmcmVzaCgpfX0se2tleTpcInVuc2VsZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkPSExLHRoaXMubmVlZHNSZWZyZXNoKCl9fSx7a2V5OlwibmVlZHNSZWZyZXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNoYXBlLnJlZnJlc2hOZWVkZWQ9ITB9fSx7a2V5OlwiZ2V0VGl0bGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudGl0bGV9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2hhcGUuZGlzdGFuY2VUb0JvcmRlcih0LGUpfX0se2tleTpcImlzRml4ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZml4ZWQueCYmdGhpcy5vcHRpb25zLmZpeGVkLnl9fSx7a2V5OlwiaXNTZWxlY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWR9fSx7a2V5OlwiZ2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWV9fSx7a2V5OlwiZ2V0TGFiZWxTaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbE1vZHVsZS5zaXplKCl9fSx7a2V5Olwic2V0VmFsdWVSYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDAhPT10aGlzLm9wdGlvbnMudmFsdWUpe3ZhciBvPXRoaXMub3B0aW9ucy5zY2FsaW5nLmN1c3RvbVNjYWxpbmdGdW5jdGlvbih0LGUsaSx0aGlzLm9wdGlvbnMudmFsdWUpLG49dGhpcy5vcHRpb25zLnNjYWxpbmcubWF4LXRoaXMub3B0aW9ucy5zY2FsaW5nLm1pbjtpZighMD09PXRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLmVuYWJsZWQpe3ZhciByPXRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heC10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5taW47dGhpcy5vcHRpb25zLmZvbnQuc2l6ZT10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5taW4rbypyfXRoaXMub3B0aW9ucy5zaXplPXRoaXMub3B0aW9ucy5zY2FsaW5nLm1pbitvKm59ZWxzZSB0aGlzLm9wdGlvbnMuc2l6ZT10aGlzLmJhc2VTaXplLHRoaXMub3B0aW9ucy5mb250LnNpemU9dGhpcy5iYXNlRm9udFNpemU7dGhpcy51cGRhdGVMYWJlbE1vZHVsZSgpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZvcm1hdHRpbmdWYWx1ZXMoKTtyZXR1cm4gdGhpcy5zaGFwZS5kcmF3KHQsdGhpcy54LHRoaXMueSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsZSl8fHt9fX0se2tleTpcInVwZGF0ZUJvdW5kaW5nQm94XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zaGFwZS51cGRhdGVCb3VuZGluZ0JveCh0aGlzLngsdGhpcy55LHQpfX0se2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Rm9ybWF0dGluZ1ZhbHVlcygpO3RoaXMuc2hhcGUucmVzaXplKHQsdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyLGUpfX0se2tleTpcImdldEl0ZW1zT25Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0aGlzLmxhYmVsTW9kdWxlLnZpc2libGUoKSYmdGsodGhpcy5sYWJlbE1vZHVsZS5nZXRTaXplKCksdCkmJmUucHVzaCh7bm9kZUlkOnRoaXMuaWQsbGFiZWxJZDowfSksdGsodGhpcy5zaGFwZS5ib3VuZGluZ0JveCx0KSYmZS5wdXNoKHtub2RlSWQ6dGhpcy5pZH0pLGV9fSx7a2V5OlwiaXNPdmVybGFwcGluZ1dpdGhcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaGFwZS5sZWZ0PHQucmlnaHQmJnRoaXMuc2hhcGUubGVmdCt0aGlzLnNoYXBlLndpZHRoPnQubGVmdCYmdGhpcy5zaGFwZS50b3A8dC5ib3R0b20mJnRoaXMuc2hhcGUudG9wK3RoaXMuc2hhcGUuaGVpZ2h0PnQudG9wfX0se2tleTpcImlzQm91bmRpbmdCb3hPdmVybGFwcGluZ1dpdGhcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaGFwZS5ib3VuZGluZ0JveC5sZWZ0PHQucmlnaHQmJnRoaXMuc2hhcGUuYm91bmRpbmdCb3gucmlnaHQ+dC5sZWZ0JiZ0aGlzLnNoYXBlLmJvdW5kaW5nQm94LnRvcDx0LmJvdHRvbSYmdGhpcy5zaGFwZS5ib3VuZGluZ0JveC5ib3R0b20+dC50b3B9fV0sW3trZXk6XCJjaGVja09wYWNpdHlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMDw9dCYmdDw9MX19LHtrZXk6XCJjaGVja0Nvb3JkaW5hdGVPcmlnaW5cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dHx8XCJjZW50ZXJcIj09PXR8fFwidG9wLWxlZnRcIj09PXR9fSx7a2V5OlwidXBkYXRlR3JvdXBPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8pe3ZhciBuO2lmKHZvaWQgMCE9PW8pe3ZhciByPWUuZ3JvdXA7aWYodm9pZCAwIT09aSYmdm9pZCAwIT09aS5ncm91cCYmciE9PWkuZ3JvdXApdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlR3JvdXBPcHRpb25zOiBncm91cCB2YWx1ZXMgaW4gb3B0aW9ucyBkb24ndCBtYXRjaC5cIik7aWYoXCJudW1iZXJcIj09dHlwZW9mIHJ8fFwic3RyaW5nXCI9PXR5cGVvZiByJiZcIlwiIT1yKXt2YXIgcz1vLmdldChyKTt2b2lkIDAhPT1zLm9wYWNpdHkmJnZvaWQgMD09PWkub3BhY2l0eSYmKHQuY2hlY2tPcGFjaXR5KHMub3BhY2l0eSl8fChjb25zb2xlLmVycm9yKFwiSW52YWxpZCBvcHRpb24gZm9yIG5vZGUgb3BhY2l0eS4gVmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEsIGZvdW5kOiBcIitzLm9wYWNpdHkpLHMub3BhY2l0eT12b2lkIDApKTt2YXIgYT1ZZihuPVF3KGkpKS5jYWxsKG4sKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT1pW3RdfSkpO2EucHVzaChcImZvbnRcIiksQXkoYSxlLHMpLGUuY29sb3I9WXkoZS5jb2xvcil9fX19LHtrZXk6XCJwYXJzZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30scj1hcmd1bWVudHMubGVuZ3RoPjQ/YXJndW1lbnRzWzRdOnZvaWQgMCxzPVtcImNvbG9yXCIsXCJmaXhlZFwiLFwic2hhZG93XCJdO2lmKEF5KHMsZSxpLG8pLHQuY2hlY2tNYXNzKGkpLHZvaWQgMCE9PWUub3BhY2l0eSYmKHQuY2hlY2tPcGFjaXR5KGUub3BhY2l0eSl8fChjb25zb2xlLmVycm9yKFwiSW52YWxpZCBvcHRpb24gZm9yIG5vZGUgb3BhY2l0eS4gVmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEsIGZvdW5kOiBcIitlLm9wYWNpdHkpLGUub3BhY2l0eT12b2lkIDApKSx2b2lkIDAhPT1pLm9wYWNpdHkmJih0LmNoZWNrT3BhY2l0eShpLm9wYWNpdHkpfHwoY29uc29sZS5lcnJvcihcIkludmFsaWQgb3B0aW9uIGZvciBub2RlIG9wYWNpdHkuIFZhbHVlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLCBmb3VuZDogXCIraS5vcGFjaXR5KSxpLm9wYWNpdHk9dm9pZCAwKSksaS5zaGFwZVByb3BlcnRpZXMmJiF0LmNoZWNrQ29vcmRpbmF0ZU9yaWdpbihpLnNoYXBlUHJvcGVydGllcy5jb29yZGluYXRlT3JpZ2luKSYmY29uc29sZS5lcnJvcihcIkludmFsaWQgb3B0aW9uIGZvciBub2RlIGNvb3JkaW5hdGVPcmlnaW4sIGZvdW5kOiBcIitpLnNoYXBlUHJvcGVydGllcy5jb29yZGluYXRlT3JpZ2luKSx0bShlLGksXCJzaGFkb3dcIixuKSx2b2lkIDAhPT1pLmNvbG9yJiZudWxsIT09aS5jb2xvcil7dmFyIGE9WXkoaS5jb2xvcik7RnkoZS5jb2xvcixhKX1lbHNlITA9PT1vJiZudWxsPT09aS5jb2xvciYmKGUuY29sb3I9Snkobi5jb2xvcikpO3ZvaWQgMCE9PWkuZml4ZWQmJm51bGwhPT1pLmZpeGVkJiYoXCJib29sZWFuXCI9PXR5cGVvZiBpLmZpeGVkPyhlLmZpeGVkLng9aS5maXhlZCxlLmZpeGVkLnk9aS5maXhlZCk6KHZvaWQgMCE9PWkuZml4ZWQueCYmXCJib29sZWFuXCI9PXR5cGVvZiBpLmZpeGVkLngmJihlLmZpeGVkLng9aS5maXhlZC54KSx2b2lkIDAhPT1pLmZpeGVkLnkmJlwiYm9vbGVhblwiPT10eXBlb2YgaS5maXhlZC55JiYoZS5maXhlZC55PWkuZml4ZWQueSkpKSwhMD09PW8mJm51bGw9PT1pLmZvbnQmJihlLmZvbnQ9Snkobi5mb250KSksdC51cGRhdGVHcm91cE9wdGlvbnMoZSxpLHIpLHZvaWQgMCE9PWkuc2NhbGluZyYmdG0oZS5zY2FsaW5nLGkuc2NhbGluZyxcImxhYmVsXCIsbi5zY2FsaW5nKX19LHtrZXk6XCJjaGVja01hc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQubWFzcyYmdC5tYXNzPD0wKXt2YXIgaT1cIlwiO3ZvaWQgMCE9PWUmJihpPVwiIGluIG5vZGUgaWQ6IFwiK2UpLGNvbnNvbGUuZXJyb3IoXCIlY05lZ2F0aXZlIG9yIHplcm8gbWFzcyBkaXNhbGxvd2VkXCIraStcIiwgc2V0dGluZyBtYXNzIHRvIDEuXCIsZ20pLHQubWFzcz0xfX19XSksdH0oKTtmdW5jdGlvbiBQXyh0LGUpe3ZhciBpPXZvaWQgMCE9PXR1JiZvaCh0KXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIWkpe2lmKGh1KHQpfHwoaT1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gRF8odCxlKTt2YXIgbz1hdShpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuY2FsbChpLDgsLTEpO1wiT2JqZWN0XCI9PT1vJiZ0LmNvbnN0cnVjdG9yJiYobz10LmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1vfHxcIlNldFwiPT09bylyZXR1cm4gamEodCk7aWYoXCJBcmd1bWVudHNcIj09PW98fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG8pKXJldHVybiBEXyh0LGUpfSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7aSYmKHQ9aSk7dmFyIG89MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gbz49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbbysrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIscz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7aT1pLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1pLm5leHQoKTtyZXR1cm4gcz10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXthPSEwLHI9dH0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgcn19fX1mdW5jdGlvbiBEXyh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLG89bmV3IEFycmF5KGUpO2k8ZTtpKyspb1tpXT10W2ldO3JldHVybiBvfXZhciBCXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8sbil7dmFyIHIscz10aGlzO2lmKFhsKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5pbWFnZXM9aSx0aGlzLmdyb3Vwcz1vLHRoaXMubGF5b3V0RW5naW5lPW4sdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlPUZvKHI9dGhpcy5jcmVhdGUpLmNhbGwocix0aGlzKSx0aGlzLm5vZGVzTGlzdGVuZXJzPXthZGQ6ZnVuY3Rpb24odCxlKXtzLmFkZChlLml0ZW1zKX0sdXBkYXRlOmZ1bmN0aW9uKHQsZSl7cy51cGRhdGUoZS5pdGVtcyxlLmRhdGEsZS5vbGREYXRhKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7cy5yZW1vdmUoZS5pdGVtcyl9fSx0aGlzLmRlZmF1bHRPcHRpb25zPXtib3JkZXJXaWR0aDoxLGJvcmRlcldpZHRoU2VsZWN0ZWQ6dm9pZCAwLGJyb2tlbkltYWdlOnZvaWQgMCxjb2xvcjp7Ym9yZGVyOlwiIzJCN0NFOVwiLGJhY2tncm91bmQ6XCIjOTdDMkZDXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjMkI3Q0U5XCIsYmFja2dyb3VuZDpcIiNEMkU1RkZcIn0saG92ZXI6e2JvcmRlcjpcIiMyQjdDRTlcIixiYWNrZ3JvdW5kOlwiI0QyRTVGRlwifX0sb3BhY2l0eTp2b2lkIDAsZml4ZWQ6e3g6ITEseTohMX0sZm9udDp7Y29sb3I6XCIjMzQzNDM0XCIsc2l6ZToxNCxmYWNlOlwiYXJpYWxcIixiYWNrZ3JvdW5kOlwibm9uZVwiLHN0cm9rZVdpZHRoOjAsc3Ryb2tlQ29sb3I6XCIjZmZmZmZmXCIsYWxpZ246XCJjZW50ZXJcIix2YWRqdXN0OjAsbXVsdGk6ITEsYm9sZDp7bW9kOlwiYm9sZFwifSxib2xkaXRhbDp7bW9kOlwiYm9sZCBpdGFsaWNcIn0saXRhbDp7bW9kOlwiaXRhbGljXCJ9LG1vbm86e21vZDpcIlwiLHNpemU6MTUsZmFjZTpcIm1vbm9zcGFjZVwiLHZhZGp1c3Q6Mn19LGdyb3VwOnZvaWQgMCxoaWRkZW46ITEsaWNvbjp7ZmFjZTpcIkZvbnRBd2Vzb21lXCIsY29kZTp2b2lkIDAsc2l6ZTo1MCxjb2xvcjpcIiMyQjdDRTlcIn0saW1hZ2U6dm9pZCAwLGltYWdlUGFkZGluZzp7dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjB9LGxhYmVsOnZvaWQgMCxsYWJlbEhpZ2hsaWdodEJvbGQ6ITAsbGV2ZWw6dm9pZCAwLG1hcmdpbjp7dG9wOjUscmlnaHQ6NSxib3R0b206NSxsZWZ0OjV9LG1hc3M6MSxwaHlzaWNzOiEwLHNjYWxpbmc6e21pbjoxMCxtYXg6MzAsbGFiZWw6e2VuYWJsZWQ6ITEsbWluOjE0LG1heDozMCxtYXhWaXNpYmxlOjMwLGRyYXdUaHJlc2hvbGQ6NX0sY3VzdG9tU2NhbGluZ0Z1bmN0aW9uOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKGU9PT10KXJldHVybi41O3ZhciBuPTEvKGUtdCk7cmV0dXJuIE1hdGgubWF4KDAsKG8tdCkqbil9fSxzaGFkb3c6e2VuYWJsZWQ6ITEsY29sb3I6XCJyZ2JhKDAsMCwwLDAuNSlcIixzaXplOjEwLHg6NSx5OjV9LHNoYXBlOlwiZWxsaXBzZVwiLHNoYXBlUHJvcGVydGllczp7Ym9yZGVyRGFzaGVzOiExLGJvcmRlclJhZGl1czo2LGludGVycG9sYXRpb246ITAsdXNlSW1hZ2VTaXplOiExLHVzZUJvcmRlcldpdGhJbWFnZTohMSxjb29yZGluYXRlT3JpZ2luOlwiY2VudGVyXCJ9LHNpemU6MjUsdGl0bGU6dm9pZCAwLHZhbHVlOnZvaWQgMCx4OnZvaWQgMCx5OnZvaWQgMH0sdGhpcy5kZWZhdWx0T3B0aW9ucy5tYXNzPD0wKXRocm93XCJJbnRlcm5hbCBlcnJvcjogbWFzcyBpbiBkZWZhdWx0T3B0aW9ucyBvZiBOb2Rlc0hhbmRsZXIgbWF5IG5vdCBiZSB6ZXJvIG9yIG5lZ2F0aXZlXCI7dGhpcy5vcHRpb25zPUp5KHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuICRsKHQsW3trZXk6XCJiaW5kRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzO3RoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVmcmVzaE5vZGVzXCIsRm8odD10aGlzLnJlZnJlc2gpLmNhbGwodCx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJyZWZyZXNoXCIsRm8oZT10aGlzLnJlZnJlc2gpLmNhbGwoZSx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkZXN0cm95XCIsKGZ1bmN0aW9uKCl7V3koaS5ub2Rlc0xpc3RlbmVycywoZnVuY3Rpb24odCxlKXtpLmJvZHkuZGF0YS5ub2RlcyYmaS5ib2R5LmRhdGEubm9kZXMub2ZmKGUsdCl9KSksZGVsZXRlIGkuYm9keS5mdW5jdGlvbnMuY3JlYXRlTm9kZSxkZWxldGUgaS5ub2Rlc0xpc3RlbmVycy5hZGQsZGVsZXRlIGkubm9kZXNMaXN0ZW5lcnMudXBkYXRlLGRlbGV0ZSBpLm5vZGVzTGlzdGVuZXJzLnJlbW92ZSxkZWxldGUgaS5ub2Rlc0xpc3RlbmVyc30pKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7aWYoTV8ucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucyx0KSx2b2lkIDAhPT10Lm9wYWNpdHkmJihDdyh0Lm9wYWNpdHkpfHwhTXcodC5vcGFjaXR5KXx8dC5vcGFjaXR5PDB8fHQub3BhY2l0eT4xP2NvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG9wdGlvbiBmb3Igbm9kZSBvcGFjaXR5LiBWYWx1ZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMSwgZm91bmQ6IFwiK3Qub3BhY2l0eSk6dGhpcy5vcHRpb25zLm9wYWNpdHk9dC5vcGFjaXR5KSx2b2lkIDAhPT10LnNoYXBlKWZvcih2YXIgZSBpbiB0aGlzLmJvZHkubm9kZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm9keS5ub2RlcyxlKSYmdGhpcy5ib2R5Lm5vZGVzW2VdLnVwZGF0ZVNoYXBlKCk7aWYodm9pZCAwIT09dC5mb250fHx2b2lkIDAhPT10LndpZHRoQ29uc3RyYWludHx8dm9pZCAwIT09dC5oZWlnaHRDb25zdHJhaW50KWZvcih2YXIgaT0wLG89bXUodGhpcy5ib2R5Lm5vZGVzKTtpPG8ubGVuZ3RoO2krKyl7dmFyIG49b1tpXTt0aGlzLmJvZHkubm9kZXNbbl0udXBkYXRlTGFiZWxNb2R1bGUoKSx0aGlzLmJvZHkubm9kZXNbbl0ubmVlZHNSZWZyZXNoKCl9aWYodm9pZCAwIT09dC5zaXplKWZvcih2YXIgciBpbiB0aGlzLmJvZHkubm9kZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm9keS5ub2RlcyxyKSYmdGhpcy5ib2R5Lm5vZGVzW3JdLm5lZWRzUmVmcmVzaCgpO3ZvaWQgMD09PXQuaGlkZGVuJiZ2b2lkIDA9PT10LnBoeXNpY3N8fHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fX0se2tleTpcInNldERhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG89dGhpcy5ib2R5LmRhdGEubm9kZXM7aWYoZS5pc0RhdGFWaWV3TGlrZShcImlkXCIsdCkpdGhpcy5ib2R5LmRhdGEubm9kZXM9dDtlbHNlIGlmKGh1KHQpKXRoaXMuYm9keS5kYXRhLm5vZGVzPW5ldyBlLkRhdGFTZXQsdGhpcy5ib2R5LmRhdGEubm9kZXMuYWRkKHQpO2Vsc2V7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkgb3IgRGF0YVNldCBleHBlY3RlZFwiKTt0aGlzLmJvZHkuZGF0YS5ub2Rlcz1uZXcgZS5EYXRhU2V0fWlmKG8mJld5KHRoaXMubm9kZXNMaXN0ZW5lcnMsKGZ1bmN0aW9uKHQsZSl7by5vZmYoZSx0KX0pKSx0aGlzLmJvZHkubm9kZXM9e30sdGhpcy5ib2R5LmRhdGEubm9kZXMpe3ZhciBuPXRoaXM7V3kodGhpcy5ub2Rlc0xpc3RlbmVycywoZnVuY3Rpb24odCxlKXtuLmJvZHkuZGF0YS5ub2Rlcy5vbihlLHQpfSkpO3ZhciByPXRoaXMuYm9keS5kYXRhLm5vZGVzLmdldElkcygpO3RoaXMuYWRkKHIsITApfSExPT09aSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG89W10sbj0wO248dC5sZW5ndGg7bisrKXtlPXRbbl07dmFyIHI9dGhpcy5ib2R5LmRhdGEubm9kZXMuZ2V0KGUpLHM9dGhpcy5jcmVhdGUocik7by5wdXNoKHMpLHRoaXMuYm9keS5ub2Rlc1tlXT1zfXRoaXMubGF5b3V0RW5naW5lLnBvc2l0aW9uSW5pdGlhbGx5KG8pLCExPT09aSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPXRoaXMuYm9keS5ub2RlcyxuPSExLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIHM9dFtyXSxhPW9bc10saD1lW3JdO3ZvaWQgMCE9PWE/YS5zZXRPcHRpb25zKGgpJiYobj0hMCk6KG49ITAsYT10aGlzLmNyZWF0ZShoKSxvW3NdPWEpfW58fHZvaWQgMD09PWl8fChuPU53KGUpLmNhbGwoZSwoZnVuY3Rpb24odCxlKXt2YXIgbz1pW2VdO3JldHVybiBvJiZvLmxldmVsIT09dC5sZXZlbH0pKSksITA9PT1uP3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIik6dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhVXBkYXRlZFwiKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5Lm5vZGVzLGk9MDtpPHQubGVuZ3RoO2krKyl7ZGVsZXRlIGVbdFtpXV19dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJjcmVhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TV87cmV0dXJuIG5ldyBlKHQsdGhpcy5ib2R5LHRoaXMuaW1hZ2VzLHRoaXMuZ3JvdXBzLHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKX19LHtrZXk6XCJyZWZyZXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtXeSh0aGlzLmJvZHkubm9kZXMsKGZ1bmN0aW9uKGksbyl7dmFyIG49dC5ib2R5LmRhdGEubm9kZXMuZ2V0KG8pO3ZvaWQgMCE9PW4mJighMD09PWUmJmkuc2V0T3B0aW9ucyh7eDpudWxsLHk6bnVsbH0pLGkuc2V0T3B0aW9ucyh7Zml4ZWQ6ITF9KSxpLnNldE9wdGlvbnMobikpfSkpfX0se2tleTpcImdldFBvc2l0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt9O2lmKHZvaWQgMCE9PXQpe2lmKCEwPT09aHUodCkpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0W2ldXSl7dmFyIG89dGhpcy5ib2R5Lm5vZGVzW3RbaV1dO2VbdFtpXV09e3g6TWF0aC5yb3VuZChvLngpLHk6TWF0aC5yb3VuZChvLnkpfX19ZWxzZSBpZih2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0pe3ZhciBuPXRoaXMuYm9keS5ub2Rlc1t0XTtlW3RdPXt4Ok1hdGgucm91bmQobi54KSx5Ok1hdGgucm91bmQobi55KX19fWVsc2UgZm9yKHZhciByPTA7cjx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO3IrKyl7dmFyIHM9dGhpcy5ib2R5Lm5vZGVzW3RoaXMuYm9keS5ub2RlSW5kaWNlc1tyXV07ZVt0aGlzLmJvZHkubm9kZUluZGljZXNbcl1dPXt4Ok1hdGgucm91bmQocy54KSx5Ok1hdGgucm91bmQocy55KX19cmV0dXJuIGV9fSx7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBpZCB3YXMgc3BlY2lmaWVkIGZvciBnZXRQb3NpdGlvbiBtZXRob2QuXCIpO2lmKG51bGw9PXRoaXMuYm9keS5ub2Rlc1t0XSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJOb2RlSWQgcHJvdmlkZWQgZm9yIGdldFBvc2l0aW9uIGRvZXMgbm90IGV4aXN0LiBQcm92aWRlZDogXCIuY29uY2F0KHQpKTtyZXR1cm57eDpNYXRoLnJvdW5kKHRoaXMuYm9keS5ub2Rlc1t0XS54KSx5Ok1hdGgucm91bmQodGhpcy5ib2R5Lm5vZGVzW3RdLnkpfX19LHtrZXk6XCJzdG9yZVBvc2l0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT1bXSxpPXRoaXMuYm9keS5kYXRhLm5vZGVzLmdldERhdGFTZXQoKSxvPVBfKGkuZ2V0KCkpO3RyeXtmb3Ioby5zKCk7ISh0PW8ubigpKS5kb25lOyl7dmFyIG49dC52YWx1ZSxyPW4uaWQscz10aGlzLmJvZHkubm9kZXNbcl0sYT1NYXRoLnJvdW5kKHMueCksaD1NYXRoLnJvdW5kKHMueSk7bi54PT09YSYmbi55PT09aHx8ZS5wdXNoKHtpZDpyLHg6YSx5Omh9KX19Y2F0Y2godCl7by5lKHQpfWZpbmFsbHl7by5mKCl9aS51cGRhdGUoZSl9fSx7a2V5OlwiZ2V0Qm91bmRpbmdCb3hcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0pcmV0dXJuIHRoaXMuYm9keS5ub2Rlc1t0XS5zaGFwZS5ib3VuZGluZ0JveH19LHtrZXk6XCJnZXRDb25uZWN0ZWROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107aWYodm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RdKWZvcih2YXIgbz10aGlzLmJvZHkubm9kZXNbdF0sbj17fSxyPTA7cjxvLmVkZ2VzLmxlbmd0aDtyKyspe3ZhciBzPW8uZWRnZXNbcl07XCJ0b1wiIT09ZSYmcy50b0lkPT1vLmlkP3ZvaWQgMD09PW5bcy5mcm9tSWRdJiYoaS5wdXNoKHMuZnJvbUlkKSxuW3MuZnJvbUlkXT0hMCk6XCJmcm9tXCIhPT1lJiZzLmZyb21JZD09by5pZCYmdm9pZCAwPT09bltzLnRvSWRdJiYoaS5wdXNoKHMudG9JZCksbltzLnRvSWRdPSEwKX1yZXR1cm4gaX19LHtrZXk6XCJnZXRDb25uZWN0ZWRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0XSlmb3IodmFyIGk9dGhpcy5ib2R5Lm5vZGVzW3RdLG89MDtvPGkuZWRnZXMubGVuZ3RoO28rKyllLnB1c2goaS5lZGdlc1tvXS5pZCk7ZWxzZSBjb25zb2xlLmVycm9yKFwiTm9kZUlkIHByb3ZpZGVkIGZvciBnZXRDb25uZWN0ZWRFZGdlcyBkb2VzIG5vdCBleGlzdC4gUHJvdmlkZWQ6IFwiLHQpO3JldHVybiBlfX0se2tleTpcIm1vdmVOb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXM7dm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RdPyh0aGlzLmJvZHkubm9kZXNbdF0ueD1OdW1iZXIoZSksdGhpcy5ib2R5Lm5vZGVzW3RdLnk9TnVtYmVyKGkpLGJ2KChmdW5jdGlvbigpe28uYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIil9KSwwKSk6Y29uc29sZS5lcnJvcihcIk5vZGUgaWQgc3VwcGxpZWQgdG8gbW92ZU5vZGUgZG9lcyBub3QgZXhpc3QuIFByb3ZpZGVkOiBcIix0KX19XSksdH0oKSxJXz1WdCx6Xz14LEZfPVgsTl89WmUsQV89ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihJXyh0LFwidmFsdWVcIil8fElfKHQsXCJ3cml0YWJsZVwiKSl9LFJfPWIsal89RHI7eGkoe3RhcmdldDpcIlJlZmxlY3RcIixzdGF0OiEwfSx7Z2V0OmZ1bmN0aW9uIHQoZSxpKXt2YXIgbyxuLHI9YXJndW1lbnRzLmxlbmd0aDwzP2U6YXJndW1lbnRzWzJdO3JldHVybiBOXyhlKT09PXI/ZVtpXToobz1SXy5mKGUsaSkpP0FfKG8pP28udmFsdWU6dm9pZCAwPT09by5nZXQ/dm9pZCAwOnpfKG8uZ2V0LHIpOkZfKG49al8oZSkpP3QobixpLHIpOnZvaWQgMH19KTt2YXIgTF89Ry5SZWZsZWN0LmdldCxIXz1ibDtmdW5jdGlvbiBXXyh0LGUpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9SGsodCkpOyk7cmV0dXJuIHR9ZnVuY3Rpb24gVl8oKXtyZXR1cm4gVl89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJkxfP0xfOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1XXyh0LGUpO2lmKG8pe3ZhciBuPUhfKG8sZSk7cmV0dXJuIG4uZ2V0P24uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6aSk6bi52YWx1ZX19LFZfLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgcV89eGksVV89TWF0aC5oeXBvdCxZXz1NYXRoLmFicyxYXz1NYXRoLnNxcnQ7cV8oe3RhcmdldDpcIk1hdGhcIixzdGF0OiEwLGZvcmNlZDohIVVfJiZVXygxLzAsTmFOKSE9PTEvMH0se2h5cG90OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLG8sbj0wLHI9MCxzPWFyZ3VtZW50cy5sZW5ndGgsYT0wO3I8czspYTwoaT1ZXyhhcmd1bWVudHNbcisrXSkpPyhuPW4qKG89YS9pKSpvKzEsYT1pKTpuKz1pPjA/KG89aS9hKSpvOmk7cmV0dXJuIGE9PT0xLzA/MS8wOmEqWF8obil9fSk7dmFyIEdfPUcuTWF0aC5oeXBvdDtmdW5jdGlvbiBLXyh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhemspcmV0dXJuITE7aWYoemsuc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh6ayhCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89SGsodCk7aWYoZSl7dmFyIG49SGsodGhpcykuY29uc3RydWN0b3I7aT16ayhvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGprKHRoaXMsaSl9fXZhciAkXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtYbCh0aGlzLHQpfXJldHVybiAkbCh0LG51bGwsW3trZXk6XCJ0cmFuc2Zvcm1cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2h1KHQpfHwodD1bdF0pO2Zvcih2YXIgaT1lLnBvaW50Lngsbz1lLnBvaW50Lnksbj1lLmFuZ2xlLHI9ZS5sZW5ndGgscz0wO3M8dC5sZW5ndGg7KytzKXt2YXIgYT10W3NdLGg9YS54Kk1hdGguY29zKG4pLWEueSpNYXRoLnNpbihuKSxkPWEueCpNYXRoLnNpbihuKSthLnkqTWF0aC5jb3Mobik7YS54PWkrcipoLGEueT1vK3IqZH19fSx7a2V5OlwiZHJhd1BhdGhcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8oZVswXS54LGVbMF0ueSk7Zm9yKHZhciBpPTE7aTxlLmxlbmd0aDsrK2kpdC5saW5lVG8oZVtpXS54LGVbaV0ueSk7dC5jbG9zZVBhdGgoKX19XSksdH0oKSxaXz1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPUtfKGkpO2Z1bmN0aW9uIGkoKXtyZXR1cm4gWGwodGhpcyxpKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gJGwoaSxudWxsLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoZS5pbWFnZSl7dC5zYXZlKCksdC50cmFuc2xhdGUoZS5wb2ludC54LGUucG9pbnQueSksdC5yb3RhdGUoTWF0aC5QSS8yK2UuYW5nbGUpO3ZhciBpPW51bGwhPWUuaW1hZ2VXaWR0aD9lLmltYWdlV2lkdGg6ZS5pbWFnZS53aWR0aCxvPW51bGwhPWUuaW1hZ2VIZWlnaHQ/ZS5pbWFnZUhlaWdodDplLmltYWdlLmhlaWdodDtlLmltYWdlLmRyYXdJbWFnZUF0UG9zaXRpb24odCwxLC1pLzIsMCxpLG8pLHQucmVzdG9yZSgpfXJldHVybiExfX1dKSxpfSgkXyksUV89ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT1LXyhpKTtmdW5jdGlvbiBpKCl7cmV0dXJuIFhsKHRoaXMsaSksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuICRsKGksbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVt7eDowLHk6MH0se3g6LTEseTouM30se3g6LS45LHk6MH0se3g6LTEseTotLjN9XTtyZXR1cm4gJF8udHJhbnNmb3JtKGksZSksJF8uZHJhd1BhdGgodCxpKSwhMH19XSksaX0oJF8pLEpfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVt7eDotMSx5OjB9LHt4OjAseTouM30se3g6LS40LHk6MH0se3g6MCx5Oi0uM31dO3JldHVybiAkXy50cmFuc2Zvcm0oaSxlKSwkXy5kcmF3UGF0aCh0LGkpLCEwfX1dKSx0fSgpLHR4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXt4Oi0uNCx5OjB9OyRfLnRyYW5zZm9ybShpLGUpLHQuc3Ryb2tlU3R5bGU9dC5maWxsU3R5bGUsdC5maWxsU3R5bGU9XCJyZ2JhKDAsIDAsIDAsIDApXCI7dmFyIG89TWF0aC5QSSxuPWUuYW5nbGUtby8yLHI9ZS5hbmdsZStvLzI7cmV0dXJuIHQuYmVnaW5QYXRoKCksdC5hcmMoaS54LGkueSwuNCplLmxlbmd0aCxuLHIsITEpLHQuc3Ryb2tlKCksITB9fV0pLHR9KCksZXg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7WGwodGhpcyx0KX1yZXR1cm4gJGwodCxudWxsLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9e3g6LS4zLHk6MH07JF8udHJhbnNmb3JtKGksZSksdC5zdHJva2VTdHlsZT10LmZpbGxTdHlsZSx0LmZpbGxTdHlsZT1cInJnYmEoMCwgMCwgMCwgMClcIjt2YXIgbz1NYXRoLlBJLG49ZS5hbmdsZStvLzIscj1lLmFuZ2xlKzMqby8yO3JldHVybiB0LmJlZ2luUGF0aCgpLHQuYXJjKGkueCxpLnksLjQqZS5sZW5ndGgsbixyLCExKSx0LnN0cm9rZSgpLCEwfX1dKSx0fSgpLGl4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVt7eDouMDIseTowfSx7eDotMSx5Oi4zfSx7eDotMSx5Oi0uM31dO3JldHVybiAkXy50cmFuc2Zvcm0oaSxlKSwkXy5kcmF3UGF0aCh0LGkpLCEwfX1dKSx0fSgpLG94PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVt7eDowLHk6LjN9LHt4OjAseTotLjN9LHt4Oi0xLHk6MH1dO3JldHVybiAkXy50cmFuc2Zvcm0oaSxlKSwkXy5kcmF3UGF0aCh0LGkpLCEwfX1dKSx0fSgpLG54PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXt4Oi0uNCx5OjB9O3JldHVybiAkXy50cmFuc2Zvcm0oaSxlKSxObyh0LGkueCxpLnksLjQqZS5sZW5ndGgpLCEwfX1dKSx0fSgpLHJ4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVt7eDowLHk6LjV9LHt4OjAseTotLjV9LHt4Oi0uMTUseTotLjV9LHt4Oi0uMTUseTouNX1dO3JldHVybiAkXy50cmFuc2Zvcm0oaSxlKSwkXy5kcmF3UGF0aCh0LGkpLCEwfX1dKSx0fSgpLHN4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVt7eDowLHk6LjN9LHt4OjAseTotLjN9LHt4Oi0uNix5Oi0uM30se3g6LS42LHk6LjN9XTtyZXR1cm4gJF8udHJhbnNmb3JtKGksZSksJF8uZHJhd1BhdGgodCxpKSwhMH19XSksdH0oKSxheD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtYbCh0aGlzLHQpfXJldHVybiAkbCh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1be3g6MCx5OjB9LHt4Oi0uNSx5Oi0uM30se3g6LTEseTowfSx7eDotLjUseTouM31dO3JldHVybiAkXy50cmFuc2Zvcm0oaSxlKSwkXy5kcmF3UGF0aCh0LGkpLCEwfX1dKSx0fSgpLGh4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVt7eDotMSx5Oi4zfSx7eDotLjUseTowfSx7eDotMSx5Oi0uM30se3g6MCx5OjB9XTtyZXR1cm4gJF8udHJhbnNmb3JtKGksZSksJF8uZHJhd1BhdGgodCxpKSwhMH19XSksdH0oKSxkeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtYbCh0aGlzLHQpfXJldHVybiAkbCh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaTtzd2l0Y2goZS50eXBlJiYoaT1lLnR5cGUudG9Mb3dlckNhc2UoKSksaSl7Y2FzZVwiaW1hZ2VcIjpyZXR1cm4gWl8uZHJhdyh0LGUpO2Nhc2VcImNpcmNsZVwiOnJldHVybiBueC5kcmF3KHQsZSk7Y2FzZVwiYm94XCI6cmV0dXJuIHN4LmRyYXcodCxlKTtjYXNlXCJjcm93XCI6cmV0dXJuIEpfLmRyYXcodCxlKTtjYXNlXCJjdXJ2ZVwiOnJldHVybiB0eC5kcmF3KHQsZSk7Y2FzZVwiZGlhbW9uZFwiOnJldHVybiBheC5kcmF3KHQsZSk7Y2FzZVwiaW52X2N1cnZlXCI6cmV0dXJuIGV4LmRyYXcodCxlKTtjYXNlXCJ0cmlhbmdsZVwiOnJldHVybiBpeC5kcmF3KHQsZSk7Y2FzZVwiaW52X3RyaWFuZ2xlXCI6cmV0dXJuIG94LmRyYXcodCxlKTtjYXNlXCJiYXJcIjpyZXR1cm4gcnguZHJhdyh0LGUpO2Nhc2VcInZlZVwiOnJldHVybiBoeC5kcmF3KHQsZSk7ZGVmYXVsdDpyZXR1cm4gUV8uZHJhdyh0LGUpfX19XSksdH0oKTtmdW5jdGlvbiBseCh0LGUpe3ZhciBpPW11KHQpO2lmKGRsKXt2YXIgbz1kbCh0KTtlJiYobz1ZZihvKS5jYWxsKG8sKGZ1bmN0aW9uKGUpe3JldHVybiB3bCh0LGUpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG8pfXJldHVybiBpfWZ1bmN0aW9uIGN4KHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBpLG8sbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9GdShpPWx4KE9iamVjdChuKSwhMCkpLmNhbGwoaSwoZnVuY3Rpb24oZSl7WmwodCxlLG5bZV0pfSkpOkRsP1JsKHQsRGwobikpOkZ1KG89bHgoT2JqZWN0KG4pKSkuY2FsbChvLChmdW5jdGlvbihlKXtZbCh0LGUsd2wobixlKSl9KSl9cmV0dXJuIHR9dmFyIHV4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyl7WGwodGhpcyx0KSx0aGlzLl9ib2R5PWksdGhpcy5fbGFiZWxNb2R1bGU9byx0aGlzLmNvbG9yPXt9LHRoaXMuY29sb3JEaXJ0eT0hMCx0aGlzLmhvdmVyV2lkdGg9MS41LHRoaXMuc2VsZWN0aW9uV2lkdGg9Mix0aGlzLnNldE9wdGlvbnMoZSksdGhpcy5mcm9tUG9pbnQ9dGhpcy5mcm9tLHRoaXMudG9Qb2ludD10aGlzLnRvfXJldHVybiAkbCh0LFt7a2V5OlwiY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mcm9tPXRoaXMuX2JvZHkubm9kZXNbdGhpcy5vcHRpb25zLmZyb21dLHRoaXMudG89dGhpcy5fYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMudG9dfX0se2tleTpcImNsZWFudXBcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiExfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dCx0aGlzLmZyb209dGhpcy5fYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMuZnJvbV0sdGhpcy50bz10aGlzLl9ib2R5Lm5vZGVzW3RoaXMub3B0aW9ucy50b10sdGhpcy5pZD10aGlzLm9wdGlvbnMuaWR9fSx7a2V5OlwiZHJhd0xpbmVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06dGhpcy5nZXRWaWFOb2RlKCk7dC5zdHJva2VTdHlsZT10aGlzLmdldENvbG9yKHQsZSksdC5saW5lV2lkdGg9ZS53aWR0aCwhMSE9PWUuZGFzaGVzP3RoaXMuX2RyYXdEYXNoZWRMaW5lKHQsZSxuKTp0aGlzLl9kcmF3TGluZSh0LGUsbil9fSx7a2V5OlwiX2RyYXdMaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXtpZih0aGlzLmZyb20hPXRoaXMudG8pdGhpcy5fbGluZSh0LGUsaSxvLG4pO2Vsc2V7dmFyIHI9JGModGhpcy5fZ2V0Q2lyY2xlRGF0YSh0KSwzKSxzPXJbMF0sYT1yWzFdLGg9clsyXTt0aGlzLl9jaXJjbGUodCxlLHMsYSxoKX19fSx7a2V5OlwiX2RyYXdEYXNoZWRMaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt0LmxpbmVDYXA9XCJyb3VuZFwiO3ZhciByPWh1KGUuZGFzaGVzKT9lLmRhc2hlczpbNSw1XTtpZih2b2lkIDAhPT10LnNldExpbmVEYXNoKXtpZih0LnNhdmUoKSx0LnNldExpbmVEYXNoKHIpLHQubGluZURhc2hPZmZzZXQ9MCx0aGlzLmZyb20hPXRoaXMudG8pdGhpcy5fbGluZSh0LGUsaSk7ZWxzZXt2YXIgcz0kYyh0aGlzLl9nZXRDaXJjbGVEYXRhKHQpLDMpLGE9c1swXSxoPXNbMV0sZD1zWzJdO3RoaXMuX2NpcmNsZSh0LGUsYSxoLGQpfXQuc2V0TGluZURhc2goWzBdKSx0LmxpbmVEYXNoT2Zmc2V0PTAsdC5yZXN0b3JlKCl9ZWxzZXtpZih0aGlzLmZyb20hPXRoaXMudG8pTG8odCx0aGlzLmZyb20ueCx0aGlzLmZyb20ueSx0aGlzLnRvLngsdGhpcy50by55LHIpO2Vsc2V7dmFyIGw9JGModGhpcy5fZ2V0Q2lyY2xlRGF0YSh0KSwzKSxjPWxbMF0sdT1sWzFdLGY9bFsyXTt0aGlzLl9jaXJjbGUodCxlLGMsdSxmKX10aGlzLmVuYWJsZVNoYWRvdyh0LGUpLHQuc3Ryb2tlKCksdGhpcy5kaXNhYmxlU2hhZG93KHQsZSl9fX0se2tleTpcImZpbmRCb3JkZXJQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5mcm9tIT10aGlzLnRvP3RoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbih0LGUsaSk6dGhpcy5fZmluZEJvcmRlclBvc2l0aW9uQ2lyY2xlKHQsZSxpKX19LHtrZXk6XCJmaW5kQm9yZGVyUG9zaXRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5mcm9tIT10aGlzLnRvKXJldHVybntmcm9tOnRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbih0aGlzLmZyb20sdCksdG86dGhpcy5fZmluZEJvcmRlclBvc2l0aW9uKHRoaXMudG8sdCl9O3ZhciBlLGk9JGMoYXUoZT10aGlzLl9nZXRDaXJjbGVEYXRhKHQpKS5jYWxsKGUsMCwyKSwyKSxvPWlbMF0sbj1pWzFdO3JldHVybntmcm9tOnRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZSh0aGlzLmZyb20sdCx7eDpvLHk6bixsb3c6LjI1LGhpZ2g6LjYsZGlyZWN0aW9uOi0xfSksdG86dGhpcy5fZmluZEJvcmRlclBvc2l0aW9uQ2lyY2xlKHRoaXMuZnJvbSx0LHt4Om8seTpuLGxvdzouNixoaWdoOi44LGRpcmVjdGlvbjoxfSl9fX0se2tleTpcIl9nZXRDaXJjbGVEYXRhXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2Uuc2l6ZTt2b2lkIDAhPT10JiZ2b2lkIDA9PT10aGlzLmZyb20uc2hhcGUud2lkdGgmJnRoaXMuZnJvbS5zaGFwZS5yZXNpemUodCk7dmFyIGk9aWsodCx0aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZS5hbmdsZSxlLHRoaXMuZnJvbSk7cmV0dXJuW2kueCxpLnksZV19fSx7a2V5OlwiX3BvaW50T25DaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbj0yKm8qTWF0aC5QSTtyZXR1cm57eDp0K2kqTWF0aC5jb3MobikseTplLWkqTWF0aC5zaW4obil9fX0se2tleTpcIl9maW5kQm9yZGVyUG9zaXRpb25DaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG8sbj1pLngscj1pLnkscz1pLmxvdyxhPWkuaGlnaCxoPWkuZGlyZWN0aW9uLGQ9dGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2Uuc2l6ZSxsPS41KihzK2EpLGM9MDshMD09PXRoaXMub3B0aW9ucy5hcnJvd1N0cmlrZXRocm91Z2gmJigtMT09PWg/Yz10aGlzLm9wdGlvbnMuZW5kUG9pbnRPZmZzZXQuZnJvbToxPT09aCYmKGM9dGhpcy5vcHRpb25zLmVuZFBvaW50T2Zmc2V0LnRvKSk7dmFyIHU9MDtkb3tsPS41KihzK2EpLG89dGhpcy5fcG9pbnRPbkNpcmNsZShuLHIsZCxsKTt2YXIgZj1NYXRoLmF0YW4yKHQueS1vLnksdC54LW8ueCkscD10LmRpc3RhbmNlVG9Cb3JkZXIoZSxmKStjLU1hdGguc3FydChNYXRoLnBvdyhvLngtdC54LDIpK01hdGgucG93KG8ueS10LnksMikpO2lmKE1hdGguYWJzKHApPC4wNSlicmVhaztwPjA/aD4wP3M9bDphPWw6aD4wP2E9bDpzPWwsKyt1fXdoaWxlKHM8PWEmJnU8MTApO3JldHVybiBjeChjeCh7fSxvKSx7fSx7dDpsfSl9fSx7a2V5OlwiZ2V0TGluZVdpZHRoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMD09PXQ/TWF0aC5tYXgodGhpcy5zZWxlY3Rpb25XaWR0aCwuMy90aGlzLl9ib2R5LnZpZXcuc2NhbGUpOiEwPT09ZT9NYXRoLm1heCh0aGlzLmhvdmVyV2lkdGgsLjMvdGhpcy5fYm9keS52aWV3LnNjYWxlKTpNYXRoLm1heCh0aGlzLm9wdGlvbnMud2lkdGgsLjMvdGhpcy5fYm9keS52aWV3LnNjYWxlKX19LHtrZXk6XCJnZXRDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoITEhPT1lLmluaGVyaXRzQ29sb3Ipe2lmKFwiYm90aFwiPT09ZS5pbmhlcml0c0NvbG9yJiZ0aGlzLmZyb20uaWQhPT10aGlzLnRvLmlkKXt2YXIgaT10LmNyZWF0ZUxpbmVhckdyYWRpZW50KHRoaXMuZnJvbS54LHRoaXMuZnJvbS55LHRoaXMudG8ueCx0aGlzLnRvLnkpLG89dGhpcy5mcm9tLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcixuPXRoaXMudG8ub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYm9yZGVyO3JldHVybiExPT09dGhpcy5mcm9tLnNlbGVjdGVkJiYhMT09PXRoaXMudG8uc2VsZWN0ZWQ/KG89cXkodGhpcy5mcm9tLm9wdGlvbnMuY29sb3IuYm9yZGVyLGUub3BhY2l0eSksbj1xeSh0aGlzLnRvLm9wdGlvbnMuY29sb3IuYm9yZGVyLGUub3BhY2l0eSkpOiEwPT09dGhpcy5mcm9tLnNlbGVjdGVkJiYhMT09PXRoaXMudG8uc2VsZWN0ZWQ/bj10aGlzLnRvLm9wdGlvbnMuY29sb3IuYm9yZGVyOiExPT09dGhpcy5mcm9tLnNlbGVjdGVkJiYhMD09PXRoaXMudG8uc2VsZWN0ZWQmJihvPXRoaXMuZnJvbS5vcHRpb25zLmNvbG9yLmJvcmRlciksaS5hZGRDb2xvclN0b3AoMCxvKSxpLmFkZENvbG9yU3RvcCgxLG4pLGl9cmV0dXJuXCJ0b1wiPT09ZS5pbmhlcml0c0NvbG9yP3F5KHRoaXMudG8ub3B0aW9ucy5jb2xvci5ib3JkZXIsZS5vcGFjaXR5KTpxeSh0aGlzLmZyb20ub3B0aW9ucy5jb2xvci5ib3JkZXIsZS5vcGFjaXR5KX1yZXR1cm4gcXkoZS5jb2xvcixlLm9wYWNpdHkpfX0se2tleTpcIl9jaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3RoaXMuZW5hYmxlU2hhZG93KHQsZSk7dmFyIHI9MCxzPTIqTWF0aC5QSTtpZighdGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2UucmVuZGVyQmVoaW5kVGhlTm9kZSl7dmFyIGE9dGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2UuYW5nbGUsaD10aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZS5hbmdsZStNYXRoLlBJLGQ9dGhpcy5fZmluZEJvcmRlclBvc2l0aW9uQ2lyY2xlKHRoaXMuZnJvbSx0LHt4OmkseTpvLGxvdzphLGhpZ2g6aCxkaXJlY3Rpb246LTF9KSxsPXRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZSh0aGlzLmZyb20sdCx7eDppLHk6byxsb3c6YSxoaWdoOmgsZGlyZWN0aW9uOjF9KTtyPU1hdGguYXRhbjIoZC55LW8sZC54LWkpLHM9TWF0aC5hdGFuMihsLnktbyxsLngtaSl9dC5iZWdpblBhdGgoKSx0LmFyYyhpLG8sbixyLHMsITEpLHQuc3Ryb2tlKCksdGhpcy5kaXNhYmxlU2hhZG93KHQsZSl9fSx7a2V5OlwiZ2V0RGlzdGFuY2VUb0VkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7aWYodGhpcy5mcm9tIT10aGlzLnRvKXJldHVybiB0aGlzLl9nZXREaXN0YW5jZVRvRWRnZSh0LGUsaSxvLG4scik7dmFyIHM9JGModGhpcy5fZ2V0Q2lyY2xlRGF0YSh2b2lkIDApLDMpLGE9c1swXSxoPXNbMV0sZD1zWzJdLGw9YS1uLGM9aC1yO3JldHVybiBNYXRoLmFicyhNYXRoLnNxcnQobCpsK2MqYyktZCl9fSx7a2V5OlwiX2dldERpc3RhbmNlVG9MaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3ZhciBzPWktdCxhPW8tZSxoPSgobi10KSpzKyhyLWUpKmEpLyhzKnMrYSphKTtoPjE/aD0xOmg8MCYmKGg9MCk7dmFyIGQ9dCtoKnMtbixsPWUraCphLXI7cmV0dXJuIE1hdGguc3FydChkKmQrbCpsKX19LHtrZXk6XCJnZXRBcnJvd0RhdGFcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dmFyIHMsYSxoLGQsbCxjLHUsZj1yLndpZHRoO1wiZnJvbVwiPT09ZT8oaD10aGlzLmZyb20sZD10aGlzLnRvLGw9ci5mcm9tQXJyb3dTY2FsZTwwLGM9TWF0aC5hYnMoci5mcm9tQXJyb3dTY2FsZSksdT1yLmZyb21BcnJvd1R5cGUpOlwidG9cIj09PWU/KGg9dGhpcy50byxkPXRoaXMuZnJvbSxsPXIudG9BcnJvd1NjYWxlPDAsYz1NYXRoLmFicyhyLnRvQXJyb3dTY2FsZSksdT1yLnRvQXJyb3dUeXBlKTooaD10aGlzLnRvLGQ9dGhpcy5mcm9tLGw9ci5taWRkbGVBcnJvd1NjYWxlPDAsYz1NYXRoLmFicyhyLm1pZGRsZUFycm93U2NhbGUpLHU9ci5taWRkbGVBcnJvd1R5cGUpO3ZhciBwPTE1KmMrMypmO2lmKGghPWQpe3ZhciB2PXAvR18oaC54LWQueCxoLnktZC55KTtpZihcIm1pZGRsZVwiIT09ZSlpZighMD09PXRoaXMub3B0aW9ucy5zbW9vdGguZW5hYmxlZCl7dmFyIGc9dGhpcy5fZmluZEJvcmRlclBvc2l0aW9uKGgsdCx7dmlhOml9KSx5PXRoaXMuZ2V0UG9pbnQoZy50K3YqKFwiZnJvbVwiPT09ZT8xOi0xKSxpKTtzPU1hdGguYXRhbjIoZy55LXkueSxnLngteS54KSxhPWd9ZWxzZSBzPU1hdGguYXRhbjIoaC55LWQueSxoLngtZC54KSxhPXRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbihoLHQpO2Vsc2V7dmFyIG09KGw/LXY6dikvMixiPXRoaXMuZ2V0UG9pbnQoLjUrbSxpKSx3PXRoaXMuZ2V0UG9pbnQoLjUtbSxpKTtzPU1hdGguYXRhbjIoYi55LXcueSxiLngtdy54KSxhPXRoaXMuZ2V0UG9pbnQoLjUsaSl9fWVsc2V7dmFyIGs9JGModGhpcy5fZ2V0Q2lyY2xlRGF0YSh0KSwzKSxfPWtbMF0seD1rWzFdLEU9a1syXTtpZihcImZyb21cIj09PWUpe3ZhciBPPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLmFuZ2xlLEM9dGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2UuYW5nbGUrTWF0aC5QSSxTPXRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZSh0aGlzLmZyb20sdCx7eDpfLHk6eCxsb3c6TyxoaWdoOkMsZGlyZWN0aW9uOi0xfSk7cz0tMipTLnQqTWF0aC5QSSsxLjUqTWF0aC5QSSsuMSpNYXRoLlBJLGE9U31lbHNlIGlmKFwidG9cIj09PWUpe3ZhciBUPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLmFuZ2xlLE09dGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2UuYW5nbGUrTWF0aC5QSSxQPXRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZSh0aGlzLmZyb20sdCx7eDpfLHk6eCxsb3c6VCxoaWdoOk0sZGlyZWN0aW9uOjF9KTtzPS0yKlAudCpNYXRoLlBJKzEuNSpNYXRoLlBJLTEuMSpNYXRoLlBJLGE9UH1lbHNle3ZhciBEPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLmFuZ2xlLygyKk1hdGguUEkpO2E9dGhpcy5fcG9pbnRPbkNpcmNsZShfLHgsRSxEKSxzPS0yKkQqTWF0aC5QSSsxLjUqTWF0aC5QSSsuMSpNYXRoLlBJfX1yZXR1cm57cG9pbnQ6YSxjb3JlOnt4OmEueC0uOSpwKk1hdGguY29zKHMpLHk6YS55LS45KnAqTWF0aC5zaW4ocyl9LGFuZ2xlOnMsbGVuZ3RoOnAsdHlwZTp1fX19LHtrZXk6XCJkcmF3QXJyb3dIZWFkXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt0LnN0cm9rZVN0eWxlPXRoaXMuZ2V0Q29sb3IodCxlKSx0LmZpbGxTdHlsZT10LnN0cm9rZVN0eWxlLHQubGluZVdpZHRoPWUud2lkdGgsZHguZHJhdyh0LG4pJiYodGhpcy5lbmFibGVTaGFkb3codCxlKSxQdih0KS5jYWxsKHQpLHRoaXMuZGlzYWJsZVNoYWRvdyh0LGUpKX19LHtrZXk6XCJlbmFibGVTaGFkb3dcIix2YWx1ZTpmdW5jdGlvbih0LGUpeyEwPT09ZS5zaGFkb3cmJih0LnNoYWRvd0NvbG9yPWUuc2hhZG93Q29sb3IsdC5zaGFkb3dCbHVyPWUuc2hhZG93U2l6ZSx0LnNoYWRvd09mZnNldFg9ZS5zaGFkb3dYLHQuc2hhZG93T2Zmc2V0WT1lLnNoYWRvd1kpfX0se2tleTpcImRpc2FibGVTaGFkb3dcIix2YWx1ZTpmdW5jdGlvbih0LGUpeyEwPT09ZS5zaGFkb3cmJih0LnNoYWRvd0NvbG9yPVwicmdiYSgwLDAsMCwwKVwiLHQuc2hhZG93Qmx1cj0wLHQuc2hhZG93T2Zmc2V0WD0wLHQuc2hhZG93T2Zmc2V0WT0wKX19LHtrZXk6XCJkcmF3QmFja2dyb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoITEhPT1lLmJhY2tncm91bmQpe3ZhciBpPXtzdHJva2VTdHlsZTp0LnN0cm9rZVN0eWxlLGxpbmVXaWR0aDp0LmxpbmVXaWR0aCxkYXNoZXM6dC5kYXNoZXN9O3Quc3Ryb2tlU3R5bGU9ZS5iYWNrZ3JvdW5kQ29sb3IsdC5saW5lV2lkdGg9ZS5iYWNrZ3JvdW5kU2l6ZSx0aGlzLnNldFN0cm9rZURhc2hlZCh0LGUuYmFja2dyb3VuZERhc2hlcyksdC5zdHJva2UoKSx0LnN0cm9rZVN0eWxlPWkuc3Ryb2tlU3R5bGUsdC5saW5lV2lkdGg9aS5saW5lV2lkdGgsdC5kYXNoZXM9aS5kYXNoZXMsdGhpcy5zZXRTdHJva2VEYXNoZWQodCxlLmRhc2hlcyl9fX0se2tleTpcInNldFN0cm9rZURhc2hlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoITEhPT1lKWlmKHZvaWQgMCE9PXQuc2V0TGluZURhc2gpe3ZhciBpPWh1KGUpP2U6WzUsNV07dC5zZXRMaW5lRGFzaChpKX1lbHNlIGNvbnNvbGUud2FybihcInNldExpbmVEYXNoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLiBUaGUgZGFzaGVkIHN0cm9rZSBjYW5ub3QgYmUgdXNlZC5cIik7ZWxzZSB2b2lkIDAhPT10LnNldExpbmVEYXNoP3Quc2V0TGluZURhc2goW10pOmNvbnNvbGUud2FybihcInNldExpbmVEYXNoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLiBUaGUgZGFzaGVkIHN0cm9rZSBjYW5ub3QgYmUgdXNlZC5cIil9fV0pLHR9KCk7ZnVuY3Rpb24gZngodCxlKXt2YXIgaT1tdSh0KTtpZihkbCl7dmFyIG89ZGwodCk7ZSYmKG89WWYobykuY2FsbChvLChmdW5jdGlvbihlKXtyZXR1cm4gd2wodCxlKS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxvKX1yZXR1cm4gaX1mdW5jdGlvbiBweCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgaSxvLG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RnUoaT1meChPYmplY3QobiksITApKS5jYWxsKGksKGZ1bmN0aW9uKGUpe1psKHQsZSxuW2VdKX0pKTpEbD9SbCh0LERsKG4pKTpGdShvPWZ4KE9iamVjdChuKSkpLmNhbGwobywoZnVuY3Rpb24oZSl7WWwodCxlLHdsKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIHZ4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIGd4PWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9dngoaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIFhsKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiAkbChpLFt7a2V5OlwiX2ZpbmRCb3JkZXJQb3NpdGlvbkJlemllclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbyxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0aGlzLl9nZXRWaWFDb29yZGluYXRlcygpLHI9MTAscz0uMixhPSExLGg9MSxkPTAsbD10aGlzLnRvLGM9dGhpcy5vcHRpb25zLmVuZFBvaW50T2Zmc2V0P3RoaXMub3B0aW9ucy5lbmRQb2ludE9mZnNldC50bzowO3QuaWQ9PT10aGlzLmZyb20uaWQmJihsPXRoaXMuZnJvbSxhPSEwLGM9dGhpcy5vcHRpb25zLmVuZFBvaW50T2Zmc2V0P3RoaXMub3B0aW9ucy5lbmRQb2ludE9mZnNldC5mcm9tOjApLCExPT09dGhpcy5vcHRpb25zLmFycm93U3RyaWtldGhyb3VnaCYmKGM9MCk7dmFyIHU9MDtkb3tvPS41KihkK2gpLGk9dGhpcy5nZXRQb2ludChvLG4pO3ZhciBmPU1hdGguYXRhbjIobC55LWkueSxsLngtaS54KSxwPWwuZGlzdGFuY2VUb0JvcmRlcihlLGYpK2Msdj1NYXRoLnNxcnQoTWF0aC5wb3coaS54LWwueCwyKStNYXRoLnBvdyhpLnktbC55LDIpKSxnPXAtdjtpZihNYXRoLmFicyhnKTxzKWJyZWFrO2c8MD8hMT09PWE/ZD1vOmg9bzohMT09PWE/aD1vOmQ9bywrK3V9d2hpbGUoZDw9aCYmdTxyKTtyZXR1cm4gcHgocHgoe30saSkse30se3Q6b30pfX0se2tleTpcIl9nZXREaXN0YW5jZVRvQmV6aWVyRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyLHMpe3ZhciBhLGgsZCxsLGMsdT0xZTksZj10LHA9ZTtmb3IoaD0xO2g8MTA7aCsrKWQ9LjEqaCxsPU1hdGgucG93KDEtZCwyKSp0KzIqZCooMS1kKSpzLngrTWF0aC5wb3coZCwyKSppLGM9TWF0aC5wb3coMS1kLDIpKmUrMipkKigxLWQpKnMueStNYXRoLnBvdyhkLDIpKm8saD4wJiYodT0oYT10aGlzLl9nZXREaXN0YW5jZVRvTGluZShmLHAsbCxjLG4scikpPHU/YTp1KSxmPWwscD1jO3JldHVybiB1fX0se2tleTpcIl9iZXppZXJDdXJ2ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8odGhpcy5mcm9tUG9pbnQueCx0aGlzLmZyb21Qb2ludC55KSxudWxsIT1pJiZudWxsIT1pLng/bnVsbCE9byYmbnVsbCE9by54P3QuYmV6aWVyQ3VydmVUbyhpLngsaS55LG8ueCxvLnksdGhpcy50b1BvaW50LngsdGhpcy50b1BvaW50LnkpOnQucXVhZHJhdGljQ3VydmVUbyhpLngsaS55LHRoaXMudG9Qb2ludC54LHRoaXMudG9Qb2ludC55KTp0LmxpbmVUbyh0aGlzLnRvUG9pbnQueCx0aGlzLnRvUG9pbnQueSksdGhpcy5kcmF3QmFja2dyb3VuZCh0LGUpLHRoaXMuZW5hYmxlU2hhZG93KHQsZSksdC5zdHJva2UoKSx0aGlzLmRpc2FibGVTaGFkb3codCxlKX19LHtrZXk6XCJnZXRWaWFOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKX19XSksaX0odXgpO2Z1bmN0aW9uIHl4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIG14PWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9eXgoaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIFhsKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS52aWE9ci52aWEsci5fYm91bmRGdW5jdGlvbj1mdW5jdGlvbigpe3IucG9zaXRpb25CZXppZXJOb2RlKCl9LHIuX2JvZHkuZW1pdHRlci5vbihcIl9yZXBvc2l0aW9uQmV6aWVyTm9kZXNcIixyLl9ib3VuZEZ1bmN0aW9uKSxyfXJldHVybiAkbChpLFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe1ZfKEhrKGkucHJvdG90eXBlKSxcInNldE9wdGlvbnNcIix0aGlzKS5jYWxsKHRoaXMsdCk7dmFyIGU9ITE7dGhpcy5vcHRpb25zLnBoeXNpY3MhPT10LnBoeXNpY3MmJihlPSEwKSx0aGlzLm9wdGlvbnM9dCx0aGlzLmlkPXRoaXMub3B0aW9ucy5pZCx0aGlzLmZyb209dGhpcy5fYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMuZnJvbV0sdGhpcy50bz10aGlzLl9ib2R5Lm5vZGVzW3RoaXMub3B0aW9ucy50b10sdGhpcy5zZXR1cFN1cHBvcnROb2RlKCksdGhpcy5jb25uZWN0KCksITA9PT1lJiYodGhpcy52aWEuc2V0T3B0aW9ucyh7cGh5c2ljczp0aGlzLm9wdGlvbnMucGh5c2ljc30pLHRoaXMucG9zaXRpb25CZXppZXJOb2RlKCkpfX0se2tleTpcImNvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJvbT10aGlzLl9ib2R5Lm5vZGVzW3RoaXMub3B0aW9ucy5mcm9tXSx0aGlzLnRvPXRoaXMuX2JvZHkubm9kZXNbdGhpcy5vcHRpb25zLnRvXSx2b2lkIDA9PT10aGlzLmZyb218fHZvaWQgMD09PXRoaXMudG98fCExPT09dGhpcy5vcHRpb25zLnBoeXNpY3N8fHRoaXMuZnJvbS5pZD09PXRoaXMudG8uaWQ/dGhpcy52aWEuc2V0T3B0aW9ucyh7cGh5c2ljczohMX0pOnRoaXMudmlhLnNldE9wdGlvbnMoe3BoeXNpY3M6ITB9KX19LHtrZXk6XCJjbGVhbnVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keS5lbWl0dGVyLm9mZihcIl9yZXBvc2l0aW9uQmV6aWVyTm9kZXNcIix0aGlzLl9ib3VuZEZ1bmN0aW9uKSx2b2lkIDAhPT10aGlzLnZpYSYmKGRlbGV0ZSB0aGlzLl9ib2R5Lm5vZGVzW3RoaXMudmlhLmlkXSx0aGlzLnZpYT12b2lkIDAsITApfX0se2tleTpcInNldHVwU3VwcG9ydE5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMudmlhKXt2YXIgdD1cImVkZ2VJZDpcIit0aGlzLmlkLGU9dGhpcy5fYm9keS5mdW5jdGlvbnMuY3JlYXRlTm9kZSh7aWQ6dCxzaGFwZTpcImNpcmNsZVwiLHBoeXNpY3M6ITAsaGlkZGVuOiEwfSk7dGhpcy5fYm9keS5ub2Rlc1t0XT1lLHRoaXMudmlhPWUsdGhpcy52aWEucGFyZW50RWRnZUlkPXRoaXMuaWQsdGhpcy5wb3NpdGlvbkJlemllck5vZGUoKX19fSx7a2V5OlwicG9zaXRpb25CZXppZXJOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLnZpYSYmdm9pZCAwIT09dGhpcy5mcm9tJiZ2b2lkIDAhPT10aGlzLnRvPyh0aGlzLnZpYS54PS41Kih0aGlzLmZyb20ueCt0aGlzLnRvLngpLHRoaXMudmlhLnk9LjUqKHRoaXMuZnJvbS55K3RoaXMudG8ueSkpOnZvaWQgMCE9PXRoaXMudmlhJiYodGhpcy52aWEueD0wLHRoaXMudmlhLnk9MCl9fSx7a2V5OlwiX2xpbmVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5fYmV6aWVyQ3VydmUodCxlLGkpfX0se2tleTpcIl9nZXRWaWFDb29yZGluYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlhfX0se2tleTpcImdldFZpYU5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpYX19LHtrZXk6XCJnZXRQb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnZpYTtpZih0aGlzLmZyb209PT10aGlzLnRvKXt2YXIgaT10aGlzLl9nZXRDaXJjbGVEYXRhKCksbz0kYyhpLDMpLG49b1swXSxyPW9bMV0scz1vWzJdLGE9MipNYXRoLlBJKigxLXQpO3JldHVybnt4Om4rcypNYXRoLnNpbihhKSx5OnIrcy1zKigxLU1hdGguY29zKGEpKX19cmV0dXJue3g6TWF0aC5wb3coMS10LDIpKnRoaXMuZnJvbVBvaW50LngrMip0KigxLXQpKmUueCtNYXRoLnBvdyh0LDIpKnRoaXMudG9Qb2ludC54LHk6TWF0aC5wb3coMS10LDIpKnRoaXMuZnJvbVBvaW50LnkrMip0KigxLXQpKmUueStNYXRoLnBvdyh0LDIpKnRoaXMudG9Qb2ludC55fX19LHtrZXk6XCJfZmluZEJvcmRlclBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZmluZEJvcmRlclBvc2l0aW9uQmV6aWVyKHQsZSx0aGlzLnZpYSl9fSx7a2V5OlwiX2dldERpc3RhbmNlVG9FZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3JldHVybiB0aGlzLl9nZXREaXN0YW5jZVRvQmV6aWVyRWRnZSh0LGUsaSxvLG4scix0aGlzLnZpYSl9fV0pLGl9KGd4KTtmdW5jdGlvbiBieCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhemspcmV0dXJuITE7aWYoemsuc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh6ayhCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89SGsodCk7aWYoZSl7dmFyIG49SGsodGhpcykuY29uc3RydWN0b3I7aT16ayhvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGprKHRoaXMsaSl9fXZhciB3eD1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPWJ4KGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiBYbCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gJGwoaSxbe2tleTpcIl9saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2JlemllckN1cnZlKHQsZSxpKX19LHtrZXk6XCJnZXRWaWFOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKX19LHtrZXk6XCJfZ2V0VmlhQ29vcmRpbmF0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLm9wdGlvbnMuc21vb3RoLnJvdW5kbmVzcyxvPXRoaXMub3B0aW9ucy5zbW9vdGgudHlwZSxuPU1hdGguYWJzKHRoaXMuZnJvbS54LXRoaXMudG8ueCkscj1NYXRoLmFicyh0aGlzLmZyb20ueS10aGlzLnRvLnkpO2lmKFwiZGlzY3JldGVcIj09PW98fFwiZGlhZ29uYWxDcm9zc1wiPT09byl7dmFyIHMsYTtzPWE9bjw9cj9pKnI6aSpuLHRoaXMuZnJvbS54PnRoaXMudG8ueCYmKHM9LXMpLHRoaXMuZnJvbS55Pj10aGlzLnRvLnkmJihhPS1hKTt2YXIgaD10aGlzLmZyb20ueCtzLGQ9dGhpcy5mcm9tLnkrYTtyZXR1cm5cImRpc2NyZXRlXCI9PT1vJiYobjw9cj9oPW48aSpyP3RoaXMuZnJvbS54Omg6ZD1yPGkqbj90aGlzLmZyb20ueTpkKSx7eDpoLHk6ZH19aWYoXCJzdHJhaWdodENyb3NzXCI9PT1vKXt2YXIgbD0oMS1pKSpuLGM9KDEtaSkqcjtyZXR1cm4gbjw9cj8obD0wLHRoaXMuZnJvbS55PHRoaXMudG8ueSYmKGM9LWMpKToodGhpcy5mcm9tLng8dGhpcy50by54JiYobD0tbCksYz0wKSx7eDp0aGlzLnRvLngrbCx5OnRoaXMudG8ueStjfX1pZihcImhvcml6b250YWxcIj09PW8pe3ZhciB1PSgxLWkpKm47cmV0dXJuIHRoaXMuZnJvbS54PHRoaXMudG8ueCYmKHU9LXUpLHt4OnRoaXMudG8ueCt1LHk6dGhpcy5mcm9tLnl9fWlmKFwidmVydGljYWxcIj09PW8pe3ZhciBmPSgxLWkpKnI7cmV0dXJuIHRoaXMuZnJvbS55PHRoaXMudG8ueSYmKGY9LWYpLHt4OnRoaXMuZnJvbS54LHk6dGhpcy50by55K2Z9fWlmKFwiY3VydmVkQ1dcIj09PW8pe249dGhpcy50by54LXRoaXMuZnJvbS54LHI9dGhpcy5mcm9tLnktdGhpcy50by55O3ZhciBwPU1hdGguc3FydChuKm4rcipyKSx2PU1hdGguUEksZz0oTWF0aC5hdGFuMihyLG4pKyguNSppKy41KSp2KSUoMip2KTtyZXR1cm57eDp0aGlzLmZyb20ueCsoLjUqaSsuNSkqcCpNYXRoLnNpbihnKSx5OnRoaXMuZnJvbS55KyguNSppKy41KSpwKk1hdGguY29zKGcpfX1pZihcImN1cnZlZENDV1wiPT09byl7bj10aGlzLnRvLngtdGhpcy5mcm9tLngscj10aGlzLmZyb20ueS10aGlzLnRvLnk7dmFyIHk9TWF0aC5zcXJ0KG4qbityKnIpLG09TWF0aC5QSSxiPShNYXRoLmF0YW4yKHIsbikrKC41Ki1pKy41KSptKSUoMiptKTtyZXR1cm57eDp0aGlzLmZyb20ueCsoLjUqaSsuNSkqeSpNYXRoLnNpbihiKSx5OnRoaXMuZnJvbS55KyguNSppKy41KSp5Kk1hdGguY29zKGIpfX10PWU9bjw9cj9pKnI6aSpuLHRoaXMuZnJvbS54PnRoaXMudG8ueCYmKHQ9LXQpLHRoaXMuZnJvbS55Pj10aGlzLnRvLnkmJihlPS1lKTt2YXIgdz10aGlzLmZyb20ueCt0LGs9dGhpcy5mcm9tLnkrZTtyZXR1cm4gbjw9cj93PXRoaXMuZnJvbS54PD10aGlzLnRvLng/dGhpcy50by54PHc/dGhpcy50by54Onc6dGhpcy50by54Pnc/dGhpcy50by54Onc6az10aGlzLmZyb20ueT49dGhpcy50by55P3RoaXMudG8ueT5rP3RoaXMudG8ueTprOnRoaXMudG8ueTxrP3RoaXMudG8ueTprLHt4OncseTprfX19LHtrZXk6XCJfZmluZEJvcmRlclBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307cmV0dXJuIHRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkJlemllcih0LGUsaS52aWEpfX0se2tleTpcIl9nZXREaXN0YW5jZVRvRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XT9hcmd1bWVudHNbNl06dGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKTtyZXR1cm4gdGhpcy5fZ2V0RGlzdGFuY2VUb0JlemllckVkZ2UodCxlLGksbyxuLHIscyl9fSx7a2V5OlwiZ2V0UG9pbnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKSxpPXQsbz1NYXRoLnBvdygxLWksMikqdGhpcy5mcm9tUG9pbnQueCsyKmkqKDEtaSkqZS54K01hdGgucG93KGksMikqdGhpcy50b1BvaW50Lngsbj1NYXRoLnBvdygxLWksMikqdGhpcy5mcm9tUG9pbnQueSsyKmkqKDEtaSkqZS55K01hdGgucG93KGksMikqdGhpcy50b1BvaW50Lnk7cmV0dXJue3g6byx5Om59fX1dKSxpfShneCk7ZnVuY3Rpb24ga3godCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXprKXJldHVybiExO2lmKHprLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoemsoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPUhrKHQpO2lmKGUpe3ZhciBuPUhrKHRoaXMpLmNvbnN0cnVjdG9yO2k9emsobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqayh0aGlzLGkpfX12YXIgX3g9ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT1reChpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gWGwodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuICRsKGksW3trZXk6XCJfZ2V0RGlzdGFuY2VUb0JlemllckVkZ2UyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIscyxhKXtmb3IodmFyIGg9MWU5LGQ9dCxsPWUsYz1bMCwwLDAsMF0sdT0xO3U8MTA7dSsrKXt2YXIgZj0uMSp1O2NbMF09TWF0aC5wb3coMS1mLDMpLGNbMV09MypmKk1hdGgucG93KDEtZiwyKSxjWzJdPTMqTWF0aC5wb3coZiwyKSooMS1mKSxjWzNdPU1hdGgucG93KGYsMyk7dmFyIHA9Y1swXSp0K2NbMV0qcy54K2NbMl0qYS54K2NbM10qaSx2PWNbMF0qZStjWzFdKnMueStjWzJdKmEueStjWzNdKm87aWYodT4wKXt2YXIgZz10aGlzLl9nZXREaXN0YW5jZVRvTGluZShkLGwscCx2LG4scik7aD1nPGg/ZzpofWQ9cCxsPXZ9cmV0dXJuIGh9fV0pLGl9KGd4KTtmdW5jdGlvbiB4eCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhemspcmV0dXJuITE7aWYoemsuc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh6ayhCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89SGsodCk7aWYoZSl7dmFyIG49SGsodGhpcykuY29uc3RydWN0b3I7aT16ayhvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGprKHRoaXMsaSl9fXZhciBFeD1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPXh4KGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiBYbCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gJGwoaSxbe2tleTpcIl9saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWlbMF0sbj1pWzFdO3RoaXMuX2JlemllckN1cnZlKHQsZSxvLG4pfX0se2tleTpcIl9nZXRWaWFDb29yZGluYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG8sbj10aGlzLmZyb20ueC10aGlzLnRvLngscj10aGlzLmZyb20ueS10aGlzLnRvLnkscz10aGlzLm9wdGlvbnMuc21vb3RoLnJvdW5kbmVzcztyZXR1cm4oTWF0aC5hYnMobik+TWF0aC5hYnMocil8fCEwPT09dGhpcy5vcHRpb25zLnNtb290aC5mb3JjZURpcmVjdGlvbnx8XCJob3Jpem9udGFsXCI9PT10aGlzLm9wdGlvbnMuc21vb3RoLmZvcmNlRGlyZWN0aW9uKSYmXCJ2ZXJ0aWNhbFwiIT09dGhpcy5vcHRpb25zLnNtb290aC5mb3JjZURpcmVjdGlvbj8oZT10aGlzLmZyb20ueSxvPXRoaXMudG8ueSx0PXRoaXMuZnJvbS54LXMqbixpPXRoaXMudG8ueCtzKm4pOihlPXRoaXMuZnJvbS55LXMqcixvPXRoaXMudG8ueStzKnIsdD10aGlzLmZyb20ueCxpPXRoaXMudG8ueCksW3t4OnQseTplfSx7eDppLHk6b31dfX0se2tleTpcImdldFZpYU5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRWaWFDb29yZGluYXRlcygpfX0se2tleTpcIl9maW5kQm9yZGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9maW5kQm9yZGVyUG9zaXRpb25CZXppZXIodCxlKX19LHtrZXk6XCJfZ2V0RGlzdGFuY2VUb0VkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dmFyIHM9YXJndW1lbnRzLmxlbmd0aD42JiZ2b2lkIDAhPT1hcmd1bWVudHNbNl0/YXJndW1lbnRzWzZdOnRoaXMuX2dldFZpYUNvb3JkaW5hdGVzKCksYT0kYyhzLDIpLGg9YVswXSxkPWFbMV07cmV0dXJuIHRoaXMuX2dldERpc3RhbmNlVG9CZXppZXJFZGdlMih0LGUsaSxvLG4scixoLGQpfX0se2tleTpcImdldFBvaW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuX2dldFZpYUNvb3JkaW5hdGVzKCksaT0kYyhlLDIpLG89aVswXSxuPWlbMV0scj10LHM9W01hdGgucG93KDEtciwzKSwzKnIqTWF0aC5wb3coMS1yLDIpLDMqTWF0aC5wb3cociwyKSooMS1yKSxNYXRoLnBvdyhyLDMpXSxhPXNbMF0qdGhpcy5mcm9tUG9pbnQueCtzWzFdKm8ueCtzWzJdKm4ueCtzWzNdKnRoaXMudG9Qb2ludC54LGg9c1swXSp0aGlzLmZyb21Qb2ludC55K3NbMV0qby55K3NbMl0qbi55K3NbM10qdGhpcy50b1BvaW50Lnk7cmV0dXJue3g6YSx5Omh9fX1dKSxpfShfeCk7ZnVuY3Rpb24gT3godCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXprKXJldHVybiExO2lmKHprLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoemsoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPUhrKHQpO2lmKGUpe3ZhciBuPUhrKHRoaXMpLmNvbnN0cnVjdG9yO2k9emsobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqayh0aGlzLGkpfX12YXIgQ3g9ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT1PeChpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gWGwodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuICRsKGksW3trZXk6XCJfbGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyh0aGlzLmZyb21Qb2ludC54LHRoaXMuZnJvbVBvaW50LnkpLHQubGluZVRvKHRoaXMudG9Qb2ludC54LHRoaXMudG9Qb2ludC55KSx0aGlzLmVuYWJsZVNoYWRvdyh0LGUpLHQuc3Ryb2tlKCksdGhpcy5kaXNhYmxlU2hhZG93KHQsZSl9fSx7a2V5OlwiZ2V0VmlhTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcImdldFBvaW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue3g6KDEtdCkqdGhpcy5mcm9tUG9pbnQueCt0KnRoaXMudG9Qb2ludC54LHk6KDEtdCkqdGhpcy5mcm9tUG9pbnQueSt0KnRoaXMudG9Qb2ludC55fX19LHtrZXk6XCJfZmluZEJvcmRlclBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnRvLG89dGhpcy5mcm9tO3QuaWQ9PT10aGlzLmZyb20uaWQmJihpPXRoaXMuZnJvbSxvPXRoaXMudG8pO3ZhciBuPU1hdGguYXRhbjIoaS55LW8ueSxpLngtby54KSxyPWkueC1vLngscz1pLnktby55LGE9TWF0aC5zcXJ0KHIqcitzKnMpLGg9KGEtdC5kaXN0YW5jZVRvQm9yZGVyKGUsbikpL2E7cmV0dXJue3g6KDEtaCkqby54K2gqaS54LHk6KDEtaCkqby55K2gqaS55LHQ6MH19fSx7a2V5OlwiX2dldERpc3RhbmNlVG9FZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3JldHVybiB0aGlzLl9nZXREaXN0YW5jZVRvTGluZSh0LGUsaSxvLG4scil9fV0pLGl9KHV4KSxTeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8sbixyKXtpZihYbCh0aGlzLHQpLHZvaWQgMD09PWkpdGhyb3cgbmV3IEVycm9yKFwiTm8gYm9keSBwcm92aWRlZFwiKTt0aGlzLm9wdGlvbnM9SnkobiksdGhpcy5nbG9iYWxPcHRpb25zPW4sdGhpcy5kZWZhdWx0T3B0aW9ucz1yLHRoaXMuYm9keT1pLHRoaXMuaW1hZ2VsaXN0PW8sdGhpcy5pZD12b2lkIDAsdGhpcy5mcm9tSWQ9dm9pZCAwLHRoaXMudG9JZD12b2lkIDAsdGhpcy5zZWxlY3RlZD0hMSx0aGlzLmhvdmVyPSExLHRoaXMubGFiZWxEaXJ0eT0hMCx0aGlzLmJhc2VXaWR0aD10aGlzLm9wdGlvbnMud2lkdGgsdGhpcy5iYXNlRm9udFNpemU9dGhpcy5vcHRpb25zLmZvbnQuc2l6ZSx0aGlzLmZyb209dm9pZCAwLHRoaXMudG89dm9pZCAwLHRoaXMuZWRnZVR5cGU9dm9pZCAwLHRoaXMuY29ubmVjdGVkPSExLHRoaXMubGFiZWxNb2R1bGU9bmV3IGdrKHRoaXMuYm9keSx0aGlzLm9wdGlvbnMsITApLHRoaXMuc2V0T3B0aW9ucyhlKX1yZXR1cm4gJGwodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlKXt2YXIgaT12b2lkIDAhPT1lLnBoeXNpY3MmJnRoaXMub3B0aW9ucy5waHlzaWNzIT09ZS5waHlzaWNzfHx2b2lkIDAhPT1lLmhpZGRlbiYmKHRoaXMub3B0aW9ucy5oaWRkZW58fCExKSE9PShlLmhpZGRlbnx8ITEpfHx2b2lkIDAhPT1lLmZyb20mJnRoaXMub3B0aW9ucy5mcm9tIT09ZS5mcm9tfHx2b2lkIDAhPT1lLnRvJiZ0aGlzLm9wdGlvbnMudG8hPT1lLnRvO3QucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucyxlLCEwLHRoaXMuZ2xvYmFsT3B0aW9ucyksdm9pZCAwIT09ZS5pZCYmKHRoaXMuaWQ9ZS5pZCksdm9pZCAwIT09ZS5mcm9tJiYodGhpcy5mcm9tSWQ9ZS5mcm9tKSx2b2lkIDAhPT1lLnRvJiYodGhpcy50b0lkPWUudG8pLHZvaWQgMCE9PWUudGl0bGUmJih0aGlzLnRpdGxlPWUudGl0bGUpLHZvaWQgMCE9PWUudmFsdWUmJihlLnZhbHVlPVl3KGUudmFsdWUpKTt2YXIgbz1bZSx0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9uc107cmV0dXJuIHRoaXMuY2hvb3Nlcj1KdyhcImVkZ2VcIixvKSx0aGlzLnVwZGF0ZUxhYmVsTW9kdWxlKGUpLGk9dGhpcy51cGRhdGVFZGdlVHlwZSgpfHxpLHRoaXMuX3NldEludGVyYWN0aW9uV2lkdGhzKCksdGhpcy5jb25uZWN0KCksaX19fSx7a2V5OlwiZ2V0Rm9ybWF0dGluZ1ZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ITA9PT10aGlzLm9wdGlvbnMuYXJyb3dzLnRvfHwhMD09PXRoaXMub3B0aW9ucy5hcnJvd3MudG8uZW5hYmxlZCxlPSEwPT09dGhpcy5vcHRpb25zLmFycm93cy5mcm9tfHwhMD09PXRoaXMub3B0aW9ucy5hcnJvd3MuZnJvbS5lbmFibGVkLGk9ITA9PT10aGlzLm9wdGlvbnMuYXJyb3dzLm1pZGRsZXx8ITA9PT10aGlzLm9wdGlvbnMuYXJyb3dzLm1pZGRsZS5lbmFibGVkLG89dGhpcy5vcHRpb25zLmNvbG9yLmluaGVyaXQsbj17dG9BcnJvdzp0LHRvQXJyb3dTY2FsZTp0aGlzLm9wdGlvbnMuYXJyb3dzLnRvLnNjYWxlRmFjdG9yLHRvQXJyb3dUeXBlOnRoaXMub3B0aW9ucy5hcnJvd3MudG8udHlwZSx0b0Fycm93U3JjOnRoaXMub3B0aW9ucy5hcnJvd3MudG8uc3JjLHRvQXJyb3dJbWFnZVdpZHRoOnRoaXMub3B0aW9ucy5hcnJvd3MudG8uaW1hZ2VXaWR0aCx0b0Fycm93SW1hZ2VIZWlnaHQ6dGhpcy5vcHRpb25zLmFycm93cy50by5pbWFnZUhlaWdodCxtaWRkbGVBcnJvdzppLG1pZGRsZUFycm93U2NhbGU6dGhpcy5vcHRpb25zLmFycm93cy5taWRkbGUuc2NhbGVGYWN0b3IsbWlkZGxlQXJyb3dUeXBlOnRoaXMub3B0aW9ucy5hcnJvd3MubWlkZGxlLnR5cGUsbWlkZGxlQXJyb3dTcmM6dGhpcy5vcHRpb25zLmFycm93cy5taWRkbGUuc3JjLG1pZGRsZUFycm93SW1hZ2VXaWR0aDp0aGlzLm9wdGlvbnMuYXJyb3dzLm1pZGRsZS5pbWFnZVdpZHRoLG1pZGRsZUFycm93SW1hZ2VIZWlnaHQ6dGhpcy5vcHRpb25zLmFycm93cy5taWRkbGUuaW1hZ2VIZWlnaHQsZnJvbUFycm93OmUsZnJvbUFycm93U2NhbGU6dGhpcy5vcHRpb25zLmFycm93cy5mcm9tLnNjYWxlRmFjdG9yLGZyb21BcnJvd1R5cGU6dGhpcy5vcHRpb25zLmFycm93cy5mcm9tLnR5cGUsZnJvbUFycm93U3JjOnRoaXMub3B0aW9ucy5hcnJvd3MuZnJvbS5zcmMsZnJvbUFycm93SW1hZ2VXaWR0aDp0aGlzLm9wdGlvbnMuYXJyb3dzLmZyb20uaW1hZ2VXaWR0aCxmcm9tQXJyb3dJbWFnZUhlaWdodDp0aGlzLm9wdGlvbnMuYXJyb3dzLmZyb20uaW1hZ2VIZWlnaHQsYXJyb3dTdHJpa2V0aHJvdWdoOnRoaXMub3B0aW9ucy5hcnJvd1N0cmlrZXRocm91Z2gsY29sb3I6bz92b2lkIDA6dGhpcy5vcHRpb25zLmNvbG9yLmNvbG9yLGluaGVyaXRzQ29sb3I6byxvcGFjaXR5OnRoaXMub3B0aW9ucy5jb2xvci5vcGFjaXR5LGhpZGRlbjp0aGlzLm9wdGlvbnMuaGlkZGVuLGxlbmd0aDp0aGlzLm9wdGlvbnMubGVuZ3RoLHNoYWRvdzp0aGlzLm9wdGlvbnMuc2hhZG93LmVuYWJsZWQsc2hhZG93Q29sb3I6dGhpcy5vcHRpb25zLnNoYWRvdy5jb2xvcixzaGFkb3dTaXplOnRoaXMub3B0aW9ucy5zaGFkb3cuc2l6ZSxzaGFkb3dYOnRoaXMub3B0aW9ucy5zaGFkb3cueCxzaGFkb3dZOnRoaXMub3B0aW9ucy5zaGFkb3cueSxkYXNoZXM6dGhpcy5vcHRpb25zLmRhc2hlcyx3aWR0aDp0aGlzLm9wdGlvbnMud2lkdGgsYmFja2dyb3VuZDp0aGlzLm9wdGlvbnMuYmFja2dyb3VuZC5lbmFibGVkLGJhY2tncm91bmRDb2xvcjp0aGlzLm9wdGlvbnMuYmFja2dyb3VuZC5jb2xvcixiYWNrZ3JvdW5kU2l6ZTp0aGlzLm9wdGlvbnMuYmFja2dyb3VuZC5zaXplLGJhY2tncm91bmREYXNoZXM6dGhpcy5vcHRpb25zLmJhY2tncm91bmQuZGFzaGVzfTtpZih0aGlzLnNlbGVjdGVkfHx0aGlzLmhvdmVyKWlmKCEwPT09dGhpcy5jaG9vc2VyKXtpZih0aGlzLnNlbGVjdGVkKXt2YXIgcj10aGlzLm9wdGlvbnMuc2VsZWN0aW9uV2lkdGg7XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9uLndpZHRoPXIobi53aWR0aCk6XCJudW1iZXJcIj09dHlwZW9mIHImJihuLndpZHRoKz1yKSxuLndpZHRoPU1hdGgubWF4KG4ud2lkdGgsLjMvdGhpcy5ib2R5LnZpZXcuc2NhbGUpLG4uY29sb3I9dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodCxuLnNoYWRvdz10aGlzLm9wdGlvbnMuc2hhZG93LmVuYWJsZWR9ZWxzZSBpZih0aGlzLmhvdmVyKXt2YXIgcz10aGlzLm9wdGlvbnMuaG92ZXJXaWR0aDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBzP24ud2lkdGg9cyhuLndpZHRoKTpcIm51bWJlclwiPT10eXBlb2YgcyYmKG4ud2lkdGgrPXMpLG4ud2lkdGg9TWF0aC5tYXgobi53aWR0aCwuMy90aGlzLmJvZHkudmlldy5zY2FsZSksbi5jb2xvcj10aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIsbi5zaGFkb3c9dGhpcy5vcHRpb25zLnNoYWRvdy5lbmFibGVkfX1lbHNlXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5jaG9vc2VyJiYodGhpcy5jaG9vc2VyKG4sdGhpcy5vcHRpb25zLmlkLHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3Zlciksdm9pZCAwIT09bi5jb2xvciYmKG4uaW5oZXJpdHNDb2xvcj0hMSksITE9PT1uLnNoYWRvdyYmKG4uc2hhZG93Q29sb3I9PT10aGlzLm9wdGlvbnMuc2hhZG93LmNvbG9yJiZuLnNoYWRvd1NpemU9PT10aGlzLm9wdGlvbnMuc2hhZG93LnNpemUmJm4uc2hhZG93WD09PXRoaXMub3B0aW9ucy5zaGFkb3cueCYmbi5zaGFkb3dZPT09dGhpcy5vcHRpb25zLnNoYWRvdy55fHwobi5zaGFkb3c9ITApKSk7ZWxzZSBuLnNoYWRvdz10aGlzLm9wdGlvbnMuc2hhZG93LmVuYWJsZWQsbi53aWR0aD1NYXRoLm1heChuLndpZHRoLC4zL3RoaXMuYm9keS52aWV3LnNjYWxlKTtyZXR1cm4gbn19LHtrZXk6XCJ1cGRhdGVMYWJlbE1vZHVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVt0LHRoaXMub3B0aW9ucyx0aGlzLmdsb2JhbE9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9uc107dGhpcy5sYWJlbE1vZHVsZS51cGRhdGUodGhpcy5vcHRpb25zLGUpLHZvaWQgMCE9PXRoaXMubGFiZWxNb2R1bGUuYmFzZVNpemUmJih0aGlzLmJhc2VGb250U2l6ZT10aGlzLmxhYmVsTW9kdWxlLmJhc2VTaXplKX19LHtrZXk6XCJ1cGRhdGVFZGdlVHlwZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnNtb290aCxlPSExLGk9ITA7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZWRnZVR5cGUmJigodGhpcy5lZGdlVHlwZSBpbnN0YW5jZW9mIG14JiYhMD09PXQuZW5hYmxlZCYmXCJkeW5hbWljXCI9PT10LnR5cGV8fHRoaXMuZWRnZVR5cGUgaW5zdGFuY2VvZiBFeCYmITA9PT10LmVuYWJsZWQmJlwiY3ViaWNCZXppZXJcIj09PXQudHlwZXx8dGhpcy5lZGdlVHlwZSBpbnN0YW5jZW9mIHd4JiYhMD09PXQuZW5hYmxlZCYmXCJkeW5hbWljXCIhPT10LnR5cGUmJlwiY3ViaWNCZXppZXJcIiE9PXQudHlwZXx8dGhpcy5lZGdlVHlwZSBpbnN0YW5jZW9mIEN4JiYhMT09PXQudHlwZS5lbmFibGVkKSYmKGk9ITEpLCEwPT09aSYmKGU9dGhpcy5jbGVhbnVwKCkpKSwhMD09PWk/ITA9PT10LmVuYWJsZWQ/XCJkeW5hbWljXCI9PT10LnR5cGU/KGU9ITAsdGhpcy5lZGdlVHlwZT1uZXcgbXgodGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKSk6XCJjdWJpY0JlemllclwiPT09dC50eXBlP3RoaXMuZWRnZVR5cGU9bmV3IEV4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk6dGhpcy5lZGdlVHlwZT1uZXcgd3godGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTp0aGlzLmVkZ2VUeXBlPW5ldyBDeCh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpOnRoaXMuZWRnZVR5cGUuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLGV9fSx7a2V5OlwiY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kaXNjb25uZWN0KCksdGhpcy5mcm9tPXRoaXMuYm9keS5ub2Rlc1t0aGlzLmZyb21JZF18fHZvaWQgMCx0aGlzLnRvPXRoaXMuYm9keS5ub2Rlc1t0aGlzLnRvSWRdfHx2b2lkIDAsdGhpcy5jb25uZWN0ZWQ9dm9pZCAwIT09dGhpcy5mcm9tJiZ2b2lkIDAhPT10aGlzLnRvLCEwPT09dGhpcy5jb25uZWN0ZWQ/KHRoaXMuZnJvbS5hdHRhY2hFZGdlKHRoaXMpLHRoaXMudG8uYXR0YWNoRWRnZSh0aGlzKSk6KHRoaXMuZnJvbSYmdGhpcy5mcm9tLmRldGFjaEVkZ2UodGhpcyksdGhpcy50byYmdGhpcy50by5kZXRhY2hFZGdlKHRoaXMpKSx0aGlzLmVkZ2VUeXBlLmNvbm5lY3QoKX19LHtrZXk6XCJkaXNjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZyb20mJih0aGlzLmZyb20uZGV0YWNoRWRnZSh0aGlzKSx0aGlzLmZyb209dm9pZCAwKSx0aGlzLnRvJiYodGhpcy50by5kZXRhY2hFZGdlKHRoaXMpLHRoaXMudG89dm9pZCAwKSx0aGlzLmNvbm5lY3RlZD0hMX19LHtrZXk6XCJnZXRUaXRsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGl0bGV9fSx7a2V5OlwiaXNTZWxlY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWR9fSx7a2V5OlwiZ2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWV9fSx7a2V5Olwic2V0VmFsdWVSYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDAhPT10aGlzLm9wdGlvbnMudmFsdWUpe3ZhciBvPXRoaXMub3B0aW9ucy5zY2FsaW5nLmN1c3RvbVNjYWxpbmdGdW5jdGlvbih0LGUsaSx0aGlzLm9wdGlvbnMudmFsdWUpLG49dGhpcy5vcHRpb25zLnNjYWxpbmcubWF4LXRoaXMub3B0aW9ucy5zY2FsaW5nLm1pbjtpZighMD09PXRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLmVuYWJsZWQpe3ZhciByPXRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heC10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5taW47dGhpcy5vcHRpb25zLmZvbnQuc2l6ZT10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5taW4rbypyfXRoaXMub3B0aW9ucy53aWR0aD10aGlzLm9wdGlvbnMuc2NhbGluZy5taW4rbypufWVsc2UgdGhpcy5vcHRpb25zLndpZHRoPXRoaXMuYmFzZVdpZHRoLHRoaXMub3B0aW9ucy5mb250LnNpemU9dGhpcy5iYXNlRm9udFNpemU7dGhpcy5fc2V0SW50ZXJhY3Rpb25XaWR0aHMoKSx0aGlzLnVwZGF0ZUxhYmVsTW9kdWxlKCl9fSx7a2V5OlwiX3NldEludGVyYWN0aW9uV2lkdGhzXCIsdmFsdWU6ZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuaG92ZXJXaWR0aD90aGlzLmVkZ2VUeXBlLmhvdmVyV2lkdGg9dGhpcy5vcHRpb25zLmhvdmVyV2lkdGgodGhpcy5vcHRpb25zLndpZHRoKTp0aGlzLmVkZ2VUeXBlLmhvdmVyV2lkdGg9dGhpcy5vcHRpb25zLmhvdmVyV2lkdGgrdGhpcy5vcHRpb25zLndpZHRoLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25XaWR0aD90aGlzLmVkZ2VUeXBlLnNlbGVjdGlvbldpZHRoPXRoaXMub3B0aW9ucy5zZWxlY3Rpb25XaWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpOnRoaXMuZWRnZVR5cGUuc2VsZWN0aW9uV2lkdGg9dGhpcy5vcHRpb25zLnNlbGVjdGlvbldpZHRoK3RoaXMub3B0aW9ucy53aWR0aH19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRGb3JtYXR0aW5nVmFsdWVzKCk7aWYoIWUuaGlkZGVuKXt2YXIgaT10aGlzLmVkZ2VUeXBlLmdldFZpYU5vZGUoKTt0aGlzLmVkZ2VUeXBlLmRyYXdMaW5lKHQsZSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsaSksdGhpcy5kcmF3TGFiZWwodCxpKX19fSx7a2V5OlwiZHJhd0Fycm93c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Rm9ybWF0dGluZ1ZhbHVlcygpO2lmKCFlLmhpZGRlbil7dmFyIGk9dGhpcy5lZGdlVHlwZS5nZXRWaWFOb2RlKCksbz17fTt0aGlzLmVkZ2VUeXBlLmZyb21Qb2ludD10aGlzLmVkZ2VUeXBlLmZyb20sdGhpcy5lZGdlVHlwZS50b1BvaW50PXRoaXMuZWRnZVR5cGUudG8sZS5mcm9tQXJyb3cmJihvLmZyb209dGhpcy5lZGdlVHlwZS5nZXRBcnJvd0RhdGEodCxcImZyb21cIixpLHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcixlKSwhMT09PWUuYXJyb3dTdHJpa2V0aHJvdWdoJiYodGhpcy5lZGdlVHlwZS5mcm9tUG9pbnQ9by5mcm9tLmNvcmUpLGUuZnJvbUFycm93U3JjJiYoby5mcm9tLmltYWdlPXRoaXMuaW1hZ2VsaXN0LmxvYWQoZS5mcm9tQXJyb3dTcmMpKSxlLmZyb21BcnJvd0ltYWdlV2lkdGgmJihvLmZyb20uaW1hZ2VXaWR0aD1lLmZyb21BcnJvd0ltYWdlV2lkdGgpLGUuZnJvbUFycm93SW1hZ2VIZWlnaHQmJihvLmZyb20uaW1hZ2VIZWlnaHQ9ZS5mcm9tQXJyb3dJbWFnZUhlaWdodCkpLGUudG9BcnJvdyYmKG8udG89dGhpcy5lZGdlVHlwZS5nZXRBcnJvd0RhdGEodCxcInRvXCIsaSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsZSksITE9PT1lLmFycm93U3RyaWtldGhyb3VnaCYmKHRoaXMuZWRnZVR5cGUudG9Qb2ludD1vLnRvLmNvcmUpLGUudG9BcnJvd1NyYyYmKG8udG8uaW1hZ2U9dGhpcy5pbWFnZWxpc3QubG9hZChlLnRvQXJyb3dTcmMpKSxlLnRvQXJyb3dJbWFnZVdpZHRoJiYoby50by5pbWFnZVdpZHRoPWUudG9BcnJvd0ltYWdlV2lkdGgpLGUudG9BcnJvd0ltYWdlSGVpZ2h0JiYoby50by5pbWFnZUhlaWdodD1lLnRvQXJyb3dJbWFnZUhlaWdodCkpLGUubWlkZGxlQXJyb3cmJihvLm1pZGRsZT10aGlzLmVkZ2VUeXBlLmdldEFycm93RGF0YSh0LFwibWlkZGxlXCIsaSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsZSksZS5taWRkbGVBcnJvd1NyYyYmKG8ubWlkZGxlLmltYWdlPXRoaXMuaW1hZ2VsaXN0LmxvYWQoZS5taWRkbGVBcnJvd1NyYykpLGUubWlkZGxlQXJyb3dJbWFnZVdpZHRoJiYoby5taWRkbGUuaW1hZ2VXaWR0aD1lLm1pZGRsZUFycm93SW1hZ2VXaWR0aCksZS5taWRkbGVBcnJvd0ltYWdlSGVpZ2h0JiYoby5taWRkbGUuaW1hZ2VIZWlnaHQ9ZS5taWRkbGVBcnJvd0ltYWdlSGVpZ2h0KSksZS5mcm9tQXJyb3cmJnRoaXMuZWRnZVR5cGUuZHJhd0Fycm93SGVhZCh0LGUsdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyLG8uZnJvbSksZS5taWRkbGVBcnJvdyYmdGhpcy5lZGdlVHlwZS5kcmF3QXJyb3dIZWFkKHQsZSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsby5taWRkbGUpLGUudG9BcnJvdyYmdGhpcy5lZGdlVHlwZS5kcmF3QXJyb3dIZWFkKHQsZSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsby50byl9fX0se2tleTpcImRyYXdMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09dGhpcy5vcHRpb25zLmxhYmVsKXt2YXIgaSxvPXRoaXMuZnJvbSxuPXRoaXMudG87aWYodGhpcy5sYWJlbE1vZHVsZS5kaWZmZXJlbnRTdGF0ZSh0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIpJiZ0aGlzLmxhYmVsTW9kdWxlLmdldFRleHRTaXplKHQsdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyKSxvLmlkIT1uLmlkKXt0aGlzLmxhYmVsTW9kdWxlLnBvaW50VG9TZWxmPSExLGk9dGhpcy5lZGdlVHlwZS5nZXRQb2ludCguNSxlKSx0LnNhdmUoKTt2YXIgcj10aGlzLl9nZXRSb3RhdGlvbih0KTswIT1yLmFuZ2xlJiYodC50cmFuc2xhdGUoci54LHIueSksdC5yb3RhdGUoci5hbmdsZSkpLHRoaXMubGFiZWxNb2R1bGUuZHJhdyh0LGkueCxpLnksdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyKSx0LnJlc3RvcmUoKX1lbHNle3RoaXMubGFiZWxNb2R1bGUucG9pbnRUb1NlbGY9ITA7dmFyIHM9aWsodCx0aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZS5hbmdsZSx0aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZS5zaXplLG8pO2k9dGhpcy5fcG9pbnRPbkNpcmNsZShzLngscy55LHRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLnNpemUsdGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2UuYW5nbGUpLHRoaXMubGFiZWxNb2R1bGUuZHJhdyh0LGkueCxpLnksdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyKX19fX0se2tleTpcImdldEl0ZW1zT25Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKHRoaXMubGFiZWxNb2R1bGUudmlzaWJsZSgpKXt2YXIgaT10aGlzLl9nZXRSb3RhdGlvbigpO3RrKHRoaXMubGFiZWxNb2R1bGUuZ2V0U2l6ZSgpLHQsaSkmJmUucHVzaCh7ZWRnZUlkOnRoaXMuaWQsbGFiZWxJZDowfSl9dmFyIG89e2xlZnQ6dC54LHRvcDp0Lnl9O3JldHVybiB0aGlzLmlzT3ZlcmxhcHBpbmdXaXRoKG8pJiZlLnB1c2goe2VkZ2VJZDp0aGlzLmlkfSksZX19LHtrZXk6XCJpc092ZXJsYXBwaW5nV2l0aFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuY29ubmVjdGVkKXt2YXIgZT10aGlzLmZyb20ueCxpPXRoaXMuZnJvbS55LG89dGhpcy50by54LG49dGhpcy50by55LHI9dC5sZWZ0LHM9dC50b3A7cmV0dXJuIHRoaXMuZWRnZVR5cGUuZ2V0RGlzdGFuY2VUb0VkZ2UoZSxpLG8sbixyLHMpPDEwfXJldHVybiExfX0se2tleTpcIl9nZXRSb3RhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWRnZVR5cGUuZ2V0VmlhTm9kZSgpLGk9dGhpcy5lZGdlVHlwZS5nZXRQb2ludCguNSxlKTt2b2lkIDAhPT10JiZ0aGlzLmxhYmVsTW9kdWxlLmNhbGN1bGF0ZUxhYmVsU2l6ZSh0LHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcixpLngsaS55KTt2YXIgbz17eDppLngseTp0aGlzLmxhYmVsTW9kdWxlLnNpemUueUxpbmUsYW5nbGU6MH07aWYoIXRoaXMubGFiZWxNb2R1bGUudmlzaWJsZSgpKXJldHVybiBvO2lmKFwiaG9yaXpvbnRhbFwiPT09dGhpcy5vcHRpb25zLmZvbnQuYWxpZ24pcmV0dXJuIG87dmFyIG49dGhpcy5mcm9tLnktdGhpcy50by55LHI9dGhpcy5mcm9tLngtdGhpcy50by54LHM9TWF0aC5hdGFuMihuLHIpO3JldHVybihzPC0xJiZyPDB8fHM+MCYmcjwwKSYmKHMrPU1hdGguUEkpLG8uYW5nbGU9cyxvfX0se2tleTpcIl9wb2ludE9uQ2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJue3g6dCtpKk1hdGguY29zKG8pLHk6ZS1pKk1hdGguc2luKG8pfX19LHtrZXk6XCJzZWxlY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9ITB9fSx7a2V5OlwidW5zZWxlY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9ITF9fSx7a2V5OlwiY2xlYW51cFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZVR5cGUuY2xlYW51cCgpfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhbnVwKCksdGhpcy5kaXNjb25uZWN0KCksZGVsZXRlIHRoaXMuYm9keS5lZGdlc1t0aGlzLmlkXX19LHtrZXk6XCJlbmRQb2ludHNWYWxpZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0aGlzLmZyb21JZF0mJnZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0aGlzLnRvSWRdfX1dLFt7a2V5OlwicGFyc2VPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LG49YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxyPVtcImVuZFBvaW50T2Zmc2V0XCIsXCJhcnJvd1N0cmlrZXRocm91Z2hcIixcImlkXCIsXCJmcm9tXCIsXCJoaWRkZW5cIixcImhvdmVyV2lkdGhcIixcImxhYmVsSGlnaGxpZ2h0Qm9sZFwiLFwibGVuZ3RoXCIsXCJsaW5lXCIsXCJvcGFjaXR5XCIsXCJwaHlzaWNzXCIsXCJzY2FsaW5nXCIsXCJzZWxlY3Rpb25XaWR0aFwiLFwic2VsZlJlZmVyZW5jZVNpemVcIixcInNlbGZSZWZlcmVuY2VcIixcInRvXCIsXCJ0aXRsZVwiLFwidmFsdWVcIixcIndpZHRoXCIsXCJmb250XCIsXCJjaG9zZW5cIixcIndpZHRoQ29uc3RyYWludFwiXTtpZihOeShyLHQsZSxpKSx2b2lkIDAhPT1lLmVuZFBvaW50T2Zmc2V0JiZ2b2lkIDAhPT1lLmVuZFBvaW50T2Zmc2V0LmZyb20mJihNdyhlLmVuZFBvaW50T2Zmc2V0LmZyb20pP3QuZW5kUG9pbnRPZmZzZXQuZnJvbT1lLmVuZFBvaW50T2Zmc2V0LmZyb206KHQuZW5kUG9pbnRPZmZzZXQuZnJvbT12b2lkIDAhPT1vLmVuZFBvaW50T2Zmc2V0LmZyb20/by5lbmRQb2ludE9mZnNldC5mcm9tOjAsY29uc29sZS5lcnJvcihcImVuZFBvaW50T2Zmc2V0LmZyb20gaXMgbm90IGEgdmFsaWQgbnVtYmVyXCIpKSksdm9pZCAwIT09ZS5lbmRQb2ludE9mZnNldCYmdm9pZCAwIT09ZS5lbmRQb2ludE9mZnNldC50byYmKE13KGUuZW5kUG9pbnRPZmZzZXQudG8pP3QuZW5kUG9pbnRPZmZzZXQudG89ZS5lbmRQb2ludE9mZnNldC50bzoodC5lbmRQb2ludE9mZnNldC50bz12b2lkIDAhPT1vLmVuZFBvaW50T2Zmc2V0LnRvP28uZW5kUG9pbnRPZmZzZXQudG86MCxjb25zb2xlLmVycm9yKFwiZW5kUG9pbnRPZmZzZXQudG8gaXMgbm90IGEgdmFsaWQgbnVtYmVyXCIpKSksZWsoZS5sYWJlbCk/dC5sYWJlbD1lLmxhYmVsOmVrKHQubGFiZWwpfHwodC5sYWJlbD12b2lkIDApLHRtKHQsZSxcInNtb290aFwiLG8pLHRtKHQsZSxcInNoYWRvd1wiLG8pLHRtKHQsZSxcImJhY2tncm91bmRcIixvKSx2b2lkIDAhPT1lLmRhc2hlcyYmbnVsbCE9PWUuZGFzaGVzP3QuZGFzaGVzPWUuZGFzaGVzOiEwPT09aSYmbnVsbD09PWUuZGFzaGVzJiYodC5kYXNoZXM9SHAoby5kYXNoZXMpKSx2b2lkIDAhPT1lLnNjYWxpbmcmJm51bGwhPT1lLnNjYWxpbmc/KHZvaWQgMCE9PWUuc2NhbGluZy5taW4mJih0LnNjYWxpbmcubWluPWUuc2NhbGluZy5taW4pLHZvaWQgMCE9PWUuc2NhbGluZy5tYXgmJih0LnNjYWxpbmcubWF4PWUuc2NhbGluZy5tYXgpLHRtKHQuc2NhbGluZyxlLnNjYWxpbmcsXCJsYWJlbFwiLG8uc2NhbGluZykpOiEwPT09aSYmbnVsbD09PWUuc2NhbGluZyYmKHQuc2NhbGluZz1IcChvLnNjYWxpbmcpKSx2b2lkIDAhPT1lLmFycm93cyYmbnVsbCE9PWUuYXJyb3dzKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlLmFycm93cyl7dmFyIHM9ZS5hcnJvd3MudG9Mb3dlckNhc2UoKTt0LmFycm93cy50by5lbmFibGVkPS0xIT16cChzKS5jYWxsKHMsXCJ0b1wiKSx0LmFycm93cy5taWRkbGUuZW5hYmxlZD0tMSE9enAocykuY2FsbChzLFwibWlkZGxlXCIpLHQuYXJyb3dzLmZyb20uZW5hYmxlZD0tMSE9enAocykuY2FsbChzLFwiZnJvbVwiKX1lbHNle2lmKFwib2JqZWN0XCIhPT1RYyhlLmFycm93cykpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGFycm93IG5ld09wdGlvbnMgY2FuIG9ubHkgYmUgYW4gb2JqZWN0IG9yIGEgc3RyaW5nLiBSZWZlciB0byB0aGUgZG9jdW1lbnRhdGlvbi4gWW91IHVzZWQ6XCIraHYoZS5hcnJvd3MpKTt0bSh0LmFycm93cyxlLmFycm93cyxcInRvXCIsby5hcnJvd3MpLHRtKHQuYXJyb3dzLGUuYXJyb3dzLFwibWlkZGxlXCIsby5hcnJvd3MpLHRtKHQuYXJyb3dzLGUuYXJyb3dzLFwiZnJvbVwiLG8uYXJyb3dzKX1lbHNlITA9PT1pJiZudWxsPT09ZS5hcnJvd3MmJih0LmFycm93cz1IcChvLmFycm93cykpO2lmKHZvaWQgMCE9PWUuY29sb3ImJm51bGwhPT1lLmNvbG9yKXt2YXIgYT1CeShlLmNvbG9yKT97Y29sb3I6ZS5jb2xvcixoaWdobGlnaHQ6ZS5jb2xvcixob3ZlcjplLmNvbG9yLGluaGVyaXQ6ITEsb3BhY2l0eToxfTplLmNvbG9yLGg9dC5jb2xvcjtpZihuKVJ5KGgsby5jb2xvciwhMSxpKTtlbHNlIGZvcih2YXIgZCBpbiBoKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLGQpJiZkZWxldGUgaFtkXTtpZihCeShoKSloLmNvbG9yPWgsaC5oaWdobGlnaHQ9aCxoLmhvdmVyPWgsaC5pbmhlcml0PSExLHZvaWQgMD09PWEub3BhY2l0eSYmKGgub3BhY2l0eT0xKTtlbHNle3ZhciBsPSExO3ZvaWQgMCE9PWEuY29sb3ImJihoLmNvbG9yPWEuY29sb3IsbD0hMCksdm9pZCAwIT09YS5oaWdobGlnaHQmJihoLmhpZ2hsaWdodD1hLmhpZ2hsaWdodCxsPSEwKSx2b2lkIDAhPT1hLmhvdmVyJiYoaC5ob3Zlcj1hLmhvdmVyLGw9ITApLHZvaWQgMCE9PWEuaW5oZXJpdCYmKGguaW5oZXJpdD1hLmluaGVyaXQpLHZvaWQgMCE9PWEub3BhY2l0eSYmKGgub3BhY2l0eT1NYXRoLm1pbigxLE1hdGgubWF4KDAsYS5vcGFjaXR5KSkpLCEwPT09bD9oLmluaGVyaXQ9ITE6dm9pZCAwPT09aC5pbmhlcml0JiYoaC5pbmhlcml0PVwiZnJvbVwiKX19ZWxzZSEwPT09aSYmbnVsbD09PWUuY29sb3ImJih0LmNvbG9yPUp5KG8uY29sb3IpKTshMD09PWkmJm51bGw9PT1lLmZvbnQmJih0LmZvbnQ9Snkoby5mb250KSksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZWxmUmVmZXJlbmNlU2l6ZVwiKSYmKGNvbnNvbGUud2FybihcIlRoZSBzZWxmUmVmZXJlbmNlU2l6ZSBwcm9wZXJ0eSBoYXMgYmVlbiBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHNlbGZSZWZlcmVuY2UgcHJvcGVydHkgaW5zdGVhZC4gVGhlIHNlbGZSZWZlcmVuY2UgY2FuIGJlIHNldCBsaWtlIHRoaXNlIHNlbGZSZWZlcmVuY2U6e3NpemU6MzAsIGFuZ2xlOk1hdGguUEkgLyA0fVwiKSx0LnNlbGZSZWZlcmVuY2Uuc2l6ZT1lLnNlbGZSZWZlcmVuY2VTaXplKX19XSksdH0oKSxUeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe3ZhciBuLHI9dGhpcztYbCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuaW1hZ2VzPWksdGhpcy5ncm91cHM9byx0aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZUVkZ2U9Rm8obj10aGlzLmNyZWF0ZSkuY2FsbChuLHRoaXMpLHRoaXMuZWRnZXNMaXN0ZW5lcnM9e2FkZDpmdW5jdGlvbih0LGUpe3IuYWRkKGUuaXRlbXMpfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXtyLnVwZGF0ZShlLml0ZW1zKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7ci5yZW1vdmUoZS5pdGVtcyl9fSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17YXJyb3dzOnt0bzp7ZW5hYmxlZDohMSxzY2FsZUZhY3RvcjoxLHR5cGU6XCJhcnJvd1wifSxtaWRkbGU6e2VuYWJsZWQ6ITEsc2NhbGVGYWN0b3I6MSx0eXBlOlwiYXJyb3dcIn0sZnJvbTp7ZW5hYmxlZDohMSxzY2FsZUZhY3RvcjoxLHR5cGU6XCJhcnJvd1wifX0sZW5kUG9pbnRPZmZzZXQ6e2Zyb206MCx0bzowfSxhcnJvd1N0cmlrZXRocm91Z2g6ITAsY29sb3I6e2NvbG9yOlwiIzg0ODQ4NFwiLGhpZ2hsaWdodDpcIiM4NDg0ODRcIixob3ZlcjpcIiM4NDg0ODRcIixpbmhlcml0OlwiZnJvbVwiLG9wYWNpdHk6MX0sZGFzaGVzOiExLGZvbnQ6e2NvbG9yOlwiIzM0MzQzNFwiLHNpemU6MTQsZmFjZTpcImFyaWFsXCIsYmFja2dyb3VuZDpcIm5vbmVcIixzdHJva2VXaWR0aDoyLHN0cm9rZUNvbG9yOlwiI2ZmZmZmZlwiLGFsaWduOlwiaG9yaXpvbnRhbFwiLG11bHRpOiExLHZhZGp1c3Q6MCxib2xkOnttb2Q6XCJib2xkXCJ9LGJvbGRpdGFsOnttb2Q6XCJib2xkIGl0YWxpY1wifSxpdGFsOnttb2Q6XCJpdGFsaWNcIn0sbW9ubzp7bW9kOlwiXCIsc2l6ZToxNSxmYWNlOlwiY291cmllciBuZXdcIix2YWRqdXN0OjJ9fSxoaWRkZW46ITEsaG92ZXJXaWR0aDoxLjUsbGFiZWw6dm9pZCAwLGxhYmVsSGlnaGxpZ2h0Qm9sZDohMCxsZW5ndGg6dm9pZCAwLHBoeXNpY3M6ITAsc2NhbGluZzp7bWluOjEsbWF4OjE1LGxhYmVsOntlbmFibGVkOiEwLG1pbjoxNCxtYXg6MzAsbWF4VmlzaWJsZTozMCxkcmF3VGhyZXNob2xkOjV9LGN1c3RvbVNjYWxpbmdGdW5jdGlvbjpmdW5jdGlvbih0LGUsaSxvKXtpZihlPT09dClyZXR1cm4uNTt2YXIgbj0xLyhlLXQpO3JldHVybiBNYXRoLm1heCgwLChvLXQpKm4pfX0sc2VsZWN0aW9uV2lkdGg6MS41LHNlbGZSZWZlcmVuY2U6e3NpemU6MjAsYW5nbGU6TWF0aC5QSS80LHJlbmRlckJlaGluZFRoZU5vZGU6ITB9LHNoYWRvdzp7ZW5hYmxlZDohMSxjb2xvcjpcInJnYmEoMCwwLDAsMC41KVwiLHNpemU6MTAseDo1LHk6NX0sYmFja2dyb3VuZDp7ZW5hYmxlZDohMSxjb2xvcjpcInJnYmEoMTExLDExMSwxMTEsMSlcIixzaXplOjEwLGRhc2hlczohMX0sc21vb3RoOntlbmFibGVkOiEwLHR5cGU6XCJkeW5hbWljXCIsZm9yY2VEaXJlY3Rpb246XCJub25lXCIscm91bmRuZXNzOi41fSx0aXRsZTp2b2lkIDAsd2lkdGg6MSx2YWx1ZTp2b2lkIDB9LFJ5KHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJpbmRFdmVudExpc3RlbmVycygpfXJldHVybiAkbCh0LFt7a2V5OlwiYmluZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9mb3JjZURpc2FibGVEeW5hbWljQ3VydmVzXCIsKGZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07XCJkeW5hbWljXCI9PT10JiYodD1cImNvbnRpbnVvdXNcIik7dmFyIG89ITE7Zm9yKHZhciBuIGluIGkuYm9keS5lZGdlcylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaS5ib2R5LmVkZ2VzLG4pKXt2YXIgcj1pLmJvZHkuZWRnZXNbbl0scz1pLmJvZHkuZGF0YS5lZGdlcy5nZXQobik7aWYobnVsbCE9cyl7dmFyIGE9cy5zbW9vdGg7dm9pZCAwIT09YSYmITA9PT1hLmVuYWJsZWQmJlwiZHluYW1pY1wiPT09YS50eXBlJiYodm9pZCAwPT09dD9yLnNldE9wdGlvbnMoe3Ntb290aDohMX0pOnIuc2V0T3B0aW9ucyh7c21vb3RoOnt0eXBlOnR9fSksbz0hMCl9fSEwPT09ZSYmITA9PT1vJiZpLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2RhdGFVcGRhdGVkXCIsKGZ1bmN0aW9uKCl7aS5yZWNvbm5lY3RFZGdlcygpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVmcmVzaEVkZ2VzXCIsRm8odD10aGlzLnJlZnJlc2gpLmNhbGwodCx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJyZWZyZXNoXCIsRm8oZT10aGlzLnJlZnJlc2gpLmNhbGwoZSx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkZXN0cm95XCIsKGZ1bmN0aW9uKCl7V3koaS5lZGdlc0xpc3RlbmVycywoZnVuY3Rpb24odCxlKXtpLmJvZHkuZGF0YS5lZGdlcyYmaS5ib2R5LmRhdGEuZWRnZXMub2ZmKGUsdCl9KSksZGVsZXRlIGkuYm9keS5mdW5jdGlvbnMuY3JlYXRlRWRnZSxkZWxldGUgaS5lZGdlc0xpc3RlbmVycy5hZGQsZGVsZXRlIGkuZWRnZXNMaXN0ZW5lcnMudXBkYXRlLGRlbGV0ZSBpLmVkZ2VzTGlzdGVuZXJzLnJlbW92ZSxkZWxldGUgaS5lZGdlc0xpc3RlbmVyc30pKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7U3gucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucyx0LCEwLHRoaXMuZGVmYXVsdE9wdGlvbnMsITApO3ZhciBlPSExO2lmKHZvaWQgMCE9PXQuc21vb3RoKWZvcih2YXIgaSBpbiB0aGlzLmJvZHkuZWRnZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm9keS5lZGdlcyxpKSYmKGU9dGhpcy5ib2R5LmVkZ2VzW2ldLnVwZGF0ZUVkZ2VUeXBlKCl8fGUpO2lmKHZvaWQgMCE9PXQuZm9udClmb3IodmFyIG8gaW4gdGhpcy5ib2R5LmVkZ2VzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvZHkuZWRnZXMsbykmJnRoaXMuYm9keS5lZGdlc1tvXS51cGRhdGVMYWJlbE1vZHVsZSgpO3ZvaWQgMD09PXQuaGlkZGVuJiZ2b2lkIDA9PT10LnBoeXNpY3MmJiEwIT09ZXx8dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19fSx7a2V5Olwic2V0RGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsbz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49dGhpcy5ib2R5LmRhdGEuZWRnZXM7aWYoZS5pc0RhdGFWaWV3TGlrZShcImlkXCIsdCkpdGhpcy5ib2R5LmRhdGEuZWRnZXM9dDtlbHNlIGlmKGh1KHQpKXRoaXMuYm9keS5kYXRhLmVkZ2VzPW5ldyBlLkRhdGFTZXQsdGhpcy5ib2R5LmRhdGEuZWRnZXMuYWRkKHQpO2Vsc2V7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkgb3IgRGF0YVNldCBleHBlY3RlZFwiKTt0aGlzLmJvZHkuZGF0YS5lZGdlcz1uZXcgZS5EYXRhU2V0fWlmKG4mJld5KHRoaXMuZWRnZXNMaXN0ZW5lcnMsKGZ1bmN0aW9uKHQsZSl7bi5vZmYoZSx0KX0pKSx0aGlzLmJvZHkuZWRnZXM9e30sdGhpcy5ib2R5LmRhdGEuZWRnZXMpe1d5KHRoaXMuZWRnZXNMaXN0ZW5lcnMsKGZ1bmN0aW9uKHQsZSl7aS5ib2R5LmRhdGEuZWRnZXMub24oZSx0KX0pKTt2YXIgcj10aGlzLmJvZHkuZGF0YS5lZGdlcy5nZXRJZHMoKTt0aGlzLmFkZChyLCEwKX10aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2FkanVzdEVkZ2VzRm9ySGllcmFyY2hpY2FsTGF5b3V0XCIpLCExPT09byYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxpPXRoaXMuYm9keS5lZGdlcyxvPXRoaXMuYm9keS5kYXRhLmVkZ2VzLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxzPWlbcl07cyYmcy5kaXNjb25uZWN0KCk7dmFyIGE9by5nZXQocix7c2hvd0ludGVybmFsSWRzOiEwfSk7aVtyXT10aGlzLmNyZWF0ZShhKX10aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2FkanVzdEVkZ2VzRm9ySGllcmFyY2hpY2FsTGF5b3V0XCIpLCExPT09ZSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5LmVkZ2VzLGk9dGhpcy5ib2R5LmRhdGEuZWRnZXMsbz0hMSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0scz1pLmdldChyKSxhPWVbcl07dm9pZCAwIT09YT8oYS5kaXNjb25uZWN0KCksbz1hLnNldE9wdGlvbnMocyl8fG8sYS5jb25uZWN0KCkpOih0aGlzLmJvZHkuZWRnZXNbcl09dGhpcy5jcmVhdGUocyksbz0hMCl9ITA9PT1vPyh0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2FkanVzdEVkZ2VzRm9ySGllcmFyY2hpY2FsTGF5b3V0XCIpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIikpOnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YVVwZGF0ZWRcIil9fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZigwIT09dC5sZW5ndGgpe3ZhciBpPXRoaXMuYm9keS5lZGdlcztXeSh0LChmdW5jdGlvbih0KXt2YXIgZT1pW3RdO3ZvaWQgMCE9PWUmJmUucmVtb3ZlKCl9KSksZSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19fSx7a2V5OlwicmVmcmVzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztXeSh0aGlzLmJvZHkuZWRnZXMsKGZ1bmN0aW9uKGUsaSl7dmFyIG89dC5ib2R5LmRhdGEuZWRnZXMuZ2V0KGkpO3ZvaWQgMCE9PW8mJmUuc2V0T3B0aW9ucyhvKX0pKX19LHtrZXk6XCJjcmVhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFN4KHQsdGhpcy5ib2R5LHRoaXMuaW1hZ2VzLHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKX19LHtrZXk6XCJyZWNvbm5lY3RFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmJvZHkubm9kZXMsaT10aGlzLmJvZHkuZWRnZXM7Zm9yKHQgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmKGVbdF0uZWRnZXM9W10pO2Zvcih0IGluIGkpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksdCkpe3ZhciBvPWlbdF07by5mcm9tPW51bGwsby50bz1udWxsLG8uY29ubmVjdCgpfX19LHtrZXk6XCJnZXRDb25uZWN0ZWROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKHZvaWQgMCE9PXRoaXMuYm9keS5lZGdlc1t0XSl7dmFyIGk9dGhpcy5ib2R5LmVkZ2VzW3RdO3ZvaWQgMCE9PWkuZnJvbUlkJiZlLnB1c2goaS5mcm9tSWQpLHZvaWQgMCE9PWkudG9JZCYmZS5wdXNoKGkudG9JZCl9cmV0dXJuIGV9fSx7a2V5OlwiX3VwZGF0ZVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9hZGRNaXNzaW5nRWRnZXMoKSx0aGlzLl9yZW1vdmVJbnZhbGlkRWRnZXMoKX19LHtrZXk6XCJfcmVtb3ZlSW52YWxpZEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9W107V3kodGhpcy5ib2R5LmVkZ2VzLChmdW5jdGlvbihpLG8pe3ZhciBuPXQuYm9keS5ub2Rlc1tpLnRvSWRdLHI9dC5ib2R5Lm5vZGVzW2kuZnJvbUlkXTt2b2lkIDAhPT1uJiYhMD09PW4uaXNDbHVzdGVyfHx2b2lkIDAhPT1yJiYhMD09PXIuaXNDbHVzdGVyfHx2b2lkIDAhPT1uJiZ2b2lkIDAhPT1yfHxlLnB1c2gobyl9KSksdGhpcy5yZW1vdmUoZSwhMSl9fSx7a2V5OlwiX2FkZE1pc3NpbmdFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5LmRhdGEuZWRnZXM7aWYobnVsbCE9dCl7dmFyIGU9dGhpcy5ib2R5LmVkZ2VzLGk9W107RnUodCkuY2FsbCh0LChmdW5jdGlvbih0LG8pe3ZvaWQgMD09PWVbb10mJmkucHVzaChvKX0pKSx0aGlzLmFkZChpLCEwKX19fV0pLHR9KCksTXg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXtYbCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGh5c2ljc0JvZHk9aSx0aGlzLmJhcm5lc0h1dFRyZWUsdGhpcy5zZXRPcHRpb25zKG8pLHRoaXMuX3JuZz1feShcIkJBUk5FUyBIVVQgU09MVkVSXCIpfXJldHVybiAkbCh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10LHRoaXMudGhldGFJbnZlcnNlZD0xL3RoaXMub3B0aW9ucy50aGV0YSx0aGlzLm92ZXJsYXBBdm9pZGFuY2VGYWN0b3I9MS1NYXRoLm1heCgwLE1hdGgubWluKDEsdGhpcy5vcHRpb25zLmF2b2lkT3ZlcmxhcCkpfX0se2tleTpcInNvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5vcHRpb25zLmdyYXZpdGF0aW9uYWxDb25zdGFudCYmdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMubGVuZ3RoPjApe3ZhciB0LGU9dGhpcy5ib2R5Lm5vZGVzLGk9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMsbz1pLmxlbmd0aCxuPXRoaXMuX2Zvcm1CYXJuZXNIdXRUcmVlKGUsaSk7dGhpcy5iYXJuZXNIdXRUcmVlPW47Zm9yKHZhciByPTA7cjxvO3IrKykodD1lW2lbcl1dKS5vcHRpb25zLm1hc3M+MCYmdGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb25zKG4ucm9vdCx0KX19fSx7a2V5OlwiX2dldEZvcmNlQ29udHJpYnV0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb24odC5jaGlsZHJlbi5OVyxlKSx0aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbih0LmNoaWxkcmVuLk5FLGUpLHRoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9uKHQuY2hpbGRyZW4uU1csZSksdGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb24odC5jaGlsZHJlbi5TRSxlKX19LHtrZXk6XCJfZ2V0Rm9yY2VDb250cmlidXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHQuY2hpbGRyZW5Db3VudD4wKXt2YXIgaT10LmNlbnRlck9mTWFzcy54LWUueCxvPXQuY2VudGVyT2ZNYXNzLnktZS55LG49TWF0aC5zcXJ0KGkqaStvKm8pO24qdC5jYWxjU2l6ZT50aGlzLnRoZXRhSW52ZXJzZWQ/dGhpcy5fY2FsY3VsYXRlRm9yY2VzKG4saSxvLGUsdCk6ND09PXQuY2hpbGRyZW5Db3VudD90aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbnModCxlKTp0LmNoaWxkcmVuLmRhdGEuaWQhPWUuaWQmJnRoaXMuX2NhbGN1bGF0ZUZvcmNlcyhuLGksbyxlLHQpfX19LHtrZXk6XCJfY2FsY3VsYXRlRm9yY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXswPT09dCYmKGU9dD0uMSksdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yPDEmJm8uc2hhcGUucmFkaXVzJiYodD1NYXRoLm1heCguMSt0aGlzLm92ZXJsYXBBdm9pZGFuY2VGYWN0b3Iqby5zaGFwZS5yYWRpdXMsdC1vLnNoYXBlLnJhZGl1cykpO3ZhciByPXRoaXMub3B0aW9ucy5ncmF2aXRhdGlvbmFsQ29uc3RhbnQqbi5tYXNzKm8ub3B0aW9ucy5tYXNzL01hdGgucG93KHQsMykscz1lKnIsYT1pKnI7dGhpcy5waHlzaWNzQm9keS5mb3JjZXNbby5pZF0ueCs9cyx0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tvLmlkXS55Kz1hfX0se2tleTpcIl9mb3JtQmFybmVzSHV0VHJlZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLG89ZS5sZW5ndGgsbj10W2VbMF1dLngscj10W2VbMF1dLnkscz10W2VbMF1dLngsYT10W2VbMF1dLnksaD0xO2g8bztoKyspe3ZhciBkPXRbZVtoXV0sbD1kLngsYz1kLnk7ZC5vcHRpb25zLm1hc3M+MCYmKGw8biYmKG49bCksbD5zJiYocz1sKSxjPHImJihyPWMpLGM+YSYmKGE9YykpfXZhciB1PU1hdGguYWJzKHMtbiktTWF0aC5hYnMoYS1yKTt1PjA/KHItPS41KnUsYSs9LjUqdSk6KG4rPS41KnUscy09LjUqdSk7dmFyIGY9TWF0aC5tYXgoMWUtNSxNYXRoLmFicyhzLW4pKSxwPS41KmYsdj0uNSoobitzKSxnPS41KihyK2EpLHk9e3Jvb3Q6e2NlbnRlck9mTWFzczp7eDowLHk6MH0sbWFzczowLHJhbmdlOnttaW5YOnYtcCxtYXhYOnYrcCxtaW5ZOmctcCxtYXhZOmcrcH0sc2l6ZTpmLGNhbGNTaXplOjEvZixjaGlsZHJlbjp7ZGF0YTpudWxsfSxtYXhXaWR0aDowLGxldmVsOjAsY2hpbGRyZW5Db3VudDo0fX07dGhpcy5fc3BsaXRCcmFuY2goeS5yb290KTtmb3IodmFyIG09MDttPG87bSsrKShpPXRbZVttXV0pLm9wdGlvbnMubWFzcz4wJiZ0aGlzLl9wbGFjZUluVHJlZSh5LnJvb3QsaSk7cmV0dXJuIHl9fSx7a2V5OlwiX3VwZGF0ZUJyYW5jaE1hc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuY2VudGVyT2ZNYXNzLG89dC5tYXNzK2Uub3B0aW9ucy5tYXNzLG49MS9vO2kueD1pLngqdC5tYXNzK2UueCplLm9wdGlvbnMubWFzcyxpLngqPW4saS55PWkueSp0Lm1hc3MrZS55KmUub3B0aW9ucy5tYXNzLGkueSo9bix0Lm1hc3M9bzt2YXIgcj1NYXRoLm1heChNYXRoLm1heChlLmhlaWdodCxlLnJhZGl1cyksZS53aWR0aCk7dC5tYXhXaWR0aD10Lm1heFdpZHRoPHI/cjp0Lm1heFdpZHRofX0se2tleTpcIl9wbGFjZUluVHJlZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXsxPT1pJiZ2b2lkIDAhPT1pfHx0aGlzLl91cGRhdGVCcmFuY2hNYXNzKHQsZSk7dmFyIG8sbj10LmNoaWxkcmVuLk5XLnJhbmdlO289bi5tYXhYPmUueD9uLm1heFk+ZS55P1wiTldcIjpcIlNXXCI6bi5tYXhZPmUueT9cIk5FXCI6XCJTRVwiLHRoaXMuX3BsYWNlSW5SZWdpb24odCxlLG8pfX0se2tleTpcIl9wbGFjZUluUmVnaW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXQuY2hpbGRyZW5baV07c3dpdGNoKG8uY2hpbGRyZW5Db3VudCl7Y2FzZSAwOm8uY2hpbGRyZW4uZGF0YT1lLG8uY2hpbGRyZW5Db3VudD0xLHRoaXMuX3VwZGF0ZUJyYW5jaE1hc3MobyxlKTticmVhaztjYXNlIDE6by5jaGlsZHJlbi5kYXRhLng9PT1lLngmJm8uY2hpbGRyZW4uZGF0YS55PT09ZS55PyhlLngrPXRoaXMuX3JuZygpLGUueSs9dGhpcy5fcm5nKCkpOih0aGlzLl9zcGxpdEJyYW5jaChvKSx0aGlzLl9wbGFjZUluVHJlZShvLGUpKTticmVhaztjYXNlIDQ6dGhpcy5fcGxhY2VJblRyZWUobyxlKX19fSx7a2V5OlwiX3NwbGl0QnJhbmNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDsxPT09dC5jaGlsZHJlbkNvdW50JiYoZT10LmNoaWxkcmVuLmRhdGEsdC5tYXNzPTAsdC5jZW50ZXJPZk1hc3MueD0wLHQuY2VudGVyT2ZNYXNzLnk9MCksdC5jaGlsZHJlbkNvdW50PTQsdC5jaGlsZHJlbi5kYXRhPW51bGwsdGhpcy5faW5zZXJ0UmVnaW9uKHQsXCJOV1wiKSx0aGlzLl9pbnNlcnRSZWdpb24odCxcIk5FXCIpLHRoaXMuX2luc2VydFJlZ2lvbih0LFwiU1dcIiksdGhpcy5faW5zZXJ0UmVnaW9uKHQsXCJTRVwiKSxudWxsIT1lJiZ0aGlzLl9wbGFjZUluVHJlZSh0LGUpfX0se2tleTpcIl9pbnNlcnRSZWdpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpLG8sbixyLHM9LjUqdC5zaXplO3N3aXRjaChlKXtjYXNlXCJOV1wiOmk9dC5yYW5nZS5taW5YLG89dC5yYW5nZS5taW5YK3Msbj10LnJhbmdlLm1pblkscj10LnJhbmdlLm1pblkrczticmVhaztjYXNlXCJORVwiOmk9dC5yYW5nZS5taW5YK3Msbz10LnJhbmdlLm1heFgsbj10LnJhbmdlLm1pblkscj10LnJhbmdlLm1pblkrczticmVhaztjYXNlXCJTV1wiOmk9dC5yYW5nZS5taW5YLG89dC5yYW5nZS5taW5YK3Msbj10LnJhbmdlLm1pblkrcyxyPXQucmFuZ2UubWF4WTticmVhaztjYXNlXCJTRVwiOmk9dC5yYW5nZS5taW5YK3Msbz10LnJhbmdlLm1heFgsbj10LnJhbmdlLm1pblkrcyxyPXQucmFuZ2UubWF4WX10LmNoaWxkcmVuW2VdPXtjZW50ZXJPZk1hc3M6e3g6MCx5OjB9LG1hc3M6MCxyYW5nZTp7bWluWDppLG1heFg6byxtaW5ZOm4sbWF4WTpyfSxzaXplOi41KnQuc2l6ZSxjYWxjU2l6ZToyKnQuY2FsY1NpemUsY2hpbGRyZW46e2RhdGE6bnVsbH0sbWF4V2lkdGg6MCxsZXZlbDp0LmxldmVsKzEsY2hpbGRyZW5Db3VudDowfX19LHtrZXk6XCJfZGVidWdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PXRoaXMuYmFybmVzSHV0VHJlZSYmKHQubGluZVdpZHRoPTEsdGhpcy5fZHJhd0JyYW5jaCh0aGlzLmJhcm5lc0h1dFRyZWUucm9vdCx0LGUpKX19LHtrZXk6XCJfZHJhd0JyYW5jaFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT1cIiNGRjAwMDBcIiksND09PXQuY2hpbGRyZW5Db3VudCYmKHRoaXMuX2RyYXdCcmFuY2godC5jaGlsZHJlbi5OVyxlKSx0aGlzLl9kcmF3QnJhbmNoKHQuY2hpbGRyZW4uTkUsZSksdGhpcy5fZHJhd0JyYW5jaCh0LmNoaWxkcmVuLlNFLGUpLHRoaXMuX2RyYXdCcmFuY2godC5jaGlsZHJlbi5TVyxlKSksZS5zdHJva2VTdHlsZT1pLGUuYmVnaW5QYXRoKCksZS5tb3ZlVG8odC5yYW5nZS5taW5YLHQucmFuZ2UubWluWSksZS5saW5lVG8odC5yYW5nZS5tYXhYLHQucmFuZ2UubWluWSksZS5zdHJva2UoKSxlLmJlZ2luUGF0aCgpLGUubW92ZVRvKHQucmFuZ2UubWF4WCx0LnJhbmdlLm1pblkpLGUubGluZVRvKHQucmFuZ2UubWF4WCx0LnJhbmdlLm1heFkpLGUuc3Ryb2tlKCksZS5iZWdpblBhdGgoKSxlLm1vdmVUbyh0LnJhbmdlLm1heFgsdC5yYW5nZS5tYXhZKSxlLmxpbmVUbyh0LnJhbmdlLm1pblgsdC5yYW5nZS5tYXhZKSxlLnN0cm9rZSgpLGUuYmVnaW5QYXRoKCksZS5tb3ZlVG8odC5yYW5nZS5taW5YLHQucmFuZ2UubWF4WSksZS5saW5lVG8odC5yYW5nZS5taW5YLHQucmFuZ2UubWluWSksZS5zdHJva2UoKX19XSksdH0oKSxQeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe1hsKHRoaXMsdCksdGhpcy5fcm5nPV95KFwiUkVQVUxTSU9OIFNPTFZFUlwiKSx0aGlzLmJvZHk9ZSx0aGlzLnBoeXNpY3NCb2R5PWksdGhpcy5zZXRPcHRpb25zKG8pfXJldHVybiAkbCh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10fX0se2tleTpcInNvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxpLG8sbixyLHMsYSxoPXRoaXMuYm9keS5ub2RlcyxkPXRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLGw9dGhpcy5waHlzaWNzQm9keS5mb3JjZXMsYz10aGlzLm9wdGlvbnMubm9kZURpc3RhbmNlLHU9LTIvMy9jLGY9MDtmPGQubGVuZ3RoLTE7ZisrKXtzPWhbZFtmXV07Zm9yKHZhciBwPWYrMTtwPGQubGVuZ3RoO3ArKyl0PShhPWhbZFtwXV0pLngtcy54LGU9YS55LXMueSwwPT09KGk9TWF0aC5zcXJ0KHQqdCtlKmUpKSYmKHQ9aT0uMSp0aGlzLl9ybmcoKSksaTwyKmMmJihyPWk8LjUqYz8xOnUqaSsxLjMzMzMzMzMzMzMzMzMzMzMsbz10KihyLz1pKSxuPWUqcixsW3MuaWRdLngtPW8sbFtzLmlkXS55LT1uLGxbYS5pZF0ueCs9byxsW2EuaWRdLnkrPW4pfX19XSksdH0oKSxEeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe1hsKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5waHlzaWNzQm9keT1pLHRoaXMuc2V0T3B0aW9ucyhvKX1yZXR1cm4gJGwodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dCx0aGlzLm92ZXJsYXBBdm9pZGFuY2VGYWN0b3I9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHRoaXMub3B0aW9ucy5hdm9pZE92ZXJsYXB8fDApKX19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuYm9keS5ub2RlcyxlPXRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLGk9dGhpcy5waHlzaWNzQm9keS5mb3JjZXMsbz10aGlzLm9wdGlvbnMubm9kZURpc3RhbmNlLG49MDtuPGUubGVuZ3RoLTE7bisrKWZvcih2YXIgcj10W2Vbbl1dLHM9bisxO3M8ZS5sZW5ndGg7cysrKXt2YXIgYT10W2Vbc11dO2lmKHIubGV2ZWw9PT1hLmxldmVsKXt2YXIgaD1vK3RoaXMub3ZlcmxhcEF2b2lkYW5jZUZhY3RvciooKHIuc2hhcGUucmFkaXVzfHwwKS8yKyhhLnNoYXBlLnJhZGl1c3x8MCkvMiksZD1hLngtci54LGw9YS55LXIueSxjPU1hdGguc3FydChkKmQrbCpsKSx1PXZvaWQgMDt1PWM8aD8tTWF0aC5wb3coLjA1KmMsMikrTWF0aC5wb3coLjA1KmgsMik6MCwwIT09YyYmKHUvPWMpO3ZhciBmPWQqdSxwPWwqdTtpW3IuaWRdLngtPWYsaVtyLmlkXS55LT1wLGlbYS5pZF0ueCs9ZixpW2EuaWRdLnkrPXB9fX19XSksdH0oKSxCeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe1hsKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5waHlzaWNzQm9keT1pLHRoaXMuc2V0T3B0aW9ucyhvKX1yZXR1cm4gJGwodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dH19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaSxvLG4scj10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NFZGdlSW5kaWNlcyxzPXRoaXMuYm9keS5lZGdlcyxhPTA7YTxyLmxlbmd0aDthKyspITA9PT0oZT1zW3JbYV1dKS5jb25uZWN0ZWQmJmUudG9JZCE9PWUuZnJvbUlkJiZ2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbZS50b0lkXSYmdm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW2UuZnJvbUlkXSYmKHZvaWQgMCE9PWUuZWRnZVR5cGUudmlhPyh0PXZvaWQgMD09PWUub3B0aW9ucy5sZW5ndGg/dGhpcy5vcHRpb25zLnNwcmluZ0xlbmd0aDplLm9wdGlvbnMubGVuZ3RoLGk9ZS50byxvPWUuZWRnZVR5cGUudmlhLG49ZS5mcm9tLHRoaXMuX2NhbGN1bGF0ZVNwcmluZ0ZvcmNlKGksbywuNSp0KSx0aGlzLl9jYWxjdWxhdGVTcHJpbmdGb3JjZShvLG4sLjUqdCkpOih0PXZvaWQgMD09PWUub3B0aW9ucy5sZW5ndGg/MS41KnRoaXMub3B0aW9ucy5zcHJpbmdMZW5ndGg6ZS5vcHRpb25zLmxlbmd0aCx0aGlzLl9jYWxjdWxhdGVTcHJpbmdGb3JjZShlLmZyb20sZS50byx0KSkpfX0se2tleTpcIl9jYWxjdWxhdGVTcHJpbmdGb3JjZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10LngtZS54LG49dC55LWUueSxyPU1hdGgubWF4KE1hdGguc3FydChvKm8rbipuKSwuMDEpLHM9dGhpcy5vcHRpb25zLnNwcmluZ0NvbnN0YW50KihpLXIpL3IsYT1vKnMsaD1uKnM7dm9pZCAwIT09dGhpcy5waHlzaWNzQm9keS5mb3JjZXNbdC5pZF0mJih0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1t0LmlkXS54Kz1hLHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW3QuaWRdLnkrPWgpLHZvaWQgMCE9PXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW2UuaWRdJiYodGhpcy5waHlzaWNzQm9keS5mb3JjZXNbZS5pZF0ueC09YSx0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tlLmlkXS55LT1oKX19XSksdH0oKSxJeD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe1hsKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5waHlzaWNzQm9keT1pLHRoaXMuc2V0T3B0aW9ucyhvKX1yZXR1cm4gJGwodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dH19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaSxvLG4scixzLGEsaCxkLGw9dGhpcy5ib2R5LmVkZ2VzLGM9LjUsdT10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NFZGdlSW5kaWNlcyxmPXRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLHA9dGhpcy5waHlzaWNzQm9keS5mb3JjZXMsdj0wO3Y8Zi5sZW5ndGg7disrKXt2YXIgZz1mW3ZdO3BbZ10uc3ByaW5nRng9MCxwW2ddLnNwcmluZ0Z5PTB9Zm9yKHZhciB5PTA7eTx1Lmxlbmd0aDt5KyspITA9PT0oZT1sW3VbeV1dKS5jb25uZWN0ZWQmJih0PXZvaWQgMD09PWUub3B0aW9ucy5sZW5ndGg/dGhpcy5vcHRpb25zLnNwcmluZ0xlbmd0aDplLm9wdGlvbnMubGVuZ3RoLGk9ZS5mcm9tLngtZS50by54LG89ZS5mcm9tLnktZS50by55LGE9MD09PShhPU1hdGguc3FydChpKmkrbypvKSk/LjAxOmEsbj1pKihzPXRoaXMub3B0aW9ucy5zcHJpbmdDb25zdGFudCoodC1hKS9hKSxyPW8qcyxlLnRvLmxldmVsIT1lLmZyb20ubGV2ZWw/KHZvaWQgMCE9PXBbZS50b0lkXSYmKHBbZS50b0lkXS5zcHJpbmdGeC09bixwW2UudG9JZF0uc3ByaW5nRnktPXIpLHZvaWQgMCE9PXBbZS5mcm9tSWRdJiYocFtlLmZyb21JZF0uc3ByaW5nRngrPW4scFtlLmZyb21JZF0uc3ByaW5nRnkrPXIpKToodm9pZCAwIT09cFtlLnRvSWRdJiYocFtlLnRvSWRdLngtPWMqbixwW2UudG9JZF0ueS09YypyKSx2b2lkIDAhPT1wW2UuZnJvbUlkXSYmKHBbZS5mcm9tSWRdLngrPWMqbixwW2UuZnJvbUlkXS55Kz1jKnIpKSk7cz0xO2Zvcih2YXIgbT0wO208Zi5sZW5ndGg7bSsrKXt2YXIgYj1mW21dO2g9TWF0aC5taW4ocyxNYXRoLm1heCgtcyxwW2JdLnNwcmluZ0Z4KSksZD1NYXRoLm1pbihzLE1hdGgubWF4KC1zLHBbYl0uc3ByaW5nRnkpKSxwW2JdLngrPWgscFtiXS55Kz1kfWZvcih2YXIgdz0wLGs9MCxfPTA7XzxmLmxlbmd0aDtfKyspe3ZhciB4PWZbX107dys9cFt4XS54LGsrPXBbeF0ueX1mb3IodmFyIEU9dy9mLmxlbmd0aCxPPWsvZi5sZW5ndGgsQz0wO0M8Zi5sZW5ndGg7QysrKXt2YXIgUz1mW0NdO3BbU10ueC09RSxwW1NdLnktPU99fX1dKSx0fSgpLHp4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyl7WGwodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLnBoeXNpY3NCb2R5PWksdGhpcy5zZXRPcHRpb25zKG8pfXJldHVybiAkbCh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10fX0se2tleTpcInNvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxpLG8sbj10aGlzLmJvZHkubm9kZXMscj10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcyxzPXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzLGE9MDthPHIubGVuZ3RoO2ErKyl7dD0tKG89bltyW2FdXSkueCxlPS1vLnksaT1NYXRoLnNxcnQodCp0K2UqZSksdGhpcy5fY2FsY3VsYXRlRm9yY2VzKGksdCxlLHMsbyl9fX0se2tleTpcIl9jYWxjdWxhdGVGb3JjZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3ZhciByPTA9PT10PzA6dGhpcy5vcHRpb25zLmNlbnRyYWxHcmF2aXR5L3Q7b1tuLmlkXS54PWUqcixvW24uaWRdLnk9aSpyfX1dKSx0fSgpO2Z1bmN0aW9uIEZ4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIE54PWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9RngoaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIFhsKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS5fcm5nPV95KFwiRk9SQ0UgQVRMQVMgMiBCQVNFRCBSRVBVTFNJT04gU09MVkVSXCIpLHJ9cmV0dXJuICRsKGksW3trZXk6XCJfY2FsY3VsYXRlRm9yY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXswPT09dCYmKGU9dD0uMSp0aGlzLl9ybmcoKSksdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yPDEmJm8uc2hhcGUucmFkaXVzJiYodD1NYXRoLm1heCguMSt0aGlzLm92ZXJsYXBBdm9pZGFuY2VGYWN0b3Iqby5zaGFwZS5yYWRpdXMsdC1vLnNoYXBlLnJhZGl1cykpO3ZhciByPW8uZWRnZXMubGVuZ3RoKzEscz10aGlzLm9wdGlvbnMuZ3Jhdml0YXRpb25hbENvbnN0YW50Km4ubWFzcypvLm9wdGlvbnMubWFzcypyL01hdGgucG93KHQsMiksYT1lKnMsaD1pKnM7dGhpcy5waHlzaWNzQm9keS5mb3JjZXNbby5pZF0ueCs9YSx0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tvLmlkXS55Kz1ofX1dKSxpfShNeCk7ZnVuY3Rpb24gQXgodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXprKXJldHVybiExO2lmKHprLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoemsoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPUhrKHQpO2lmKGUpe3ZhciBuPUhrKHRoaXMpLmNvbnN0cnVjdG9yO2k9emsobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBqayh0aGlzLGkpfX12YXIgUngsang9ZnVuY3Rpb24odCl7UmsoaSx0KTt2YXIgZT1BeChpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gWGwodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuICRsKGksW3trZXk6XCJfY2FsY3VsYXRlRm9yY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXtpZih0PjApe3ZhciByPW4uZWRnZXMubGVuZ3RoKzEscz10aGlzLm9wdGlvbnMuY2VudHJhbEdyYXZpdHkqcipuLm9wdGlvbnMubWFzcztvW24uaWRdLng9ZSpzLG9bbi5pZF0ueT1pKnN9fX1dKSxpfSh6eCksTHg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe1hsKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5waHlzaWNzQm9keT17cGh5c2ljc05vZGVJbmRpY2VzOltdLHBoeXNpY3NFZGdlSW5kaWNlczpbXSxmb3JjZXM6e30sdmVsb2NpdGllczp7fX0sdGhpcy5waHlzaWNzRW5hYmxlZD0hMCx0aGlzLnNpbXVsYXRpb25JbnRlcnZhbD0xZTMvNjAsdGhpcy5yZXF1aXJlc1RpbWVvdXQ9ITAsdGhpcy5wcmV2aW91c1N0YXRlcz17fSx0aGlzLnJlZmVyZW5jZVN0YXRlPXt9LHRoaXMuZnJlZXplQ2FjaGU9e30sdGhpcy5yZW5kZXJUaW1lcj12b2lkIDAsdGhpcy5hZGFwdGl2ZVRpbWVzdGVwPSExLHRoaXMuYWRhcHRpdmVUaW1lc3RlcEVuYWJsZWQ9ITEsdGhpcy5hZGFwdGl2ZUNvdW50ZXI9MCx0aGlzLmFkYXB0aXZlSW50ZXJ2YWw9Myx0aGlzLnN0YWJpbGl6ZWQ9ITEsdGhpcy5zdGFydGVkU3RhYmlsaXphdGlvbj0hMSx0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zPTAsdGhpcy5yZWFkeT0hMSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17ZW5hYmxlZDohMCxiYXJuZXNIdXQ6e3RoZXRhOi41LGdyYXZpdGF0aW9uYWxDb25zdGFudDotMmUzLGNlbnRyYWxHcmF2aXR5Oi4zLHNwcmluZ0xlbmd0aDo5NSxzcHJpbmdDb25zdGFudDouMDQsZGFtcGluZzouMDksYXZvaWRPdmVybGFwOjB9LGZvcmNlQXRsYXMyQmFzZWQ6e3RoZXRhOi41LGdyYXZpdGF0aW9uYWxDb25zdGFudDotNTAsY2VudHJhbEdyYXZpdHk6LjAxLHNwcmluZ0NvbnN0YW50Oi4wOCxzcHJpbmdMZW5ndGg6MTAwLGRhbXBpbmc6LjQsYXZvaWRPdmVybGFwOjB9LHJlcHVsc2lvbjp7Y2VudHJhbEdyYXZpdHk6LjIsc3ByaW5nTGVuZ3RoOjIwMCxzcHJpbmdDb25zdGFudDouMDUsbm9kZURpc3RhbmNlOjEwMCxkYW1waW5nOi4wOSxhdm9pZE92ZXJsYXA6MH0saGllcmFyY2hpY2FsUmVwdWxzaW9uOntjZW50cmFsR3Jhdml0eTowLHNwcmluZ0xlbmd0aDoxMDAsc3ByaW5nQ29uc3RhbnQ6LjAxLG5vZGVEaXN0YW5jZToxMjAsZGFtcGluZzouMDl9LG1heFZlbG9jaXR5OjUwLG1pblZlbG9jaXR5Oi43NSxzb2x2ZXI6XCJiYXJuZXNIdXRcIixzdGFiaWxpemF0aW9uOntlbmFibGVkOiEwLGl0ZXJhdGlvbnM6MWUzLHVwZGF0ZUludGVydmFsOjUwLG9ubHlEeW5hbWljRWRnZXM6ITEsZml0OiEwfSx0aW1lc3RlcDouNSxhZGFwdGl2ZVRpbWVzdGVwOiEwLHdpbmQ6e3g6MCx5OjB9fSxmbyh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy50aW1lc3RlcD0uNSx0aGlzLmxheW91dEZhaWxlZD0hMSx0aGlzLmJpbmRFdmVudExpc3RlbmVycygpfXJldHVybiAkbCh0LFt7a2V5OlwiYmluZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYm9keS5lbWl0dGVyLm9uKFwiaW5pdFBoeXNpY3NcIiwoZnVuY3Rpb24oKXt0LmluaXRQaHlzaWNzKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfbGF5b3V0RmFpbGVkXCIsKGZ1bmN0aW9uKCl7dC5sYXlvdXRGYWlsZWQ9ITB9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJyZXNldFBoeXNpY3NcIiwoZnVuY3Rpb24oKXt0LnN0b3BTaW11bGF0aW9uKCksdC5yZWFkeT0hMX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRpc2FibGVQaHlzaWNzXCIsKGZ1bmN0aW9uKCl7dC5waHlzaWNzRW5hYmxlZD0hMSx0LnN0b3BTaW11bGF0aW9uKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJyZXN0b3JlUGh5c2ljc1wiLChmdW5jdGlvbigpe3Quc2V0T3B0aW9ucyh0Lm9wdGlvbnMpLCEwPT09dC5yZWFkeSYmdC5zdGFydFNpbXVsYXRpb24oKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInN0YXJ0U2ltdWxhdGlvblwiLChmdW5jdGlvbigpeyEwPT09dC5yZWFkeSYmdC5zdGFydFNpbXVsYXRpb24oKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInN0b3BTaW11bGF0aW9uXCIsKGZ1bmN0aW9uKCl7dC5zdG9wU2ltdWxhdGlvbigpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiZGVzdHJveVwiLChmdW5jdGlvbigpe3Quc3RvcFNpbXVsYXRpb24oITEpLHQuYm9keS5lbWl0dGVyLm9mZigpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2RhdGFDaGFuZ2VkXCIsKGZ1bmN0aW9uKCl7dC51cGRhdGVQaHlzaWNzRGF0YSgpfSkpfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KWlmKCExPT09dCl0aGlzLm9wdGlvbnMuZW5hYmxlZD0hMSx0aGlzLnBoeXNpY3NFbmFibGVkPSExLHRoaXMuc3RvcFNpbXVsYXRpb24oKTtlbHNlIGlmKCEwPT09dCl0aGlzLm9wdGlvbnMuZW5hYmxlZD0hMCx0aGlzLnBoeXNpY3NFbmFibGVkPSEwLHRoaXMuc3RhcnRTaW11bGF0aW9uKCk7ZWxzZXt0aGlzLnBoeXNpY3NFbmFibGVkPSEwLEF5KFtcInN0YWJpbGl6YXRpb25cIl0sdGhpcy5vcHRpb25zLHQpLHRtKHRoaXMub3B0aW9ucyx0LFwic3RhYmlsaXphdGlvblwiKSx2b2lkIDA9PT10LmVuYWJsZWQmJih0aGlzLm9wdGlvbnMuZW5hYmxlZD0hMCksITE9PT10aGlzLm9wdGlvbnMuZW5hYmxlZCYmKHRoaXMucGh5c2ljc0VuYWJsZWQ9ITEsdGhpcy5zdG9wU2ltdWxhdGlvbigpKTt2YXIgZT10aGlzLm9wdGlvbnMud2luZDtlJiYoKFwibnVtYmVyXCIhPXR5cGVvZiBlLnh8fEN3KGUueCkpJiYoZS54PTApLChcIm51bWJlclwiIT10eXBlb2YgZS55fHxDdyhlLnkpKSYmKGUueT0wKSksdGhpcy50aW1lc3RlcD10aGlzLm9wdGlvbnMudGltZXN0ZXB9dGhpcy5pbml0KCl9fSx7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7XCJmb3JjZUF0bGFzMkJhc2VkXCI9PT10aGlzLm9wdGlvbnMuc29sdmVyPyh0PXRoaXMub3B0aW9ucy5mb3JjZUF0bGFzMkJhc2VkLHRoaXMubm9kZXNTb2x2ZXI9bmV3IE54KHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpLHRoaXMuZWRnZXNTb2x2ZXI9bmV3IEJ4KHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpLHRoaXMuZ3Jhdml0eVNvbHZlcj1uZXcgangodGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCkpOlwicmVwdWxzaW9uXCI9PT10aGlzLm9wdGlvbnMuc29sdmVyPyh0PXRoaXMub3B0aW9ucy5yZXB1bHNpb24sdGhpcy5ub2Rlc1NvbHZlcj1uZXcgUHgodGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCksdGhpcy5lZGdlc1NvbHZlcj1uZXcgQngodGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCksdGhpcy5ncmF2aXR5U29sdmVyPW5ldyB6eCh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSk6XCJoaWVyYXJjaGljYWxSZXB1bHNpb25cIj09PXRoaXMub3B0aW9ucy5zb2x2ZXI/KHQ9dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbFJlcHVsc2lvbix0aGlzLm5vZGVzU29sdmVyPW5ldyBEeCh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmVkZ2VzU29sdmVyPW5ldyBJeCh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmdyYXZpdHlTb2x2ZXI9bmV3IHp4KHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpKToodD10aGlzLm9wdGlvbnMuYmFybmVzSHV0LHRoaXMubm9kZXNTb2x2ZXI9bmV3IE14KHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpLHRoaXMuZWRnZXNTb2x2ZXI9bmV3IEJ4KHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpLHRoaXMuZ3Jhdml0eVNvbHZlcj1uZXcgengodGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCkpLHRoaXMubW9kZWxPcHRpb25zPXR9fSx7a2V5OlwiaW5pdFBoeXNpY3NcIix2YWx1ZTpmdW5jdGlvbigpeyEwPT09dGhpcy5waHlzaWNzRW5hYmxlZCYmITA9PT10aGlzLm9wdGlvbnMuZW5hYmxlZD8hMD09PXRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLmVuYWJsZWQ/dGhpcy5zdGFiaWxpemUoKToodGhpcy5zdGFiaWxpemVkPSExLHRoaXMucmVhZHk9ITAsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImZpdFwiLHt9LHRoaXMubGF5b3V0RmFpbGVkKSx0aGlzLnN0YXJ0U2ltdWxhdGlvbigpKToodGhpcy5yZWFkeT0hMCx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiZml0XCIpKX19LHtrZXk6XCJzdGFydFNpbXVsYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0OyEwPT09dGhpcy5waHlzaWNzRW5hYmxlZCYmITA9PT10aGlzLm9wdGlvbnMuZW5hYmxlZD8odGhpcy5zdGFiaWxpemVkPSExLHRoaXMuYWRhcHRpdmVUaW1lc3RlcD0hMSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3Jlc2l6ZU5vZGVzXCIpLHZvaWQgMD09PXRoaXMudmlld0Z1bmN0aW9uJiYodGhpcy52aWV3RnVuY3Rpb249Rm8odD10aGlzLnNpbXVsYXRpb25TdGVwKS5jYWxsKHQsdGhpcyksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJpbml0UmVkcmF3XCIsdGhpcy52aWV3RnVuY3Rpb24pLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfc3RhcnRSZW5kZXJpbmdcIikpKTp0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKX19LHtrZXk6XCJzdG9wU2ltdWxhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTt0aGlzLnN0YWJpbGl6ZWQ9ITAsITA9PT10JiZ0aGlzLl9lbWl0U3RhYmlsaXplZCgpLHZvaWQgMCE9PXRoaXMudmlld0Z1bmN0aW9uJiYodGhpcy5ib2R5LmVtaXR0ZXIub2ZmKFwiaW5pdFJlZHJhd1wiLHRoaXMudmlld0Z1bmN0aW9uKSx0aGlzLnZpZXdGdW5jdGlvbj12b2lkIDAsITA9PT10JiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0b3BSZW5kZXJpbmdcIikpfX0se2tleTpcInNpbXVsYXRpb25TdGVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD14dSgpO3RoaXMucGh5c2ljc1RpY2soKSwoeHUoKS10PC40KnRoaXMuc2ltdWxhdGlvbkludGVydmFsfHwhMD09PXRoaXMucnVuRG91YmxlU3BlZWQpJiYhMT09PXRoaXMuc3RhYmlsaXplZCYmKHRoaXMucGh5c2ljc1RpY2soKSx0aGlzLnJ1bkRvdWJsZVNwZWVkPSEwKSwhMD09PXRoaXMuc3RhYmlsaXplZCYmdGhpcy5zdG9wU2ltdWxhdGlvbigpfX0se2tleTpcIl9lbWl0U3RhYmlsaXplZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zOyh0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zPjF8fCEwPT09dGhpcy5zdGFydGVkU3RhYmlsaXphdGlvbikmJmJ2KChmdW5jdGlvbigpe3QuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFiaWxpemVkXCIse2l0ZXJhdGlvbnM6ZX0pLHQuc3RhcnRlZFN0YWJpbGl6YXRpb249ITEsdC5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucz0wfSksMCl9fSx7a2V5OlwicGh5c2ljc1N0ZXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ3Jhdml0eVNvbHZlci5zb2x2ZSgpLHRoaXMubm9kZXNTb2x2ZXIuc29sdmUoKSx0aGlzLmVkZ2VzU29sdmVyLnNvbHZlKCksdGhpcy5tb3ZlTm9kZXMoKX19LHtrZXk6XCJhZGp1c3RUaW1lU3RlcFwiLHZhbHVlOmZ1bmN0aW9uKCl7ITA9PT10aGlzLl9ldmFsdWF0ZVN0ZXBRdWFsaXR5KCk/dGhpcy50aW1lc3RlcD0xLjIqdGhpcy50aW1lc3RlcDp0aGlzLnRpbWVzdGVwLzEuMjx0aGlzLm9wdGlvbnMudGltZXN0ZXA/dGhpcy50aW1lc3RlcD10aGlzLm9wdGlvbnMudGltZXN0ZXA6KHRoaXMuYWRhcHRpdmVDb3VudGVyPS0xLHRoaXMudGltZXN0ZXA9TWF0aC5tYXgodGhpcy5vcHRpb25zLnRpbWVzdGVwLHRoaXMudGltZXN0ZXAvMS4yKSl9fSx7a2V5OlwicGh5c2ljc1RpY2tcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3N0YXJ0U3RhYmlsaXppbmcoKSwhMCE9PXRoaXMuc3RhYmlsaXplZCl7aWYoITA9PT10aGlzLmFkYXB0aXZlVGltZXN0ZXAmJiEwPT09dGhpcy5hZGFwdGl2ZVRpbWVzdGVwRW5hYmxlZCl0aGlzLmFkYXB0aXZlQ291bnRlciV0aGlzLmFkYXB0aXZlSW50ZXJ2YWw9PTA/KHRoaXMudGltZXN0ZXA9Mip0aGlzLnRpbWVzdGVwLHRoaXMucGh5c2ljc1N0ZXAoKSx0aGlzLnJldmVydCgpLHRoaXMudGltZXN0ZXA9LjUqdGhpcy50aW1lc3RlcCx0aGlzLnBoeXNpY3NTdGVwKCksdGhpcy5waHlzaWNzU3RlcCgpLHRoaXMuYWRqdXN0VGltZVN0ZXAoKSk6dGhpcy5waHlzaWNzU3RlcCgpLHRoaXMuYWRhcHRpdmVDb3VudGVyKz0xO2Vsc2UgdGhpcy50aW1lc3RlcD10aGlzLm9wdGlvbnMudGltZXN0ZXAsdGhpcy5waHlzaWNzU3RlcCgpOyEwPT09dGhpcy5zdGFiaWxpemVkJiZ0aGlzLnJldmVydCgpLHRoaXMuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMrK319fSx7a2V5OlwidXBkYXRlUGh5c2ljc0RhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGh5c2ljc0JvZHkuZm9yY2VzPXt9LHRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzPVtdLHRoaXMucGh5c2ljc0JvZHkucGh5c2ljc0VkZ2VJbmRpY2VzPVtdO3ZhciB0PXRoaXMuYm9keS5ub2RlcyxlPXRoaXMuYm9keS5lZGdlcztmb3IodmFyIGkgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmITA9PT10W2ldLm9wdGlvbnMucGh5c2ljcyYmdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMucHVzaCh0W2ldLmlkKTtmb3IodmFyIG8gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmITA9PT1lW29dLm9wdGlvbnMucGh5c2ljcyYmdGhpcy5waHlzaWNzQm9keS5waHlzaWNzRWRnZUluZGljZXMucHVzaChlW29dLmlkKTtmb3IodmFyIG49MDtuPHRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLmxlbmd0aDtuKyspe3ZhciByPXRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzW25dO3RoaXMucGh5c2ljc0JvZHkuZm9yY2VzW3JdPXt4OjAseTowfSx2b2lkIDA9PT10aGlzLnBoeXNpY3NCb2R5LnZlbG9jaXRpZXNbcl0mJih0aGlzLnBoeXNpY3NCb2R5LnZlbG9jaXRpZXNbcl09e3g6MCx5OjB9KX1mb3IodmFyIHMgaW4gdGhpcy5waHlzaWNzQm9keS52ZWxvY2l0aWVzKXZvaWQgMD09PXRbc10mJmRlbGV0ZSB0aGlzLnBoeXNpY3NCb2R5LnZlbG9jaXRpZXNbc119fSx7a2V5OlwicmV2ZXJ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1tdSh0aGlzLnByZXZpb3VzU3RhdGVzKSxlPXRoaXMuYm9keS5ub2RlcyxpPXRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllczt0aGlzLnJlZmVyZW5jZVN0YXRlPXt9O2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgbj10W29dO3ZvaWQgMCE9PWVbbl0/ITA9PT1lW25dLm9wdGlvbnMucGh5c2ljcyYmKHRoaXMucmVmZXJlbmNlU3RhdGVbbl09e3Bvc2l0aW9uczp7eDplW25dLngseTplW25dLnl9fSxpW25dLng9dGhpcy5wcmV2aW91c1N0YXRlc1tuXS52eCxpW25dLnk9dGhpcy5wcmV2aW91c1N0YXRlc1tuXS52eSxlW25dLng9dGhpcy5wcmV2aW91c1N0YXRlc1tuXS54LGVbbl0ueT10aGlzLnByZXZpb3VzU3RhdGVzW25dLnkpOmRlbGV0ZSB0aGlzLnByZXZpb3VzU3RhdGVzW25dfX19LHtrZXk6XCJfZXZhbHVhdGVTdGVwUXVhbGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMuYm9keS5ub2RlcyxvPXRoaXMucmVmZXJlbmNlU3RhdGU7Zm9yKHZhciBuIGluIHRoaXMucmVmZXJlbmNlU3RhdGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucmVmZXJlbmNlU3RhdGUsbikmJnZvaWQgMCE9PWlbbl0mJih0PWlbbl0ueC1vW25dLnBvc2l0aW9ucy54LGU9aVtuXS55LW9bbl0ucG9zaXRpb25zLnksTWF0aC5zcXJ0KE1hdGgucG93KHQsMikrTWF0aC5wb3coZSwyKSk+LjMpKXJldHVybiExO3JldHVybiEwfX0se2tleTpcIm1vdmVOb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLGU9MCxpPTAsbz0wO288dC5sZW5ndGg7bysrKXt2YXIgbj10W29dLHI9dGhpcy5fcGVyZm9ybVN0ZXAobik7ZT1NYXRoLm1heChlLHIpLGkrPXJ9dGhpcy5hZGFwdGl2ZVRpbWVzdGVwRW5hYmxlZD1pL3QubGVuZ3RoPDUsdGhpcy5zdGFiaWxpemVkPWU8dGhpcy5vcHRpb25zLm1pblZlbG9jaXR5fX0se2tleTpcImNhbGN1bGF0ZUNvbXBvbmVudFZlbG9jaXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3QrPShlLXRoaXMubW9kZWxPcHRpb25zLmRhbXBpbmcqdCkvaSp0aGlzLnRpbWVzdGVwO3ZhciBvPXRoaXMub3B0aW9ucy5tYXhWZWxvY2l0eXx8MWU5O3JldHVybiBNYXRoLmFicyh0KT5vJiYodD10PjA/bzotbyksdH19LHtrZXk6XCJfcGVyZm9ybVN0ZXBcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvZHkubm9kZXNbdF0saT10aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1t0XTt0aGlzLm9wdGlvbnMud2luZCYmKGkueCs9dGhpcy5vcHRpb25zLndpbmQueCxpLnkrPXRoaXMub3B0aW9ucy53aW5kLnkpO3ZhciBvPXRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllc1t0XTtyZXR1cm4gdGhpcy5wcmV2aW91c1N0YXRlc1t0XT17eDplLngseTplLnksdng6by54LHZ5Om8ueX0sITE9PT1lLm9wdGlvbnMuZml4ZWQueD8oby54PXRoaXMuY2FsY3VsYXRlQ29tcG9uZW50VmVsb2NpdHkoby54LGkueCxlLm9wdGlvbnMubWFzcyksZS54Kz1vLngqdGhpcy50aW1lc3RlcCk6KGkueD0wLG8ueD0wKSwhMT09PWUub3B0aW9ucy5maXhlZC55PyhvLnk9dGhpcy5jYWxjdWxhdGVDb21wb25lbnRWZWxvY2l0eShvLnksaS55LGUub3B0aW9ucy5tYXNzKSxlLnkrPW8ueSp0aGlzLnRpbWVzdGVwKTooaS55PTAsby55PTApLE1hdGguc3FydChNYXRoLnBvdyhvLngsMikrTWF0aC5wb3coby55LDIpKX19LHtrZXk6XCJfZnJlZXplTm9kZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9keS5ub2Rlcztmb3IodmFyIGUgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmdFtlXS54JiZ0W2VdLnkpe3ZhciBpPXRbZV0ub3B0aW9ucy5maXhlZDt0aGlzLmZyZWV6ZUNhY2hlW2VdPXt4OmkueCx5OmkueX0saS54PSEwLGkueT0hMH19fSx7a2V5OlwiX3Jlc3RvcmVGcm96ZW5Ob2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5Lm5vZGVzO2Zvcih2YXIgZSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZ2b2lkIDAhPT10aGlzLmZyZWV6ZUNhY2hlW2VdJiYodFtlXS5vcHRpb25zLmZpeGVkLng9dGhpcy5mcmVlemVDYWNoZVtlXS54LHRbZV0ub3B0aW9ucy5maXhlZC55PXRoaXMuZnJlZXplQ2FjaGVbZV0ueSk7dGhpcy5mcmVlemVDYWNoZT17fX19LHtrZXk6XCJzdGFiaWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24uaXRlcmF0aW9ucztcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9dGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24uaXRlcmF0aW9ucyxjb25zb2xlLmVycm9yKFwiVGhlIHN0YWJpbGl6ZSBtZXRob2QgbmVlZHMgYSBudW1lcmljIGFtb3VudCBvZiBpdGVyYXRpb25zLiBTd2l0Y2hpbmcgdG8gZGVmYXVsdDogXCIsZSkpLDAhPT10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcy5sZW5ndGg/KHRoaXMuYWRhcHRpdmVUaW1lc3RlcD10aGlzLm9wdGlvbnMuYWRhcHRpdmVUaW1lc3RlcCx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3Jlc2l6ZU5vZGVzXCIpLHRoaXMuc3RvcFNpbXVsYXRpb24oKSx0aGlzLnN0YWJpbGl6ZWQ9ITEsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9ibG9ja1JlZHJhd1wiKSx0aGlzLnRhcmdldEl0ZXJhdGlvbnM9ZSwhMD09PXRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLm9ubHlEeW5hbWljRWRnZXMmJnRoaXMuX2ZyZWV6ZU5vZGVzKCksdGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucz0wLGJ2KChmdW5jdGlvbigpe3JldHVybiB0Ll9zdGFiaWxpemF0aW9uQmF0Y2goKX0pLDApKTp0aGlzLnJlYWR5PSEwfX0se2tleTpcIl9zdGFydFN0YWJpbGl6aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMCE9PXRoaXMuc3RhcnRlZFN0YWJpbGl6YXRpb24mJih0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTdGFiaWxpemluZ1wiKSx0aGlzLnN0YXJ0ZWRTdGFiaWxpemF0aW9uPSEwLCEwKX19LHtrZXk6XCJfc3RhYmlsaXphdGlvbkJhdGNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9ZnVuY3Rpb24oKXtyZXR1cm4hMT09PXQuc3RhYmlsaXplZCYmdC5zdGFiaWxpemF0aW9uSXRlcmF0aW9uczx0LnRhcmdldEl0ZXJhdGlvbnN9LGk9ZnVuY3Rpb24oKXt0LmJvZHkuZW1pdHRlci5lbWl0KFwic3RhYmlsaXphdGlvblByb2dyZXNzXCIse2l0ZXJhdGlvbnM6dC5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucyx0b3RhbDp0LnRhcmdldEl0ZXJhdGlvbnN9KX07dGhpcy5fc3RhcnRTdGFiaWxpemluZygpJiZpKCk7Zm9yKHZhciBvLG49MDtlKCkmJm48dGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24udXBkYXRlSW50ZXJ2YWw7KXRoaXMucGh5c2ljc1RpY2soKSxuKys7KGkoKSxlKCkpP2J2KEZvKG89dGhpcy5fc3RhYmlsaXphdGlvbkJhdGNoKS5jYWxsKG8sdGhpcyksMCk6dGhpcy5fZmluYWxpemVTdGFiaWxpemF0aW9uKCl9fSx7a2V5OlwiX2ZpbmFsaXplU3RhYmlsaXphdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9hbGxvd1JlZHJhd1wiKSwhMD09PXRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLmZpdCYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImZpdFwiKSwhMD09PXRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLm9ubHlEeW5hbWljRWRnZXMmJnRoaXMuX3Jlc3RvcmVGcm96ZW5Ob2RlcygpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFiaWxpemF0aW9uSXRlcmF0aW9uc0RvbmVcIiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpLCEwPT09dGhpcy5zdGFiaWxpemVkP3RoaXMuX2VtaXRTdGFiaWxpemVkKCk6dGhpcy5zdGFydFNpbXVsYXRpb24oKSx0aGlzLnJlYWR5PSEwfX0se2tleTpcIl9kcmF3Rm9yY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlc1tlXSxvPXRoaXMuYm9keS5ub2Rlc1tpXSxuPXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW2ldLHI9TWF0aC5zcXJ0KE1hdGgucG93KG4ueCwyKStNYXRoLnBvdyhuLngsMikpLHM9TWF0aC5taW4oTWF0aC5tYXgoNSxyKSwxNSksYT0zKnMsaD1LeSgoMTgwLTE4MCpNYXRoLm1pbigxLE1hdGgubWF4KDAsLjAzKnIpKSkvMzYwLDEsMSksZD17eDpvLngrMjAqbi54LHk6by55KzIwKm4ueX07dC5saW5lV2lkdGg9cyx0LnN0cm9rZVN0eWxlPWgsdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhvLngsby55KSx0LmxpbmVUbyhkLngsZC55KSx0LnN0cm9rZSgpO3ZhciBsPU1hdGguYXRhbjIobi55LG4ueCk7dC5maWxsU3R5bGU9aCxkeC5kcmF3KHQse3R5cGU6XCJhcnJvd1wiLHBvaW50OmQsYW5nbGU6bCxsZW5ndGg6YX0pLFB2KHQpLmNhbGwodCl9fX1dKSx0fSgpLEh4PW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBXeCgpe2lmKCFSeCYmIShSeD1cInVuZGVmaW5lZFwiIT10eXBlb2YgY3J5cHRvJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1zQ3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSkpdGhyb3cgbmV3IEVycm9yKFwiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWRcIik7cmV0dXJuIFJ4KEh4KX12YXIgVng9L14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO2Z1bmN0aW9uIHF4KHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiZWeC50ZXN0KHQpfWZvcih2YXIgVXg9W10sWXg9MDtZeDwyNTY7KytZeClVeC5wdXNoKChZeCsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO2Z1bmN0aW9uIFh4KHQsZSxpKXt2YXIgbz0odD10fHx7fSkucmFuZG9tfHwodC5ybmd8fFd4KSgpO2lmKG9bNl09MTUmb1s2XXw2NCxvWzhdPTYzJm9bOF18MTI4LGUpe2k9aXx8MDtmb3IodmFyIG49MDtuPDE2OysrbillW2krbl09b1tuXTtyZXR1cm4gZX1yZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsaT0oVXhbdFtlKzBdXStVeFt0W2UrMV1dK1V4W3RbZSsyXV0rVXhbdFtlKzNdXStcIi1cIitVeFt0W2UrNF1dK1V4W3RbZSs1XV0rXCItXCIrVXhbdFtlKzZdXStVeFt0W2UrN11dK1wiLVwiK1V4W3RbZSs4XV0rVXhbdFtlKzldXStcIi1cIitVeFt0W2UrMTBdXStVeFt0W2UrMTFdXStVeFt0W2UrMTJdXStVeFt0W2UrMTNdXStVeFt0W2UrMTRdXStVeFt0W2UrMTVdXSkudG9Mb3dlckNhc2UoKTtpZighcXgoaSkpdGhyb3cgVHlwZUVycm9yKFwiU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkXCIpO3JldHVybiBpfShvKX12YXIgR3g9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7WGwodGhpcyx0KX1yZXR1cm4gJGwodCxudWxsLFt7a2V5OlwiZ2V0UmFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXSxvPTFlOSxuPS0xZTkscj0xZTkscz0tMWU5O2lmKGkubGVuZ3RoPjApZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspcj4oZT10W2lbYV1dKS5zaGFwZS5ib3VuZGluZ0JveC5sZWZ0JiYocj1lLnNoYXBlLmJvdW5kaW5nQm94LmxlZnQpLHM8ZS5zaGFwZS5ib3VuZGluZ0JveC5yaWdodCYmKHM9ZS5zaGFwZS5ib3VuZGluZ0JveC5yaWdodCksbz5lLnNoYXBlLmJvdW5kaW5nQm94LnRvcCYmKG89ZS5zaGFwZS5ib3VuZGluZ0JveC50b3ApLG48ZS5zaGFwZS5ib3VuZGluZ0JveC5ib3R0b20mJihuPWUuc2hhcGUuYm91bmRpbmdCb3guYm90dG9tKTtyZXR1cm4gMWU5PT09ciYmLTFlOT09PXMmJjFlOT09PW8mJi0xZTk9PT1uJiYobz0wLG49MCxyPTAscz0wKSx7bWluWDpyLG1heFg6cyxtaW5ZOm8sbWF4WTpufX19LHtrZXk6XCJnZXRSYW5nZUNvcmVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXSxvPTFlOSxuPS0xZTkscj0xZTkscz0tMWU5O2lmKGkubGVuZ3RoPjApZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspcj4oZT10W2lbYV1dKS54JiYocj1lLngpLHM8ZS54JiYocz1lLngpLG8+ZS55JiYobz1lLnkpLG48ZS55JiYobj1lLnkpO3JldHVybiAxZTk9PT1yJiYtMWU5PT09cyYmMWU5PT09byYmLTFlOT09PW4mJihvPTAsbj0wLHI9MCxzPTApLHttaW5YOnIsbWF4WDpzLG1pblk6byxtYXhZOm59fX0se2tleTpcImZpbmRDZW50ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57eDouNSoodC5tYXhYK3QubWluWCkseTouNSoodC5tYXhZK3QubWluWSl9fX0se2tleTpcImNsb25lT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9e307cmV0dXJuIHZvaWQgMD09PWV8fFwibm9kZVwiPT09ZT8oUnkoaSx0Lm9wdGlvbnMsITApLGkueD10LngsaS55PXQueSxpLmFtb3VudE9mQ29ubmVjdGlvbnM9dC5lZGdlcy5sZW5ndGgpOlJ5KGksdC5vcHRpb25zLCEwKSxpfX1dKSx0fSgpO2Z1bmN0aW9uIEt4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyICR4PWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9S3goaSk7ZnVuY3Rpb24gaSh0LG8sbixyLHMsYSl7dmFyIGg7cmV0dXJuIFhsKHRoaXMsaSksKGg9ZS5jYWxsKHRoaXMsdCxvLG4scixzLGEpKS5pc0NsdXN0ZXI9ITAsaC5jb250YWluZWROb2Rlcz17fSxoLmNvbnRhaW5lZEVkZ2VzPXt9LGh9cmV0dXJuICRsKGksW3trZXk6XCJfb3BlbkNoaWxkQ2x1c3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT10aGlzLmJvZHkubm9kZXNbdF07aWYodm9pZCAwPT09dGhpcy5jb250YWluZWROb2Rlc1t0XSl0aHJvdyBuZXcgRXJyb3IoXCJub2RlIHdpdGggaWQ6IFwiK3QrXCIgbm90IGluIGN1cnJlbnQgY2x1c3RlclwiKTtpZighaS5pc0NsdXN0ZXIpdGhyb3cgbmV3IEVycm9yKFwibm9kZSB3aXRoIGlkOiBcIit0K1wiIGlzIG5vdCBhIGNsdXN0ZXJcIik7ZGVsZXRlIHRoaXMuY29udGFpbmVkTm9kZXNbdF0sV3koaS5lZGdlcywoZnVuY3Rpb24odCl7ZGVsZXRlIGUuY29udGFpbmVkRWRnZXNbdC5pZF19KSksV3koaS5jb250YWluZWROb2RlcywoZnVuY3Rpb24odCxpKXtlLmNvbnRhaW5lZE5vZGVzW2ldPXR9KSksaS5jb250YWluZWROb2Rlcz17fSxXeShpLmNvbnRhaW5lZEVkZ2VzLChmdW5jdGlvbih0LGkpe2UuY29udGFpbmVkRWRnZXNbaV09dH0pKSxpLmNvbnRhaW5lZEVkZ2VzPXt9LFd5KGkuZWRnZXMsKGZ1bmN0aW9uKHQpe1d5KGUuZWRnZXMsKGZ1bmN0aW9uKGkpe3ZhciBvLG4scj16cChvPWkuY2x1c3RlcmluZ0VkZ2VSZXBsYWNpbmdJZHMpLmNhbGwobyx0LmlkKTstMSE9PXImJihXeSh0LmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzLChmdW5jdGlvbih0KXtpLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzLnB1c2godCksZS5ib2R5LmVkZ2VzW3RdLmVkZ2VSZXBsYWNlZEJ5SWQ9aS5pZH0pKSx1ZihuPWkuY2x1c3RlcmluZ0VkZ2VSZXBsYWNpbmdJZHMpLmNhbGwobixyLDEpKX0pKX0pKSxpLmVkZ2VzPVtdfX1dKSxpfShNXyksWng9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBpPXRoaXM7WGwodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmNsdXN0ZXJlZE5vZGVzPXt9LHRoaXMuY2x1c3RlcmVkRWRnZXM9e30sdGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e30sZm8odGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3Jlc2V0RGF0YVwiLChmdW5jdGlvbigpe2kuY2x1c3RlcmVkTm9kZXM9e30saS5jbHVzdGVyZWRFZGdlcz17fX0pKX1yZXR1cm4gJGwodCxbe2tleTpcImNsdXN0ZXJCeUh1YnNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQ/dD10aGlzLl9nZXRIdWJTaXplKCk6XCJvYmplY3RcIj09PVFjKHQpJiYoZT10aGlzLl9jaGVja09wdGlvbnModCksdD10aGlzLl9nZXRIdWJTaXplKCkpO2Zvcih2YXIgaT1bXSxvPTA7bzx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO28rKyl7dmFyIG49dGhpcy5ib2R5Lm5vZGVzW3RoaXMuYm9keS5ub2RlSW5kaWNlc1tvXV07bi5lZGdlcy5sZW5ndGg+PXQmJmkucHVzaChuLmlkKX1mb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKyl0aGlzLmNsdXN0ZXJCeUNvbm5lY3Rpb24oaVtyXSxlLCEwKTt0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX0se2tleTpcImNsdXN0ZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30saT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2lmKHZvaWQgMD09PWUuam9pbkNvbmRpdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBjbHVzdGVyQnlOb2RlRGF0YSB3aXRob3V0IGEgam9pbkNvbmRpdGlvbiBmdW5jdGlvbiBpbiB0aGUgb3B0aW9ucy5cIik7ZT10aGlzLl9jaGVja09wdGlvbnMoZSk7dmFyIG89e30sbj17fTtXeSh0aGlzLmJvZHkubm9kZXMsKGZ1bmN0aW9uKGkscil7aS5vcHRpb25zJiYhMD09PWUuam9pbkNvbmRpdGlvbihpLm9wdGlvbnMpJiYob1tyXT1pLFd5KGkuZWRnZXMsKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PXQuY2x1c3RlcmVkRWRnZXNbZS5pZF0mJihuW2UuaWRdPWUpfSkpKX0pKSx0aGlzLl9jbHVzdGVyKG8sbixlLGkpfX0se2tleTpcImNsdXN0ZXJCeUVkZ2VDb3VudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxvPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl07ZT10aGlzLl9jaGVja09wdGlvbnMoZSk7Zm9yKHZhciBuLHIscyxhPVtdLGg9e30sZD1mdW5jdGlvbihvKXt2YXIgZD17fSxsPXt9LGM9aS5ib2R5Lm5vZGVJbmRpY2VzW29dLHU9aS5ib2R5Lm5vZGVzW2NdO2lmKHZvaWQgMD09PWhbY10pe3M9MCxyPVtdO2Zvcih2YXIgZj0wO2Y8dS5lZGdlcy5sZW5ndGg7ZisrKW49dS5lZGdlc1tmXSx2b2lkIDA9PT1pLmNsdXN0ZXJlZEVkZ2VzW24uaWRdJiYobi50b0lkIT09bi5mcm9tSWQmJnMrKyxyLnB1c2gobikpO2lmKHM9PT10KXtmb3IodmFyIHA9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09ZS5qb2luQ29uZGl0aW9ufHxudWxsPT09ZS5qb2luQ29uZGl0aW9uKXJldHVybiEwO3ZhciBpPUd4LmNsb25lT3B0aW9ucyh0KTtyZXR1cm4gZS5qb2luQ29uZGl0aW9uKGkpfSx2PSEwLGc9MDtnPHIubGVuZ3RoO2crKyl7bj1yW2ddO3ZhciB5PWkuX2dldENvbm5lY3RlZElkKG4sYyk7aWYoIXAodSkpe3Y9ITE7YnJlYWt9bFtuLmlkXT1uLGRbY109dSxkW3ldPWkuYm9keS5ub2Rlc1t5XSxoW2NdPSEwfWlmKG11KGQpLmxlbmd0aD4wJiZtdShsKS5sZW5ndGg+MCYmITA9PT12KXt2YXIgbT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8YS5sZW5ndGg7Kyt0KWZvcih2YXIgZSBpbiBkKWlmKHZvaWQgMCE9PWFbdF0ubm9kZXNbZV0pcmV0dXJuIGFbdF19KCk7aWYodm9pZCAwIT09bSl7Zm9yKHZhciBiIGluIGQpdm9pZCAwPT09bS5ub2Rlc1tiXSYmKG0ubm9kZXNbYl09ZFtiXSk7Zm9yKHZhciB3IGluIGwpdm9pZCAwPT09bS5lZGdlc1t3XSYmKG0uZWRnZXNbd109bFt3XSl9ZWxzZSBhLnB1c2goe25vZGVzOmQsZWRnZXM6bH0pfX19fSxsPTA7bDx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO2wrKylkKGwpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuX2NsdXN0ZXIoYVtjXS5ub2RlcyxhW2NdLmVkZ2VzLGUsITEpOyEwPT09byYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJjbHVzdGVyT3V0bGllcnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO3RoaXMuY2x1c3RlckJ5RWRnZUNvdW50KDEsdCxlKX19LHtrZXk6XCJjbHVzdGVyQnJpZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07dGhpcy5jbHVzdGVyQnlFZGdlQ291bnQoMix0LGUpfX0se2tleTpcImNsdXN0ZXJCeUNvbm5lY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpLG89IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXTtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIk5vIG5vZGVJZCBzdXBwbGllZCB0byBjbHVzdGVyQnlDb25uZWN0aW9uIVwiKTtpZih2b2lkIDA9PT10aGlzLmJvZHkubm9kZXNbdF0pdGhyb3cgbmV3IEVycm9yKFwiVGhlIG5vZGVJZCBnaXZlbiB0byBjbHVzdGVyQnlDb25uZWN0aW9uIGRvZXMgbm90IGV4aXN0IVwiKTt2YXIgbj10aGlzLmJvZHkubm9kZXNbdF07dm9pZCAwPT09KGU9dGhpcy5fY2hlY2tPcHRpb25zKGUsbikpLmNsdXN0ZXJOb2RlUHJvcGVydGllcy54JiYoZS5jbHVzdGVyTm9kZVByb3BlcnRpZXMueD1uLngpLHZvaWQgMD09PWUuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLnkmJihlLmNsdXN0ZXJOb2RlUHJvcGVydGllcy55PW4ueSksdm9pZCAwPT09ZS5jbHVzdGVyTm9kZVByb3BlcnRpZXMuZml4ZWQmJihlLmNsdXN0ZXJOb2RlUHJvcGVydGllcy5maXhlZD17fSxlLmNsdXN0ZXJOb2RlUHJvcGVydGllcy5maXhlZC54PW4ub3B0aW9ucy5maXhlZC54LGUuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmZpeGVkLnk9bi5vcHRpb25zLmZpeGVkLnkpO3ZhciByPXt9LHM9e30sYT1uLmlkLGg9R3guY2xvbmVPcHRpb25zKG4pO3JbYV09bjtmb3IodmFyIGQ9MDtkPG4uZWRnZXMubGVuZ3RoO2QrKyl7dmFyIGw9bi5lZGdlc1tkXTtpZih2b2lkIDA9PT10aGlzLmNsdXN0ZXJlZEVkZ2VzW2wuaWRdKXt2YXIgYz10aGlzLl9nZXRDb25uZWN0ZWRJZChsLGEpO2lmKHZvaWQgMD09PXRoaXMuY2x1c3RlcmVkTm9kZXNbY10paWYoYyE9PWEpaWYodm9pZCAwPT09ZS5qb2luQ29uZGl0aW9uKXNbbC5pZF09bCxyW2NdPXRoaXMuYm9keS5ub2Rlc1tjXTtlbHNle3ZhciB1PUd4LmNsb25lT3B0aW9ucyh0aGlzLmJvZHkubm9kZXNbY10pOyEwPT09ZS5qb2luQ29uZGl0aW9uKGgsdSkmJihzW2wuaWRdPWwscltjXT10aGlzLmJvZHkubm9kZXNbY10pfWVsc2Ugc1tsLmlkXT1sfX12YXIgZj12dShpPW11KHIpKS5jYWxsKGksKGZ1bmN0aW9uKHQpe3JldHVybiByW3RdLmlkfSkpO2Zvcih2YXIgcCBpbiByKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLHApKWZvcih2YXIgdj1yW3BdLGc9MDtnPHYuZWRnZXMubGVuZ3RoO2crKyl7dmFyIHk9di5lZGdlc1tnXTt6cChmKS5jYWxsKGYsdGhpcy5fZ2V0Q29ubmVjdGVkSWQoeSx2LmlkKSk+LTEmJihzW3kuaWRdPXkpfXRoaXMuX2NsdXN0ZXIocixzLGUsbyl9fSx7a2V5OlwiX2NyZWF0ZUNsdXN0ZXJFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe2Zvcih2YXIgbixyLHMsYSxoLGQsbD1tdSh0KSxjPVtdLHU9MDt1PGwubGVuZ3RoO3UrKyl7cz10W3I9bFt1XV07Zm9yKHZhciBmPTA7ZjxzLmVkZ2VzLmxlbmd0aDtmKyspbj1zLmVkZ2VzW2ZdLHZvaWQgMD09PXRoaXMuY2x1c3RlcmVkRWRnZXNbbi5pZF0mJihuLnRvSWQ9PW4uZnJvbUlkP2Vbbi5pZF09bjpuLnRvSWQ9PXI/KGE9aS5pZCxkPWg9bi5mcm9tSWQpOihhPW4udG9JZCxoPWkuaWQsZD1hKSx2b2lkIDA9PT10W2RdJiZjLnB1c2goe2VkZ2U6bixmcm9tSWQ6aCx0b0lkOmF9KSl9Zm9yKHZhciBwPVtdLHY9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxwLmxlbmd0aDtlKyspe3ZhciBpPXBbZV0sbz10LmZyb21JZD09PWkuZnJvbUlkJiZ0LnRvSWQ9PT1pLnRvSWQsbj10LmZyb21JZD09PWkudG9JZCYmdC50b0lkPT09aS5mcm9tSWQ7aWYob3x8bilyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZz0wO2c8Yy5sZW5ndGg7ZysrKXt2YXIgeT1jW2ddLG09eS5lZGdlLGI9dih5KTtudWxsPT09Yj8oYj10aGlzLl9jcmVhdGVDbHVzdGVyZWRFZGdlKHkuZnJvbUlkLHkudG9JZCxtLG8pLHAucHVzaChiKSk6Yi5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcy5wdXNoKG0uaWQpLHRoaXMuYm9keS5lZGdlc1ttLmlkXS5lZGdlUmVwbGFjZWRCeUlkPWIuaWQsdGhpcy5fYmFja3VwRWRnZU9wdGlvbnMobSksbS5zZXRPcHRpb25zKHtwaHlzaWNzOiExfSl9fX0se2tleTpcIl9jaGVja09wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gdm9pZCAwPT09dC5jbHVzdGVyRWRnZVByb3BlcnRpZXMmJih0LmNsdXN0ZXJFZGdlUHJvcGVydGllcz17fSksdm9pZCAwPT09dC5jbHVzdGVyTm9kZVByb3BlcnRpZXMmJih0LmNsdXN0ZXJOb2RlUHJvcGVydGllcz17fSksdH19LHtrZXk6XCJfY2x1c3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz0hKGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdKXx8YXJndW1lbnRzWzNdLG49W107Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJnZvaWQgMCE9PXRoaXMuY2x1c3RlcmVkTm9kZXNbcl0mJm4ucHVzaChyKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoOysrcylkZWxldGUgdFtuW3NdXTtpZigwIT1tdSh0KS5sZW5ndGgmJigxIT1tdSh0KS5sZW5ndGh8fDE9PWkuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmFsbG93U2luZ2xlTm9kZUNsdXN0ZXIpKXt2YXIgYT1SeSh7fSxpLmNsdXN0ZXJOb2RlUHJvcGVydGllcyk7aWYodm9pZCAwIT09aS5wcm9jZXNzUHJvcGVydGllcyl7dmFyIGg9W107Zm9yKHZhciBkIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZCkpe3ZhciBsPUd4LmNsb25lT3B0aW9ucyh0W2RdKTtoLnB1c2gobCl9dmFyIGM9W107Zm9yKHZhciB1IGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdSkmJlwiY2x1c3RlckVkZ2U6XCIhPT11LnN1YnN0cigwLDEyKSl7dmFyIGY9R3guY2xvbmVPcHRpb25zKGVbdV0sXCJlZGdlXCIpO2MucHVzaChmKX1pZighKGE9aS5wcm9jZXNzUHJvcGVydGllcyhhLGgsYykpKXRocm93IG5ldyBFcnJvcihcIlRoZSBwcm9jZXNzUHJvcGVydGllcyBmdW5jdGlvbiBkb2VzIG5vdCByZXR1cm4gcHJvcGVydGllcyFcIil9dm9pZCAwPT09YS5pZCYmKGEuaWQ9XCJjbHVzdGVyOlwiK1h4KCkpO3ZhciBwPWEuaWQ7dm9pZCAwPT09YS5sYWJlbCYmKGEubGFiZWw9XCJjbHVzdGVyXCIpO3ZhciB2PXZvaWQgMDt2b2lkIDA9PT1hLngmJih2PXRoaXMuX2dldENsdXN0ZXJQb3NpdGlvbih0KSxhLng9di54KSx2b2lkIDA9PT1hLnkmJih2b2lkIDA9PT12JiYodj10aGlzLl9nZXRDbHVzdGVyUG9zaXRpb24odCkpLGEueT12LnkpLGEuaWQ9cDt2YXIgZz10aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZU5vZGUoYSwkeCk7Zy5jb250YWluZWROb2Rlcz10LGcuY29udGFpbmVkRWRnZXM9ZSxnLmNsdXN0ZXJFZGdlUHJvcGVydGllcz1pLmNsdXN0ZXJFZGdlUHJvcGVydGllcyx0aGlzLmJvZHkubm9kZXNbYS5pZF09Zyx0aGlzLl9jbHVzdGVyRWRnZXModCxlLGEsaS5jbHVzdGVyRWRnZVByb3BlcnRpZXMpLGEuaWQ9dm9pZCAwLCEwPT09byYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19fSx7a2V5OlwiX2JhY2t1cEVkZ2VPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dm9pZCAwPT09dGhpcy5jbHVzdGVyZWRFZGdlc1t0LmlkXSYmKHRoaXMuY2x1c3RlcmVkRWRnZXNbdC5pZF09e3BoeXNpY3M6dC5vcHRpb25zLnBoeXNpY3N9KX19LHtrZXk6XCJfcmVzdG9yZUVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNsdXN0ZXJlZEVkZ2VzW3QuaWRdO3ZvaWQgMCE9PWUmJih0LnNldE9wdGlvbnMoe3BoeXNpY3M6ZS5waHlzaWNzfSksZGVsZXRlIHRoaXMuY2x1c3RlcmVkRWRnZXNbdC5pZF0pfX0se2tleTpcImlzQ2x1c3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0/ITA9PT10aGlzLmJvZHkubm9kZXNbdF0uaXNDbHVzdGVyOihjb25zb2xlLmVycm9yKFwiTm9kZSBkb2VzIG5vdCBleGlzdC5cIiksITEpfX0se2tleTpcIl9nZXRDbHVzdGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT1tdSh0KSxvPXRbaVswXV0ueCxuPXRbaVswXV0ueCxyPXRbaVswXV0ueSxzPXRbaVswXV0ueSxhPTE7YTxpLmxlbmd0aDthKyspbz0oZT10W2lbYV1dKS54PG8/ZS54Om8sbj1lLng+bj9lLng6bixyPWUueTxyP2UueTpyLHM9ZS55PnM/ZS55OnM7cmV0dXJue3g6LjUqKG8rbikseTouNSoocitzKX19fSx7a2V5Olwib3BlbkNsdXN0ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl07aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJObyBjbHVzdGVyTm9kZUlkIHN1cHBsaWVkIHRvIG9wZW5DbHVzdGVyLlwiKTt2YXIgbz10aGlzLmJvZHkubm9kZXNbdF07aWYodm9pZCAwPT09byl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY2x1c3Rlck5vZGVJZCBzdXBwbGllZCB0byBvcGVuQ2x1c3RlciBkb2VzIG5vdCBleGlzdC5cIik7aWYoITAhPT1vLmlzQ2x1c3Rlcnx8dm9pZCAwPT09by5jb250YWluZWROb2Rlc3x8dm9pZCAwPT09by5jb250YWluZWRFZGdlcyl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgbm9kZTpcIit0K1wiIGlzIG5vdCBhIHZhbGlkIGNsdXN0ZXIuXCIpO3ZhciBuPXRoaXMuZmluZE5vZGUodCkscj16cChuKS5jYWxsKG4sdCktMTtpZihyPj0wKXt2YXIgcz1uW3JdLGE9dGhpcy5ib2R5Lm5vZGVzW3NdO3JldHVybiBhLl9vcGVuQ2hpbGRDbHVzdGVyKHQpLGRlbGV0ZSB0aGlzLmJvZHkubm9kZXNbdF0sdm9pZCghMD09PWkmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIikpfXZhciBoPW8uY29udGFpbmVkTm9kZXMsZD1vLmNvbnRhaW5lZEVkZ2VzO2lmKHZvaWQgMCE9PWUmJnZvaWQgMCE9PWUucmVsZWFzZUZ1bmN0aW9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlbGVhc2VGdW5jdGlvbil7dmFyIGw9e30sYz17eDpvLngseTpvLnl9O2Zvcih2YXIgdSBpbiBoKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLHUpKXt2YXIgZj10aGlzLmJvZHkubm9kZXNbdV07bFt1XT17eDpmLngseTpmLnl9fXZhciBwPWUucmVsZWFzZUZ1bmN0aW9uKGMsbCk7Zm9yKHZhciB2IGluIGgpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsdikpe3ZhciBnPXRoaXMuYm9keS5ub2Rlc1t2XTt2b2lkIDAhPT1wW3ZdJiYoZy54PXZvaWQgMD09PXBbdl0ueD9vLng6cFt2XS54LGcueT12b2lkIDA9PT1wW3ZdLnk/by55OnBbdl0ueSl9fWVsc2UgV3koaCwoZnVuY3Rpb24odCl7ITE9PT10Lm9wdGlvbnMuZml4ZWQueCYmKHQueD1vLngpLCExPT09dC5vcHRpb25zLmZpeGVkLnkmJih0Lnk9by55KX0pKTtmb3IodmFyIHkgaW4gaClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaCx5KSl7dmFyIG09dGhpcy5ib2R5Lm5vZGVzW3ldO20udng9by52eCxtLnZ5PW8udnksbS5zZXRPcHRpb25zKHtwaHlzaWNzOiEwfSksZGVsZXRlIHRoaXMuY2x1c3RlcmVkTm9kZXNbeV19Zm9yKHZhciBiPVtdLHc9MDt3PG8uZWRnZXMubGVuZ3RoO3crKyliLnB1c2goby5lZGdlc1t3XSk7Zm9yKHZhciBrPTA7azxiLmxlbmd0aDtrKyspe2Zvcih2YXIgXz1iW2tdLHg9dGhpcy5fZ2V0Q29ubmVjdGVkSWQoXyx0KSxFPXRoaXMuY2x1c3RlcmVkTm9kZXNbeF0sTz0wO088Xy5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcy5sZW5ndGg7TysrKXt2YXIgQz1fLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzW09dLFM9dGhpcy5ib2R5LmVkZ2VzW0NdO2lmKHZvaWQgMCE9PVMpaWYodm9pZCAwIT09RSl7dmFyIFQ9dGhpcy5ib2R5Lm5vZGVzW0UuY2x1c3RlcklkXTtULmNvbnRhaW5lZEVkZ2VzW1MuaWRdPVMsZGVsZXRlIGRbUy5pZF07dmFyIE09Uy5mcm9tSWQsUD1TLnRvSWQ7Uy50b0lkPT14P1A9RS5jbHVzdGVySWQ6TT1FLmNsdXN0ZXJJZCx0aGlzLl9jcmVhdGVDbHVzdGVyZWRFZGdlKE0sUCxTLFQuY2x1c3RlckVkZ2VQcm9wZXJ0aWVzLHtoaWRkZW46ITEscGh5c2ljczohMH0pfWVsc2UgdGhpcy5fcmVzdG9yZUVkZ2UoUyl9Xy5yZW1vdmUoKX1mb3IodmFyIEQgaW4gZClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxEKSYmdGhpcy5fcmVzdG9yZUVkZ2UoZFtEXSk7ZGVsZXRlIHRoaXMuYm9keS5ub2Rlc1t0XSwhMD09PWkmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fSx7a2V5OlwiZ2V0Tm9kZXNJbkNsdXN0ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtpZighMD09PXRoaXMuaXNDbHVzdGVyKHQpKXt2YXIgaT10aGlzLmJvZHkubm9kZXNbdF0uY29udGFpbmVkTm9kZXM7Zm9yKHZhciBvIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksbykmJmUucHVzaCh0aGlzLmJvZHkubm9kZXNbb10uaWQpfXJldHVybiBlfX0se2tleTpcImZpbmROb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9W10sbz0wO3ZvaWQgMCE9PXRoaXMuY2x1c3RlcmVkTm9kZXNbdF0mJm88MTAwOyl7aWYodm9pZCAwPT09KGU9dGhpcy5ib2R5Lm5vZGVzW3RdKSlyZXR1cm5bXTtpLnB1c2goZS5pZCksdD10aGlzLmNsdXN0ZXJlZE5vZGVzW3RdLmNsdXN0ZXJJZCxvKyt9cmV0dXJuIHZvaWQgMD09PShlPXRoaXMuYm9keS5ub2Rlc1t0XSk/W106KGkucHVzaChlLmlkKSxVdShpKS5jYWxsKGkpLGkpfX0se2tleTpcInVwZGF0ZUNsdXN0ZXJlZE5vZGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiTm8gY2x1c3RlcmVkTm9kZUlkIHN1cHBsaWVkIHRvIHVwZGF0ZUNsdXN0ZXJlZE5vZGUuXCIpO2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiTm8gbmV3T3B0aW9ucyBzdXBwbGllZCB0byB1cGRhdGVDbHVzdGVyZWROb2RlLlwiKTtpZih2b2lkIDA9PT10aGlzLmJvZHkubm9kZXNbdF0pdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNsdXN0ZXJlZE5vZGVJZCBzdXBwbGllZCB0byB1cGRhdGVDbHVzdGVyZWROb2RlIGRvZXMgbm90IGV4aXN0LlwiKTt0aGlzLmJvZHkubm9kZXNbdF0uc2V0T3B0aW9ucyhlKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX0se2tleTpcInVwZGF0ZUVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3RhcnRFZGdlSWQgc3VwcGxpZWQgdG8gdXBkYXRlRWRnZS5cIik7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBuZXdPcHRpb25zIHN1cHBsaWVkIHRvIHVwZGF0ZUVkZ2UuXCIpO2lmKHZvaWQgMD09PXRoaXMuYm9keS5lZGdlc1t0XSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3RhcnRFZGdlSWQgc3VwcGxpZWQgdG8gdXBkYXRlRWRnZSBkb2VzIG5vdCBleGlzdC5cIik7Zm9yKHZhciBpPXRoaXMuZ2V0Q2x1c3RlcmVkRWRnZXModCksbz0wO288aS5sZW5ndGg7bysrKXt0aGlzLmJvZHkuZWRnZXNbaVtvXV0uc2V0T3B0aW9ucyhlKX10aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX0se2tleTpcImdldENsdXN0ZXJlZEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MDt2b2lkIDAhPT10JiZ2b2lkIDAhPT10aGlzLmJvZHkuZWRnZXNbdF0mJmk8MTAwOyllLnB1c2godGhpcy5ib2R5LmVkZ2VzW3RdLmlkKSx0PXRoaXMuYm9keS5lZGdlc1t0XS5lZGdlUmVwbGFjZWRCeUlkLGkrKztyZXR1cm4gVXUoZSkuY2FsbChlKSxlfX0se2tleTpcImdldEJhc2VFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QmFzZUVkZ2VzKHQpWzBdfX0se2tleTpcImdldEJhc2VFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bdF0saT1bXSxvPVtdLG49MDtlLmxlbmd0aD4wJiZuPDEwMDspe3ZhciByPWUucG9wKCk7aWYodm9pZCAwIT09cil7dmFyIHM9dGhpcy5ib2R5LmVkZ2VzW3JdO2lmKHZvaWQgMCE9PXMpe24rKzt2YXIgYT1zLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzO2lmKHZvaWQgMD09PWEpby5wdXNoKHIpO2Vsc2UgZm9yKHZhciBoPTA7aDxhLmxlbmd0aDsrK2gpe3ZhciBkPWFbaF07LTE9PT16cChlKS5jYWxsKGUsYSkmJi0xPT09enAoaSkuY2FsbChpLGEpJiZlLnB1c2goZCl9aS5wdXNoKHIpfX19cmV0dXJuIG99fSx7a2V5OlwiX2dldENvbm5lY3RlZElkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50b0lkIT1lP3QudG9JZDoodC5mcm9tSWQsdC5mcm9tSWQpfX0se2tleTpcIl9nZXRIdWJTaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTAsaT0wLG89MCxuPTA7bjx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5ib2R5Lm5vZGVzW3RoaXMuYm9keS5ub2RlSW5kaWNlc1tuXV07ci5lZGdlcy5sZW5ndGg+byYmKG89ci5lZGdlcy5sZW5ndGgpLHQrPXIuZWRnZXMubGVuZ3RoLGUrPU1hdGgucG93KHIuZWRnZXMubGVuZ3RoLDIpLGkrPTF9dC89aTt2YXIgcz0oZS89aSktTWF0aC5wb3codCwyKSxhPU1hdGguc3FydChzKSxoPU1hdGguZmxvb3IodCsyKmEpO3JldHVybiBoPm8mJihoPW8pLGh9fSx7a2V5OlwiX2NyZWF0ZUNsdXN0ZXJlZEVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3ZhciByPUd4LmNsb25lT3B0aW9ucyhpLFwiZWRnZVwiKTtSeShyLG8pLHIuZnJvbT10LHIudG89ZSxyLmlkPVwiY2x1c3RlckVkZ2U6XCIrWHgoKSx2b2lkIDAhPT1uJiZSeShyLG4pO3ZhciBzPXRoaXMuYm9keS5mdW5jdGlvbnMuY3JlYXRlRWRnZShyKTtyZXR1cm4gcy5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcz1baS5pZF0scy5jb25uZWN0KCksdGhpcy5ib2R5LmVkZ2VzW3MuaWRdPXMsc319LHtrZXk6XCJfY2x1c3RlckVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7aWYoZSBpbnN0YW5jZW9mIFN4KXt2YXIgbj1lLHI9e307cltuLmlkXT1uLGU9cn1pZih0IGluc3RhbmNlb2YgTV8pe3ZhciBzPXQsYT17fTthW3MuaWRdPXMsdD1hfWlmKG51bGw9PWkpdGhyb3cgbmV3IEVycm9yKFwiX2NsdXN0ZXJFZGdlczogcGFyYW1ldGVyIGNsdXN0ZXJOb2RlIHJlcXVpcmVkXCIpO2Zvcih2YXIgaCBpbiB2b2lkIDA9PT1vJiYobz1pLmNsdXN0ZXJFZGdlUHJvcGVydGllcyksdGhpcy5fY3JlYXRlQ2x1c3RlckVkZ2VzKHQsZSxpLG8pLGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaCkmJnZvaWQgMCE9PXRoaXMuYm9keS5lZGdlc1toXSl7dmFyIGQ9dGhpcy5ib2R5LmVkZ2VzW2hdO3RoaXMuX2JhY2t1cEVkZ2VPcHRpb25zKGQpLGQuc2V0T3B0aW9ucyh7cGh5c2ljczohMX0pfWZvcih2YXIgbCBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGwpJiYodGhpcy5jbHVzdGVyZWROb2Rlc1tsXT17Y2x1c3RlcklkOmkuaWQsbm9kZTp0aGlzLmJvZHkubm9kZXNbbF19LHRoaXMuYm9keS5ub2Rlc1tsXS5zZXRPcHRpb25zKHtwaHlzaWNzOiExfSkpfX0se2tleTpcIl9nZXRDbHVzdGVyTm9kZUZvck5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXt2YXIgZT10aGlzLmNsdXN0ZXJlZE5vZGVzW3RdO2lmKHZvaWQgMCE9PWUpe3ZhciBpPWUuY2x1c3RlcklkO2lmKHZvaWQgMCE9PWkpcmV0dXJuIHRoaXMuYm9keS5ub2Rlc1tpXX19fX0se2tleTpcIl9maWx0ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiBXeSh0LChmdW5jdGlvbih0KXtlKHQpJiZpLnB1c2godCl9KSksaX19LHtrZXk6XCJfdXBkYXRlU3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPVtdLG89e30sbj1mdW5jdGlvbih0KXtXeShlLmJvZHkubm9kZXMsKGZ1bmN0aW9uKGUpeyEwPT09ZS5pc0NsdXN0ZXImJnQoZSl9KSl9O2Zvcih0IGluIHRoaXMuY2x1c3RlcmVkTm9kZXMpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNsdXN0ZXJlZE5vZGVzLHQpKXZvaWQgMD09PXRoaXMuYm9keS5ub2Rlc1t0XSYmaS5wdXNoKHQpfW4oKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8aS5sZW5ndGg7ZSsrKWRlbGV0ZSB0LmNvbnRhaW5lZE5vZGVzW2lbZV1dfSkpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKWRlbGV0ZSB0aGlzLmNsdXN0ZXJlZE5vZGVzW2lbcl1dO1d5KHRoaXMuY2x1c3RlcmVkRWRnZXMsKGZ1bmN0aW9uKHQpe3ZhciBpPWUuYm9keS5lZGdlc1t0XTt2b2lkIDAhPT1pJiZpLmVuZFBvaW50c1ZhbGlkKCl8fChvW3RdPXQpfSkpLG4oKGZ1bmN0aW9uKHQpe1d5KHQuY29udGFpbmVkRWRnZXMsKGZ1bmN0aW9uKHQsZSl7dC5lbmRQb2ludHNWYWxpZCgpfHxvW2VdfHwob1tlXT1lKX0pKX0pKSxXeSh0aGlzLmJvZHkuZWRnZXMsKGZ1bmN0aW9uKHQsaSl7dmFyIG49ITAscj10LmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzO2lmKHZvaWQgMCE9PXIpe3ZhciBzPTA7V3kociwoZnVuY3Rpb24odCl7dmFyIGk9ZS5ib2R5LmVkZ2VzW3RdO3ZvaWQgMCE9PWkmJmkuZW5kUG9pbnRzVmFsaWQoKSYmKHMrPTEpfSkpLG49cz4wfXQuZW5kUG9pbnRzVmFsaWQoKSYmbnx8KG9baV09aSl9KSksbigoZnVuY3Rpb24odCl7V3kobywoZnVuY3Rpb24oaSl7ZGVsZXRlIHQuY29udGFpbmVkRWRnZXNbaV0sV3kodC5lZGdlcywoZnVuY3Rpb24obixyKXtuLmlkIT09aT9uLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzPWUuX2ZpbHRlcihuLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzLChmdW5jdGlvbih0KXtyZXR1cm4hb1t0XX0pKTp0LmVkZ2VzW3JdPW51bGx9KSksdC5lZGdlcz1lLl9maWx0ZXIodC5lZGdlcywoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10fSkpfSkpfSkpLFd5KG8sKGZ1bmN0aW9uKHQpe2RlbGV0ZSBlLmNsdXN0ZXJlZEVkZ2VzW3RdfSkpLFd5KG8sKGZ1bmN0aW9uKHQpe2RlbGV0ZSBlLmJvZHkuZWRnZXNbdF19KSksV3kobXUodGhpcy5ib2R5LmVkZ2VzKSwoZnVuY3Rpb24odCl7dmFyIGk9ZS5ib2R5LmVkZ2VzW3RdLG89ZS5faXNDbHVzdGVyZWROb2RlKGkuZnJvbUlkKXx8ZS5faXNDbHVzdGVyZWROb2RlKGkudG9JZCk7aWYobyE9PWUuX2lzQ2x1c3RlcmVkRWRnZShpLmlkKSlpZihvKXt2YXIgbj1lLl9nZXRDbHVzdGVyTm9kZUZvck5vZGUoaS5mcm9tSWQpO3ZvaWQgMCE9PW4mJmUuX2NsdXN0ZXJFZGdlcyhlLmJvZHkubm9kZXNbaS5mcm9tSWRdLGksbik7dmFyIHI9ZS5fZ2V0Q2x1c3Rlck5vZGVGb3JOb2RlKGkudG9JZCk7dm9pZCAwIT09ciYmZS5fY2x1c3RlckVkZ2VzKGUuYm9keS5ub2Rlc1tpLnRvSWRdLGkscil9ZWxzZSBkZWxldGUgZS5fY2x1c3RlckVkZ2VzW3RdLGUuX3Jlc3RvcmVFZGdlKGkpfSkpO2Zvcih2YXIgcz0hMSxhPSEwLGg9ZnVuY3Rpb24oKXt2YXIgdD1bXTtuKChmdW5jdGlvbihlKXt2YXIgaT1tdShlLmNvbnRhaW5lZE5vZGVzKS5sZW5ndGgsbz0hMD09PWUub3B0aW9ucy5hbGxvd1NpbmdsZU5vZGVDbHVzdGVyOyhvJiZpPDF8fCFvJiZpPDIpJiZ0LnB1c2goZS5pZCl9KSk7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDsrK2kpZS5vcGVuQ2x1c3Rlcih0W2ldLHt9LCExKTthPXQubGVuZ3RoPjAscz1zfHxhfTthOyloKCk7cyYmdGhpcy5fdXBkYXRlU3RhdGUoKX19LHtrZXk6XCJfaXNDbHVzdGVyZWROb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuY2x1c3RlcmVkTm9kZXNbdF19fSx7a2V5OlwiX2lzQ2x1c3RlcmVkRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmNsdXN0ZXJlZEVkZ2VzW3RdfX1dKSx0fSgpO2Z1bmN0aW9uIFF4KHQsZSl7dmFyIGk9dm9pZCAwIT09dHUmJm9oKHQpfHx0W1wiQEBpdGVyYXRvclwiXTtpZighaSl7aWYoaHUodCl8fChpPWZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoIXQpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBKeCh0LGUpO3ZhciBvPWF1KGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5jYWxsKGksOCwtMSk7XCJPYmplY3RcIj09PW8mJnQuY29uc3RydWN0b3ImJihvPXQuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW98fFwiU2V0XCI9PT1vKXJldHVybiBqYSh0KTtpZihcIkFyZ3VtZW50c1wiPT09b3x8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobykpcmV0dXJuIEp4KHQsZSl9KHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtpJiYodD1pKTt2YXIgbz0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiBvPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtvKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgcixzPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtpPWkuY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PWkubmV4dCgpO3JldHVybiBzPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe2E9ITAscj10fSxmOmZ1bmN0aW9uKCl7dHJ5e3N8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyByfX19fWZ1bmN0aW9uIEp4KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBpPTAsbz1uZXcgQXJyYXkoZSk7aTxlO2krKylvW2ldPXRbaV07cmV0dXJuIG99dmFyIHRFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkpe3ZhciBvO1hsKHRoaXMsdCksdm9pZCAwIT09d2luZG93JiYobz13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9dm9pZCAwPT09bz9mdW5jdGlvbih0KXt0KCl9Om8sdGhpcy5ib2R5PWUsdGhpcy5jYW52YXM9aSx0aGlzLnJlZHJhd1JlcXVlc3RlZD0hMSx0aGlzLnJlbmRlclRpbWVyPXZvaWQgMCx0aGlzLnJlcXVpcmVzVGltZW91dD0hMCx0aGlzLnJlbmRlcmluZ0FjdGl2ZT0hMSx0aGlzLnJlbmRlclJlcXVlc3RzPTAsdGhpcy5hbGxvd1JlZHJhdz0hMCx0aGlzLmRyYWdnaW5nPSExLHRoaXMuem9vbWluZz0hMSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17aGlkZUVkZ2VzT25EcmFnOiExLGhpZGVFZGdlc09uWm9vbTohMSxoaWRlTm9kZXNPbkRyYWc6ITF9LGZvKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLl9kZXRlcm1pbmVCcm93c2VyTWV0aG9kKCksdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnMoKX1yZXR1cm4gJGwodCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzO3RoaXMuYm9keS5lbWl0dGVyLm9uKFwiZHJhZ1N0YXJ0XCIsKGZ1bmN0aW9uKCl7ZS5kcmFnZ2luZz0hMH0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRyYWdFbmRcIiwoZnVuY3Rpb24oKXtlLmRyYWdnaW5nPSExfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiem9vbVwiLChmdW5jdGlvbigpe2Uuem9vbWluZz0hMCx3aW5kb3cuY2xlYXJUaW1lb3V0KGUuem9vbVRpbWVvdXRJZCksZS56b29tVGltZW91dElkPWJ2KChmdW5jdGlvbigpe3ZhciB0O2Uuem9vbWluZz0hMSxGbyh0PWUuX3JlcXVlc3RSZWRyYXcpLmNhbGwodCxlKSgpfSksMjUwKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9yZXNpemVOb2Rlc1wiLChmdW5jdGlvbigpe2UuX3Jlc2l6ZU5vZGVzKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfcmVkcmF3XCIsKGZ1bmN0aW9uKCl7ITE9PT1lLnJlbmRlcmluZ0FjdGl2ZSYmZS5fcmVkcmF3KCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfYmxvY2tSZWRyYXdcIiwoZnVuY3Rpb24oKXtlLmFsbG93UmVkcmF3PSExfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2FsbG93UmVkcmF3XCIsKGZ1bmN0aW9uKCl7ZS5hbGxvd1JlZHJhdz0hMCxlLnJlZHJhd1JlcXVlc3RlZD0hMX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9yZXF1ZXN0UmVkcmF3XCIsRm8odD10aGlzLl9yZXF1ZXN0UmVkcmF3KS5jYWxsKHQsdGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3N0YXJ0UmVuZGVyaW5nXCIsKGZ1bmN0aW9uKCl7ZS5yZW5kZXJSZXF1ZXN0cys9MSxlLnJlbmRlcmluZ0FjdGl2ZT0hMCxlLl9zdGFydFJlbmRlcmluZygpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3N0b3BSZW5kZXJpbmdcIiwoZnVuY3Rpb24oKXtlLnJlbmRlclJlcXVlc3RzLT0xLGUucmVuZGVyaW5nQWN0aXZlPWUucmVuZGVyUmVxdWVzdHM+MCxlLnJlbmRlclRpbWVyPXZvaWQgMH0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIiwoZnVuY3Rpb24oKXtlLnJlbmRlclJlcXVlc3RzPTAsZS5hbGxvd1JlZHJhdz0hMSxlLnJlbmRlcmluZ0FjdGl2ZT0hMSwhMD09PWUucmVxdWlyZXNUaW1lb3V0P2NsZWFyVGltZW91dChlLnJlbmRlclRpbWVyKTp3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZS5yZW5kZXJUaW1lciksZS5ib2R5LmVtaXR0ZXIub2ZmKCl9KSl9fSx7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe055KFtcImhpZGVFZGdlc09uRHJhZ1wiLFwiaGlkZUVkZ2VzT25ab29tXCIsXCJoaWRlTm9kZXNPbkRyYWdcIl0sdGhpcy5vcHRpb25zLHQpfX19LHtrZXk6XCJfcmVxdWVzdE5leHRGcmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIGksbz13aW5kb3c7cmV0dXJuITA9PT10aGlzLnJlcXVpcmVzVGltZW91dD9pPWJ2KHQsZSk6by5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJihpPW8ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpKSxpfX19LHtrZXk6XCJfc3RhcnRSZW5kZXJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0OyEwPT09dGhpcy5yZW5kZXJpbmdBY3RpdmUmJih2b2lkIDA9PT10aGlzLnJlbmRlclRpbWVyJiYodGhpcy5yZW5kZXJUaW1lcj10aGlzLl9yZXF1ZXN0TmV4dEZyYW1lKEZvKHQ9dGhpcy5fcmVuZGVyU3RlcCkuY2FsbCh0LHRoaXMpLHRoaXMuc2ltdWxhdGlvbkludGVydmFsKSkpfX0se2tleTpcIl9yZW5kZXJTdGVwXCIsdmFsdWU6ZnVuY3Rpb24oKXshMD09PXRoaXMucmVuZGVyaW5nQWN0aXZlJiYodGhpcy5yZW5kZXJUaW1lcj12b2lkIDAsITA9PT10aGlzLnJlcXVpcmVzVGltZW91dCYmdGhpcy5fc3RhcnRSZW5kZXJpbmcoKSx0aGlzLl9yZWRyYXcoKSwhMT09PXRoaXMucmVxdWlyZXNUaW1lb3V0JiZ0aGlzLl9zdGFydFJlbmRlcmluZygpKX19LHtrZXk6XCJyZWRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJzZXRTaXplXCIpLHRoaXMuX3JlZHJhdygpfX0se2tleTpcIl9yZXF1ZXN0UmVkcmF3XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzOyEwIT09dGhpcy5yZWRyYXdSZXF1ZXN0ZWQmJiExPT09dGhpcy5yZW5kZXJpbmdBY3RpdmUmJiEwPT09dGhpcy5hbGxvd1JlZHJhdyYmKHRoaXMucmVkcmF3UmVxdWVzdGVkPSEwLHRoaXMuX3JlcXVlc3ROZXh0RnJhbWUoKGZ1bmN0aW9uKCl7dC5fcmVkcmF3KCExKX0pLDApKX19LHtrZXk6XCJfcmVkcmF3XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO2lmKCEwPT09dGhpcy5hbGxvd1JlZHJhdyl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImluaXRSZWRyYXdcIiksdGhpcy5yZWRyYXdSZXF1ZXN0ZWQ9ITE7dmFyIGU9e2RyYXdFeHRlcm5hbExhYmVsczpudWxsfTswIT09dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLndpZHRoJiYwIT09dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmhlaWdodHx8dGhpcy5jYW52YXMuc2V0U2l6ZSgpLHRoaXMuY2FudmFzLnNldFRyYW5zZm9ybSgpO3ZhciBpPXRoaXMuY2FudmFzLmdldENvbnRleHQoKSxvPXRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCxuPXRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQ7aWYoaS5jbGVhclJlY3QoMCwwLG8sbiksMD09PXRoaXMuY2FudmFzLmZyYW1lLmNsaWVudFdpZHRoKXJldHVybjtpZihpLnNhdmUoKSxpLnRyYW5zbGF0ZSh0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnkpLGkuc2NhbGUodGhpcy5ib2R5LnZpZXcuc2NhbGUsdGhpcy5ib2R5LnZpZXcuc2NhbGUpLGkuYmVnaW5QYXRoKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImJlZm9yZURyYXdpbmdcIixpKSxpLmNsb3NlUGF0aCgpLCExPT09dCYmKCExPT09dGhpcy5kcmFnZ2luZ3x8ITA9PT10aGlzLmRyYWdnaW5nJiYhMT09PXRoaXMub3B0aW9ucy5oaWRlRWRnZXNPbkRyYWcpJiYoITE9PT10aGlzLnpvb21pbmd8fCEwPT09dGhpcy56b29taW5nJiYhMT09PXRoaXMub3B0aW9ucy5oaWRlRWRnZXNPblpvb20pJiZ0aGlzLl9kcmF3RWRnZXMoaSksITE9PT10aGlzLmRyYWdnaW5nfHwhMD09PXRoaXMuZHJhZ2dpbmcmJiExPT09dGhpcy5vcHRpb25zLmhpZGVOb2Rlc09uRHJhZyl7dmFyIHI9dGhpcy5fZHJhd05vZGVzKGksdCkscz1yLmRyYXdFeHRlcm5hbExhYmVscztlLmRyYXdFeHRlcm5hbExhYmVscz1zfSExPT09dCYmKCExPT09dGhpcy5kcmFnZ2luZ3x8ITA9PT10aGlzLmRyYWdnaW5nJiYhMT09PXRoaXMub3B0aW9ucy5oaWRlRWRnZXNPbkRyYWcpJiYoITE9PT10aGlzLnpvb21pbmd8fCEwPT09dGhpcy56b29taW5nJiYhMT09PXRoaXMub3B0aW9ucy5oaWRlRWRnZXNPblpvb20pJiZ0aGlzLl9kcmF3QXJyb3dzKGkpLG51bGwhPWUuZHJhd0V4dGVybmFsTGFiZWxzJiZlLmRyYXdFeHRlcm5hbExhYmVscygpLCExPT09dCYmdGhpcy5fZHJhd1NlbGVjdGlvbkJveChpKSxpLmJlZ2luUGF0aCgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJhZnRlckRyYXdpbmdcIixpKSxpLmNsb3NlUGF0aCgpLGkucmVzdG9yZSgpLCEwPT09dCYmaS5jbGVhclJlY3QoMCwwLG8sbil9fX0se2tleTpcIl9yZXNpemVOb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jYW52YXMuc2V0VHJhbnNmb3JtKCk7dmFyIHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgpO3Quc2F2ZSgpLHQudHJhbnNsYXRlKHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLngsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueSksdC5zY2FsZSh0aGlzLmJvZHkudmlldy5zY2FsZSx0aGlzLmJvZHkudmlldy5zY2FsZSk7dmFyIGUsaT10aGlzLmJvZHkubm9kZXM7Zm9yKHZhciBvIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksbykmJigoZT1pW29dKS5yZXNpemUodCksZS51cGRhdGVCb3VuZGluZ0JveCh0LGUuc2VsZWN0ZWQpKTt0LnJlc3RvcmUoKX19LHtrZXk6XCJfZHJhd05vZGVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49dGhpcy5ib2R5Lm5vZGVzLHI9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLHM9W10sYT1bXSxoPTIwLGQ9dGhpcy5jYW52YXMuRE9NdG9DYW52YXMoe3g6LWgseTotaH0pLGw9dGhpcy5jYW52YXMuRE9NdG9DYW52YXMoe3g6dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoK2gseTp0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0K2h9KSxjPXt0b3A6ZC55LGxlZnQ6ZC54LGJvdHRvbTpsLnkscmlnaHQ6bC54fSx1PVtdLGY9MDtmPHIubGVuZ3RoO2YrKylpZigoZT1uW3JbZl1dKS5ob3ZlcilhLnB1c2gocltmXSk7ZWxzZSBpZihlLmlzU2VsZWN0ZWQoKSlzLnB1c2gocltmXSk7ZWxzZSBpZighMD09PW8pe3ZhciBwPWUuZHJhdyh0KTtudWxsIT1wLmRyYXdFeHRlcm5hbExhYmVsJiZ1LnB1c2gocC5kcmF3RXh0ZXJuYWxMYWJlbCl9ZWxzZSBpZighMD09PWUuaXNCb3VuZGluZ0JveE92ZXJsYXBwaW5nV2l0aChjKSl7dmFyIHY9ZS5kcmF3KHQpO251bGwhPXYuZHJhd0V4dGVybmFsTGFiZWwmJnUucHVzaCh2LmRyYXdFeHRlcm5hbExhYmVsKX1lbHNlIGUudXBkYXRlQm91bmRpbmdCb3godCxlLnNlbGVjdGVkKTt2YXIgZz1zLmxlbmd0aCx5PWEubGVuZ3RoO2ZvcihpPTA7aTxnO2krKyl7dmFyIG09KGU9bltzW2ldXSkuZHJhdyh0KTtudWxsIT1tLmRyYXdFeHRlcm5hbExhYmVsJiZ1LnB1c2gobS5kcmF3RXh0ZXJuYWxMYWJlbCl9Zm9yKGk9MDtpPHk7aSsrKXt2YXIgYj0oZT1uW2FbaV1dKS5kcmF3KHQpO251bGwhPWIuZHJhd0V4dGVybmFsTGFiZWwmJnUucHVzaChiLmRyYXdFeHRlcm5hbExhYmVsKX1yZXR1cm57ZHJhd0V4dGVybmFsTGFiZWxzOmZ1bmN0aW9uKCl7dmFyIHQsZT1ReCh1KTt0cnl7Zm9yKGUucygpOyEodD1lLm4oKSkuZG9uZTspeygwLHQudmFsdWUpKCl9fWNhdGNoKHQpe2UuZSh0KX1maW5hbGx5e2UuZigpfX19fX0se2tleTpcIl9kcmF3RWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5LmVkZ2VzLGk9dGhpcy5ib2R5LmVkZ2VJbmRpY2VzLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIG49ZVtpW29dXTshMD09PW4uY29ubmVjdGVkJiZuLmRyYXcodCl9fX0se2tleTpcIl9kcmF3QXJyb3dzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYm9keS5lZGdlcyxpPXRoaXMuYm9keS5lZGdlSW5kaWNlcyxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBuPWVbaVtvXV07ITA9PT1uLmNvbm5lY3RlZCYmbi5kcmF3QXJyb3dzKHQpfX19LHtrZXk6XCJfZGV0ZXJtaW5lQnJvd3Nlck1ldGhvZFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIHQ9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO3RoaXMucmVxdWlyZXNUaW1lb3V0PSExLCgtMSE9enAodCkuY2FsbCh0LFwibXNpZSA5LjBcIil8fC0xIT16cCh0KS5jYWxsKHQsXCJzYWZhcmlcIikmJnpwKHQpLmNhbGwodCxcImNocm9tZVwiKTw9LTEpJiYodGhpcy5yZXF1aXJlc1RpbWVvdXQ9ITApfWVsc2UgdGhpcy5yZXF1aXJlc1RpbWVvdXQ9ITB9fSx7a2V5OlwiX2RyYXdTZWxlY3Rpb25Cb3hcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmJvZHkuc2VsZWN0aW9uQm94LnNob3cpe3QuYmVnaW5QYXRoKCk7dmFyIGU9dGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbi5lbmQueC10aGlzLmJvZHkuc2VsZWN0aW9uQm94LnBvc2l0aW9uLnN0YXJ0LngsaT10aGlzLmJvZHkuc2VsZWN0aW9uQm94LnBvc2l0aW9uLmVuZC55LXRoaXMuYm9keS5zZWxlY3Rpb25Cb3gucG9zaXRpb24uc3RhcnQueTt0LnJlY3QodGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbi5zdGFydC54LHRoaXMuYm9keS5zZWxlY3Rpb25Cb3gucG9zaXRpb24uc3RhcnQueSxlLGkpLHQuZmlsbFN0eWxlPVwicmdiYSgxNTEsIDE5NCwgMjUyLCAwLjIpXCIsdC5maWxsUmVjdCh0aGlzLmJvZHkuc2VsZWN0aW9uQm94LnBvc2l0aW9uLnN0YXJ0LngsdGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbi5zdGFydC55LGUsaSksdC5zdHJva2VTdHlsZT1cInJnYmEoMTUxLCAxOTQsIDI1MiwgMSlcIix0LnN0cm9rZSgpfWVsc2UgdC5jbG9zZVBhdGgoKX19XSksdH0oKSxlRT1HLnNldEludGVydmFsO2Z1bmN0aW9uIGlFKHQsZSl7ZS5pbnB1dEhhbmRsZXI9ZnVuY3Rpb24odCl7dC5pc0ZpcnN0JiZlKHQpfSx0Lm9uKFwiaGFtbWVyLmlucHV0XCIsZS5pbnB1dEhhbmRsZXIpfWZ1bmN0aW9uIG9FKHQsZSl7cmV0dXJuIGUuaW5wdXRIYW5kbGVyPWZ1bmN0aW9uKHQpe3QuaXNGaW5hbCYmZSh0KX0sdC5vbihcImhhbW1lci5pbnB1dFwiLGUuaW5wdXRIYW5kbGVyKX12YXIgbkU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe1hsKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5waXhlbFJhdGlvPTEsdGhpcy5jYW1lcmFTdGF0ZT17fSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuY2FudmFzVmlld0NlbnRlcj17fSx0aGlzLl9jbGVhbnVwQ2FsbGJhY2tzPVtdLHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXthdXRvUmVzaXplOiEwLGhlaWdodDpcIjEwMCVcIix3aWR0aDpcIjEwMCVcIn0sZm8odGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuICRsKHQsW3trZXk6XCJiaW5kRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbmNlKFwicmVzaXplXCIsKGZ1bmN0aW9uKHQpezAhPT10LndpZHRoJiYoZS5ib2R5LnZpZXcudHJhbnNsYXRpb24ueD0uNSp0LndpZHRoKSwwIT09dC5oZWlnaHQmJihlLmJvZHkudmlldy50cmFuc2xhdGlvbi55PS41KnQuaGVpZ2h0KX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInNldFNpemVcIixGbyh0PXRoaXMuc2V0U2l6ZSkuY2FsbCh0LHRoaXMpKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIiwoZnVuY3Rpb24oKXtlLmhhbW1lckZyYW1lLmRlc3Ryb3koKSxlLmhhbW1lci5kZXN0cm95KCksZS5fY2xlYW5VcCgpfSkpfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLG8sbixyLHM9dGhpcztpZih2b2lkIDAhPT10KXtOeShbXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJhdXRvUmVzaXplXCJdLHRoaXMub3B0aW9ucyx0KX1pZih0aGlzLl9jbGVhblVwKCksITA9PT10aGlzLm9wdGlvbnMuYXV0b1Jlc2l6ZSl7dmFyIGE7aWYod2luZG93LlJlc2l6ZU9ic2VydmVyKXt2YXIgaD1uZXcgUmVzaXplT2JzZXJ2ZXIoKGZ1bmN0aW9uKCl7ITA9PT1zLnNldFNpemUoKSYmcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSkpLGQ9dGhpcy5mcmFtZTtoLm9ic2VydmUoZCksdGhpcy5fY2xlYW51cENhbGxiYWNrcy5wdXNoKChmdW5jdGlvbigpe2gudW5vYnNlcnZlKGQpfSkpfWVsc2V7dmFyIGw9ZUUoKGZ1bmN0aW9uKCl7ITA9PT1zLnNldFNpemUoKSYmcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSksMWUzKTt0aGlzLl9jbGVhbnVwQ2FsbGJhY2tzLnB1c2goKGZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChsKX0pKX12YXIgYz1GbyhhPXRoaXMuX29uUmVzaXplKS5jYWxsKGEsdGhpcyk7ZT13aW5kb3csaT1cInJlc2l6ZVwiLG89YyxlLmFkZEV2ZW50TGlzdGVuZXI/KHZvaWQgMD09PW4mJihuPSExKSxcIm1vdXNld2hlZWxcIj09PWkmJnpmKHI9bmF2aWdhdG9yLnVzZXJBZ2VudCkuY2FsbChyLFwiRmlyZWZveFwiKSYmKGk9XCJET01Nb3VzZVNjcm9sbFwiKSxlLmFkZEV2ZW50TGlzdGVuZXIoaSxvLG4pKTplLmF0dGFjaEV2ZW50KFwib25cIitpLG8pLHRoaXMuX2NsZWFudXBDYWxsYmFja3MucHVzaCgoZnVuY3Rpb24oKXshZnVuY3Rpb24odCxlLGksbyl7dmFyIG47dC5yZW1vdmVFdmVudExpc3RlbmVyPyh2b2lkIDA9PT1vJiYobz0hMSksXCJtb3VzZXdoZWVsXCI9PT1lJiZ6ZihuPW5hdmlnYXRvci51c2VyQWdlbnQpLmNhbGwobixcIkZpcmVmb3hcIikmJihlPVwiRE9NTW91c2VTY3JvbGxcIiksdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsaSxvKSk6dC5kZXRhY2hFdmVudChcIm9uXCIrZSxpKX0od2luZG93LFwicmVzaXplXCIsYyl9KSl9fX0se2tleTpcIl9jbGVhblVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLGk7RnUodD1VdShlPXVmKGk9dGhpcy5fY2xlYW51cENhbGxiYWNrcykuY2FsbChpLDApKS5jYWxsKGUpKS5jYWxsKHQsKGZ1bmN0aW9uKHQpe3RyeXt0KCl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcih0KX19KSl9fSx7a2V5OlwiX29uUmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldFNpemUoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKX19LHtrZXk6XCJfZ2V0Q2FtZXJhU3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnBpeGVsUmF0aW87ITA9PT10aGlzLmluaXRpYWxpemVkJiYodGhpcy5jYW1lcmFTdGF0ZS5wcmV2aW91c1dpZHRoPXRoaXMuZnJhbWUuY2FudmFzLndpZHRoL3QsdGhpcy5jYW1lcmFTdGF0ZS5wcmV2aW91c0hlaWdodD10aGlzLmZyYW1lLmNhbnZhcy5oZWlnaHQvdCx0aGlzLmNhbWVyYVN0YXRlLnNjYWxlPXRoaXMuYm9keS52aWV3LnNjYWxlLHRoaXMuY2FtZXJhU3RhdGUucG9zaXRpb249dGhpcy5ET010b0NhbnZhcyh7eDouNSp0aGlzLmZyYW1lLmNhbnZhcy53aWR0aC90LHk6LjUqdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0L3R9KSl9fSx7a2V5OlwiX3NldENhbWVyYVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLmNhbWVyYVN0YXRlLnNjYWxlJiYwIT09dGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgmJjAhPT10aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQmJjAhPT10aGlzLnBpeGVsUmF0aW8mJnRoaXMuY2FtZXJhU3RhdGUucHJldmlvdXNXaWR0aD4wJiZ0aGlzLmNhbWVyYVN0YXRlLnByZXZpb3VzSGVpZ2h0PjApe3ZhciB0PXRoaXMuZnJhbWUuY2FudmFzLndpZHRoL3RoaXMucGl4ZWxSYXRpby90aGlzLmNhbWVyYVN0YXRlLnByZXZpb3VzV2lkdGgsZT10aGlzLmZyYW1lLmNhbnZhcy5oZWlnaHQvdGhpcy5waXhlbFJhdGlvL3RoaXMuY2FtZXJhU3RhdGUucHJldmlvdXNIZWlnaHQsaT10aGlzLmNhbWVyYVN0YXRlLnNjYWxlOzEhPXQmJjEhPWU/aT0uNSp0aGlzLmNhbWVyYVN0YXRlLnNjYWxlKih0K2UpOjEhPXQ/aT10aGlzLmNhbWVyYVN0YXRlLnNjYWxlKnQ6MSE9ZSYmKGk9dGhpcy5jYW1lcmFTdGF0ZS5zY2FsZSplKSx0aGlzLmJvZHkudmlldy5zY2FsZT1pO3ZhciBvPXRoaXMuRE9NdG9DYW52YXMoe3g6LjUqdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgseTouNSp0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHR9KSxuPXt4Om8ueC10aGlzLmNhbWVyYVN0YXRlLnBvc2l0aW9uLngseTpvLnktdGhpcy5jYW1lcmFTdGF0ZS5wb3NpdGlvbi55fTt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54Kz1uLngqdGhpcy5ib2R5LnZpZXcuc2NhbGUsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueSs9bi55KnRoaXMuYm9keS52aWV3LnNjYWxlfX19LHtrZXk6XCJfcHJlcGFyZVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIHQrXCJweFwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZigtMSE9PXpwKHQpLmNhbGwodCxcIiVcIil8fC0xIT09enAodCkuY2FsbCh0LFwicHhcIikpcmV0dXJuIHQ7aWYoLTE9PT16cCh0KS5jYWxsKHQsXCIlXCIpKXJldHVybiB0K1wicHhcIn10aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgdXNlIHRoZSB2YWx1ZSBzdXBwbGllZCBmb3Igd2lkdGggb3IgaGVpZ2h0OlwiK3QpfX0se2tleTpcIl9jcmVhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcig7dGhpcy5ib2R5LmNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCk7KXRoaXMuYm9keS5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5ib2R5LmNvbnRhaW5lci5maXJzdENoaWxkKTtpZih0aGlzLmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5mcmFtZS5jbGFzc05hbWU9XCJ2aXMtbmV0d29ya1wiLHRoaXMuZnJhbWUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuZnJhbWUuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLmZyYW1lLnRhYkluZGV4PTAsdGhpcy5mcmFtZS5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lLmNhbnZhcyksdGhpcy5mcmFtZS5jYW52YXMuZ2V0Q29udGV4dCl0aGlzLl9zZXRQaXhlbFJhdGlvKCksdGhpcy5zZXRUcmFuc2Zvcm0oKTtlbHNle3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7dC5zdHlsZS5jb2xvcj1cInJlZFwiLHQuc3R5bGUuZm9udFdlaWdodD1cImJvbGRcIix0LnN0eWxlLnBhZGRpbmc9XCIxMHB4XCIsdC5pbm5lclRleHQ9XCJFcnJvcjogeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgSFRNTCBjYW52YXNcIix0aGlzLmZyYW1lLmNhbnZhcy5hcHBlbmRDaGlsZCh0KX10aGlzLmJvZHkuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUpLHRoaXMuYm9keS52aWV3LnNjYWxlPTEsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb249e3g6LjUqdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgseTouNSp0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHR9LHRoaXMuX2JpbmRIYW1tZXIoKX19LHtrZXk6XCJfYmluZEhhbW1lclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt2b2lkIDAhPT10aGlzLmhhbW1lciYmdGhpcy5oYW1tZXIuZGVzdHJveSgpLHRoaXMuZHJhZz17fSx0aGlzLnBpbmNoPXt9LHRoaXMuaGFtbWVyPW5ldyBwbSh0aGlzLmZyYW1lLmNhbnZhcyksdGhpcy5oYW1tZXIuZ2V0KFwicGluY2hcIikuc2V0KHtlbmFibGU6ITB9KSx0aGlzLmhhbW1lci5nZXQoXCJwYW5cIikuc2V0KHt0aHJlc2hvbGQ6NSxkaXJlY3Rpb246cG0uRElSRUNUSU9OX0FMTH0pLGlFKHRoaXMuaGFtbWVyLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Ub3VjaChlKX0pKSx0aGlzLmhhbW1lci5vbihcInRhcFwiLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25UYXAoZSl9KSksdGhpcy5oYW1tZXIub24oXCJkb3VibGV0YXBcIiwoZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRG91YmxlVGFwKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwicHJlc3NcIiwoZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uSG9sZChlKX0pKSx0aGlzLmhhbW1lci5vbihcInBhbnN0YXJ0XCIsKGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vbkRyYWdTdGFydChlKX0pKSx0aGlzLmhhbW1lci5vbihcInBhbm1vdmVcIiwoZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZyhlKX0pKSx0aGlzLmhhbW1lci5vbihcInBhbmVuZFwiLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25EcmFnRW5kKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwicGluY2hcIiwoZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uUGluY2goZSl9KSksdGhpcy5mcmFtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsKGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vbk1vdXNlV2hlZWwoZSl9KSksdGhpcy5mcmFtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Nb3VzZU1vdmUoZSl9KSksdGhpcy5mcmFtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsKGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vbkNvbnRleHQoZSl9KSksdGhpcy5oYW1tZXJGcmFtZT1uZXcgcG0odGhpcy5mcmFtZSksb0UodGhpcy5oYW1tZXJGcmFtZSwoZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uUmVsZWFzZShlKX0pKX19LHtrZXk6XCJzZXRTaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5vcHRpb25zLndpZHRoLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMub3B0aW9ucy5oZWlnaHQ7dD10aGlzLl9wcmVwYXJlVmFsdWUodCksZT10aGlzLl9wcmVwYXJlVmFsdWUoZSk7dmFyIGk9ITEsbz10aGlzLmZyYW1lLmNhbnZhcy53aWR0aCxuPXRoaXMuZnJhbWUuY2FudmFzLmhlaWdodCxyPXRoaXMucGl4ZWxSYXRpbztpZih0aGlzLl9zZXRQaXhlbFJhdGlvKCksdCE9dGhpcy5vcHRpb25zLndpZHRofHxlIT10aGlzLm9wdGlvbnMuaGVpZ2h0fHx0aGlzLmZyYW1lLnN0eWxlLndpZHRoIT10fHx0aGlzLmZyYW1lLnN0eWxlLmhlaWdodCE9ZSl0aGlzLl9nZXRDYW1lcmFTdGF0ZShyKSx0aGlzLmZyYW1lLnN0eWxlLndpZHRoPXQsdGhpcy5mcmFtZS5zdHlsZS5oZWlnaHQ9ZSx0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5mcmFtZS5jYW52YXMud2lkdGg9TWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCp0aGlzLnBpeGVsUmF0aW8pLHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodD1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCp0aGlzLnBpeGVsUmF0aW8pLHRoaXMub3B0aW9ucy53aWR0aD10LHRoaXMub3B0aW9ucy5oZWlnaHQ9ZSx0aGlzLmNhbnZhc1ZpZXdDZW50ZXI9e3g6LjUqdGhpcy5mcmFtZS5jbGllbnRXaWR0aCx5Oi41KnRoaXMuZnJhbWUuY2xpZW50SGVpZ2h0fSxpPSEwO2Vsc2V7dmFyIHM9TWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCp0aGlzLnBpeGVsUmF0aW8pLGE9TWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQqdGhpcy5waXhlbFJhdGlvKTt0aGlzLmZyYW1lLmNhbnZhcy53aWR0aD09PXMmJnRoaXMuZnJhbWUuY2FudmFzLmhlaWdodD09PWF8fHRoaXMuX2dldENhbWVyYVN0YXRlKHIpLHRoaXMuZnJhbWUuY2FudmFzLndpZHRoIT09cyYmKHRoaXMuZnJhbWUuY2FudmFzLndpZHRoPXMsaT0hMCksdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0IT09YSYmKHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodD1hLGk9ITApfXJldHVybiEwPT09aSYmKHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZXNpemVcIix7d2lkdGg6TWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy53aWR0aC90aGlzLnBpeGVsUmF0aW8pLGhlaWdodDpNYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodC90aGlzLnBpeGVsUmF0aW8pLG9sZFdpZHRoOk1hdGgucm91bmQoby90aGlzLnBpeGVsUmF0aW8pLG9sZEhlaWdodDpNYXRoLnJvdW5kKG4vdGhpcy5waXhlbFJhdGlvKX0pLHRoaXMuX3NldENhbWVyYVN0YXRlKCkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsaX19LHtrZXk6XCJnZXRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFtZS5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpfX0se2tleTpcIl9kZXRlcm1pbmVQaXhlbFJhdGlvXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldENvbnRleHQoKTtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBnZXQgY2FudmF4IGNvbnRleHRcIik7dmFyIGU9MTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoZT13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSksZS8odC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fDEpfX0se2tleTpcIl9zZXRQaXhlbFJhdGlvXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBpeGVsUmF0aW89dGhpcy5fZGV0ZXJtaW5lUGl4ZWxSYXRpbygpfX0se2tleTpcInNldFRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRDb250ZXh0KCk7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2V0IGNhbnZheCBjb250ZXh0XCIpO3Quc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywwLDAsdGhpcy5waXhlbFJhdGlvLDAsMCl9fSx7a2V5OlwiX1hjb252ZXJ0RE9NdG9DYW52YXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4odC10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54KS90aGlzLmJvZHkudmlldy5zY2FsZX19LHtrZXk6XCJfWGNvbnZlcnRDYW52YXNUb0RPTVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0KnRoaXMuYm9keS52aWV3LnNjYWxlK3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnh9fSx7a2V5OlwiX1ljb252ZXJ0RE9NdG9DYW52YXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4odC10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55KS90aGlzLmJvZHkudmlldy5zY2FsZX19LHtrZXk6XCJfWWNvbnZlcnRDYW52YXNUb0RPTVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0KnRoaXMuYm9keS52aWV3LnNjYWxlK3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnl9fSx7a2V5OlwiY2FudmFzVG9ET01cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57eDp0aGlzLl9YY29udmVydENhbnZhc1RvRE9NKHQueCkseTp0aGlzLl9ZY29udmVydENhbnZhc1RvRE9NKHQueSl9fX0se2tleTpcIkRPTXRvQ2FudmFzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue3g6dGhpcy5fWGNvbnZlcnRET010b0NhbnZhcyh0LngpLHk6dGhpcy5fWWNvbnZlcnRET010b0NhbnZhcyh0LnkpfX19XSksdH0oKTtmdW5jdGlvbiByRSh0LGUpe3ZhciBpPWZvKHtub2RlczplLG1pblpvb21MZXZlbDpOdW1iZXIuTUlOX1ZBTFVFLG1heFpvb21MZXZlbDoxfSxudWxsIT10P3Q6e30pO2lmKCFodShpLm5vZGVzKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm9kZXMgaGFzIHRvIGJlIGFuIGFycmF5IG9mIGlkcy5cIik7aWYoMD09PWkubm9kZXMubGVuZ3RoJiYoaS5ub2Rlcz1lKSwhKFwibnVtYmVyXCI9PXR5cGVvZiBpLm1pblpvb21MZXZlbCYmaS5taW5ab29tTGV2ZWw+MCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk1pbiB6b29tIGxldmVsIGhhcyB0byBiZSBhIG51bWJlciBoaWdoZXIgdGhhbiB6ZXJvLlwiKTtpZighKFwibnVtYmVyXCI9PXR5cGVvZiBpLm1heFpvb21MZXZlbCYmaS5taW5ab29tTGV2ZWw8PWkubWF4Wm9vbUxldmVsKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWF4IHpvb20gbGV2ZWwgaGFzIHRvIGJlIGEgbnVtYmVyIGhpZ2hlciB0aGFuIG1pbiB6b29tIGxldmVsLlwiKTtyZXR1cm4gaX12YXIgc0U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSl7dmFyIG8sbixyPXRoaXM7WGwodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmNhbnZhcz1pLHRoaXMuYW5pbWF0aW9uU3BlZWQ9MS90aGlzLnJlbmRlclJlZnJlc2hSYXRlLHRoaXMuYW5pbWF0aW9uRWFzaW5nRnVuY3Rpb249XCJlYXNlSW5PdXRRdWludFwiLHRoaXMuZWFzaW5nVGltZT0wLHRoaXMuc291cmNlU2NhbGU9MCx0aGlzLnRhcmdldFNjYWxlPTAsdGhpcy5zb3VyY2VUcmFuc2xhdGlvbj0wLHRoaXMudGFyZ2V0VHJhbnNsYXRpb249MCx0aGlzLmxvY2tlZE9uTm9kZUlkPXZvaWQgMCx0aGlzLmxvY2tlZE9uTm9kZU9mZnNldD12b2lkIDAsdGhpcy50b3VjaFRpbWU9MCx0aGlzLnZpZXdGdW5jdGlvbj12b2lkIDAsdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJmaXRcIixGbyhvPXRoaXMuZml0KS5jYWxsKG8sdGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiYW5pbWF0aW9uRmluaXNoZWRcIiwoZnVuY3Rpb24oKXtyLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0b3BSZW5kZXJpbmdcIil9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJ1bmxvY2tOb2RlXCIsRm8obj10aGlzLnJlbGVhc2VOb2RlKS5jYWxsKG4sdGhpcykpfXJldHVybiAkbCh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMub3B0aW9ucz10fX0se2tleTpcImZpdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07dD1yRSh0LHRoaXMuYm9keS5ub2RlSW5kaWNlcyk7dmFyIGksbyxuPXRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCxyPXRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQ7aWYoMD09PW58fDA9PT1yKW89MSxpPUd4LmdldFJhbmdlKHRoaXMuYm9keS5ub2Rlcyx0Lm5vZGVzKTtlbHNlIGlmKCEwPT09ZSl7dmFyIHM9MDtmb3IodmFyIGEgaW4gdGhpcy5ib2R5Lm5vZGVzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvZHkubm9kZXMsYSkpe3ZhciBoPXRoaXMuYm9keS5ub2Rlc1thXTshMD09PWgucHJlZGVmaW5lZFBvc2l0aW9uJiYocys9MSl9aWYocz4uNSp0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoKXJldHVybiB2b2lkIHRoaXMuZml0KHQsITEpO2k9R3guZ2V0UmFuZ2UodGhpcy5ib2R5Lm5vZGVzLHQubm9kZXMpO3ZhciBkPXRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7bz0xMi42NjIvKGQrNy40MTQ3KSsuMDk2NDgyMjt2YXIgbD1NYXRoLm1pbihuLzYwMCxyLzYwMCk7byo9bH1lbHNle3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVzaXplTm9kZXNcIiksaT1HeC5nZXRSYW5nZSh0aGlzLmJvZHkubm9kZXMsdC5ub2Rlcyk7dmFyIGM9MS4xKk1hdGguYWJzKGkubWF4WC1pLm1pblgpLHU9MS4xKk1hdGguYWJzKGkubWF4WS1pLm1pblkpLGY9bi9jLHA9ci91O289Zjw9cD9mOnB9bz50Lm1heFpvb21MZXZlbD9vPXQubWF4Wm9vbUxldmVsOm88dC5taW5ab29tTGV2ZWwmJihvPXQubWluWm9vbUxldmVsKTt2YXIgdj1HeC5maW5kQ2VudGVyKGkpLGc9e3Bvc2l0aW9uOnYsc2NhbGU6byxhbmltYXRpb246dC5hbmltYXRpb259O3RoaXMubW92ZVRvKGcpfX0se2tleTpcImZvY3VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0XSl7dmFyIGk9e3g6dGhpcy5ib2R5Lm5vZGVzW3RdLngseTp0aGlzLmJvZHkubm9kZXNbdF0ueX07ZS5wb3NpdGlvbj1pLGUubG9ja2VkT25Ob2RlPXQsdGhpcy5tb3ZlVG8oZSl9ZWxzZSBjb25zb2xlLmVycm9yKFwiTm9kZTogXCIrdCtcIiBjYW5ub3QgYmUgZm91bmQuXCIpfX0se2tleTpcIm1vdmVUb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe2lmKG51bGwhPXQub2Zmc2V0KXtpZihudWxsIT10Lm9mZnNldC54KXtpZih0Lm9mZnNldC54PSt0Lm9mZnNldC54LCFNdyh0Lm9mZnNldC54KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgb3B0aW9uIFwib2Zmc2V0LnhcIiBoYXMgdG8gYmUgYSBmaW5pdGUgbnVtYmVyLicpfWVsc2UgdC5vZmZzZXQueD0wO2lmKG51bGwhPXQub2Zmc2V0Lnkpe2lmKHQub2Zmc2V0Lnk9K3Qub2Zmc2V0LnksIU13KHQub2Zmc2V0LnkpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBvcHRpb24gXCJvZmZzZXQueVwiIGhhcyB0byBiZSBhIGZpbml0ZSBudW1iZXIuJyl9ZWxzZSB0Lm9mZnNldC54PTB9ZWxzZSB0Lm9mZnNldD17eDowLHk6MH07aWYobnVsbCE9dC5wb3NpdGlvbil7aWYobnVsbCE9dC5wb3NpdGlvbi54KXtpZih0LnBvc2l0aW9uLng9K3QucG9zaXRpb24ueCwhTXcodC5wb3NpdGlvbi54KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgb3B0aW9uIFwicG9zaXRpb24ueFwiIGhhcyB0byBiZSBhIGZpbml0ZSBudW1iZXIuJyl9ZWxzZSB0LnBvc2l0aW9uLng9MDtpZihudWxsIT10LnBvc2l0aW9uLnkpe2lmKHQucG9zaXRpb24ueT0rdC5wb3NpdGlvbi55LCFNdyh0LnBvc2l0aW9uLnkpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBvcHRpb24gXCJwb3NpdGlvbi55XCIgaGFzIHRvIGJlIGEgZmluaXRlIG51bWJlci4nKX1lbHNlIHQucG9zaXRpb24ueD0wfWVsc2UgdC5wb3NpdGlvbj10aGlzLmdldFZpZXdQb3NpdGlvbigpO2lmKG51bGwhPXQuc2NhbGUpe2lmKHQuc2NhbGU9K3Quc2NhbGUsISh0LnNjYWxlPjApKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBvcHRpb24gXCJzY2FsZVwiIGhhcyB0byBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gemVyby4nKX1lbHNlIHQuc2NhbGU9dGhpcy5ib2R5LnZpZXcuc2NhbGU7dm9pZCAwPT09dC5hbmltYXRpb24mJih0LmFuaW1hdGlvbj17ZHVyYXRpb246MH0pLCExPT09dC5hbmltYXRpb24mJih0LmFuaW1hdGlvbj17ZHVyYXRpb246MH0pLCEwPT09dC5hbmltYXRpb24mJih0LmFuaW1hdGlvbj17fSksdm9pZCAwPT09dC5hbmltYXRpb24uZHVyYXRpb24mJih0LmFuaW1hdGlvbi5kdXJhdGlvbj0xZTMpLHZvaWQgMD09PXQuYW5pbWF0aW9uLmVhc2luZ0Z1bmN0aW9uJiYodC5hbmltYXRpb24uZWFzaW5nRnVuY3Rpb249XCJlYXNlSW5PdXRRdWFkXCIpLHRoaXMuYW5pbWF0ZVZpZXcodCl9ZWxzZSB0PXt9fX0se2tleTpcImFuaW1hdGVWaWV3XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7dGhpcy5hbmltYXRpb25FYXNpbmdGdW5jdGlvbj10LmFuaW1hdGlvbi5lYXNpbmdGdW5jdGlvbix0aGlzLnJlbGVhc2VOb2RlKCksITA9PT10LmxvY2tlZCYmKHRoaXMubG9ja2VkT25Ob2RlSWQ9dC5sb2NrZWRPbk5vZGUsdGhpcy5sb2NrZWRPbk5vZGVPZmZzZXQ9dC5vZmZzZXQpLDAhPXRoaXMuZWFzaW5nVGltZSYmdGhpcy5fdHJhbnNpdGlvblJlZHJhdyghMCksdGhpcy5zb3VyY2VTY2FsZT10aGlzLmJvZHkudmlldy5zY2FsZSx0aGlzLnNvdXJjZVRyYW5zbGF0aW9uPXRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLHRoaXMudGFyZ2V0U2NhbGU9dC5zY2FsZSx0aGlzLmJvZHkudmlldy5zY2FsZT10aGlzLnRhcmdldFNjYWxlO3ZhciBlLGksbz10aGlzLmNhbnZhcy5ET010b0NhbnZhcyh7eDouNSp0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgseTouNSp0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0fSksbj1vLngtdC5wb3NpdGlvbi54LHI9by55LXQucG9zaXRpb24ueTtpZih0aGlzLnRhcmdldFRyYW5zbGF0aW9uPXt4OnRoaXMuc291cmNlVHJhbnNsYXRpb24ueCtuKnRoaXMudGFyZ2V0U2NhbGUrdC5vZmZzZXQueCx5OnRoaXMuc291cmNlVHJhbnNsYXRpb24ueStyKnRoaXMudGFyZ2V0U2NhbGUrdC5vZmZzZXQueX0sMD09PXQuYW5pbWF0aW9uLmR1cmF0aW9uKWlmKG51bGwhPXRoaXMubG9ja2VkT25Ob2RlSWQpdGhpcy52aWV3RnVuY3Rpb249Rm8oZT10aGlzLl9sb2NrZWRSZWRyYXcpLmNhbGwoZSx0aGlzKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImluaXRSZWRyYXdcIix0aGlzLnZpZXdGdW5jdGlvbik7ZWxzZSB0aGlzLmJvZHkudmlldy5zY2FsZT10aGlzLnRhcmdldFNjYWxlLHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXRoaXMudGFyZ2V0VHJhbnNsYXRpb24sdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpO2Vsc2UgdGhpcy5hbmltYXRpb25TcGVlZD0xLyg2MCp0LmFuaW1hdGlvbi5kdXJhdGlvbiouMDAxKXx8MS82MCx0aGlzLmFuaW1hdGlvbkVhc2luZ0Z1bmN0aW9uPXQuYW5pbWF0aW9uLmVhc2luZ0Z1bmN0aW9uLHRoaXMudmlld0Z1bmN0aW9uPUZvKGk9dGhpcy5fdHJhbnNpdGlvblJlZHJhdykuY2FsbChpLHRoaXMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiaW5pdFJlZHJhd1wiLHRoaXMudmlld0Z1bmN0aW9uKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0YXJ0UmVuZGVyaW5nXCIpfX19LHtrZXk6XCJfbG9ja2VkUmVkcmF3XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHkubm9kZXNbdGhpcy5sb2NrZWRPbk5vZGVJZF0ueCxlPXRoaXMuYm9keS5ub2Rlc1t0aGlzLmxvY2tlZE9uTm9kZUlkXS55LGk9dGhpcy5jYW52YXMuRE9NdG9DYW52YXMoe3g6LjUqdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLHk6LjUqdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodH0pLG89aS54LXQsbj1pLnktZSxyPXRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLHM9e3g6ci54K28qdGhpcy5ib2R5LnZpZXcuc2NhbGUrdGhpcy5sb2NrZWRPbk5vZGVPZmZzZXQueCx5OnIueStuKnRoaXMuYm9keS52aWV3LnNjYWxlK3RoaXMubG9ja2VkT25Ob2RlT2Zmc2V0Lnl9O3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXN9fSx7a2V5OlwicmVsZWFzZU5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMubG9ja2VkT25Ob2RlSWQmJnZvaWQgMCE9PXRoaXMudmlld0Z1bmN0aW9uJiYodGhpcy5ib2R5LmVtaXR0ZXIub2ZmKFwiaW5pdFJlZHJhd1wiLHRoaXMudmlld0Z1bmN0aW9uKSx0aGlzLmxvY2tlZE9uTm9kZUlkPXZvaWQgMCx0aGlzLmxvY2tlZE9uTm9kZU9mZnNldD12b2lkIDApfX0se2tleTpcIl90cmFuc2l0aW9uUmVkcmF3XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3RoaXMuZWFzaW5nVGltZSs9dGhpcy5hbmltYXRpb25TcGVlZCx0aGlzLmVhc2luZ1RpbWU9ITA9PT10PzE6dGhpcy5lYXNpbmdUaW1lO3ZhciBlPWVtW3RoaXMuYW5pbWF0aW9uRWFzaW5nRnVuY3Rpb25dKHRoaXMuZWFzaW5nVGltZSk7aWYodGhpcy5ib2R5LnZpZXcuc2NhbGU9dGhpcy5zb3VyY2VTY2FsZSsodGhpcy50YXJnZXRTY2FsZS10aGlzLnNvdXJjZVNjYWxlKSplLHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4OnRoaXMuc291cmNlVHJhbnNsYXRpb24ueCsodGhpcy50YXJnZXRUcmFuc2xhdGlvbi54LXRoaXMuc291cmNlVHJhbnNsYXRpb24ueCkqZSx5OnRoaXMuc291cmNlVHJhbnNsYXRpb24ueSsodGhpcy50YXJnZXRUcmFuc2xhdGlvbi55LXRoaXMuc291cmNlVHJhbnNsYXRpb24ueSkqZX0sdGhpcy5lYXNpbmdUaW1lPj0xKXt2YXIgaTtpZih0aGlzLmJvZHkuZW1pdHRlci5vZmYoXCJpbml0UmVkcmF3XCIsdGhpcy52aWV3RnVuY3Rpb24pLHRoaXMuZWFzaW5nVGltZT0wLG51bGwhPXRoaXMubG9ja2VkT25Ob2RlSWQpdGhpcy52aWV3RnVuY3Rpb249Rm8oaT10aGlzLl9sb2NrZWRSZWRyYXcpLmNhbGwoaSx0aGlzKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImluaXRSZWRyYXdcIix0aGlzLnZpZXdGdW5jdGlvbik7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImFuaW1hdGlvbkZpbmlzaGVkXCIpfX19LHtrZXk6XCJnZXRTY2FsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS52aWV3LnNjYWxlfX0se2tleTpcImdldFZpZXdQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHt4Oi41KnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCx5Oi41KnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHR9KX19XSksdH0oKTtmdW5jdGlvbiBhRSh0KXt2YXIgZSxpPXQmJnQucHJldmVudERlZmF1bHR8fCExLG89dCYmdC5jb250YWluZXJ8fHdpbmRvdyxuPXt9LHI9e2tleWRvd246e30sa2V5dXA6e319LHM9e307Zm9yKGU9OTc7ZTw9MTIyO2UrKylzW1N0cmluZy5mcm9tQ2hhckNvZGUoZSldPXtjb2RlOmUtOTcrNjUsc2hpZnQ6ITF9O2ZvcihlPTY1O2U8PTkwO2UrKylzW1N0cmluZy5mcm9tQ2hhckNvZGUoZSldPXtjb2RlOmUsc2hpZnQ6ITB9O2ZvcihlPTA7ZTw9OTtlKyspc1tcIlwiK2VdPXtjb2RlOjQ4K2Usc2hpZnQ6ITF9O2ZvcihlPTE7ZTw9MTI7ZSsrKXNbXCJGXCIrZV09e2NvZGU6MTExK2Usc2hpZnQ6ITF9O2ZvcihlPTA7ZTw9OTtlKyspc1tcIm51bVwiK2VdPXtjb2RlOjk2K2Usc2hpZnQ6ITF9O3NbXCJudW0qXCJdPXtjb2RlOjEwNixzaGlmdDohMX0sc1tcIm51bStcIl09e2NvZGU6MTA3LHNoaWZ0OiExfSxzW1wibnVtLVwiXT17Y29kZToxMDksc2hpZnQ6ITF9LHNbXCJudW0vXCJdPXtjb2RlOjExMSxzaGlmdDohMX0sc1tcIm51bS5cIl09e2NvZGU6MTEwLHNoaWZ0OiExfSxzLmxlZnQ9e2NvZGU6Mzcsc2hpZnQ6ITF9LHMudXA9e2NvZGU6Mzgsc2hpZnQ6ITF9LHMucmlnaHQ9e2NvZGU6Mzksc2hpZnQ6ITF9LHMuZG93bj17Y29kZTo0MCxzaGlmdDohMX0scy5zcGFjZT17Y29kZTozMixzaGlmdDohMX0scy5lbnRlcj17Y29kZToxMyxzaGlmdDohMX0scy5zaGlmdD17Y29kZToxNixzaGlmdDp2b2lkIDB9LHMuZXNjPXtjb2RlOjI3LHNoaWZ0OiExfSxzLmJhY2tzcGFjZT17Y29kZTo4LHNoaWZ0OiExfSxzLnRhYj17Y29kZTo5LHNoaWZ0OiExfSxzLmN0cmw9e2NvZGU6MTcsc2hpZnQ6ITF9LHMuYWx0PXtjb2RlOjE4LHNoaWZ0OiExfSxzLmRlbGV0ZT17Y29kZTo0NixzaGlmdDohMX0scy5wYWdldXA9e2NvZGU6MzMsc2hpZnQ6ITF9LHMucGFnZWRvd249e2NvZGU6MzQsc2hpZnQ6ITF9LHNbXCI9XCJdPXtjb2RlOjE4NyxzaGlmdDohMX0sc1tcIi1cIl09e2NvZGU6MTg5LHNoaWZ0OiExfSxzW1wiXVwiXT17Y29kZToyMjEsc2hpZnQ6ITF9LHNbXCJbXCJdPXtjb2RlOjIxOSxzaGlmdDohMX07dmFyIGE9ZnVuY3Rpb24odCl7ZCh0LFwia2V5ZG93blwiKX0saD1mdW5jdGlvbih0KXtkKHQsXCJrZXl1cFwiKX0sZD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXJbZV1bdC5rZXlDb2RlXSl7Zm9yKHZhciBvPXJbZV1bdC5rZXlDb2RlXSxuPTA7bjxvLmxlbmd0aDtuKyspKHZvaWQgMD09PW9bbl0uc2hpZnR8fDE9PW9bbl0uc2hpZnQmJjE9PXQuc2hpZnRLZXl8fDA9PW9bbl0uc2hpZnQmJjA9PXQuc2hpZnRLZXkpJiZvW25dLmZuKHQpOzE9PWkmJnQucHJldmVudERlZmF1bHQoKX19O3JldHVybiBuLmJpbmQ9ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PWkmJihpPVwia2V5ZG93blwiKSx2b2lkIDA9PT1zW3RdKXRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGtleTogXCIrdCk7dm9pZCAwPT09cltpXVtzW3RdLmNvZGVdJiYocltpXVtzW3RdLmNvZGVdPVtdKSxyW2ldW3NbdF0uY29kZV0ucHVzaCh7Zm46ZSxzaGlmdDpzW3RdLnNoaWZ0fSl9LG4uYmluZEFsbD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiB2b2lkIDA9PT1lJiYoZT1cImtleWRvd25cIikscylzLmhhc093blByb3BlcnR5KGkpJiZuLmJpbmQoaSx0LGUpfSxuLmdldEtleT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gcylpZihzLmhhc093blByb3BlcnR5KGUpKXtpZigxPT10LnNoaWZ0S2V5JiYxPT1zW2VdLnNoaWZ0JiZ0LmtleUNvZGU9PXNbZV0uY29kZSlyZXR1cm4gZTtpZigwPT10LnNoaWZ0S2V5JiYwPT1zW2VdLnNoaWZ0JiZ0LmtleUNvZGU9PXNbZV0uY29kZSlyZXR1cm4gZTtpZih0LmtleUNvZGU9PXNbZV0uY29kZSYmXCJzaGlmdFwiPT1lKXJldHVybiBlfXJldHVyblwidW5rbm93biBrZXksIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkXCJ9LG4udW5iaW5kPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pJiYoaT1cImtleWRvd25cIiksdm9pZCAwPT09c1t0XSl0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBrZXk6IFwiK3QpO2lmKHZvaWQgMCE9PWUpe3ZhciBvPVtdLG49cltpXVtzW3RdLmNvZGVdO2lmKHZvaWQgMCE9PW4pZm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspblthXS5mbj09ZSYmblthXS5zaGlmdD09c1t0XS5zaGlmdHx8by5wdXNoKHJbaV1bc1t0XS5jb2RlXVthXSk7cltpXVtzW3RdLmNvZGVdPW99ZWxzZSByW2ldW3NbdF0uY29kZV09W119LG4ucmVzZXQ9ZnVuY3Rpb24oKXtyPXtrZXlkb3duOnt9LGtleXVwOnt9fX0sbi5kZXN0cm95PWZ1bmN0aW9uKCl7cj17a2V5ZG93bjp7fSxrZXl1cDp7fX0sby5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGEsITApLG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsaCwhMCl9LG8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixhLCEwKSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGgsITApLG59dmFyIGhFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkpe3ZhciBvPXRoaXM7WGwodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmNhbnZhcz1pLHRoaXMuaWNvbnNDcmVhdGVkPSExLHRoaXMubmF2aWdhdGlvbkhhbW1lcnM9W10sdGhpcy5ib3VuZEZ1bmN0aW9ucz17fSx0aGlzLnRvdWNoVGltZT0wLHRoaXMuYWN0aXZhdGVkPSExLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiYWN0aXZhdGVcIiwoZnVuY3Rpb24oKXtvLmFjdGl2YXRlZD0hMCxvLmNvbmZpZ3VyZUtleWJvYXJkQmluZGluZ3MoKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlYWN0aXZhdGVcIiwoZnVuY3Rpb24oKXtvLmFjdGl2YXRlZD0hMSxvLmNvbmZpZ3VyZUtleWJvYXJkQmluZGluZ3MoKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIiwoZnVuY3Rpb24oKXt2b2lkIDAhPT1vLmtleWNoYXJtJiZvLmtleWNoYXJtLmRlc3Ryb3koKX0pKSx0aGlzLm9wdGlvbnM9e319cmV0dXJuICRsKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dm9pZCAwIT09dCYmKHRoaXMub3B0aW9ucz10LHRoaXMuY3JlYXRlKCkpfX0se2tleTpcImNyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7ITA9PT10aGlzLm9wdGlvbnMubmF2aWdhdGlvbkJ1dHRvbnM/ITE9PT10aGlzLmljb25zQ3JlYXRlZCYmdGhpcy5sb2FkTmF2aWdhdGlvbkVsZW1lbnRzKCk6ITA9PT10aGlzLmljb25zQ3JlYXRlZCYmdGhpcy5jbGVhbk5hdmlnYXRpb24oKSx0aGlzLmNvbmZpZ3VyZUtleWJvYXJkQmluZGluZ3MoKX19LHtrZXk6XCJjbGVhbk5hdmlnYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe2lmKDAhPXRoaXMubmF2aWdhdGlvbkhhbW1lcnMubGVuZ3RoKXtmb3IodmFyIHQ9MDt0PHRoaXMubmF2aWdhdGlvbkhhbW1lcnMubGVuZ3RoO3QrKyl0aGlzLm5hdmlnYXRpb25IYW1tZXJzW3RdLmRlc3Ryb3koKTt0aGlzLm5hdmlnYXRpb25IYW1tZXJzPVtdfXRoaXMubmF2aWdhdGlvbkRPTSYmdGhpcy5uYXZpZ2F0aW9uRE9NLndyYXBwZXImJnRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyLnBhcmVudE5vZGUmJnRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5uYXZpZ2F0aW9uRE9NLndyYXBwZXIpLHRoaXMuaWNvbnNDcmVhdGVkPSExfX0se2tleTpcImxvYWROYXZpZ2F0aW9uRWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5jbGVhbk5hdmlnYXRpb24oKSx0aGlzLm5hdmlnYXRpb25ET009e307dmFyIGU9W1widXBcIixcImRvd25cIixcImxlZnRcIixcInJpZ2h0XCIsXCJ6b29tSW5cIixcInpvb21PdXRcIixcInpvb21FeHRlbmRzXCJdLGk9W1wiX21vdmVVcFwiLFwiX21vdmVEb3duXCIsXCJfbW92ZUxlZnRcIixcIl9tb3ZlUmlnaHRcIixcIl96b29tSW5cIixcIl96b29tT3V0XCIsXCJfZml0XCJdO3RoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5uYXZpZ2F0aW9uRE9NLndyYXBwZXIuY2xhc3NOYW1lPVwidmlzLW5hdmlnYXRpb25cIix0aGlzLmNhbnZhcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlcik7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3RoaXMubmF2aWdhdGlvbkRPTVtlW29dXT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubmF2aWdhdGlvbkRPTVtlW29dXS5jbGFzc05hbWU9XCJ2aXMtYnV0dG9uIHZpcy1cIitlW29dLHRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubmF2aWdhdGlvbkRPTVtlW29dXSk7dmFyIG4scixzPW5ldyBwbSh0aGlzLm5hdmlnYXRpb25ET01bZVtvXV0pO2lmKFwiX2ZpdFwiPT09aVtvXSlpRShzLEZvKG49dGhpcy5fZml0KS5jYWxsKG4sdGhpcykpO2Vsc2UgaUUocyxGbyhyPXRoaXMuYmluZFRvUmVkcmF3KS5jYWxsKHIsdGhpcyxpW29dKSk7dGhpcy5uYXZpZ2F0aW9uSGFtbWVycy5wdXNoKHMpfXZhciBhPW5ldyBwbSh0aGlzLmNhbnZhcy5mcmFtZSk7b0UoYSwoZnVuY3Rpb24oKXt0Ll9zdG9wTW92ZW1lbnQoKX0pKSx0aGlzLm5hdmlnYXRpb25IYW1tZXJzLnB1c2goYSksdGhpcy5pY29uc0NyZWF0ZWQ9ITB9fSx7a2V5OlwiYmluZFRvUmVkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7dm9pZCAwPT09dGhpcy5ib3VuZEZ1bmN0aW9uc1t0XSYmKHRoaXMuYm91bmRGdW5jdGlvbnNbdF09Rm8oZT10aGlzW3RdKS5jYWxsKGUsdGhpcyksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJpbml0UmVkcmF3XCIsdGhpcy5ib3VuZEZ1bmN0aW9uc1t0XSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9zdGFydFJlbmRlcmluZ1wiKSl9fSx7a2V5OlwidW5iaW5kRnJvbVJlZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXRoaXMuYm91bmRGdW5jdGlvbnNbdF0mJih0aGlzLmJvZHkuZW1pdHRlci5vZmYoXCJpbml0UmVkcmF3XCIsdGhpcy5ib3VuZEZ1bmN0aW9uc1t0XSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9zdG9wUmVuZGVyaW5nXCIpLGRlbGV0ZSB0aGlzLmJvdW5kRnVuY3Rpb25zW3RdKX19LHtrZXk6XCJfZml0XCIsdmFsdWU6ZnVuY3Rpb24oKXsobmV3IERhdGUpLnZhbHVlT2YoKS10aGlzLnRvdWNoVGltZT43MDAmJih0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiZml0XCIse2R1cmF0aW9uOjcwMH0pLHRoaXMudG91Y2hUaW1lPShuZXcgRGF0ZSkudmFsdWVPZigpKX19LHtrZXk6XCJfc3RvcE1vdmVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5ib3VuZEZ1bmN0aW9ucylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib3VuZEZ1bmN0aW9ucyx0KSYmKHRoaXMuYm9keS5lbWl0dGVyLm9mZihcImluaXRSZWRyYXdcIix0aGlzLmJvdW5kRnVuY3Rpb25zW3RdKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0b3BSZW5kZXJpbmdcIikpO3RoaXMuYm91bmRGdW5jdGlvbnM9e319fSx7a2V5OlwiX21vdmVVcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueSs9dGhpcy5vcHRpb25zLmtleWJvYXJkLnNwZWVkLnl9fSx7a2V5OlwiX21vdmVEb3duXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55LT10aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQueX19LHtrZXk6XCJfbW92ZUxlZnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLngrPXRoaXMub3B0aW9ucy5rZXlib2FyZC5zcGVlZC54fX0se2tleTpcIl9tb3ZlUmlnaHRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLngtPXRoaXMub3B0aW9ucy5rZXlib2FyZC5zcGVlZC54fX0se2tleTpcIl96b29tSW5cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9keS52aWV3LnNjYWxlLGU9dGhpcy5ib2R5LnZpZXcuc2NhbGUqKDErdGhpcy5vcHRpb25zLmtleWJvYXJkLnNwZWVkLnpvb20pLGk9dGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24sbz1lL3Qsbj0oMS1vKSp0aGlzLmNhbnZhcy5jYW52YXNWaWV3Q2VudGVyLngraS54Km8scj0oMS1vKSp0aGlzLmNhbnZhcy5jYW52YXNWaWV3Q2VudGVyLnkraS55Km87dGhpcy5ib2R5LnZpZXcuc2NhbGU9ZSx0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbj17eDpuLHk6cn0sdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInpvb21cIix7ZGlyZWN0aW9uOlwiK1wiLHNjYWxlOnRoaXMuYm9keS52aWV3LnNjYWxlLHBvaW50ZXI6bnVsbH0pfX0se2tleTpcIl96b29tT3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHkudmlldy5zY2FsZSxlPXRoaXMuYm9keS52aWV3LnNjYWxlLygxK3RoaXMub3B0aW9ucy5rZXlib2FyZC5zcGVlZC56b29tKSxpPXRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLG89ZS90LG49KDEtbykqdGhpcy5jYW52YXMuY2FudmFzVmlld0NlbnRlci54K2kueCpvLHI9KDEtbykqdGhpcy5jYW52YXMuY2FudmFzVmlld0NlbnRlci55K2kueSpvO3RoaXMuYm9keS52aWV3LnNjYWxlPWUsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb249e3g6bix5OnJ9LHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJ6b29tXCIse2RpcmVjdGlvbjpcIi1cIixzY2FsZTp0aGlzLmJvZHkudmlldy5zY2FsZSxwb2ludGVyOm51bGx9KX19LHtrZXk6XCJjb25maWd1cmVLZXlib2FyZEJpbmRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbyxuLHIscyxhLGgsZCxsLGMsdSxmLHAsdixnLHksbSxiLHcsayxfLHgsRT10aGlzOyh2b2lkIDAhPT10aGlzLmtleWNoYXJtJiZ0aGlzLmtleWNoYXJtLmRlc3Ryb3koKSwhMD09PXRoaXMub3B0aW9ucy5rZXlib2FyZC5lbmFibGVkKSYmKCEwPT09dGhpcy5vcHRpb25zLmtleWJvYXJkLmJpbmRUb1dpbmRvdz90aGlzLmtleWNoYXJtPWFFKHtjb250YWluZXI6d2luZG93LHByZXZlbnREZWZhdWx0OiEwfSk6dGhpcy5rZXljaGFybT1hRSh7Y29udGFpbmVyOnRoaXMuY2FudmFzLmZyYW1lLHByZXZlbnREZWZhdWx0OiEwfSksdGhpcy5rZXljaGFybS5yZXNldCgpLCEwPT09dGhpcy5hY3RpdmF0ZWQmJihGbyh0PXRoaXMua2V5Y2hhcm0pLmNhbGwodCxcInVwXCIsKGZ1bmN0aW9uKCl7RS5iaW5kVG9SZWRyYXcoXCJfbW92ZVVwXCIpfSksXCJrZXlkb3duXCIpLEZvKGU9dGhpcy5rZXljaGFybSkuY2FsbChlLFwiZG93blwiLChmdW5jdGlvbigpe0UuYmluZFRvUmVkcmF3KFwiX21vdmVEb3duXCIpfSksXCJrZXlkb3duXCIpLEZvKGk9dGhpcy5rZXljaGFybSkuY2FsbChpLFwibGVmdFwiLChmdW5jdGlvbigpe0UuYmluZFRvUmVkcmF3KFwiX21vdmVMZWZ0XCIpfSksXCJrZXlkb3duXCIpLEZvKG89dGhpcy5rZXljaGFybSkuY2FsbChvLFwicmlnaHRcIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl9tb3ZlUmlnaHRcIil9KSxcImtleWRvd25cIiksRm8obj10aGlzLmtleWNoYXJtKS5jYWxsKG4sXCI9XCIsKGZ1bmN0aW9uKCl7RS5iaW5kVG9SZWRyYXcoXCJfem9vbUluXCIpfSksXCJrZXlkb3duXCIpLEZvKHI9dGhpcy5rZXljaGFybSkuY2FsbChyLFwibnVtK1wiLChmdW5jdGlvbigpe0UuYmluZFRvUmVkcmF3KFwiX3pvb21JblwiKX0pLFwia2V5ZG93blwiKSxGbyhzPXRoaXMua2V5Y2hhcm0pLmNhbGwocyxcIm51bS1cIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl96b29tT3V0XCIpfSksXCJrZXlkb3duXCIpLEZvKGE9dGhpcy5rZXljaGFybSkuY2FsbChhLFwiLVwiLChmdW5jdGlvbigpe0UuYmluZFRvUmVkcmF3KFwiX3pvb21PdXRcIil9KSxcImtleWRvd25cIiksRm8oaD10aGlzLmtleWNoYXJtKS5jYWxsKGgsXCJbXCIsKGZ1bmN0aW9uKCl7RS5iaW5kVG9SZWRyYXcoXCJfem9vbU91dFwiKX0pLFwia2V5ZG93blwiKSxGbyhkPXRoaXMua2V5Y2hhcm0pLmNhbGwoZCxcIl1cIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl96b29tSW5cIil9KSxcImtleWRvd25cIiksRm8obD10aGlzLmtleWNoYXJtKS5jYWxsKGwsXCJwYWdldXBcIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl96b29tSW5cIil9KSxcImtleWRvd25cIiksRm8oYz10aGlzLmtleWNoYXJtKS5jYWxsKGMsXCJwYWdlZG93blwiLChmdW5jdGlvbigpe0UuYmluZFRvUmVkcmF3KFwiX3pvb21PdXRcIil9KSxcImtleWRvd25cIiksRm8odT10aGlzLmtleWNoYXJtKS5jYWxsKHUsXCJ1cFwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl9tb3ZlVXBcIil9KSxcImtleXVwXCIpLEZvKGY9dGhpcy5rZXljaGFybSkuY2FsbChmLFwiZG93blwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl9tb3ZlRG93blwiKX0pLFwia2V5dXBcIiksRm8ocD10aGlzLmtleWNoYXJtKS5jYWxsKHAsXCJsZWZ0XCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX21vdmVMZWZ0XCIpfSksXCJrZXl1cFwiKSxGbyh2PXRoaXMua2V5Y2hhcm0pLmNhbGwodixcInJpZ2h0XCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX21vdmVSaWdodFwiKX0pLFwia2V5dXBcIiksRm8oZz10aGlzLmtleWNoYXJtKS5jYWxsKGcsXCI9XCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21JblwiKX0pLFwia2V5dXBcIiksRm8oeT10aGlzLmtleWNoYXJtKS5jYWxsKHksXCJudW0rXCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21JblwiKX0pLFwia2V5dXBcIiksRm8obT10aGlzLmtleWNoYXJtKS5jYWxsKG0sXCJudW0tXCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21PdXRcIil9KSxcImtleXVwXCIpLEZvKGI9dGhpcy5rZXljaGFybSkuY2FsbChiLFwiLVwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tT3V0XCIpfSksXCJrZXl1cFwiKSxGbyh3PXRoaXMua2V5Y2hhcm0pLmNhbGwodyxcIltcIiwoZnVuY3Rpb24oKXtFLnVuYmluZEZyb21SZWRyYXcoXCJfem9vbU91dFwiKX0pLFwia2V5dXBcIiksRm8oaz10aGlzLmtleWNoYXJtKS5jYWxsKGssXCJdXCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21JblwiKX0pLFwia2V5dXBcIiksRm8oXz10aGlzLmtleWNoYXJtKS5jYWxsKF8sXCJwYWdldXBcIiwoZnVuY3Rpb24oKXtFLnVuYmluZEZyb21SZWRyYXcoXCJfem9vbUluXCIpfSksXCJrZXl1cFwiKSxGbyh4PXRoaXMua2V5Y2hhcm0pLmNhbGwoeCxcInBhZ2Vkb3duXCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21PdXRcIil9KSxcImtleXVwXCIpKSl9fV0pLHR9KCk7ZnVuY3Rpb24gZEUodCxlKXt2YXIgaT12b2lkIDAhPT10dSYmb2godCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFpKXtpZihodSh0KXx8KGk9ZnVuY3Rpb24odCxlKXt2YXIgaTtpZighdClyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGxFKHQsZSk7dmFyIG89YXUoaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLmNhbGwoaSw4LC0xKTtcIk9iamVjdFwiPT09byYmdC5jb25zdHJ1Y3RvciYmKG89dC5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09b3x8XCJTZXRcIj09PW8pcmV0dXJuIGphKHQpO2lmKFwiQXJndW1lbnRzXCI9PT1vfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChvKSlyZXR1cm4gbEUodCxlKX0odCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe2kmJih0PWkpO3ZhciBvPTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIG8+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W28rK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciByLHM9ITAsYT0hMTtyZXR1cm57czpmdW5jdGlvbigpe2k9aS5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9aS5uZXh0KCk7cmV0dXJuIHM9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7YT0hMCxyPXR9LGY6ZnVuY3Rpb24oKXt0cnl7c3x8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHJ9fX19ZnVuY3Rpb24gbEUodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIGk9MCxvPW5ldyBBcnJheShlKTtpPGU7aSsrKW9baV09dFtpXTtyZXR1cm4gb312YXIgY0U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2YXIgbixyLHMsYSxoLGQsbCxjLHUsZixwLHYsZztYbCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuY2FudmFzPWksdGhpcy5zZWxlY3Rpb25IYW5kbGVyPW8sdGhpcy5uYXZpZ2F0aW9uSGFuZGxlcj1uZXcgaEUoZSxpKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25UYXA9Rm8obj10aGlzLm9uVGFwKS5jYWxsKG4sdGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uVG91Y2g9Rm8ocj10aGlzLm9uVG91Y2gpLmNhbGwocix0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Eb3VibGVUYXA9Rm8ocz10aGlzLm9uRG91YmxlVGFwKS5jYWxsKHMsdGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uSG9sZD1GbyhhPXRoaXMub25Ib2xkKS5jYWxsKGEsdGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZ1N0YXJ0PUZvKGg9dGhpcy5vbkRyYWdTdGFydCkuY2FsbChoLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbkRyYWc9Rm8oZD10aGlzLm9uRHJhZykuY2FsbChkLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbkRyYWdFbmQ9Rm8obD10aGlzLm9uRHJhZ0VuZCkuY2FsbChsLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbk1vdXNlV2hlZWw9Rm8oYz10aGlzLm9uTW91c2VXaGVlbCkuY2FsbChjLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vblBpbmNoPUZvKHU9dGhpcy5vblBpbmNoKS5jYWxsKHUsdGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uTW91c2VNb3ZlPUZvKGY9dGhpcy5vbk1vdXNlTW92ZSkuY2FsbChmLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vblJlbGVhc2U9Rm8ocD10aGlzLm9uUmVsZWFzZSkuY2FsbChwLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbkNvbnRleHQ9Rm8odj10aGlzLm9uQ29udGV4dCkuY2FsbCh2LHRoaXMpLHRoaXMudG91Y2hUaW1lPTAsdGhpcy5kcmFnPXt9LHRoaXMucGluY2g9e30sdGhpcy5wb3B1cD12b2lkIDAsdGhpcy5wb3B1cE9iaj12b2lkIDAsdGhpcy5wb3B1cFRpbWVyPXZvaWQgMCx0aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXI9Rm8oZz10aGlzLmdldFBvaW50ZXIpLmNhbGwoZyx0aGlzKSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17ZHJhZ05vZGVzOiEwLGRyYWdWaWV3OiEwLGhvdmVyOiExLGtleWJvYXJkOntlbmFibGVkOiExLHNwZWVkOnt4OjEwLHk6MTAsem9vbTouMDJ9LGJpbmRUb1dpbmRvdzohMCxhdXRvRm9jdXM6ITB9LG5hdmlnYXRpb25CdXR0b25zOiExLHRvb2x0aXBEZWxheTozMDAsem9vbVZpZXc6ITAsem9vbVNwZWVkOjF9LGZvKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJpbmRFdmVudExpc3RlbmVycygpfXJldHVybiAkbCh0LFt7a2V5OlwiYmluZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYm9keS5lbWl0dGVyLm9uKFwiZGVzdHJveVwiLChmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0LnBvcHVwVGltZXIpLGRlbGV0ZSB0LmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXJ9KSl9fSx7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe0F5KFtcImhpZGVFZGdlc09uRHJhZ1wiLFwiaGlkZUVkZ2VzT25ab29tXCIsXCJoaWRlTm9kZXNPbkRyYWdcIixcImtleWJvYXJkXCIsXCJtdWx0aXNlbGVjdFwiLFwic2VsZWN0YWJsZVwiLFwic2VsZWN0Q29ubmVjdGVkRWRnZXNcIl0sdGhpcy5vcHRpb25zLHQpLHRtKHRoaXMub3B0aW9ucyx0LFwia2V5Ym9hcmRcIiksdC50b29sdGlwJiYoZm8odGhpcy5vcHRpb25zLnRvb2x0aXAsdC50b29sdGlwKSx0LnRvb2x0aXAuY29sb3ImJih0aGlzLm9wdGlvbnMudG9vbHRpcC5jb2xvcj1ZeSh0LnRvb2x0aXAuY29sb3IpKSl9dGhpcy5uYXZpZ2F0aW9uSGFuZGxlci5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9fSx7a2V5OlwiZ2V0UG9pbnRlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybnt4OnQueC0oZT10aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KSx5OnQueS1IeSh0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMpfTt2YXIgZX19LHtrZXk6XCJvblRvdWNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7KG5ldyBEYXRlKS52YWx1ZU9mKCktdGhpcy50b3VjaFRpbWU+NTAmJih0aGlzLmRyYWcucG9pbnRlcj10aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpLHRoaXMuZHJhZy5waW5jaGVkPSExLHRoaXMucGluY2guc2NhbGU9dGhpcy5ib2R5LnZpZXcuc2NhbGUsdGhpcy50b3VjaFRpbWU9KG5ldyBEYXRlKS52YWx1ZU9mKCkpfX0se2tleTpcIm9uVGFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKSxpPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5vcHRpb25zLm11bHRpc2VsZWN0JiYodC5jaGFuZ2VkUG9pbnRlcnNbMF0uY3RybEtleXx8dC5jaGFuZ2VkUG9pbnRlcnNbMF0ubWV0YUtleSk7dGhpcy5jaGVja1NlbGVjdGlvbkNoYW5nZXMoZSxpKSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuY29tbWl0QW5kRW1pdChlLHQpLHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJjbGlja1wiLHQsZSl9fSx7a2V5Olwib25Eb3VibGVUYXBcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpO3RoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkb3VibGVDbGlja1wiLHQsZSl9fSx7a2V5Olwib25Ib2xkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKSxpPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5vcHRpb25zLm11bHRpc2VsZWN0O3RoaXMuY2hlY2tTZWxlY3Rpb25DaGFuZ2VzKGUsaSksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmNvbW1pdEFuZEVtaXQoZSx0KSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwiY2xpY2tcIix0LGUpLHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJob2xkXCIsdCxlKX19LHtrZXk6XCJvblJlbGVhc2VcIix2YWx1ZTpmdW5jdGlvbih0KXtpZigobmV3IERhdGUpLnZhbHVlT2YoKS10aGlzLnRvdWNoVGltZT4xMCl7dmFyIGU9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKTt0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwicmVsZWFzZVwiLHQsZSksdGhpcy50b3VjaFRpbWU9KG5ldyBEYXRlKS52YWx1ZU9mKCl9fX0se2tleTpcIm9uQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UG9pbnRlcih7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9KTt0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwib25jb250ZXh0XCIsdCxlKX19LHtrZXk6XCJjaGVja1NlbGVjdGlvbkNoYW5nZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdOyEwPT09ZT90aGlzLnNlbGVjdGlvbkhhbmRsZXIuc2VsZWN0QWRkaXRpb25hbE9uUG9pbnQodCk6dGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdE9uUG9pbnQodCl9fSx7a2V5OlwiX2RldGVybWluZURpZmZlcmVuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPVtdLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXTstMT09PXpwKGUpLmNhbGwoZSxuKSYmaS5wdXNoKG4pfXJldHVybiBpfTtyZXR1cm57bm9kZXM6aSh0Lm5vZGVzLGUubm9kZXMpLGVkZ2VzOmkodC5lZGdlcyxlLmVkZ2VzKX19fSx7a2V5Olwib25EcmFnU3RhcnRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5kcmFnLmRyYWdnaW5nKXt2b2lkIDA9PT10aGlzLmRyYWcucG9pbnRlciYmdGhpcy5vblRvdWNoKHQpO3ZhciBlPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQodGhpcy5kcmFnLnBvaW50ZXIpO2lmKHRoaXMuZHJhZy5kcmFnZ2luZz0hMCx0aGlzLmRyYWcuc2VsZWN0aW9uPVtdLHRoaXMuZHJhZy50cmFuc2xhdGlvbj1mbyh7fSx0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbiksdGhpcy5kcmFnLm5vZGVJZD12b2lkIDAsdC5zcmNFdmVudC5zaGlmdEtleSl7dGhpcy5ib2R5LnNlbGVjdGlvbkJveC5zaG93PSEwO3ZhciBpPXRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlcik7dGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbi5zdGFydD17eDp0aGlzLmNhbnZhcy5fWGNvbnZlcnRET010b0NhbnZhcyhpLngpLHk6dGhpcy5jYW52YXMuX1ljb252ZXJ0RE9NdG9DYW52YXMoaS55KX0sdGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbi5lbmQ9e3g6dGhpcy5jYW52YXMuX1hjb252ZXJ0RE9NdG9DYW52YXMoaS54KSx5OnRoaXMuY2FudmFzLl9ZY29udmVydERPTXRvQ2FudmFzKGkueSl9fWlmKHZvaWQgMCE9PWUmJiEwPT09dGhpcy5vcHRpb25zLmRyYWdOb2Rlcyl7dGhpcy5kcmFnLm5vZGVJZD1lLmlkLCExPT09ZS5pc1NlbGVjdGVkKCkmJnRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZXRTZWxlY3Rpb24oe25vZGVzOltlLmlkXX0pLHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnU3RhcnRcIix0LHRoaXMuZHJhZy5wb2ludGVyKTt2YXIgbyxuPWRFKHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZE5vZGVzKCkpO3RyeXtmb3Iobi5zKCk7IShvPW4ubigpKS5kb25lOyl7dmFyIHI9by52YWx1ZSxzPXtpZDpyLmlkLG5vZGU6cix4OnIueCx5OnIueSx4Rml4ZWQ6ci5vcHRpb25zLmZpeGVkLngseUZpeGVkOnIub3B0aW9ucy5maXhlZC55fTtyLm9wdGlvbnMuZml4ZWQueD0hMCxyLm9wdGlvbnMuZml4ZWQueT0hMCx0aGlzLmRyYWcuc2VsZWN0aW9uLnB1c2gocyl9fWNhdGNoKHQpe24uZSh0KX1maW5hbGx5e24uZigpfX1lbHNlIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnU3RhcnRcIix0LHRoaXMuZHJhZy5wb2ludGVyLHZvaWQgMCwhMCl9fX0se2tleTpcIm9uRHJhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoITAhPT10aGlzLmRyYWcucGluY2hlZCl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInVubG9ja05vZGVcIik7dmFyIGk9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKSxvPXRoaXMuZHJhZy5zZWxlY3Rpb247aWYobyYmby5sZW5ndGgmJiEwPT09dGhpcy5vcHRpb25zLmRyYWdOb2Rlcyl7dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdnaW5nXCIsdCxpKTt2YXIgbj1pLngtdGhpcy5kcmFnLnBvaW50ZXIueCxyPWkueS10aGlzLmRyYWcucG9pbnRlci55O0Z1KG8pLmNhbGwobywoZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlOyExPT09dC54Rml4ZWQmJihpLng9ZS5jYW52YXMuX1hjb252ZXJ0RE9NdG9DYW52YXMoZS5jYW52YXMuX1hjb252ZXJ0Q2FudmFzVG9ET00odC54KStuKSksITE9PT10LnlGaXhlZCYmKGkueT1lLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyhlLmNhbnZhcy5fWWNvbnZlcnRDYW52YXNUb0RPTSh0LnkpK3IpKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTaW11bGF0aW9uXCIpfWVsc2V7aWYodC5zcmNFdmVudC5zaGlmdEtleSl7aWYodGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdnaW5nXCIsdCxpLHZvaWQgMCwhMCksdm9pZCAwPT09dGhpcy5kcmFnLnBvaW50ZXIpcmV0dXJuIHZvaWQgdGhpcy5vbkRyYWdTdGFydCh0KTt0aGlzLmJvZHkuc2VsZWN0aW9uQm94LnBvc2l0aW9uLmVuZD17eDp0aGlzLmNhbnZhcy5fWGNvbnZlcnRET010b0NhbnZhcyhpLngpLHk6dGhpcy5jYW52YXMuX1ljb252ZXJ0RE9NdG9DYW52YXMoaS55KX0sdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfWlmKCEwPT09dGhpcy5vcHRpb25zLmRyYWdWaWV3JiYhdC5zcmNFdmVudC5zaGlmdEtleSl7aWYodGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdnaW5nXCIsdCxpLHZvaWQgMCwhMCksdm9pZCAwPT09dGhpcy5kcmFnLnBvaW50ZXIpcmV0dXJuIHZvaWQgdGhpcy5vbkRyYWdTdGFydCh0KTt2YXIgcz1pLngtdGhpcy5kcmFnLnBvaW50ZXIueCxhPWkueS10aGlzLmRyYWcucG9pbnRlci55O3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4OnRoaXMuZHJhZy50cmFuc2xhdGlvbi54K3MseTp0aGlzLmRyYWcudHJhbnNsYXRpb24ueSthfSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIil9fX19fSx7a2V5Olwib25EcmFnRW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmRyYWcuZHJhZ2dpbmc9ITEsdGhpcy5ib2R5LnNlbGVjdGlvbkJveC5zaG93KXt2YXIgaTt0aGlzLmJvZHkuc2VsZWN0aW9uQm94LnNob3c9ITE7dmFyIG89dGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbixuPXttaW5YOk1hdGgubWluKG8uc3RhcnQueCxvLmVuZC54KSxtaW5ZOk1hdGgubWluKG8uc3RhcnQueSxvLmVuZC55KSxtYXhYOk1hdGgubWF4KG8uc3RhcnQueCxvLmVuZC54KSxtYXhZOk1hdGgubWF4KG8uc3RhcnQueSxvLmVuZC55KX0scj1ZZihpPXRoaXMuYm9keS5ub2RlSW5kaWNlcykuY2FsbChpLChmdW5jdGlvbih0KXt2YXIgaT1lLmJvZHkubm9kZXNbdF07cmV0dXJuIGkueD49bi5taW5YJiZpLng8PW4ubWF4WCYmaS55Pj1uLm1pblkmJmkueTw9bi5tYXhZfSkpO0Z1KHIpLmNhbGwociwoZnVuY3Rpb24odCl7cmV0dXJuIGUuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3RPYmplY3QoZS5ib2R5Lm5vZGVzW3RdKX0pKTt2YXIgcz10aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpO3RoaXMuc2VsZWN0aW9uSGFuZGxlci5jb21taXRBbmRFbWl0KHMsdCksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdFbmRcIix0LHRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlciksdm9pZCAwLCEwKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIil9ZWxzZXt2YXIgYT10aGlzLmRyYWcuc2VsZWN0aW9uO2EmJmEubGVuZ3RoPyhGdShhKS5jYWxsKGEsKGZ1bmN0aW9uKHQpe3Qubm9kZS5vcHRpb25zLmZpeGVkLng9dC54Rml4ZWQsdC5ub2RlLm9wdGlvbnMuZml4ZWQueT10LnlGaXhlZH0pKSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwiZHJhZ0VuZFwiLHQsdGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U2ltdWxhdGlvblwiKSk6KHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnRW5kXCIsdCx0aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpLHZvaWQgMCwhMCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpKX19fSx7a2V5Olwib25QaW5jaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlcik7dGhpcy5kcmFnLnBpbmNoZWQ9ITAsdm9pZCAwPT09dGhpcy5waW5jaC5zY2FsZSYmKHRoaXMucGluY2guc2NhbGU9MSk7dmFyIGk9dGhpcy5waW5jaC5zY2FsZSp0LnNjYWxlO3RoaXMuem9vbShpLGUpfX0se2tleTpcInpvb21cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCEwPT09dGhpcy5vcHRpb25zLnpvb21WaWV3KXt2YXIgaT10aGlzLmJvZHkudmlldy5zY2FsZTt0PDFlLTUmJih0PTFlLTUpLHQ+MTAmJih0PTEwKTt2YXIgbz12b2lkIDA7dm9pZCAwIT09dGhpcy5kcmFnJiYhMD09PXRoaXMuZHJhZy5kcmFnZ2luZyYmKG89dGhpcy5jYW52YXMuRE9NdG9DYW52YXModGhpcy5kcmFnLnBvaW50ZXIpKTt2YXIgbj10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbixyPXQvaSxzPSgxLXIpKmUueCtuLngqcixhPSgxLXIpKmUueStuLnkqcjtpZih0aGlzLmJvZHkudmlldy5zY2FsZT10LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4OnMseTphfSxudWxsIT1vKXt2YXIgaD10aGlzLmNhbnZhcy5jYW52YXNUb0RPTShvKTt0aGlzLmRyYWcucG9pbnRlci54PWgueCx0aGlzLmRyYWcucG9pbnRlci55PWgueX10aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIiksaTx0P3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJ6b29tXCIse2RpcmVjdGlvbjpcIitcIixzY2FsZTp0aGlzLmJvZHkudmlldy5zY2FsZSxwb2ludGVyOmV9KTp0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiem9vbVwiLHtkaXJlY3Rpb246XCItXCIsc2NhbGU6dGhpcy5ib2R5LnZpZXcuc2NhbGUscG9pbnRlcjplfSl9fX0se2tleTpcIm9uTW91c2VXaGVlbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCEwPT09dGhpcy5vcHRpb25zLnpvb21WaWV3KXtpZigwIT09dC5kZWx0YVkpe3ZhciBlPXRoaXMuYm9keS52aWV3LnNjYWxlO2UqPTErKHQuZGVsdGFZPDA/MTotMSkqKC4xKnRoaXMub3B0aW9ucy56b29tU3BlZWQpO3ZhciBpPXRoaXMuZ2V0UG9pbnRlcih7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9KTt0aGlzLnpvb20oZSxpKX10LnByZXZlbnREZWZhdWx0KCl9fX0se2tleTpcIm9uTW91c2VNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuZ2V0UG9pbnRlcih7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9KSxvPSExO3ZvaWQgMCE9PXRoaXMucG9wdXAmJighMT09PXRoaXMucG9wdXAuaGlkZGVuJiZ0aGlzLl9jaGVja0hpZGVQb3B1cChpKSwhMT09PXRoaXMucG9wdXAuaGlkZGVuJiYobz0hMCx0aGlzLnBvcHVwLnNldFBvc2l0aW9uKGkueCszLGkueS01KSx0aGlzLnBvcHVwLnNob3coKSkpLHRoaXMub3B0aW9ucy5rZXlib2FyZC5hdXRvRm9jdXMmJiExPT09dGhpcy5vcHRpb25zLmtleWJvYXJkLmJpbmRUb1dpbmRvdyYmITA9PT10aGlzLm9wdGlvbnMua2V5Ym9hcmQuZW5hYmxlZCYmdGhpcy5jYW52YXMuZnJhbWUuZm9jdXMoKSwhMT09PW8mJih2b2lkIDAhPT10aGlzLnBvcHVwVGltZXImJihjbGVhckludGVydmFsKHRoaXMucG9wdXBUaW1lciksdGhpcy5wb3B1cFRpbWVyPXZvaWQgMCksdGhpcy5kcmFnLmRyYWdnaW5nfHwodGhpcy5wb3B1cFRpbWVyPWJ2KChmdW5jdGlvbigpe3JldHVybiBlLl9jaGVja1Nob3dQb3B1cChpKX0pLHRoaXMub3B0aW9ucy50b29sdGlwRGVsYXkpKSksITA9PT10aGlzLm9wdGlvbnMuaG92ZXImJnRoaXMuc2VsZWN0aW9uSGFuZGxlci5ob3Zlck9iamVjdCh0LGkpfX0se2tleTpcIl9jaGVja1Nob3dQb3B1cFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2FudmFzLl9YY29udmVydERPTXRvQ2FudmFzKHQueCksaT10aGlzLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyh0LnkpLG89e2xlZnQ6ZSx0b3A6aSxyaWdodDplLGJvdHRvbTppfSxuPXZvaWQgMD09PXRoaXMucG9wdXBPYmo/dm9pZCAwOnRoaXMucG9wdXBPYmouaWQscj0hMSxzPVwibm9kZVwiO2lmKHZvaWQgMD09PXRoaXMucG9wdXBPYmope2Zvcih2YXIgYSxoPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxkPXRoaXMuYm9keS5ub2RlcyxsPVtdLGM9MDtjPGgubGVuZ3RoO2MrKykhMD09PShhPWRbaFtjXV0pLmlzT3ZlcmxhcHBpbmdXaXRoKG8pJiYocj0hMCx2b2lkIDAhPT1hLmdldFRpdGxlKCkmJmwucHVzaChoW2NdKSk7bC5sZW5ndGg+MCYmKHRoaXMucG9wdXBPYmo9ZFtsW2wubGVuZ3RoLTFdXSxyPSEwKX1pZih2b2lkIDA9PT10aGlzLnBvcHVwT2JqJiYhMT09PXIpe2Zvcih2YXIgdSxmPXRoaXMuYm9keS5lZGdlSW5kaWNlcyxwPXRoaXMuYm9keS5lZGdlcyx2PVtdLGc9MDtnPGYubGVuZ3RoO2crKykhMD09PSh1PXBbZltnXV0pLmlzT3ZlcmxhcHBpbmdXaXRoKG8pJiYhMD09PXUuY29ubmVjdGVkJiZ2b2lkIDAhPT11LmdldFRpdGxlKCkmJnYucHVzaChmW2ddKTt2Lmxlbmd0aD4wJiYodGhpcy5wb3B1cE9iaj1wW3Zbdi5sZW5ndGgtMV1dLHM9XCJlZGdlXCIpfXZvaWQgMCE9PXRoaXMucG9wdXBPYmo/dGhpcy5wb3B1cE9iai5pZCE9PW4mJih2b2lkIDA9PT10aGlzLnBvcHVwJiYodGhpcy5wb3B1cD1uZXcgdm0odGhpcy5jYW52YXMuZnJhbWUpKSx0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0VHlwZT1zLHRoaXMucG9wdXAucG9wdXBUYXJnZXRJZD10aGlzLnBvcHVwT2JqLmlkLHRoaXMucG9wdXAuc2V0UG9zaXRpb24odC54KzMsdC55LTUpLHRoaXMucG9wdXAuc2V0VGV4dCh0aGlzLnBvcHVwT2JqLmdldFRpdGxlKCkpLHRoaXMucG9wdXAuc2hvdygpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJzaG93UG9wdXBcIix0aGlzLnBvcHVwT2JqLmlkKSk6dm9pZCAwIT09dGhpcy5wb3B1cCYmKHRoaXMucG9wdXAuaGlkZSgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJoaWRlUG9wdXBcIikpfX0se2tleTpcIl9jaGVja0hpZGVQb3B1cFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QodCksaT0hMTtpZihcIm5vZGVcIj09PXRoaXMucG9wdXAucG9wdXBUYXJnZXRUeXBlKXtpZih2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdGhpcy5wb3B1cC5wb3B1cFRhcmdldElkXSYmITA9PT0oaT10aGlzLmJvZHkubm9kZXNbdGhpcy5wb3B1cC5wb3B1cFRhcmdldElkXS5pc092ZXJsYXBwaW5nV2l0aChlKSkpe3ZhciBvPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQodCk7aT12b2lkIDAhPT1vJiZvLmlkPT09dGhpcy5wb3B1cC5wb3B1cFRhcmdldElkfX1lbHNlIHZvaWQgMD09PXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQodCkmJnZvaWQgMCE9PXRoaXMuYm9keS5lZGdlc1t0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWRdJiYoaT10aGlzLmJvZHkuZWRnZXNbdGhpcy5wb3B1cC5wb3B1cFRhcmdldElkXS5pc092ZXJsYXBwaW5nV2l0aChlKSk7ITE9PT1pJiYodGhpcy5wb3B1cE9iaj12b2lkIDAsdGhpcy5wb3B1cC5oaWRlKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImhpZGVQb3B1cFwiKSl9fV0pLHR9KCk7bncoXCJTZXRcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0pLHh3KTt2YXIgdUU9Ry5TZXQsZkU9eSxwRT1zdyx2RT1pYi5leHBvcnRzLmdldFdlYWtEYXRhLGdFPVplLHlFPVgsbUU9V2IsYkU9amIsd0U9VnQsa0U9VW4uc2V0LF9FPVVuLmdldHRlckZvcix4RT1WaC5maW5kLEVFPVZoLmZpbmRJbmRleCxPRT1mRShbXS5zcGxpY2UpLENFPTAsU0U9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZnJvemVufHwodC5mcm96ZW49bmV3IFRFKX0sVEU9ZnVuY3Rpb24oKXt0aGlzLmVudHJpZXM9W119LE1FPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHhFKHQuZW50cmllcywoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09PT1lfSkpfTtURS5wcm90b3R5cGU9e2dldDpmdW5jdGlvbih0KXt2YXIgZT1NRSh0aGlzLHQpO2lmKGUpcmV0dXJuIGVbMV19LGhhczpmdW5jdGlvbih0KXtyZXR1cm4hIU1FKHRoaXMsdCl9LHNldDpmdW5jdGlvbih0LGUpe3ZhciBpPU1FKHRoaXMsdCk7aT9pWzFdPWU6dGhpcy5lbnRyaWVzLnB1c2goW3QsZV0pfSxkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU9RUUodGhpcy5lbnRyaWVzLChmdW5jdGlvbihlKXtyZXR1cm4gZVswXT09PXR9KSk7cmV0dXJufmUmJk9FKHRoaXMuZW50cmllcyxlLDEpLCEhfmV9fTt2YXIgUEUsREU9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBuPXQoKGZ1bmN0aW9uKHQsbil7bUUodCxyKSxrRSh0LHt0eXBlOmUsaWQ6Q0UrKyxmcm96ZW46dm9pZCAwfSksbnVsbCE9biYmYkUobix0W29dLHt0aGF0OnQsQVNfRU5UUklFUzppfSl9KSkscj1uLnByb3RvdHlwZSxzPV9FKGUpLGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXModCksbj12RShnRShlKSwhMCk7cmV0dXJuITA9PT1uP1NFKG8pLnNldChlLGkpOm5bby5pZF09aSx0fTtyZXR1cm4gcEUocix7ZGVsZXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXModGhpcyk7aWYoIXlFKHQpKXJldHVybiExO3ZhciBpPXZFKHQpO3JldHVybiEwPT09aT9TRShlKS5kZWxldGUodCk6aSYmd0UoaSxlLmlkKSYmZGVsZXRlIGlbZS5pZF19LGhhczpmdW5jdGlvbih0KXt2YXIgZT1zKHRoaXMpO2lmKCF5RSh0KSlyZXR1cm4hMTt2YXIgaT12RSh0KTtyZXR1cm4hMD09PWk/U0UoZSkuaGFzKHQpOmkmJndFKGksZS5pZCl9fSkscEUocixpP3tnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9cyh0aGlzKTtpZih5RSh0KSl7dmFyIGk9dkUodCk7cmV0dXJuITA9PT1pP1NFKGUpLmdldCh0KTppP2lbZS5pZF06dm9pZCAwfX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEodGhpcyx0LGUpfX06e2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gYSh0aGlzLHQsITApfX0pLG59fSxCRT1uLElFPXksekU9c3csRkU9aWIuZXhwb3J0cyxORT1udyxBRT1ERSxSRT1YLGpFPWRiLExFPVVuLmVuZm9yY2UsSEU9eG4sV0U9IUJFLkFjdGl2ZVhPYmplY3QmJlwiQWN0aXZlWE9iamVjdFwiaW4gQkUsVkU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0scUU9TkUoXCJXZWFrTWFwXCIsVkUsQUUpO2lmKEhFJiZXRSl7UEU9QUUuZ2V0Q29uc3RydWN0b3IoVkUsXCJXZWFrTWFwXCIsITApLEZFLmVuYWJsZSgpO3ZhciBVRT1xRS5wcm90b3R5cGUsWUU9SUUoVUUuZGVsZXRlKSxYRT1JRShVRS5oYXMpLEdFPUlFKFVFLmdldCksS0U9SUUoVUUuc2V0KTt6RShVRSx7ZGVsZXRlOmZ1bmN0aW9uKHQpe2lmKFJFKHQpJiYhakUodCkpe3ZhciBlPUxFKHRoaXMpO3JldHVybiBlLmZyb3plbnx8KGUuZnJvemVuPW5ldyBQRSksWUUodGhpcyx0KXx8ZS5mcm96ZW4uZGVsZXRlKHQpfXJldHVybiBZRSh0aGlzLHQpfSxoYXM6ZnVuY3Rpb24odCl7aWYoUkUodCkmJiFqRSh0KSl7dmFyIGU9TEUodGhpcyk7cmV0dXJuIGUuZnJvemVufHwoZS5mcm96ZW49bmV3IFBFKSxYRSh0aGlzLHQpfHxlLmZyb3plbi5oYXModCl9cmV0dXJuIFhFKHRoaXMsdCl9LGdldDpmdW5jdGlvbih0KXtpZihSRSh0KSYmIWpFKHQpKXt2YXIgZT1MRSh0aGlzKTtyZXR1cm4gZS5mcm96ZW58fChlLmZyb3plbj1uZXcgUEUpLFhFKHRoaXMsdCk/R0UodGhpcyx0KTplLmZyb3plbi5nZXQodCl9cmV0dXJuIEdFKHRoaXMsdCl9LHNldDpmdW5jdGlvbih0LGUpe2lmKFJFKHQpJiYhakUodCkpe3ZhciBpPUxFKHRoaXMpO2kuZnJvemVufHwoaS5mcm96ZW49bmV3IFBFKSxYRSh0aGlzLHQpP0tFKHRoaXMsdCxlKTppLmZyb3plbi5zZXQodCxlKX1lbHNlIEtFKHRoaXMsdCxlKTtyZXR1cm4gdGhpc319KX12YXIgJEUsWkUsUUUsSkUsdE8sZU89Ry5XZWFrTWFwO1xuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5cdFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuXHRwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblx0VEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuXHRSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcblx0QU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuXHRJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cblx0TE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcblx0T1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuXHRQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuZnVuY3Rpb24gaU8odCxlLGksbyl7aWYoXCJhXCI9PT1pJiYhbyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/dCE9PWV8fCFvOiFlLmhhcyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09aT9vOlwiYVwiPT09aT9vLmNhbGwodCk6bz9vLnZhbHVlOmUuZ2V0KHQpfWZ1bmN0aW9uIG9PKHQsZSxpLG8sbil7aWYoXCJtXCI9PT1vKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7aWYoXCJhXCI9PT1vJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/dCE9PWV8fCFuOiFlLmhhcyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJhXCI9PT1vP24uY2FsbCh0LGkpOm4/bi52YWx1ZT1pOmUuc2V0KHQsaSksaX1mdW5jdGlvbiBuTyh0LGUpe3ZhciBpPXZvaWQgMCE9PXR1JiZvaCh0KXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIWkpe2lmKGh1KHQpfHwoaT1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gck8odCxlKTt2YXIgbz1hdShpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuY2FsbChpLDgsLTEpO1wiT2JqZWN0XCI9PT1vJiZ0LmNvbnN0cnVjdG9yJiYobz10LmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1vfHxcIlNldFwiPT09bylyZXR1cm4gamEodCk7aWYoXCJBcmd1bWVudHNcIj09PW98fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG8pKXJldHVybiByTyh0LGUpfSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7aSYmKHQ9aSk7dmFyIG89MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gbz49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbbysrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIscz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7aT1pLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1pLm5leHQoKTtyZXR1cm4gcz10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXthPSEwLHI9dH0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgcn19fX1mdW5jdGlvbiByTyh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLG89bmV3IEFycmF5KGUpO2k8ZTtpKyspb1tpXT10W2ldO3JldHVybiBvfWZ1bmN0aW9uIHNPKHQsZSl7dmFyIGksbz1uZXcgdUUsbj1uTyhlKTt0cnl7Zm9yKG4ucygpOyEoaT1uLm4oKSkuZG9uZTspe3ZhciByPWkudmFsdWU7dC5oYXMocil8fG8uYWRkKHIpfX1jYXRjaCh0KXtuLmUodCl9ZmluYWxseXtuLmYoKX1yZXR1cm4gb312YXIgYU89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7WGwodGhpcyx0KSwkRS5zZXQodGhpcyxuZXcgdUUpLFpFLnNldCh0aGlzLG5ldyB1RSl9cmV0dXJuICRsKHQsW3trZXk6XCJzaXplXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGlPKHRoaXMsWkUsXCJmXCIpLnNpemV9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPWFyZ3VtZW50c1tpXTtmb3IodmFyIG89MCxuPWU7bzxuLmxlbmd0aDtvKyspe3ZhciByPW5bb107aU8odGhpcyxaRSxcImZcIikuYWRkKHIpfX19LHtrZXk6XCJkZWxldGVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09YXJndW1lbnRzW2ldO2Zvcih2YXIgbz0wLG49ZTtvPG4ubGVuZ3RoO28rKyl7dmFyIHI9bltvXTtpTyh0aGlzLFpFLFwiZlwiKS5kZWxldGUocil9fX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtpTyh0aGlzLFpFLFwiZlwiKS5jbGVhcigpfX0se2tleTpcImdldFNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEpjKGlPKHRoaXMsWkUsXCJmXCIpKX19LHtrZXk6XCJnZXRDaGFuZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57YWRkZWQ6SmMoc08oaU8odGhpcywkRSxcImZcIiksaU8odGhpcyxaRSxcImZcIikpKSxkZWxldGVkOkpjKHNPKGlPKHRoaXMsWkUsXCJmXCIpLGlPKHRoaXMsJEUsXCJmXCIpKSkscHJldmlvdXM6SmMobmV3IHVFKGlPKHRoaXMsJEUsXCJmXCIpKSksY3VycmVudDpKYyhuZXcgdUUoaU8odGhpcyxaRSxcImZcIikpKX19fSx7a2V5OlwiY29tbWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldENoYW5nZXMoKTtvTyh0aGlzLCRFLGlPKHRoaXMsWkUsXCJmXCIpLFwiZlwiKSxvTyh0aGlzLFpFLG5ldyB1RShpTyh0aGlzLCRFLFwiZlwiKSksXCJmXCIpO3ZhciBlLGk9bk8odC5hZGRlZCk7dHJ5e2ZvcihpLnMoKTshKGU9aS5uKCkpLmRvbmU7KXtlLnZhbHVlLnNlbGVjdCgpfX1jYXRjaCh0KXtpLmUodCl9ZmluYWxseXtpLmYoKX12YXIgbyxuPW5PKHQuZGVsZXRlZCk7dHJ5e2ZvcihuLnMoKTshKG89bi5uKCkpLmRvbmU7KXtvLnZhbHVlLnVuc2VsZWN0KCl9fWNhdGNoKHQpe24uZSh0KX1maW5hbGx5e24uZigpfXJldHVybiB0fX1dKSx0fSgpOyRFPW5ldyBlTyxaRT1uZXcgZU87dmFyIGhPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpmdW5jdGlvbigpe307WGwodGhpcyx0KSxRRS5zZXQodGhpcyxuZXcgYU8pLEpFLnNldCh0aGlzLG5ldyBhTyksdE8uc2V0KHRoaXMsdm9pZCAwKSxvTyh0aGlzLHRPLGUsXCJmXCIpfXJldHVybiAkbCh0LFt7a2V5Olwic2l6ZU5vZGVzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGlPKHRoaXMsUUUsXCJmXCIpLnNpemV9fSx7a2V5Olwic2l6ZUVkZ2VzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGlPKHRoaXMsSkUsXCJmXCIpLnNpemV9fSx7a2V5OlwiZ2V0Tm9kZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBpTyh0aGlzLFFFLFwiZlwiKS5nZXRTZWxlY3Rpb24oKX19LHtrZXk6XCJnZXRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGlPKHRoaXMsSkUsXCJmXCIpLmdldFNlbGVjdGlvbigpfX0se2tleTpcImFkZE5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDsodD1pTyh0aGlzLFFFLFwiZlwiKSkuYWRkLmFwcGx5KHQsYXJndW1lbnRzKX19LHtrZXk6XCJhZGRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7KHQ9aU8odGhpcyxKRSxcImZcIikpLmFkZC5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OlwiZGVsZXRlTm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtpTyh0aGlzLFFFLFwiZlwiKS5kZWxldGUodCl9fSx7a2V5OlwiZGVsZXRlRWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtpTyh0aGlzLEpFLFwiZlwiKS5kZWxldGUodCl9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe2lPKHRoaXMsUUUsXCJmXCIpLmNsZWFyKCksaU8odGhpcyxKRSxcImZcIikuY2xlYXIoKX19LHtrZXk6XCJjb21taXRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlLGk9e25vZGVzOmlPKHRoaXMsUUUsXCJmXCIpLmNvbW1pdCgpLGVkZ2VzOmlPKHRoaXMsSkUsXCJmXCIpLmNvbW1pdCgpfSxvPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkobykscj0wO3I8bztyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9aU8odGhpcyx0TyxcImZcIikpLmNhbGwuYXBwbHkodCxzdShlPVt0aGlzLGldKS5jYWxsKGUsbikpLGl9fV0pLHR9KCk7ZnVuY3Rpb24gZE8odCxlKXt2YXIgaT12b2lkIDAhPT10dSYmb2godCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFpKXtpZihodSh0KXx8KGk9ZnVuY3Rpb24odCxlKXt2YXIgaTtpZighdClyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGxPKHQsZSk7dmFyIG89YXUoaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLmNhbGwoaSw4LC0xKTtcIk9iamVjdFwiPT09byYmdC5jb25zdHJ1Y3RvciYmKG89dC5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09b3x8XCJTZXRcIj09PW8pcmV0dXJuIGphKHQpO2lmKFwiQXJndW1lbnRzXCI9PT1vfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChvKSlyZXR1cm4gbE8odCxlKX0odCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe2kmJih0PWkpO3ZhciBvPTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIG8+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W28rK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciByLHM9ITAsYT0hMTtyZXR1cm57czpmdW5jdGlvbigpe2k9aS5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9aS5uZXh0KCk7cmV0dXJuIHM9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7YT0hMCxyPXR9LGY6ZnVuY3Rpb24oKXt0cnl7c3x8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHJ9fX19ZnVuY3Rpb24gbE8odCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIGk9MCxvPW5ldyBBcnJheShlKTtpPGU7aSsrKW9baV09dFtpXTtyZXR1cm4gb31RRT1uZXcgZU8sSkU9bmV3IGVPLHRPPW5ldyBlTzt2YXIgY089ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSl7dmFyIG89dGhpcztYbCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuY2FudmFzPWksdGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3I9bmV3IGhPLHRoaXMuaG92ZXJPYmo9e25vZGVzOnt9LGVkZ2VzOnt9fSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17bXVsdGlzZWxlY3Q6ITEsc2VsZWN0YWJsZTohMCxzZWxlY3RDb25uZWN0ZWRFZGdlczohMCxob3ZlckNvbm5lY3RlZEVkZ2VzOiEwfSxmbyh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZGF0YUNoYW5nZWRcIiwoZnVuY3Rpb24oKXtvLnVwZGF0ZVNlbGVjdGlvbigpfSkpfXJldHVybiAkbCh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe055KFtcIm11bHRpc2VsZWN0XCIsXCJob3ZlckNvbm5lY3RlZEVkZ2VzXCIsXCJzZWxlY3RhYmxlXCIsXCJzZWxlY3RDb25uZWN0ZWRFZGdlc1wiXSx0aGlzLm9wdGlvbnMsdCl9fX0se2tleTpcInNlbGVjdE9uUG9pbnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hMTtpZighMD09PXRoaXMub3B0aW9ucy5zZWxlY3RhYmxlKXt2YXIgaT10aGlzLmdldE5vZGVBdCh0KXx8dGhpcy5nZXRFZGdlQXQodCk7dGhpcy51bnNlbGVjdEFsbCgpLHZvaWQgMCE9PWkmJihlPXRoaXMuc2VsZWN0T2JqZWN0KGkpKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIil9cmV0dXJuIGV9fSx7a2V5Olwic2VsZWN0QWRkaXRpb25hbE9uUG9pbnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hMTtpZighMD09PXRoaXMub3B0aW9ucy5zZWxlY3RhYmxlKXt2YXIgaT10aGlzLmdldE5vZGVBdCh0KXx8dGhpcy5nZXRFZGdlQXQodCk7dm9pZCAwIT09aSYmKGU9ITAsITA9PT1pLmlzU2VsZWN0ZWQoKT90aGlzLmRlc2VsZWN0T2JqZWN0KGkpOnRoaXMuc2VsZWN0T2JqZWN0KGkpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVxdWVzdFJlZHJhd1wiKSl9cmV0dXJuIGV9fSx7a2V5OlwiX2luaXRCYXNlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXt9O3JldHVybiBpLnBvaW50ZXI9e0RPTTp7eDplLngseTplLnl9LGNhbnZhczp0aGlzLmNhbnZhcy5ET010b0NhbnZhcyhlKX0saS5ldmVudD10LGl9fSx7a2V5OlwiZ2VuZXJhdGVDbGlja0V2ZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxyPXRoaXMuX2luaXRCYXNlRXZlbnQoZSxpKTtpZighMD09PW4pci5ub2Rlcz1bXSxyLmVkZ2VzPVtdO2Vsc2V7dmFyIHM9dGhpcy5nZXRTZWxlY3Rpb24oKTtyLm5vZGVzPXMubm9kZXMsci5lZGdlcz1zLmVkZ2VzfXZvaWQgMCE9PW8mJihyLnByZXZpb3VzU2VsZWN0aW9uPW8pLFwiY2xpY2tcIj09dCYmKHIuaXRlbXM9dGhpcy5nZXRDbGlja2VkSXRlbXMoaSkpLHZvaWQgMCE9PWUuY29udHJvbEVkZ2UmJihyLmNvbnRyb2xFZGdlPWUuY29udHJvbEVkZ2UpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQodCxyKX19LHtrZXk6XCJzZWxlY3RPYmplY3RcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5vcHRpb25zLnNlbGVjdENvbm5lY3RlZEVkZ2VzO2lmKHZvaWQgMCE9PXQpe2lmKHQgaW5zdGFuY2VvZiBNXyl7dmFyIGk7aWYoITA9PT1lKShpPXRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yKS5hZGRFZGdlcy5hcHBseShpLEpjKHQuZWRnZXMpKTt0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5hZGROb2Rlcyh0KX1lbHNlIHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmFkZEVkZ2VzKHQpO3JldHVybiEwfXJldHVybiExfX0se2tleTpcImRlc2VsZWN0T2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7ITA9PT10LmlzU2VsZWN0ZWQoKSYmKHQuc2VsZWN0ZWQ9ITEsdGhpcy5fcmVtb3ZlRnJvbVNlbGVjdGlvbih0KSl9fSx7a2V5OlwiX2dldEFsbE5vZGVzT3ZlcmxhcHBpbmdXaXRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9dGhpcy5ib2R5Lm5vZGVzLG89MDtvPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7bysrKXt2YXIgbj10aGlzLmJvZHkubm9kZUluZGljZXNbb107aVtuXS5pc092ZXJsYXBwaW5nV2l0aCh0KSYmZS5wdXNoKG4pfXJldHVybiBlfX0se2tleTpcIl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHQpO3JldHVybntsZWZ0OmUueC0xLHRvcDplLnkrMSxyaWdodDplLngrMSxib3R0b206ZS55LTF9fX0se2tleTpcImdldE5vZGVBdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdCh0KSxvPXRoaXMuX2dldEFsbE5vZGVzT3ZlcmxhcHBpbmdXaXRoKGkpO3JldHVybiBvLmxlbmd0aD4wPyEwPT09ZT90aGlzLmJvZHkubm9kZXNbb1tvLmxlbmd0aC0xXV06b1tvLmxlbmd0aC0xXTp2b2lkIDB9fSx7a2V5OlwiX2dldEVkZ2VzT3ZlcmxhcHBpbmdXaXRoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5ib2R5LmVkZ2VzLG89MDtvPHRoaXMuYm9keS5lZGdlSW5kaWNlcy5sZW5ndGg7bysrKXt2YXIgbj10aGlzLmJvZHkuZWRnZUluZGljZXNbb107aVtuXS5pc092ZXJsYXBwaW5nV2l0aCh0KSYmZS5wdXNoKG4pfX19LHtrZXk6XCJfZ2V0QWxsRWRnZXNPdmVybGFwcGluZ1dpdGhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5fZ2V0RWRnZXNPdmVybGFwcGluZ1dpdGgodCxlKSxlfX0se2tleTpcImdldEVkZ2VBdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLGk9dGhpcy5jYW52YXMuRE9NdG9DYW52YXModCksbz0xMCxuPW51bGwscj10aGlzLmJvZHkuZWRnZXMscz0wO3M8dGhpcy5ib2R5LmVkZ2VJbmRpY2VzLmxlbmd0aDtzKyspe3ZhciBhPXRoaXMuYm9keS5lZGdlSW5kaWNlc1tzXSxoPXJbYV07aWYoaC5jb25uZWN0ZWQpe3ZhciBkPWguZnJvbS54LGw9aC5mcm9tLnksYz1oLnRvLngsdT1oLnRvLnksZj1oLmVkZ2VUeXBlLmdldERpc3RhbmNlVG9FZGdlKGQsbCxjLHUsaS54LGkueSk7ZjxvJiYobj1hLG89Zil9fXJldHVybiBudWxsIT09bj8hMD09PWU/dGhpcy5ib2R5LmVkZ2VzW25dOm46dm9pZCAwfX0se2tleTpcIl9hZGRUb0hvdmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIE1fP3RoaXMuaG92ZXJPYmoubm9kZXNbdC5pZF09dDp0aGlzLmhvdmVyT2JqLmVkZ2VzW3QuaWRdPXR9fSx7a2V5OlwiX3JlbW92ZUZyb21TZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZTt0IGluc3RhbmNlb2YgTV8/KHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmRlbGV0ZU5vZGVzKHQpLChlPXRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yKS5kZWxldGVFZGdlcy5hcHBseShlLEpjKHQuZWRnZXMpKSk6dGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuZGVsZXRlRWRnZXModCl9fSx7a2V5OlwidW5zZWxlY3RBbGxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmNsZWFyKCl9fSx7a2V5OlwiZ2V0U2VsZWN0ZWROb2RlQ291bnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5zaXplTm9kZXN9fSx7a2V5OlwiZ2V0U2VsZWN0ZWRFZGdlQ291bnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5zaXplRWRnZXN9fSx7a2V5OlwiX2hvdmVyQ29ubmVjdGVkRWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQuZWRnZXMubGVuZ3RoO2UrKyl7dmFyIGk9dC5lZGdlc1tlXTtpLmhvdmVyPSEwLHRoaXMuX2FkZFRvSG92ZXIoaSl9fX0se2tleTpcImVtaXRCbHVyRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcy5faW5pdEJhc2VFdmVudCh0LGUpOyEwPT09aS5ob3ZlciYmKGkuaG92ZXI9ITEsaSBpbnN0YW5jZW9mIE1fPyhvLm5vZGU9aS5pZCx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiYmx1ck5vZGVcIixvKSk6KG8uZWRnZT1pLmlkLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJibHVyRWRnZVwiLG8pKSl9fSx7a2V5OlwiZW1pdEhvdmVyRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcy5faW5pdEJhc2VFdmVudCh0LGUpLG49ITE7cmV0dXJuITE9PT1pLmhvdmVyJiYoaS5ob3Zlcj0hMCx0aGlzLl9hZGRUb0hvdmVyKGkpLG49ITAsaSBpbnN0YW5jZW9mIE1fPyhvLm5vZGU9aS5pZCx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiaG92ZXJOb2RlXCIsbykpOihvLmVkZ2U9aS5pZCx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiaG92ZXJFZGdlXCIsbykpKSxufX0se2tleTpcImhvdmVyT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldE5vZGVBdChlKTt2b2lkIDA9PT1pJiYoaT10aGlzLmdldEVkZ2VBdChlKSk7dmFyIG89ITE7Zm9yKHZhciBuIGluIHRoaXMuaG92ZXJPYmoubm9kZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaG92ZXJPYmoubm9kZXMsbikmJih2b2lkIDA9PT1pfHxpIGluc3RhbmNlb2YgTV8mJmkuaWQhPW58fGkgaW5zdGFuY2VvZiBTeCkmJih0aGlzLmVtaXRCbHVyRXZlbnQodCxlLHRoaXMuaG92ZXJPYmoubm9kZXNbbl0pLGRlbGV0ZSB0aGlzLmhvdmVyT2JqLm5vZGVzW25dLG89ITApO2Zvcih2YXIgciBpbiB0aGlzLmhvdmVyT2JqLmVkZ2VzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmhvdmVyT2JqLmVkZ2VzLHIpJiYoITA9PT1vPyh0aGlzLmhvdmVyT2JqLmVkZ2VzW3JdLmhvdmVyPSExLGRlbGV0ZSB0aGlzLmhvdmVyT2JqLmVkZ2VzW3JdKToodm9pZCAwPT09aXx8aSBpbnN0YW5jZW9mIFN4JiZpLmlkIT1yfHxpIGluc3RhbmNlb2YgTV8mJiFpLmhvdmVyKSYmKHRoaXMuZW1pdEJsdXJFdmVudCh0LGUsdGhpcy5ob3Zlck9iai5lZGdlc1tyXSksZGVsZXRlIHRoaXMuaG92ZXJPYmouZWRnZXNbcl0sbz0hMCkpO2lmKHZvaWQgMCE9PWkpe3ZhciBzPW11KHRoaXMuaG92ZXJPYmouZWRnZXMpLmxlbmd0aCxhPW11KHRoaXMuaG92ZXJPYmoubm9kZXMpLmxlbmd0aDsob3x8aSBpbnN0YW5jZW9mIFN4JiYwPT09cyYmMD09PWF8fGkgaW5zdGFuY2VvZiBNXyYmMD09PXMmJjA9PT1hKSYmKG89dGhpcy5lbWl0SG92ZXJFdmVudCh0LGUsaSkpLGkgaW5zdGFuY2VvZiBNXyYmITA9PT10aGlzLm9wdGlvbnMuaG92ZXJDb25uZWN0ZWRFZGdlcyYmdGhpcy5faG92ZXJDb25uZWN0ZWRFZGdlcyhpKX0hMD09PW8mJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVxdWVzdFJlZHJhd1wiKX19LHtrZXk6XCJjb21taXRXaXRob3V0RW1pdHRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmNvbW1pdCgpfX0se2tleTpcImNvbW1pdEFuZEVtaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPSExLG89dGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuY29tbWl0KCksbj17bm9kZXM6by5ub2Rlcy5wcmV2aW91cyxlZGdlczpvLmVkZ2VzLnByZXZpb3VzfTtvLmVkZ2VzLmRlbGV0ZWQubGVuZ3RoPjAmJih0aGlzLmdlbmVyYXRlQ2xpY2tFdmVudChcImRlc2VsZWN0RWRnZVwiLGUsdCxuKSxpPSEwKSxvLm5vZGVzLmRlbGV0ZWQubGVuZ3RoPjAmJih0aGlzLmdlbmVyYXRlQ2xpY2tFdmVudChcImRlc2VsZWN0Tm9kZVwiLGUsdCxuKSxpPSEwKSxvLm5vZGVzLmFkZGVkLmxlbmd0aD4wJiYodGhpcy5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJzZWxlY3ROb2RlXCIsZSx0KSxpPSEwKSxvLmVkZ2VzLmFkZGVkLmxlbmd0aD4wJiYodGhpcy5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJzZWxlY3RFZGdlXCIsZSx0KSxpPSEwKSwhMD09PWkmJnRoaXMuZ2VuZXJhdGVDbGlja0V2ZW50KFwic2VsZWN0XCIsZSx0KX19LHtrZXk6XCJnZXRTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntub2Rlczp0aGlzLmdldFNlbGVjdGVkTm9kZUlkcygpLGVkZ2VzOnRoaXMuZ2V0U2VsZWN0ZWRFZGdlSWRzKCl9fX0se2tleTpcImdldFNlbGVjdGVkTm9kZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5nZXROb2RlcygpfX0se2tleTpcImdldFNlbGVjdGVkRWRnZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5nZXRFZGdlcygpfX0se2tleTpcImdldFNlbGVjdGVkTm9kZUlkc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHZ1KHQ9dGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuZ2V0Tm9kZXMoKSkuY2FsbCh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKX19LHtrZXk6XCJnZXRTZWxlY3RlZEVkZ2VJZHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB2dSh0PXRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmdldEVkZ2VzKCkpLmNhbGwodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSl9fSx7a2V5Olwic2V0U2VsZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKCF0fHwhdC5ub2RlcyYmIXQuZWRnZXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlNlbGVjdGlvbiBtdXN0IGJlIGFuIG9iamVjdCB3aXRoIG5vZGVzIGFuZC9vciBlZGdlcyBwcm9wZXJ0aWVzXCIpO2lmKChlLnVuc2VsZWN0QWxsfHx2b2lkIDA9PT1lLnVuc2VsZWN0QWxsKSYmdGhpcy51bnNlbGVjdEFsbCgpLHQubm9kZXMpe3ZhciBpLG89ZE8odC5ub2Rlcyk7dHJ5e2ZvcihvLnMoKTshKGk9by5uKCkpLmRvbmU7KXt2YXIgbj1pLnZhbHVlLHI9dGhpcy5ib2R5Lm5vZGVzW25dO2lmKCFyKXRocm93IG5ldyBSYW5nZUVycm9yKCdOb2RlIHdpdGggaWQgXCInK24rJ1wiIG5vdCBmb3VuZCcpO3RoaXMuc2VsZWN0T2JqZWN0KHIsZS5oaWdobGlnaHRFZGdlcyl9fWNhdGNoKHQpe28uZSh0KX1maW5hbGx5e28uZigpfX1pZih0LmVkZ2VzKXt2YXIgcyxhPWRPKHQuZWRnZXMpO3RyeXtmb3IoYS5zKCk7IShzPWEubigpKS5kb25lOyl7dmFyIGg9cy52YWx1ZSxkPXRoaXMuYm9keS5lZGdlc1toXTtpZighZCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignRWRnZSB3aXRoIGlkIFwiJytoKydcIiBub3QgZm91bmQnKTt0aGlzLnNlbGVjdE9iamVjdChkKX19Y2F0Y2godCl7YS5lKHQpfWZpbmFsbHl7YS5mKCl9fXRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVxdWVzdFJlZHJhd1wiKSx0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5jb21taXQoKX19LHtrZXk6XCJzZWxlY3ROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIXR8fHZvaWQgMD09PXQubGVuZ3RoKXRocm93XCJTZWxlY3Rpb24gbXVzdCBiZSBhbiBhcnJheSB3aXRoIGlkc1wiO3RoaXMuc2V0U2VsZWN0aW9uKHtub2Rlczp0fSx7aGlnaGxpZ2h0RWRnZXM6ZX0pfX0se2tleTpcInNlbGVjdEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXR8fHZvaWQgMD09PXQubGVuZ3RoKXRocm93XCJTZWxlY3Rpb24gbXVzdCBiZSBhbiBhcnJheSB3aXRoIGlkc1wiO3RoaXMuc2V0U2VsZWN0aW9uKHtlZGdlczp0fSl9fSx7a2V5OlwidXBkYXRlU2VsZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuZ2V0Tm9kZXMoKSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib2R5Lm5vZGVzLHQuaWQpfHx0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5kZWxldGVOb2Rlcyh0KTtmb3IodmFyIGUgaW4gdGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuZ2V0RWRnZXMoKSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib2R5LmVkZ2VzLGUuaWQpfHx0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5kZWxldGVFZGdlcyhlKX19LHtrZXk6XCJnZXRDbGlja2VkSXRlbXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jYW52YXMuRE9NdG9DYW52YXModCksaT1bXSxvPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxuPXRoaXMuYm9keS5ub2RlcyxyPW8ubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBzPW5bb1tyXV0uZ2V0SXRlbXNPblBvaW50KGUpO2kucHVzaC5hcHBseShpLHMpfWZvcih2YXIgYT10aGlzLmJvZHkuZWRnZUluZGljZXMsaD10aGlzLmJvZHkuZWRnZXMsZD1hLmxlbmd0aC0xO2Q+PTA7ZC0tKXt2YXIgbD1oW2FbZF1dLmdldEl0ZW1zT25Qb2ludChlKTtpLnB1c2guYXBwbHkoaSxsKX1yZXR1cm4gaX19XSksdH0oKSx1Tz12aCxmTz1NYXRoLmZsb29yLHBPPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5sZW5ndGgsbz1mTyhpLzIpO3JldHVybiBpPDg/dk8odCxlKTpnTyh0LHBPKHVPKHQsMCxvKSxlKSxwTyh1Tyh0LG8pLGUpLGUpfSx2Tz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxvLG49dC5sZW5ndGgscj0xO3I8bjspe2ZvcihvPXIsaT10W3JdO28mJmUodFtvLTFdLGkpPjA7KXRbb109dFstLW9dO28hPT1yKysmJih0W29dPWkpfXJldHVybiB0fSxnTz1mdW5jdGlvbih0LGUsaSxvKXtmb3IodmFyIG49ZS5sZW5ndGgscj1pLmxlbmd0aCxzPTAsYT0wO3M8bnx8YTxyOyl0W3MrYV09czxuJiZhPHI/byhlW3NdLGlbYV0pPD0wP2VbcysrXTppW2ErK106czxuP2VbcysrXTppW2ErK107cmV0dXJuIHR9LHlPPXBPLG1PPWV0Lm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpLGJPPSEhbU8mJittT1sxXSx3Tz0vTVNJRXxUcmlkZW50Ly50ZXN0KGV0KSxrTz1ldC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSxfTz0hIWtPJiYra09bMV0seE89eGksRU89eSxPTz1FdCxDTz1MdCxTTz16aSxUTz1vbixNTz1yLFBPPXlPLERPPU91LEJPPWJPLElPPXdPLHpPPWh0LEZPPV9PLE5PPVtdLEFPPUVPKE5PLnNvcnQpLFJPPUVPKE5PLnB1c2gpLGpPPU1PKChmdW5jdGlvbigpe05PLnNvcnQodm9pZCAwKX0pKSxMTz1NTygoZnVuY3Rpb24oKXtOTy5zb3J0KG51bGwpfSkpLEhPPURPKFwic29ydFwiKSxXTz0hTU8oKGZ1bmN0aW9uKCl7aWYoek8pcmV0dXJuIHpPPDcwO2lmKCEoQk8mJkJPPjMpKXtpZihJTylyZXR1cm4hMDtpZihGTylyZXR1cm4gRk88NjAzO3ZhciB0LGUsaSxvLG49XCJcIjtmb3IodD02NTt0PDc2O3QrKyl7c3dpdGNoKGU9U3RyaW5nLmZyb21DaGFyQ29kZSh0KSx0KXtjYXNlIDY2OmNhc2UgNjk6Y2FzZSA3MDpjYXNlIDcyOmk9MzticmVhaztjYXNlIDY4OmNhc2UgNzE6aT00O2JyZWFrO2RlZmF1bHQ6aT0yfWZvcihvPTA7bzw0NztvKyspTk8ucHVzaCh7azplK28sdjppfSl9Zm9yKE5PLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudi10LnZ9KSksbz0wO288Tk8ubGVuZ3RoO28rKyllPU5PW29dLmsuY2hhckF0KDApLG4uY2hhckF0KG4ubGVuZ3RoLTEpIT09ZSYmKG4rPWUpO3JldHVyblwiREdCRUZIQUNJSktcIiE9PW59fSkpO3hPKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpqT3x8IUxPfHwhSE98fCFXT30se3NvcnQ6ZnVuY3Rpb24odCl7dm9pZCAwIT09dCYmT08odCk7dmFyIGU9Q08odGhpcyk7aWYoV08pcmV0dXJuIHZvaWQgMD09PXQ/QU8oZSk6QU8oZSx0KTt2YXIgaSxvLG49W10scj1TTyhlKTtmb3Iobz0wO288cjtvKyspbyBpbiBlJiZSTyhuLGVbb10pO2ZvcihQTyhuLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGkpe3JldHVybiB2b2lkIDA9PT1pPy0xOnZvaWQgMD09PWU/MTp2b2lkIDAhPT10Pyt0KGUsaSl8fDA6VE8oZSk+VE8oaSk/MTotMX19KHQpKSxpPW4ubGVuZ3RoLG89MDtvPGk7KWVbb109bltvKytdO2Zvcig7bzxyOylkZWxldGUgZVtvKytdO3JldHVybiBlfX0pO3ZhciBWTz1NbyhcIkFycmF5XCIpLnNvcnQscU89dHQsVU89Vk8sWU89QXJyYXkucHJvdG90eXBlLFhPPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc29ydDtyZXR1cm4gdD09PVlPfHxxTyhZTyx0KSYmZT09PVlPLnNvcnQ/VU86ZX0sR089WE8sS089RXQsJE89THQsWk89TCxRTz16aSxKTz1uLlR5cGVFcnJvcix0Qz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpLG8sbil7S08oaSk7dmFyIHI9JE8oZSkscz1aTyhyKSxhPVFPKHIpLGg9dD9hLTE6MCxkPXQ/LTE6MTtpZihvPDIpZm9yKDs7KXtpZihoIGluIHMpe249c1toXSxoKz1kO2JyZWFrfWlmKGgrPWQsdD9oPDA6YTw9aCl0aHJvdyBKTyhcIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIil9Zm9yKDt0P2g+PTA6YT5oO2grPWQpaCBpbiBzJiYobj1pKG4sc1toXSxoLHIpKTtyZXR1cm4gbn19LGVDPXtsZWZ0OnRDKCExKSxyaWdodDp0QyghMCl9LGlDPVwicHJvY2Vzc1wiPT16KG4ucHJvY2Vzcyksb0M9ZUMubGVmdCxuQz1odCxyQz1pQzt4aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IU91KFwicmVkdWNlXCIpfHwhckMmJm5DPjc5JiZuQzw4M30se3JlZHVjZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO3JldHVybiBvQyh0aGlzLHQsZSxlPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIHNDPU1vKFwiQXJyYXlcIikucmVkdWNlLGFDPXR0LGhDPXNDLGRDPUFycmF5LnByb3RvdHlwZSxsQz1mdW5jdGlvbih0KXt2YXIgZT10LnJlZHVjZTtyZXR1cm4gdD09PWRDfHxhQyhkQyx0KSYmZT09PWRDLnJlZHVjZT9oQzplfSxjQz1sQyx1Qz17fTshZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXQuX19lc01vZHVsZT0hMCx0LnNvcnQ9djt2YXIgaT0zMixvPTcsbj0yNTYscj1bMSwxMCwxMDAsMWUzLDFlNCwxZTUsMWU2LDFlNywxZTgsMWU5XTtmdW5jdGlvbiBzKHQpe3JldHVybiB0PDFlNT90PDEwMD90PDEwPzA6MTp0PDFlND90PDFlMz8yOjM6NDp0PDFlNz90PDFlNj81OjY6dDwxZTk/dDwxZTg/Nzo4Ojl9ZnVuY3Rpb24gYSh0LGUpe2lmKHQ9PT1lKXJldHVybiAwO2lmKH5+dD09PXQmJn5+ZT09PWUpe2lmKDA9PT10fHwwPT09ZSlyZXR1cm4gdDxlPy0xOjE7aWYodDwwfHxlPDApe2lmKGU+PTApcmV0dXJuLTE7aWYodD49MClyZXR1cm4gMTt0PS10LGU9LWV9dmFyIGk9cyh0KSxvPXMoZSksbj0wO3JldHVybiBpPG8/KHQqPXJbby1pLTFdLGUvPTEwLG49LTEpOmk+byYmKGUqPXJbaS1vLTFdLHQvPTEwLG49MSksdD09PWU/bjp0PGU/LTE6MX12YXIgYT1TdHJpbmcodCksaD1TdHJpbmcoZSk7cmV0dXJuIGE9PT1oPzA6YTxoPy0xOjF9ZnVuY3Rpb24gaCh0KXtmb3IodmFyIGU9MDt0Pj1pOyllfD0xJnQsdD4+PTE7cmV0dXJuIHQrZX1mdW5jdGlvbiBkKHQsZSxpLG8pe3ZhciBuPWUrMTtpZihuPT09aSlyZXR1cm4gMTtpZihvKHRbbisrXSx0W2VdKTwwKXtmb3IoO248aSYmbyh0W25dLHRbbi0xXSk8MDspbisrO2wodCxlLG4pfWVsc2UgZm9yKDtuPGkmJm8odFtuXSx0W24tMV0pPj0wOyluKys7cmV0dXJuIG4tZX1mdW5jdGlvbiBsKHQsZSxpKXtmb3IoaS0tO2U8aTspe3ZhciBvPXRbZV07dFtlKytdPXRbaV0sdFtpLS1dPW99fWZ1bmN0aW9uIGModCxlLGksbyxuKXtmb3Iobz09PWUmJm8rKztvPGk7bysrKXtmb3IodmFyIHI9dFtvXSxzPWUsYT1vO3M8YTspe3ZhciBoPXMrYT4+PjE7bihyLHRbaF0pPDA/YT1oOnM9aCsxfXZhciBkPW8tcztzd2l0Y2goZCl7Y2FzZSAzOnRbcyszXT10W3MrMl07Y2FzZSAyOnRbcysyXT10W3MrMV07Y2FzZSAxOnRbcysxXT10W3NdO2JyZWFrO2RlZmF1bHQ6Zm9yKDtkPjA7KXRbcytkXT10W3MrZC0xXSxkLS19dFtzXT1yfX1mdW5jdGlvbiB1KHQsZSxpLG8sbixyKXt2YXIgcz0wLGE9MCxoPTE7aWYocih0LGVbaStuXSk+MCl7Zm9yKGE9by1uO2g8YSYmcih0LGVbaStuK2hdKT4wOylzPWgsKGg9MSsoaDw8MSkpPD0wJiYoaD1hKTtoPmEmJihoPWEpLHMrPW4saCs9bn1lbHNle2ZvcihhPW4rMTtoPGEmJnIodCxlW2krbi1oXSk8PTA7KXM9aCwoaD0xKyhoPDwxKSk8PTAmJihoPWEpO2g+YSYmKGg9YSk7dmFyIGQ9cztzPW4taCxoPW4tZH1mb3IocysrO3M8aDspe3ZhciBsPXMrKGgtcz4+PjEpO3IodCxlW2krbF0pPjA/cz1sKzE6aD1sfXJldHVybiBofWZ1bmN0aW9uIGYodCxlLGksbyxuLHIpe3ZhciBzPTAsYT0wLGg9MTtpZihyKHQsZVtpK25dKTwwKXtmb3IoYT1uKzE7aDxhJiZyKHQsZVtpK24taF0pPDA7KXM9aCwoaD0xKyhoPDwxKSk8PTAmJihoPWEpO2g+YSYmKGg9YSk7dmFyIGQ9cztzPW4taCxoPW4tZH1lbHNle2ZvcihhPW8tbjtoPGEmJnIodCxlW2krbitoXSk+PTA7KXM9aCwoaD0xKyhoPDwxKSk8PTAmJihoPWEpO2g+YSYmKGg9YSkscys9bixoKz1ufWZvcihzKys7czxoOyl7dmFyIGw9cysoaC1zPj4+MSk7cih0LGVbaStsXSk8MD9oPWw6cz1sKzF9cmV0dXJuIGh9dmFyIHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGkscil7ZSh0aGlzLHQpLHRoaXMuYXJyYXk9bnVsbCx0aGlzLmNvbXBhcmU9bnVsbCx0aGlzLm1pbkdhbGxvcD1vLHRoaXMubGVuZ3RoPTAsdGhpcy50bXBTdG9yYWdlTGVuZ3RoPW4sdGhpcy5zdGFja0xlbmd0aD0wLHRoaXMucnVuU3RhcnQ9bnVsbCx0aGlzLnJ1bkxlbmd0aD1udWxsLHRoaXMuc3RhY2tTaXplPTAsdGhpcy5hcnJheT1pLHRoaXMuY29tcGFyZT1yLHRoaXMubGVuZ3RoPWkubGVuZ3RoLHRoaXMubGVuZ3RoPDIqbiYmKHRoaXMudG1wU3RvcmFnZUxlbmd0aD10aGlzLmxlbmd0aD4+PjEpLHRoaXMudG1wPW5ldyBBcnJheSh0aGlzLnRtcFN0b3JhZ2VMZW5ndGgpLHRoaXMuc3RhY2tMZW5ndGg9dGhpcy5sZW5ndGg8MTIwPzU6dGhpcy5sZW5ndGg8MTU0Mj8xMDp0aGlzLmxlbmd0aDwxMTkxNTE/MTk6NDAsdGhpcy5ydW5TdGFydD1uZXcgQXJyYXkodGhpcy5zdGFja0xlbmd0aCksdGhpcy5ydW5MZW5ndGg9bmV3IEFycmF5KHRoaXMuc3RhY2tMZW5ndGgpfXJldHVybiB0LnByb3RvdHlwZS5wdXNoUnVuPWZ1bmN0aW9uKHQsZSl7dGhpcy5ydW5TdGFydFt0aGlzLnN0YWNrU2l6ZV09dCx0aGlzLnJ1bkxlbmd0aFt0aGlzLnN0YWNrU2l6ZV09ZSx0aGlzLnN0YWNrU2l6ZSs9MX0sdC5wcm90b3R5cGUubWVyZ2VSdW5zPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLnN0YWNrU2l6ZT4xOyl7dmFyIHQ9dGhpcy5zdGFja1NpemUtMjtpZih0Pj0xJiZ0aGlzLnJ1bkxlbmd0aFt0LTFdPD10aGlzLnJ1bkxlbmd0aFt0XSt0aGlzLnJ1bkxlbmd0aFt0KzFdfHx0Pj0yJiZ0aGlzLnJ1bkxlbmd0aFt0LTJdPD10aGlzLnJ1bkxlbmd0aFt0XSt0aGlzLnJ1bkxlbmd0aFt0LTFdKXRoaXMucnVuTGVuZ3RoW3QtMV08dGhpcy5ydW5MZW5ndGhbdCsxXSYmdC0tO2Vsc2UgaWYodGhpcy5ydW5MZW5ndGhbdF0+dGhpcy5ydW5MZW5ndGhbdCsxXSlicmVhazt0aGlzLm1lcmdlQXQodCl9fSx0LnByb3RvdHlwZS5mb3JjZU1lcmdlUnVucz1mdW5jdGlvbigpe2Zvcig7dGhpcy5zdGFja1NpemU+MTspe3ZhciB0PXRoaXMuc3RhY2tTaXplLTI7dD4wJiZ0aGlzLnJ1bkxlbmd0aFt0LTFdPHRoaXMucnVuTGVuZ3RoW3QrMV0mJnQtLSx0aGlzLm1lcmdlQXQodCl9fSx0LnByb3RvdHlwZS5tZXJnZUF0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29tcGFyZSxpPXRoaXMuYXJyYXksbz10aGlzLnJ1blN0YXJ0W3RdLG49dGhpcy5ydW5MZW5ndGhbdF0scj10aGlzLnJ1blN0YXJ0W3QrMV0scz10aGlzLnJ1bkxlbmd0aFt0KzFdO3RoaXMucnVuTGVuZ3RoW3RdPW4rcyx0PT09dGhpcy5zdGFja1NpemUtMyYmKHRoaXMucnVuU3RhcnRbdCsxXT10aGlzLnJ1blN0YXJ0W3QrMl0sdGhpcy5ydW5MZW5ndGhbdCsxXT10aGlzLnJ1bkxlbmd0aFt0KzJdKSx0aGlzLnN0YWNrU2l6ZS0tO3ZhciBhPWYoaVtyXSxpLG8sbiwwLGUpO28rPWEsMCE9KG4tPWEpJiYwIT09KHM9dShpW28rbi0xXSxpLHIscyxzLTEsZSkpJiYobjw9cz90aGlzLm1lcmdlTG93KG8sbixyLHMpOnRoaXMubWVyZ2VIaWdoKG8sbixyLHMpKX0sdC5wcm90b3R5cGUubWVyZ2VMb3c9ZnVuY3Rpb24odCxlLGksbil7dmFyIHI9dGhpcy5jb21wYXJlLHM9dGhpcy5hcnJheSxhPXRoaXMudG1wLGg9MDtmb3IoaD0wO2g8ZTtoKyspYVtoXT1zW3QraF07dmFyIGQ9MCxsPWksYz10O2lmKHNbYysrXT1zW2wrK10sMCE9LS1uKWlmKDEhPT1lKXtmb3IodmFyIHA9dGhpcy5taW5HYWxsb3A7Oyl7dmFyIHY9MCxnPTAseT0hMTtkb3tpZihyKHNbbF0sYVtkXSk8MCl7aWYoc1tjKytdPXNbbCsrXSxnKyssdj0wLDA9PS0tbil7eT0hMDticmVha319ZWxzZSBpZihzW2MrK109YVtkKytdLHYrKyxnPTAsMT09LS1lKXt5PSEwO2JyZWFrfX13aGlsZSgodnxnKTxwKTtpZih5KWJyZWFrO2Rve2lmKDAhPT0odj1mKHNbbF0sYSxkLGUsMCxyKSkpe2ZvcihoPTA7aDx2O2grKylzW2MraF09YVtkK2hdO2lmKGMrPXYsZCs9diwoZS09dik8PTEpe3k9ITA7YnJlYWt9fWlmKHNbYysrXT1zW2wrK10sMD09LS1uKXt5PSEwO2JyZWFrfWlmKDAhPT0oZz11KGFbZF0scyxsLG4sMCxyKSkpe2ZvcihoPTA7aDxnO2grKylzW2MraF09c1tsK2hdO2lmKGMrPWcsbCs9ZywwPT0obi09Zykpe3k9ITA7YnJlYWt9fWlmKHNbYysrXT1hW2QrK10sMT09LS1lKXt5PSEwO2JyZWFrfXAtLX13aGlsZSh2Pj1vfHxnPj1vKTtpZih5KWJyZWFrO3A8MCYmKHA9MCkscCs9Mn1pZih0aGlzLm1pbkdhbGxvcD1wLHA8MSYmKHRoaXMubWluR2FsbG9wPTEpLDE9PT1lKXtmb3IoaD0wO2g8bjtoKyspc1tjK2hdPXNbbCtoXTtzW2Mrbl09YVtkXX1lbHNle2lmKDA9PT1lKXRocm93IG5ldyBFcnJvcihcIm1lcmdlTG93IHByZWNvbmRpdGlvbnMgd2VyZSBub3QgcmVzcGVjdGVkXCIpO2ZvcihoPTA7aDxlO2grKylzW2MraF09YVtkK2hdfX1lbHNle2ZvcihoPTA7aDxuO2grKylzW2MraF09c1tsK2hdO3NbYytuXT1hW2RdfWVsc2UgZm9yKGg9MDtoPGU7aCsrKXNbYytoXT1hW2QraF19LHQucHJvdG90eXBlLm1lcmdlSGlnaD1mdW5jdGlvbih0LGUsaSxuKXt2YXIgcj10aGlzLmNvbXBhcmUscz10aGlzLmFycmF5LGE9dGhpcy50bXAsaD0wO2ZvcihoPTA7aDxuO2grKylhW2hdPXNbaStoXTt2YXIgZD10K2UtMSxsPW4tMSxjPWkrbi0xLHA9MCx2PTA7aWYoc1tjLS1dPXNbZC0tXSwwIT0tLWUpaWYoMSE9PW4pe2Zvcih2YXIgZz10aGlzLm1pbkdhbGxvcDs7KXt2YXIgeT0wLG09MCxiPSExO2Rve2lmKHIoYVtsXSxzW2RdKTwwKXtpZihzW2MtLV09c1tkLS1dLHkrKyxtPTAsMD09LS1lKXtiPSEwO2JyZWFrfX1lbHNlIGlmKHNbYy0tXT1hW2wtLV0sbSsrLHk9MCwxPT0tLW4pe2I9ITA7YnJlYWt9fXdoaWxlKCh5fG0pPGcpO2lmKGIpYnJlYWs7ZG97aWYoMCE9KHk9ZS1mKGFbbF0scyx0LGUsZS0xLHIpKSl7Zm9yKGUtPXksdj0xKyhjLT15KSxwPTErKGQtPXkpLGg9eS0xO2g+PTA7aC0tKXNbditoXT1zW3AraF07aWYoMD09PWUpe2I9ITA7YnJlYWt9fWlmKHNbYy0tXT1hW2wtLV0sMT09LS1uKXtiPSEwO2JyZWFrfWlmKDAhPShtPW4tdShzW2RdLGEsMCxuLG4tMSxyKSkpe2ZvcihuLT1tLHY9MSsoYy09bSkscD0xKyhsLT1tKSxoPTA7aDxtO2grKylzW3YraF09YVtwK2hdO2lmKG48PTEpe2I9ITA7YnJlYWt9fWlmKHNbYy0tXT1zW2QtLV0sMD09LS1lKXtiPSEwO2JyZWFrfWctLX13aGlsZSh5Pj1vfHxtPj1vKTtpZihiKWJyZWFrO2c8MCYmKGc9MCksZys9Mn1pZih0aGlzLm1pbkdhbGxvcD1nLGc8MSYmKHRoaXMubWluR2FsbG9wPTEpLDE9PT1uKXtmb3Iodj0xKyhjLT1lKSxwPTErKGQtPWUpLGg9ZS0xO2g+PTA7aC0tKXNbditoXT1zW3AraF07c1tjXT1hW2xdfWVsc2V7aWYoMD09PW4pdGhyb3cgbmV3IEVycm9yKFwibWVyZ2VIaWdoIHByZWNvbmRpdGlvbnMgd2VyZSBub3QgcmVzcGVjdGVkXCIpO2ZvcihwPWMtKG4tMSksaD0wO2g8bjtoKyspc1twK2hdPWFbaF19fWVsc2V7Zm9yKHY9MSsoYy09ZSkscD0xKyhkLT1lKSxoPWUtMTtoPj0wO2gtLSlzW3YraF09c1twK2hdO3NbY109YVtsXX1lbHNlIGZvcihwPWMtKG4tMSksaD0wO2g8bjtoKyspc1twK2hdPWFbaF19LHR9KCk7ZnVuY3Rpb24gdih0LGUsbyxuKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2FuIG9ubHkgc29ydCBhcnJheXNcIik7ZT9cImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYobj1vLG89ZSxlPWEpOmU9YSxvfHwobz0wKSxufHwobj10Lmxlbmd0aCk7dmFyIHI9bi1vO2lmKCEocjwyKSl7dmFyIHM9MDtpZihyPGkpYyh0LG8sbixvKyhzPWQodCxvLG4sZSkpLGUpO2Vsc2V7dmFyIGw9bmV3IHAodCxlKSx1PWgocik7ZG97aWYoKHM9ZCh0LG8sbixlKSk8dSl7dmFyIGY9cjtmPnUmJihmPXUpLGModCxvLG8rZixvK3MsZSkscz1mfWwucHVzaFJ1bihvLHMpLGwubWVyZ2VSdW5zKCksci09cyxvKz1zfXdoaWxlKDAhPT1yKTtsLmZvcmNlTWVyZ2VSdW5zKCl9fX19KHQpfSh1Qyk7dmFyIGZDPXVDO2Z1bmN0aW9uIHBDKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCF6aylyZXR1cm4hMTtpZih6ay5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHprKEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1Iayh0KTtpZihlKXt2YXIgbj1Iayh0aGlzKS5jb25zdHJ1Y3RvcjtpPXprKG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gamsodGhpcyxpKX19dmFyIHZDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsW3trZXk6XCJhYnN0cmFjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgaW5zdGFudGlhdGUgYWJzdHJhY3QgY2xhc3MhXCIpfX0se2tleTpcImZha2VfdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiY3VydmVUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hYnN0cmFjdCgpfX0se2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmFrZV91c2UodCksdGhpcy5hYnN0cmFjdCgpfX0se2tleTpcInNldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dm9pZCAwO3RoaXMuZmFrZV91c2UodCxlLGkpLHRoaXMuYWJzdHJhY3QoKX19LHtrZXk6XCJnZXRUcmVlU2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZha2VfdXNlKHQpLHRoaXMuYWJzdHJhY3QoKX19LHtrZXk6XCJzb3J0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5mYWtlX3VzZSh0KSx0aGlzLmFic3RyYWN0KCl9fSx7a2V5OlwiZml4XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmZha2VfdXNlKHQsZSksdGhpcy5hYnN0cmFjdCgpfX0se2tleTpcInNoaWZ0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmZha2VfdXNlKHQsZSksdGhpcy5hYnN0cmFjdCgpfX1dKSx0fSgpLGdDPWZ1bmN0aW9uKHQpe1JrKGksdCk7dmFyIGU9cEMoaSk7ZnVuY3Rpb24gaSh0KXt2YXIgbztyZXR1cm4gWGwodGhpcyxpKSwobz1lLmNhbGwodGhpcykpLmxheW91dD10LG99cmV0dXJuICRsKGksW3trZXk6XCJjdXJ2ZVR5cGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiaG9yaXpvbnRhbFwifX0se2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQueH19LHtrZXk6XCJzZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnZvaWQgMDt2b2lkIDAhPT1pJiZ0aGlzLmxheW91dC5oaWVyYXJjaGljYWwuYWRkVG9PcmRlcmluZyh0LGkpLHQueD1lfX0se2tleTpcImdldFRyZWVTaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sYXlvdXQuaGllcmFyY2hpY2FsLmdldFRyZWVTaXplKHRoaXMubGF5b3V0LmJvZHkubm9kZXMsdCk7cmV0dXJue21pbjplLm1pbl94LG1heDplLm1heF94fX19LHtrZXk6XCJzb3J0XCIsdmFsdWU6ZnVuY3Rpb24odCl7ZkMuc29ydCh0LChmdW5jdGlvbih0LGUpe3JldHVybiB0LngtZS54fSkpfX0se2tleTpcImZpeFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC55PXRoaXMubGF5b3V0Lm9wdGlvbnMuaGllcmFyY2hpY2FsLmxldmVsU2VwYXJhdGlvbiplLHQub3B0aW9ucy5maXhlZC55PSEwfX0se2tleTpcInNoaWZ0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmxheW91dC5ib2R5Lm5vZGVzW3RdLngrPWV9fV0pLGl9KHZDKSx5Qz1mdW5jdGlvbih0KXtSayhpLHQpO3ZhciBlPXBDKGkpO2Z1bmN0aW9uIGkodCl7dmFyIG87cmV0dXJuIFhsKHRoaXMsaSksKG89ZS5jYWxsKHRoaXMpKS5sYXlvdXQ9dCxvfXJldHVybiAkbChpLFt7a2V5OlwiY3VydmVUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInZlcnRpY2FsXCJ9fSx7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC55fX0se2tleTpcInNldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dm9pZCAwO3ZvaWQgMCE9PWkmJnRoaXMubGF5b3V0LmhpZXJhcmNoaWNhbC5hZGRUb09yZGVyaW5nKHQsaSksdC55PWV9fSx7a2V5OlwiZ2V0VHJlZVNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmxheW91dC5oaWVyYXJjaGljYWwuZ2V0VHJlZVNpemUodGhpcy5sYXlvdXQuYm9keS5ub2Rlcyx0KTtyZXR1cm57bWluOmUubWluX3ksbWF4OmUubWF4X3l9fX0se2tleTpcInNvcnRcIix2YWx1ZTpmdW5jdGlvbih0KXtmQy5zb3J0KHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueS1lLnl9KSl9fSx7a2V5OlwiZml4XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0Lng9dGhpcy5sYXlvdXQub3B0aW9ucy5oaWVyYXJjaGljYWwubGV2ZWxTZXBhcmF0aW9uKmUsdC5vcHRpb25zLmZpeGVkLng9ITB9fSx7a2V5Olwic2hpZnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubGF5b3V0LmJvZHkubm9kZXNbdF0ueSs9ZX19XSksaX0odkMpLG1DPVZoLmV2ZXJ5O3hpKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohT3UoXCJldmVyeVwiKX0se2V2ZXJ5OmZ1bmN0aW9uKHQpe3JldHVybiBtQyh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBiQz1NbyhcIkFycmF5XCIpLmV2ZXJ5LHdDPXR0LGtDPWJDLF9DPUFycmF5LnByb3RvdHlwZSx4Qz1mdW5jdGlvbih0KXt2YXIgZT10LmV2ZXJ5O3JldHVybiB0PT09X0N8fHdDKF9DLHQpJiZlPT09X0MuZXZlcnk/a0M6ZX0sRUM9eEM7ZnVuY3Rpb24gT0ModCxlKXt2YXIgaT12b2lkIDAhPT10dSYmb2godCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFpKXtpZihodSh0KXx8KGk9ZnVuY3Rpb24odCxlKXt2YXIgaTtpZighdClyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIENDKHQsZSk7dmFyIG89YXUoaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLmNhbGwoaSw4LC0xKTtcIk9iamVjdFwiPT09byYmdC5jb25zdHJ1Y3RvciYmKG89dC5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09b3x8XCJTZXRcIj09PW8pcmV0dXJuIGphKHQpO2lmKFwiQXJndW1lbnRzXCI9PT1vfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChvKSlyZXR1cm4gQ0ModCxlKX0odCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe2kmJih0PWkpO3ZhciBvPTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIG8+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W28rK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciByLHM9ITAsYT0hMTtyZXR1cm57czpmdW5jdGlvbigpe2k9aS5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9aS5uZXh0KCk7cmV0dXJuIHM9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7YT0hMCxyPXR9LGY6ZnVuY3Rpb24oKXt0cnl7c3x8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHJ9fX19ZnVuY3Rpb24gQ0ModCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIGk9MCxvPW5ldyBBcnJheShlKTtpPGU7aSsrKW9baV09dFtpXTtyZXR1cm4gb31mdW5jdGlvbiBTQyh0LGUpe3ZhciBpPW5ldyB1RTtyZXR1cm4gRnUodCkuY2FsbCh0LChmdW5jdGlvbih0KXt2YXIgZTtGdShlPXQuZWRnZXMpLmNhbGwoZSwoZnVuY3Rpb24odCl7dC5jb25uZWN0ZWQmJmkuYWRkKHQpfSkpfSkpLEZ1KGkpLmNhbGwoaSwoZnVuY3Rpb24odCl7dmFyIGk9dC5mcm9tLmlkLG89dC50by5pZDtudWxsPT1lW2ldJiYoZVtpXT0wKSwobnVsbD09ZVtvXXx8ZVtpXT49ZVtvXSkmJihlW29dPWVbaV0rMSl9KSksZX1mdW5jdGlvbiBUQyh0LGUsaSxvKXt2YXIgbixyLHM9SHAobnVsbCksYT1jQyhuPUpjKGxrKG8pLmNhbGwobykpKS5jYWxsKG4sKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrMStlLmVkZ2VzLmxlbmd0aH0pLDApLGg9aStcIklkXCIsZD1cInRvXCI9PT1pPzE6LTEsbD1PQyhvKTt0cnl7dmFyIGM9ZnVuY3Rpb24oKXt2YXIgbj0kYyhyLnZhbHVlLDIpLGw9blswXSxjPW5bMV07aWYoIW8uaGFzKGwpfHwhdChjKSlyZXR1cm5cImNvbnRpbnVlXCI7c1tsXT0wO2Zvcih2YXIgdT1bY10sZj0wLHA9dm9pZCAwLHY9ZnVuY3Rpb24oKXt2YXIgdCxuO2lmKCFvLmhhcyhsKSlyZXR1cm5cImNvbnRpbnVlXCI7dmFyIHI9c1twLmlkXStkO2lmKEZ1KHQ9WWYobj1wLmVkZ2VzKS5jYWxsKG4sKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbm5lY3RlZCYmdC50byE9PXQuZnJvbSYmdFtpXSE9PXAmJm8uaGFzKHQudG9JZCkmJm8uaGFzKHQuZnJvbUlkKX0pKSkuY2FsbCh0LChmdW5jdGlvbih0KXt2YXIgbz10W2hdLG49c1tvXTsobnVsbD09bnx8ZShyLG4pKSYmKHNbb109cix1LnB1c2godFtpXSkpfSkpLGY+YSlyZXR1cm57djp7djpTQyhvLHMpfX07KytmfTtwPXUucG9wKCk7KXt2YXIgZz12KCk7aWYoXCJjb250aW51ZVwiIT09ZyYmXCJvYmplY3RcIj09PVFjKGcpKXJldHVybiBnLnZ9fTtmb3IobC5zKCk7IShyPWwubigpKS5kb25lOyl7dmFyIHU9YygpO2lmKFwiY29udGludWVcIiE9PXUmJlwib2JqZWN0XCI9PT1RYyh1KSlyZXR1cm4gdS52fX1jYXRjaCh0KXtsLmUodCl9ZmluYWxseXtsLmYoKX1yZXR1cm4gc312YXIgTUM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7WGwodGhpcyx0KSx0aGlzLmNoaWxkcmVuUmVmZXJlbmNlPXt9LHRoaXMucGFyZW50UmVmZXJlbmNlPXt9LHRoaXMudHJlZXM9e30sdGhpcy5kaXN0cmlidXRpb25PcmRlcmluZz17fSx0aGlzLmxldmVscz17fSx0aGlzLmRpc3RyaWJ1dGlvbkluZGV4PXt9LHRoaXMuaXNUcmVlPSExLHRoaXMudHJlZUluZGV4PS0xfXJldHVybiAkbCh0LFt7a2V5OlwiYWRkUmVsYXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXRoaXMuY2hpbGRyZW5SZWZlcmVuY2VbdF0mJih0aGlzLmNoaWxkcmVuUmVmZXJlbmNlW3RdPVtdKSx0aGlzLmNoaWxkcmVuUmVmZXJlbmNlW3RdLnB1c2goZSksdm9pZCAwPT09dGhpcy5wYXJlbnRSZWZlcmVuY2VbZV0mJih0aGlzLnBhcmVudFJlZmVyZW5jZVtlXT1bXSksdGhpcy5wYXJlbnRSZWZlcmVuY2VbZV0ucHVzaCh0KX19LHtrZXk6XCJjaGVja0lmVHJlZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMucGFyZW50UmVmZXJlbmNlKWlmKHRoaXMucGFyZW50UmVmZXJlbmNlW3RdLmxlbmd0aD4xKXJldHVybiB2b2lkKHRoaXMuaXNUcmVlPSExKTt0aGlzLmlzVHJlZT0hMH19LHtrZXk6XCJudW1UcmVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJlZUluZGV4KzF9fSx7a2V5Olwic2V0VHJlZUluZGV4XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2b2lkIDAhPT1lJiZ2b2lkIDA9PT10aGlzLnRyZWVzW3QuaWRdJiYodGhpcy50cmVlc1t0LmlkXT1lLHRoaXMudHJlZUluZGV4PU1hdGgubWF4KGUsdGhpcy50cmVlSW5kZXgpKX19LHtrZXk6XCJlbnN1cmVMZXZlbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXRoaXMubGV2ZWxzW3RdJiYodGhpcy5sZXZlbHNbdF09MCl9fSx7a2V5OlwiZ2V0TWF4TGV2ZWxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9e307cmV0dXJuIGZ1bmN0aW9uIHQobyl7aWYodm9pZCAwIT09aVtvXSlyZXR1cm4gaVtvXTt2YXIgbj1lLmxldmVsc1tvXTtpZihlLmNoaWxkcmVuUmVmZXJlbmNlW29dKXt2YXIgcj1lLmNoaWxkcmVuUmVmZXJlbmNlW29dO2lmKHIubGVuZ3RoPjApZm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspbj1NYXRoLm1heChuLHQocltzXSkpfXJldHVybiBpW29dPW4sbn0odCl9fSx7a2V5OlwibGV2ZWxEb3duc3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10aGlzLmxldmVsc1tlLmlkXSYmKHZvaWQgMD09PXRoaXMubGV2ZWxzW3QuaWRdJiYodGhpcy5sZXZlbHNbdC5pZF09MCksdGhpcy5sZXZlbHNbZS5pZF09dGhpcy5sZXZlbHNbdC5pZF0rMSl9fSx7a2V5Olwic2V0TWluTGV2ZWxUb1plcm9cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0xZTk7Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJnZvaWQgMCE9PXRoaXMubGV2ZWxzW2ldJiYoZT1NYXRoLm1pbih0aGlzLmxldmVsc1tpXSxlKSk7Zm9yKHZhciBvIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJnZvaWQgMCE9PXRoaXMubGV2ZWxzW29dJiYodGhpcy5sZXZlbHNbb10tPWUpfX0se2tleTpcImdldFRyZWVTaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT0xZTksbz0tMWU5LG49MWU5LHI9LTFlOTtmb3IodmFyIHMgaW4gdGhpcy50cmVlcylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy50cmVlcyxzKSYmdGhpcy50cmVlc1tzXT09PWUpe3ZhciBhPXRbc107aT1NYXRoLm1pbihhLngsaSksbz1NYXRoLm1heChhLngsbyksbj1NYXRoLm1pbihhLnksbikscj1NYXRoLm1heChhLnkscil9cmV0dXJue21pbl94OmksbWF4X3g6byxtaW5feTpuLG1heF95OnJ9fX0se2tleTpcImhhc1NhbWVQYXJlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMucGFyZW50UmVmZXJlbmNlW3QuaWRdLG89dGhpcy5wYXJlbnRSZWZlcmVuY2VbZS5pZF07aWYodm9pZCAwPT09aXx8dm9pZCAwPT09bylyZXR1cm4hMTtmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKylmb3IodmFyIHI9MDtyPG8ubGVuZ3RoO3IrKylpZihpW25dPT1vW3JdKXJldHVybiEwO3JldHVybiExfX0se2tleTpcImluU2FtZVN1Yk5ldHdvcmtcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRyZWVzW3QuaWRdPT09dGhpcy50cmVlc1tlLmlkXX19LHtrZXk6XCJnZXRMZXZlbHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBtdSh0aGlzLmRpc3RyaWJ1dGlvbk9yZGVyaW5nKX19LHtrZXk6XCJhZGRUb09yZGVyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10aGlzLmRpc3RyaWJ1dGlvbk9yZGVyaW5nW2VdJiYodGhpcy5kaXN0cmlidXRpb25PcmRlcmluZ1tlXT1bXSk7dmFyIGk9ITEsbz10aGlzLmRpc3RyaWJ1dGlvbk9yZGVyaW5nW2VdO2Zvcih2YXIgbiBpbiBvKWlmKG9bbl09PT10KXtpPSEwO2JyZWFrfWl8fCh0aGlzLmRpc3RyaWJ1dGlvbk9yZGVyaW5nW2VdLnB1c2godCksdGhpcy5kaXN0cmlidXRpb25JbmRleFt0LmlkXT10aGlzLmRpc3RyaWJ1dGlvbk9yZGVyaW5nW2VdLmxlbmd0aC0xKX19XSksdH0oKSxQQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7WGwodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLl9yZXNldFJORyhNYXRoLnJhbmRvbSgpK1wiOlwiK3h1KCkpLHRoaXMuc2V0UGh5c2ljcz0hMSx0aGlzLm9wdGlvbnM9e30sdGhpcy5vcHRpb25zQmFja3VwPXtwaHlzaWNzOnt9fSx0aGlzLmRlZmF1bHRPcHRpb25zPXtyYW5kb21TZWVkOnZvaWQgMCxpbXByb3ZlZExheW91dDohMCxjbHVzdGVyVGhyZXNob2xkOjE1MCxoaWVyYXJjaGljYWw6e2VuYWJsZWQ6ITEsbGV2ZWxTZXBhcmF0aW9uOjE1MCxub2RlU3BhY2luZzoxMDAsdHJlZVNwYWNpbmc6MjAwLGJsb2NrU2hpZnRpbmc6ITAsZWRnZU1pbmltaXphdGlvbjohMCxwYXJlbnRDZW50cmFsaXphdGlvbjohMCxkaXJlY3Rpb246XCJVRFwiLHNvcnRNZXRob2Q6XCJodWJzaXplXCJ9fSxmbyh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnMoKX1yZXR1cm4gJGwodCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhQ2hhbmdlZFwiLChmdW5jdGlvbigpe3Quc2V0dXBIaWVyYXJjaGljYWxMYXlvdXQoKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhTG9hZGVkXCIsKGZ1bmN0aW9uKCl7dC5sYXlvdXROZXR3b3JrKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfcmVzZXRIaWVyYXJjaGljYWxMYXlvdXRcIiwoZnVuY3Rpb24oKXt0LnNldHVwSGllcmFyY2hpY2FsTGF5b3V0KCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfYWRqdXN0RWRnZXNGb3JIaWVyYXJjaGljYWxMYXlvdXRcIiwoZnVuY3Rpb24oKXtpZighMD09PXQub3B0aW9ucy5oaWVyYXJjaGljYWwuZW5hYmxlZCl7dmFyIGU9dC5kaXJlY3Rpb24uY3VydmVUeXBlKCk7dC5ib2R5LmVtaXR0ZXIuZW1pdChcIl9mb3JjZURpc2FibGVEeW5hbWljQ3VydmVzXCIsZSwhMSl9fSkpfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQpe3ZhciBpPXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwsbz1pLmVuYWJsZWQ7aWYoTnkoW1wicmFuZG9tU2VlZFwiLFwiaW1wcm92ZWRMYXlvdXRcIixcImNsdXN0ZXJUaHJlc2hvbGRcIl0sdGhpcy5vcHRpb25zLHQpLHRtKHRoaXMub3B0aW9ucyx0LFwiaGllcmFyY2hpY2FsXCIpLHZvaWQgMCE9PXQucmFuZG9tU2VlZCYmdGhpcy5fcmVzZXRSTkcodC5yYW5kb21TZWVkKSwhMD09PWkuZW5hYmxlZClyZXR1cm4hMD09PW8mJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZWZyZXNoXCIsITApLFwiUkxcIj09PWkuZGlyZWN0aW9ufHxcIkRVXCI9PT1pLmRpcmVjdGlvbj9pLmxldmVsU2VwYXJhdGlvbj4wJiYoaS5sZXZlbFNlcGFyYXRpb24qPS0xKTppLmxldmVsU2VwYXJhdGlvbjwwJiYoaS5sZXZlbFNlcGFyYXRpb24qPS0xKSx0aGlzLnNldERpcmVjdGlvblN0cmF0ZWd5KCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXNldEhpZXJhcmNoaWNhbExheW91dFwiKSx0aGlzLmFkYXB0QWxsT3B0aW9uc0ZvckhpZXJhcmNoaWNhbExheW91dChlKTtpZighMD09PW8pcmV0dXJuIHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZWZyZXNoXCIpLFJ5KGUsdGhpcy5vcHRpb25zQmFja3VwKX1yZXR1cm4gZX19LHtrZXk6XCJfcmVzZXRSTkdcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmluaXRpYWxSYW5kb21TZWVkPXQsdGhpcy5fcm5nPV95KHRoaXMuaW5pdGlhbFJhbmRvbVNlZWQpfX0se2tleTpcImFkYXB0QWxsT3B0aW9uc0ZvckhpZXJhcmNoaWNhbExheW91dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCEwPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5lbmFibGVkKXt2YXIgZT10aGlzLm9wdGlvbnNCYWNrdXAucGh5c2ljczt2b2lkIDA9PT10LnBoeXNpY3N8fCEwPT09dC5waHlzaWNzPyh0LnBoeXNpY3M9e2VuYWJsZWQ6dm9pZCAwPT09ZS5lbmFibGVkfHxlLmVuYWJsZWQsc29sdmVyOlwiaGllcmFyY2hpY2FsUmVwdWxzaW9uXCJ9LGUuZW5hYmxlZD12b2lkIDA9PT1lLmVuYWJsZWR8fGUuZW5hYmxlZCxlLnNvbHZlcj1lLnNvbHZlcnx8XCJiYXJuZXNIdXRcIik6XCJvYmplY3RcIj09PVFjKHQucGh5c2ljcyk/KGUuZW5hYmxlZD12b2lkIDA9PT10LnBoeXNpY3MuZW5hYmxlZHx8dC5waHlzaWNzLmVuYWJsZWQsZS5zb2x2ZXI9dC5waHlzaWNzLnNvbHZlcnx8XCJiYXJuZXNIdXRcIix0LnBoeXNpY3Muc29sdmVyPVwiaGllcmFyY2hpY2FsUmVwdWxzaW9uXCIpOiExIT09dC5waHlzaWNzJiYoZS5zb2x2ZXI9XCJiYXJuZXNIdXRcIix0LnBoeXNpY3M9e3NvbHZlcjpcImhpZXJhcmNoaWNhbFJlcHVsc2lvblwifSk7dmFyIGk9dGhpcy5kaXJlY3Rpb24uY3VydmVUeXBlKCk7aWYodm9pZCAwPT09dC5lZGdlcyl0aGlzLm9wdGlvbnNCYWNrdXAuZWRnZXM9e3Ntb290aDp7ZW5hYmxlZDohMCx0eXBlOlwiZHluYW1pY1wifX0sdC5lZGdlcz17c21vb3RoOiExfTtlbHNlIGlmKHZvaWQgMD09PXQuZWRnZXMuc21vb3RoKXRoaXMub3B0aW9uc0JhY2t1cC5lZGdlcz17c21vb3RoOntlbmFibGVkOiEwLHR5cGU6XCJkeW5hbWljXCJ9fSx0LmVkZ2VzLnNtb290aD0hMTtlbHNlIGlmKFwiYm9vbGVhblwiPT10eXBlb2YgdC5lZGdlcy5zbW9vdGgpdGhpcy5vcHRpb25zQmFja3VwLmVkZ2VzPXtzbW9vdGg6dC5lZGdlcy5zbW9vdGh9LHQuZWRnZXMuc21vb3RoPXtlbmFibGVkOnQuZWRnZXMuc21vb3RoLHR5cGU6aX07ZWxzZXt2YXIgbz10LmVkZ2VzLnNtb290aDt2b2lkIDAhPT1vLnR5cGUmJlwiZHluYW1pY1wiIT09by50eXBlJiYoaT1vLnR5cGUpLHRoaXMub3B0aW9uc0JhY2t1cC5lZGdlcz17c21vb3RoOntlbmFibGVkOnZvaWQgMD09PW8uZW5hYmxlZHx8by5lbmFibGVkLHR5cGU6dm9pZCAwPT09by50eXBlP1wiZHluYW1pY1wiOm8udHlwZSxyb3VuZG5lc3M6dm9pZCAwPT09by5yb3VuZG5lc3M/LjU6by5yb3VuZG5lc3MsZm9yY2VEaXJlY3Rpb246dm9pZCAwIT09by5mb3JjZURpcmVjdGlvbiYmby5mb3JjZURpcmVjdGlvbn19LHQuZWRnZXMuc21vb3RoPXtlbmFibGVkOnZvaWQgMD09PW8uZW5hYmxlZHx8by5lbmFibGVkLHR5cGU6aSxyb3VuZG5lc3M6dm9pZCAwPT09by5yb3VuZG5lc3M/LjU6by5yb3VuZG5lc3MsZm9yY2VEaXJlY3Rpb246dm9pZCAwIT09by5mb3JjZURpcmVjdGlvbiYmby5mb3JjZURpcmVjdGlvbn19dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9mb3JjZURpc2FibGVEeW5hbWljQ3VydmVzXCIsaSl9cmV0dXJuIHR9fSx7a2V5OlwicG9zaXRpb25Jbml0aWFsbHlcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighMCE9PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZW5hYmxlZCl7dGhpcy5fcmVzZXRSTkcodGhpcy5pbml0aWFsUmFuZG9tU2VlZCk7Zm9yKHZhciBlPXQubGVuZ3RoKzUwLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG89dFtpXSxuPTIqTWF0aC5QSSp0aGlzLl9ybmcoKTt2b2lkIDA9PT1vLngmJihvLng9ZSpNYXRoLmNvcyhuKSksdm9pZCAwPT09by55JiYoby55PWUqTWF0aC5zaW4obikpfX19fSx7a2V5OlwibGF5b3V0TmV0d29ya1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoITAhPT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmVuYWJsZWQmJiEwPT09dGhpcy5vcHRpb25zLmltcHJvdmVkTGF5b3V0KXtmb3IodmFyIHQ9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLGU9MCxpPTA7aTx0Lmxlbmd0aDtpKyspeyEwPT09dGhpcy5ib2R5Lm5vZGVzW3RbaV1dLnByZWRlZmluZWRQb3NpdGlvbiYmKGUrPTEpfWlmKGU8LjUqdC5sZW5ndGgpe3ZhciBvPTAsbj10aGlzLm9wdGlvbnMuY2x1c3RlclRocmVzaG9sZCxyPXtjbHVzdGVyTm9kZVByb3BlcnRpZXM6e3NoYXBlOlwiZWxsaXBzZVwiLGxhYmVsOlwiXCIsZ3JvdXA6XCJcIixmb250OnttdWx0aTohMX19LGNsdXN0ZXJFZGdlUHJvcGVydGllczp7bGFiZWw6XCJcIixmb250OnttdWx0aTohMX0sc21vb3RoOntlbmFibGVkOiExfX19O2lmKHQubGVuZ3RoPm4pe2Zvcih2YXIgcz10Lmxlbmd0aDt0Lmxlbmd0aD5uJiZvPD0xMDspe28rPTE7dmFyIGE9dC5sZW5ndGg7aWYobyUzPT0wP3RoaXMuYm9keS5tb2R1bGVzLmNsdXN0ZXJpbmcuY2x1c3RlckJyaWRnZXMocik6dGhpcy5ib2R5Lm1vZHVsZXMuY2x1c3RlcmluZy5jbHVzdGVyT3V0bGllcnMociksYT09dC5sZW5ndGgmJm8lMyE9MClyZXR1cm4gdGhpcy5fZGVjbHVzdGVyQWxsKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9sYXlvdXRGYWlsZWRcIiksdm9pZCBjb25zb2xlLmluZm8oXCJUaGlzIG5ldHdvcmsgY291bGQgbm90IGJlIHBvc2l0aW9uZWQgYnkgdGhpcyB2ZXJzaW9uIG9mIHRoZSBpbXByb3ZlZCBsYXlvdXQgYWxnb3JpdGhtLiBQbGVhc2UgZGlzYWJsZSBpbXByb3ZlZExheW91dCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlwiKX10aGlzLmJvZHkubW9kdWxlcy5rYW1hZGFLYXdhaS5zZXRPcHRpb25zKHtzcHJpbmdMZW5ndGg6TWF0aC5tYXgoMTUwLDIqcyl9KX1vPjEwJiZjb25zb2xlLmluZm8oXCJUaGUgY2x1c3RlcmluZyBkaWRuJ3Qgc3VjY2VlZCB3aXRoaW4gdGhlIGFtb3VudCBvZiBpbnRlcmF0aW9ucyBhbGxvd2VkLCBwcm9ncmVzc2luZyB3aXRoIHBhcnRpYWwgcmVzdWx0LlwiKSx0aGlzLmJvZHkubW9kdWxlcy5rYW1hZGFLYXdhaS5zb2x2ZSh0LHRoaXMuYm9keS5lZGdlSW5kaWNlcywhMCksdGhpcy5fc2hpZnRUb0NlbnRlcigpO2Zvcih2YXIgaD0wO2g8dC5sZW5ndGg7aCsrKXt2YXIgZD10aGlzLmJvZHkubm9kZXNbdFtoXV07ITE9PT1kLnByZWRlZmluZWRQb3NpdGlvbiYmKGQueCs9NzAqKC41LXRoaXMuX3JuZygpKSxkLnkrPTcwKiguNS10aGlzLl9ybmcoKSkpfXRoaXMuX2RlY2x1c3RlckFsbCgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVwb3NpdGlvbkJlemllck5vZGVzXCIpfX19fSx7a2V5OlwiX3NoaWZ0VG9DZW50ZXJcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1HeC5nZXRSYW5nZUNvcmUodGhpcy5ib2R5Lm5vZGVzLHRoaXMuYm9keS5ub2RlSW5kaWNlcyksZT1HeC5maW5kQ2VudGVyKHQpLGk9MDtpPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzLmJvZHkubm9kZXNbdGhpcy5ib2R5Lm5vZGVJbmRpY2VzW2ldXTtvLngtPWUueCxvLnktPWUueX19fSx7a2V5OlwiX2RlY2x1c3RlckFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PSEwOyEwPT09dDspe3Q9ITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO2UrKykhMD09PXRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbZV1dLmlzQ2x1c3RlciYmKHQ9ITAsdGhpcy5ib2R5Lm1vZHVsZXMuY2x1c3RlcmluZy5vcGVuQ2x1c3Rlcih0aGlzLmJvZHkubm9kZUluZGljZXNbZV0se30sITEpKTshMD09PXQmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fX0se2tleTpcImdldFNlZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRpYWxSYW5kb21TZWVkfX0se2tleTpcInNldHVwSGllcmFyY2hpY2FsTGF5b3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighMD09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZW5hYmxlZCYmdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aD4wKXt2YXIgdCxlLGk9ITEsbz0hMTtmb3IoZSBpbiB0aGlzLmxhc3ROb2RlT25MZXZlbD17fSx0aGlzLmhpZXJhcmNoaWNhbD1uZXcgTUMsdGhpcy5ib2R5Lm5vZGVzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvZHkubm9kZXMsZSkmJih2b2lkIDAhPT0odD10aGlzLmJvZHkubm9kZXNbZV0pLm9wdGlvbnMubGV2ZWw/KGk9ITAsdGhpcy5oaWVyYXJjaGljYWwubGV2ZWxzW2VdPXQub3B0aW9ucy5sZXZlbCk6bz0hMCk7aWYoITA9PT1vJiYhMD09PWkpdGhyb3cgbmV3IEVycm9yKFwiVG8gdXNlIHRoZSBoaWVyYXJjaGljYWwgbGF5b3V0LCBub2RlcyByZXF1aXJlIGVpdGhlciBubyBwcmVkZWZpbmVkIGxldmVscyBvciBsZXZlbHMgaGF2ZSB0byBiZSBkZWZpbmVkIGZvciBhbGwgbm9kZXMuXCIpO2lmKCEwPT09byl7dmFyIG49dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5zb3J0TWV0aG9kO1wiaHVic2l6ZVwiPT09bj90aGlzLl9kZXRlcm1pbmVMZXZlbHNCeUh1YnNpemUoKTpcImRpcmVjdGVkXCI9PT1uP3RoaXMuX2RldGVybWluZUxldmVsc0RpcmVjdGVkKCk6XCJjdXN0b21cIj09PW4mJnRoaXMuX2RldGVybWluZUxldmVsc0N1c3RvbUNhbGxiYWNrKCl9Zm9yKHZhciByIGluIHRoaXMuYm9keS5ub2RlcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib2R5Lm5vZGVzLHIpJiZ0aGlzLmhpZXJhcmNoaWNhbC5lbnN1cmVMZXZlbChyKTt2YXIgcz10aGlzLl9nZXREaXN0cmlidXRpb24oKTt0aGlzLl9nZW5lcmF0ZU1hcCgpLHRoaXMuX3BsYWNlTm9kZXNCeUhpZXJhcmNoeShzKSx0aGlzLl9jb25kZW5zZUhpZXJhcmNoeSgpLHRoaXMuX3NoaWZ0VG9DZW50ZXIoKX19fSx7a2V5OlwiX2NvbmRlbnNlSGllcmFyY2h5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9ITEsaT17fSxvPWZ1bmN0aW9uKGUsaSl7dmFyIG89dC5oaWVyYXJjaGljYWwudHJlZXM7Zm9yKHZhciBuIGluIG8pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sbikmJm9bbl09PT1lJiZ0LmRpcmVjdGlvbi5zaGlmdChuLGkpfSxuPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLGk9MDtpPHQuaGllcmFyY2hpY2FsLm51bVRyZWVzKCk7aSsrKWUucHVzaCh0LmRpcmVjdGlvbi5nZXRUcmVlU2l6ZShpKSk7cmV0dXJuIGV9LHI9ZnVuY3Rpb24gZShpLG8pe2lmKCFvW2kuaWRdJiYob1tpLmlkXT0hMCx0LmhpZXJhcmNoaWNhbC5jaGlsZHJlblJlZmVyZW5jZVtpLmlkXSkpe3ZhciBuPXQuaGllcmFyY2hpY2FsLmNoaWxkcmVuUmVmZXJlbmNlW2kuaWRdO2lmKG4ubGVuZ3RoPjApZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspZSh0LmJvZHkubm9kZXNbbltyXV0sbyl9fSxzPWZ1bmN0aW9uKGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxZTksbz0xZTksbj0xZTkscj0xZTkscz0tMWU5O2Zvcih2YXIgYSBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpKXt2YXIgaD10LmJvZHkubm9kZXNbYV0sZD10LmhpZXJhcmNoaWNhbC5sZXZlbHNbaC5pZF0sbD10LmRpcmVjdGlvbi5nZXRQb3NpdGlvbihoKSxjPXQuX2dldFNwYWNlQXJvdW5kTm9kZShoLGUpLHU9JGMoYywyKSxmPXVbMF0scD11WzFdO289TWF0aC5taW4oZixvKSxuPU1hdGgubWluKHAsbiksZDw9aSYmKHI9TWF0aC5taW4obCxyKSxzPU1hdGgubWF4KGwscykpfXJldHVybltyLHMsbyxuXX0sYT1mdW5jdGlvbihlLGkpe3ZhciBvPXQuaGllcmFyY2hpY2FsLmdldE1heExldmVsKGUuaWQpLG49dC5oaWVyYXJjaGljYWwuZ2V0TWF4TGV2ZWwoaS5pZCk7cmV0dXJuIE1hdGgubWluKG8sbil9LGg9ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgbj10LmhpZXJhcmNoaWNhbCxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBzPWlbcl0sYT1uLmRpc3RyaWJ1dGlvbk9yZGVyaW5nW3NdO2lmKGEubGVuZ3RoPjEpZm9yKHZhciBoPTA7aDxhLmxlbmd0aC0xO2grKyl7dmFyIGQ9YVtoXSxsPWFbaCsxXTtuLmhhc1NhbWVQYXJlbnQoZCxsKSYmbi5pblNhbWVTdWJOZXR3b3JrKGQsbCkmJmUoZCxsLG8pfX19LGQ9ZnVuY3Rpb24oaSxvKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLGg9dC5kaXJlY3Rpb24uZ2V0UG9zaXRpb24oaSksZD10LmRpcmVjdGlvbi5nZXRQb3NpdGlvbihvKSxsPU1hdGguYWJzKGQtaCksYz10Lm9wdGlvbnMuaGllcmFyY2hpY2FsLm5vZGVTcGFjaW5nO2lmKGw+Yyl7dmFyIHU9e30sZj17fTtyKGksdSkscihvLGYpO3ZhciBwPWEoaSxvKSx2PXModSxwKSxnPXMoZixwKSx5PXZbMV0sbT1nWzBdLGI9Z1syXSx3PU1hdGguYWJzKHktbSk7aWYodz5jKXt2YXIgaz15LW0rYztrPC1iK2MmJihrPS1iK2MpLGs8MCYmKHQuX3NoaWZ0QmxvY2soby5pZCxrKSxlPSEwLCEwPT09biYmdC5fY2VudGVyUGFyZW50KG8pKX19fSxsPWZ1bmN0aW9uKG8sbil7Zm9yKHZhciBhPW4uaWQsaD1uLmVkZ2VzLGQ9dC5oaWVyYXJjaGljYWwubGV2ZWxzW24uaWRdLGw9dC5vcHRpb25zLmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24qdC5vcHRpb25zLmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24sYz17fSx1PVtdLGY9MDtmPGgubGVuZ3RoO2YrKyl7dmFyIHA9aFtmXTtpZihwLnRvSWQhPXAuZnJvbUlkKXt2YXIgdj1wLnRvSWQ9PWE/cC5mcm9tOnAudG87Y1toW2ZdLmlkXT12LHQuaGllcmFyY2hpY2FsLmxldmVsc1t2LmlkXTxkJiZ1LnB1c2gocCl9fXZhciBnPWZ1bmN0aW9uKGUsaSl7Zm9yKHZhciBvPTAsbj0wO248aS5sZW5ndGg7bisrKWlmKHZvaWQgMCE9PWNbaVtuXS5pZF0pe3ZhciByPXQuZGlyZWN0aW9uLmdldFBvc2l0aW9uKGNbaVtuXS5pZF0pLWU7bys9ci9NYXRoLnNxcnQocipyK2wpfXJldHVybiBvfSx5PWZ1bmN0aW9uKGUsaSl7Zm9yKHZhciBvPTAsbj0wO248aS5sZW5ndGg7bisrKWlmKHZvaWQgMCE9PWNbaVtuXS5pZF0pe3ZhciByPXQuZGlyZWN0aW9uLmdldFBvc2l0aW9uKGNbaVtuXS5pZF0pLWU7by09bCpNYXRoLnBvdyhyKnIrbCwtMS41KX1yZXR1cm4gb30sbT1mdW5jdGlvbihlLGkpe2Zvcih2YXIgbz10LmRpcmVjdGlvbi5nZXRQb3NpdGlvbihuKSxyPXt9LHM9MDtzPGU7cysrKXt2YXIgYT1nKG8saSksaD15KG8saSk7aWYodm9pZCAwIT09cltvLT1NYXRoLm1heCgtNDAsTWF0aC5taW4oNDAsTWF0aC5yb3VuZChhL2gpKSldKWJyZWFrO3Jbb109c31yZXR1cm4gb30sYj1tKG8sdSk7IWZ1bmN0aW9uKG8pe3ZhciBhPXQuZGlyZWN0aW9uLmdldFBvc2l0aW9uKG4pO2lmKHZvaWQgMD09PWlbbi5pZF0pe3ZhciBoPXt9O3IobixoKSxpW24uaWRdPWh9dmFyIGQ9cyhpW24uaWRdKSxsPWRbMl0sYz1kWzNdLHU9by1hLGY9MDt1PjA/Zj1NYXRoLm1pbih1LGMtdC5vcHRpb25zLmhpZXJhcmNoaWNhbC5ub2RlU3BhY2luZyk6dTwwJiYoZj0tTWF0aC5taW4oLXUsbC10Lm9wdGlvbnMuaGllcmFyY2hpY2FsLm5vZGVTcGFjaW5nKSksMCE9ZiYmKHQuX3NoaWZ0QmxvY2sobi5pZCxmKSxlPSEwKX0oYiksZnVuY3Rpb24oaSl7dmFyIG89dC5kaXJlY3Rpb24uZ2V0UG9zaXRpb24obikscj0kYyh0Ll9nZXRTcGFjZUFyb3VuZE5vZGUobiksMikscz1yWzBdLGE9clsxXSxoPWktbyxkPW87aD4wP2Q9TWF0aC5taW4obysoYS10Lm9wdGlvbnMuaGllcmFyY2hpY2FsLm5vZGVTcGFjaW5nKSxpKTpoPDAmJihkPU1hdGgubWF4KG8tKHMtdC5vcHRpb25zLmhpZXJhcmNoaWNhbC5ub2RlU3BhY2luZyksaSkpLGQhPT1vJiYodC5kaXJlY3Rpb24uc2V0UG9zaXRpb24obixkKSxlPSEwKX0oYj1tKG8saCkpfTshMD09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuYmxvY2tTaGlmdGluZyYmKGZ1bmN0aW9uKGkpe3ZhciBvPXQuaGllcmFyY2hpY2FsLmdldExldmVscygpO289VXUobykuY2FsbChvKTtmb3IodmFyIG49MDtuPGkmJihlPSExLGgoZCxvLCEwKSwhMD09PWUpO24rKyk7fSg1KSxmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0LmJvZHkubm9kZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQuYm9keS5ub2RlcyxlKSYmdC5fY2VudGVyUGFyZW50KHQuYm9keS5ub2Rlc1tlXSl9KCkpLCEwPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5lZGdlTWluaW1pemF0aW9uJiZmdW5jdGlvbihpKXt2YXIgbz10LmhpZXJhcmNoaWNhbC5nZXRMZXZlbHMoKTtvPVV1KG8pLmNhbGwobyk7Zm9yKHZhciBuPTA7bjxpO24rKyl7ZT0hMTtmb3IodmFyIHI9MDtyPG8ubGVuZ3RoO3IrKylmb3IodmFyIHM9b1tyXSxhPXQuaGllcmFyY2hpY2FsLmRpc3RyaWJ1dGlvbk9yZGVyaW5nW3NdLGg9MDtoPGEubGVuZ3RoO2grKylsKDFlMyxhW2hdKTtpZighMCE9PWUpYnJlYWt9fSgyMCksITA9PT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLnBhcmVudENlbnRyYWxpemF0aW9uJiZmdW5jdGlvbigpe3ZhciBlPXQuaGllcmFyY2hpY2FsLmdldExldmVscygpO2U9VXUoZSkuY2FsbChlKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIG89ZVtpXSxuPXQuaGllcmFyY2hpY2FsLmRpc3RyaWJ1dGlvbk9yZGVyaW5nW29dLHI9MDtyPG4ubGVuZ3RoO3IrKyl0Ll9jZW50ZXJQYXJlbnQobltyXSl9KCksZnVuY3Rpb24oKXtmb3IodmFyIGU9bigpLGk9MCxyPTA7cjxlLmxlbmd0aC0xO3IrKyl7aSs9ZVtyXS5tYXgtZVtyKzFdLm1pbit0Lm9wdGlvbnMuaGllcmFyY2hpY2FsLnRyZWVTcGFjaW5nLG8ocisxLGkpfX0oKX19LHtrZXk6XCJfZ2V0U3BhY2VBcm91bmROb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT0hMDt2b2lkIDA9PT1lJiYoaT0hMSk7dmFyIG89dGhpcy5oaWVyYXJjaGljYWwubGV2ZWxzW3QuaWRdO2lmKHZvaWQgMCE9PW8pe3ZhciBuPXRoaXMuaGllcmFyY2hpY2FsLmRpc3RyaWJ1dGlvbkluZGV4W3QuaWRdLHI9dGhpcy5kaXJlY3Rpb24uZ2V0UG9zaXRpb24odCkscz10aGlzLmhpZXJhcmNoaWNhbC5kaXN0cmlidXRpb25PcmRlcmluZ1tvXSxhPTFlOSxoPTFlOTtpZigwIT09bil7dmFyIGQ9c1tuLTFdO2lmKCEwPT09aSYmdm9pZCAwPT09ZVtkLmlkXXx8ITE9PT1pKWE9ci10aGlzLmRpcmVjdGlvbi5nZXRQb3NpdGlvbihkKX1pZihuIT1zLmxlbmd0aC0xKXt2YXIgbD1zW24rMV07aWYoITA9PT1pJiZ2b2lkIDA9PT1lW2wuaWRdfHwhMT09PWkpe3ZhciBjPXRoaXMuZGlyZWN0aW9uLmdldFBvc2l0aW9uKGwpO2g9TWF0aC5taW4oaCxjLXIpfX1yZXR1cm5bYSxoXX1yZXR1cm5bMCwwXX19LHtrZXk6XCJfY2VudGVyUGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5oaWVyYXJjaGljYWwucGFyZW50UmVmZXJlbmNlW3QuaWRdKWZvcih2YXIgZT10aGlzLmhpZXJhcmNoaWNhbC5wYXJlbnRSZWZlcmVuY2VbdC5pZF0saT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldLG49dGhpcy5ib2R5Lm5vZGVzW29dLHI9dGhpcy5oaWVyYXJjaGljYWwuY2hpbGRyZW5SZWZlcmVuY2Vbb107aWYodm9pZCAwIT09cil7dmFyIHM9dGhpcy5fZ2V0Q2VudGVyUG9zaXRpb24ociksYT10aGlzLmRpcmVjdGlvbi5nZXRQb3NpdGlvbihuKSxoPSRjKHRoaXMuX2dldFNwYWNlQXJvdW5kTm9kZShuKSwyKSxkPWhbMF0sbD1oWzFdLGM9YS1zOyhjPDAmJk1hdGguYWJzKGMpPGwtdGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5ub2RlU3BhY2luZ3x8Yz4wJiZNYXRoLmFicyhjKTxkLXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwubm9kZVNwYWNpbmcpJiZ0aGlzLmRpcmVjdGlvbi5zZXRQb3NpdGlvbihuLHMpfX19fSx7a2V5OlwiX3BsYWNlTm9kZXNCeUhpZXJhcmNoeVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnBvc2l0aW9uZWROb2Rlcz17fSx0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKXt2YXIgaSxvPW11KHRbZV0pO289dGhpcy5faW5kZXhBcnJheVRvTm9kZXMobyksR08oaT10aGlzLmRpcmVjdGlvbikuY2FsbChpLG8pO2Zvcih2YXIgbj0wLHI9MDtyPG8ubGVuZ3RoO3IrKyl7dmFyIHM9b1tyXTtpZih2b2lkIDA9PT10aGlzLnBvc2l0aW9uZWROb2Rlc1tzLmlkXSl7dmFyIGE9dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5ub2RlU3BhY2luZyxoPWEqbjtuPjAmJihoPXRoaXMuZGlyZWN0aW9uLmdldFBvc2l0aW9uKG9bci0xXSkrYSksdGhpcy5kaXJlY3Rpb24uc2V0UG9zaXRpb24ocyxoLGUpLHRoaXMuX3ZhbGlkYXRlUG9zaXRpb25BbmRDb250aW51ZShzLGUsaCksbisrfX19fX0se2tleTpcIl9wbGFjZUJyYW5jaE5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaSxvPXRoaXMuaGllcmFyY2hpY2FsLmNoaWxkcmVuUmVmZXJlbmNlW3RdO2lmKHZvaWQgMCE9PW8pe2Zvcih2YXIgbj1bXSxyPTA7cjxvLmxlbmd0aDtyKyspbi5wdXNoKHRoaXMuYm9keS5ub2Rlc1tvW3JdXSk7R08oaT10aGlzLmRpcmVjdGlvbikuY2FsbChpLG4pO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7cysrKXt2YXIgYT1uW3NdLGg9dGhpcy5oaWVyYXJjaGljYWwubGV2ZWxzW2EuaWRdO2lmKCEoaD5lJiZ2b2lkIDA9PT10aGlzLnBvc2l0aW9uZWROb2Rlc1thLmlkXSkpcmV0dXJuO3ZhciBkPXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwubm9kZVNwYWNpbmcsbD12b2lkIDA7bD0wPT09cz90aGlzLmRpcmVjdGlvbi5nZXRQb3NpdGlvbih0aGlzLmJvZHkubm9kZXNbdF0pOnRoaXMuZGlyZWN0aW9uLmdldFBvc2l0aW9uKG5bcy0xXSkrZCx0aGlzLmRpcmVjdGlvbi5zZXRQb3NpdGlvbihhLGwsaCksdGhpcy5fdmFsaWRhdGVQb3NpdGlvbkFuZENvbnRpbnVlKGEsaCxsKX12YXIgYz10aGlzLl9nZXRDZW50ZXJQb3NpdGlvbihuKTt0aGlzLmRpcmVjdGlvbi5zZXRQb3NpdGlvbih0aGlzLmJvZHkubm9kZXNbdF0sYyxlKX19fSx7a2V5OlwiX3ZhbGlkYXRlUG9zaXRpb25BbmRDb250aW51ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLmhpZXJhcmNoaWNhbC5pc1RyZWUpe2lmKHZvaWQgMCE9PXRoaXMubGFzdE5vZGVPbkxldmVsW2VdKXt2YXIgbz10aGlzLmRpcmVjdGlvbi5nZXRQb3NpdGlvbih0aGlzLmJvZHkubm9kZXNbdGhpcy5sYXN0Tm9kZU9uTGV2ZWxbZV1dKTtpZihpLW88dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5ub2RlU3BhY2luZyl7dmFyIG49byt0aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLm5vZGVTcGFjaW5nLWkscj10aGlzLl9maW5kQ29tbW9uUGFyZW50KHRoaXMubGFzdE5vZGVPbkxldmVsW2VdLHQuaWQpO3RoaXMuX3NoaWZ0QmxvY2soci53aXRoQ2hpbGQsbil9fXRoaXMubGFzdE5vZGVPbkxldmVsW2VdPXQuaWQsdGhpcy5wb3NpdGlvbmVkTm9kZXNbdC5pZF09ITAsdGhpcy5fcGxhY2VCcmFuY2hOb2Rlcyh0LmlkLGUpfX19LHtrZXk6XCJfaW5kZXhBcnJheVRvTm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT0wO2k8dC5sZW5ndGg7aSsrKWUucHVzaCh0aGlzLmJvZHkubm9kZXNbdFtpXV0pO3JldHVybiBlfX0se2tleTpcIl9nZXREaXN0cmlidXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaT17fTtmb3IodCBpbiB0aGlzLmJvZHkubm9kZXMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm9keS5ub2Rlcyx0KSl7ZT10aGlzLmJvZHkubm9kZXNbdF07dmFyIG89dm9pZCAwPT09dGhpcy5oaWVyYXJjaGljYWwubGV2ZWxzW3RdPzA6dGhpcy5oaWVyYXJjaGljYWwubGV2ZWxzW3RdO3RoaXMuZGlyZWN0aW9uLmZpeChlLG8pLHZvaWQgMD09PWlbb10mJihpW29dPXt9KSxpW29dW3RdPWV9cmV0dXJuIGl9fSx7a2V5OlwiX2dldEFjdGl2ZUVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPVtdO3JldHVybiBXeSh0LmVkZ2VzLChmdW5jdGlvbih0KXt2YXIgbzstMSE9PXpwKG89ZS5ib2R5LmVkZ2VJbmRpY2VzKS5jYWxsKG8sdC5pZCkmJmkucHVzaCh0KX0pKSxpfX0se2tleTpcIl9nZXRIdWJTaXplc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXt9O1d5KHRoaXMuYm9keS5ub2RlSW5kaWNlcywoZnVuY3Rpb24oaSl7dmFyIG89dC5ib2R5Lm5vZGVzW2ldLG49dC5fZ2V0QWN0aXZlRWRnZXMobykubGVuZ3RoO2Vbbl09ITB9KSk7dmFyIGk9W107cmV0dXJuIFd5KGUsKGZ1bmN0aW9uKHQpe2kucHVzaChOdW1iZXIodCkpfSkpLEdPKGZDKS5jYWxsKGZDLGksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUtdH0pKSxpfX0se2tleTpcIl9kZXRlcm1pbmVMZXZlbHNCeUh1YnNpemVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9ZnVuY3Rpb24oZSxpKXt0LmhpZXJhcmNoaWNhbC5sZXZlbERvd25zdHJlYW0oZSxpKX0saT10aGlzLl9nZXRIdWJTaXplcygpLG89ZnVuY3Rpb24obyl7dmFyIG49aVtvXTtpZigwPT09bilyZXR1cm5cImJyZWFrXCI7V3kodC5ib2R5Lm5vZGVJbmRpY2VzLChmdW5jdGlvbihpKXt2YXIgbz10LmJvZHkubm9kZXNbaV07bj09PXQuX2dldEFjdGl2ZUVkZ2VzKG8pLmxlbmd0aCYmdC5fY3Jhd2xOZXR3b3JrKGUsaSl9KSl9LG49MDtuPGkubGVuZ3RoOysrbil7aWYoXCJicmVha1wiPT09byhuKSlicmVha319fSx7a2V5OlwiX2RldGVybWluZUxldmVsc0N1c3RvbUNhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2NyYXdsTmV0d29yaygoZnVuY3Rpb24oZSxpLG8pe3ZhciBuPXQuaGllcmFyY2hpY2FsLmxldmVsc1tlLmlkXTt2b2lkIDA9PT1uJiYobj10LmhpZXJhcmNoaWNhbC5sZXZlbHNbZS5pZF09MWU1KTt2YXIgcj0oR3guY2xvbmVPcHRpb25zKGUsXCJub2RlXCIpLEd4LmNsb25lT3B0aW9ucyhpLFwibm9kZVwiKSx2b2lkIEd4LmNsb25lT3B0aW9ucyhvLFwiZWRnZVwiKSk7dC5oaWVyYXJjaGljYWwubGV2ZWxzW2kuaWRdPW4rcn0pKSx0aGlzLmhpZXJhcmNoaWNhbC5zZXRNaW5MZXZlbFRvWmVybyh0aGlzLmJvZHkubm9kZXMpfX0se2tleTpcIl9kZXRlcm1pbmVMZXZlbHNEaXJlY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLGk9Y0ModD10aGlzLmJvZHkubm9kZUluZGljZXMpLmNhbGwodCwoZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5zZXQoaSxlLmJvZHkubm9kZXNbaV0pLHR9KSxuZXcgRXcpO1wicm9vdHNcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuc2hha2VUb3dhcmRzP3RoaXMuaGllcmFyY2hpY2FsLmxldmVscz1mdW5jdGlvbih0KXtyZXR1cm4gVEMoKGZ1bmN0aW9uKGUpe3ZhciBpLG87cmV0dXJuIEVDKGk9WWYobz1lLmVkZ2VzKS5jYWxsKG8sKGZ1bmN0aW9uKGUpe3JldHVybiB0LmhhcyhlLnRvSWQpfSkpKS5jYWxsKGksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmZyb209PT1lfSkpfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU8dH0pLFwidG9cIix0KX0oaSk6dGhpcy5oaWVyYXJjaGljYWwubGV2ZWxzPWZ1bmN0aW9uKHQpe3JldHVybiBUQygoZnVuY3Rpb24oZSl7dmFyIGksbztyZXR1cm4gRUMoaT1ZZihvPWUuZWRnZXMpLmNhbGwobywoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzKGUudG9JZCl9KSkpLmNhbGwoaSwoZnVuY3Rpb24odCl7cmV0dXJuIHQudG89PT1lfSkpfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU+dH0pLFwiZnJvbVwiLHQpfShpKSx0aGlzLmhpZXJhcmNoaWNhbC5zZXRNaW5MZXZlbFRvWmVybyh0aGlzLmJvZHkubm9kZXMpfX0se2tleTpcIl9nZW5lcmF0ZU1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9jcmF3bE5ldHdvcmsoKGZ1bmN0aW9uKGUsaSl7dC5oaWVyYXJjaGljYWwubGV2ZWxzW2kuaWRdPnQuaGllcmFyY2hpY2FsLmxldmVsc1tlLmlkXSYmdC5oaWVyYXJjaGljYWwuYWRkUmVsYXRpb24oZS5pZCxpLmlkKX0pKSx0aGlzLmhpZXJhcmNoaWNhbC5jaGVja0lmVHJlZSgpfX0se2tleTpcIl9jcmF3bE5ldHdvcmtcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ZnVuY3Rpb24oKXt9LGk9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbz17fSxuPWZ1bmN0aW9uIGkobixyKXtpZih2b2lkIDA9PT1vW24uaWRdKXt2YXIgczt0LmhpZXJhcmNoaWNhbC5zZXRUcmVlSW5kZXgobixyKSxvW24uaWRdPSEwO2Zvcih2YXIgYT10Ll9nZXRBY3RpdmVFZGdlcyhuKSxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBkPWFbaF07ITA9PT1kLmNvbm5lY3RlZCYmKHM9ZC50b0lkPT1uLmlkP2QuZnJvbTpkLnRvLG4uaWQhPXMuaWQmJihlKG4scyxkKSxpKHMscikpKX19fTtpZih2b2lkIDA9PT1pKWZvcih2YXIgcj0wLHM9MDtzPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7cysrKXt2YXIgYT10aGlzLmJvZHkubm9kZUluZGljZXNbc107aWYodm9pZCAwPT09b1thXSl7dmFyIGg9dGhpcy5ib2R5Lm5vZGVzW2FdO24oaCxyKSxyKz0xfX1lbHNle3ZhciBkPXRoaXMuYm9keS5ub2Rlc1tpXTtpZih2b2lkIDA9PT1kKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJOb2RlIG5vdCBmb3VuZDpcIixpKTtuKGQpfX19LHtrZXk6XCJfc2hpZnRCbG9ja1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxvPXt9OyFmdW5jdGlvbiB0KG4pe2lmKCFvW25dKXtvW25dPSEwLGkuZGlyZWN0aW9uLnNoaWZ0KG4sZSk7dmFyIHI9aS5oaWVyYXJjaGljYWwuY2hpbGRyZW5SZWZlcmVuY2Vbbl07aWYodm9pZCAwIT09cilmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl0KHJbc10pfX0odCl9fSx7a2V5OlwiX2ZpbmRDb21tb25QYXJlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbz17fTtyZXR1cm4gZnVuY3Rpb24gdChlLG8pe3ZhciBuPWkuaGllcmFyY2hpY2FsLnBhcmVudFJlZmVyZW5jZVtvXTtpZih2b2lkIDAhPT1uKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgcz1uW3JdO2Vbc109ITAsdChlLHMpfX0obyx0KSxmdW5jdGlvbiB0KGUsbyl7dmFyIG49aS5oaWVyYXJjaGljYWwucGFyZW50UmVmZXJlbmNlW29dO2lmKHZvaWQgMCE9PW4pZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBzPW5bcl07aWYodm9pZCAwIT09ZVtzXSlyZXR1cm57Zm91bmRQYXJlbnQ6cyx3aXRoQ2hpbGQ6b307dmFyIGE9dChlLHMpO2lmKG51bGwhPT1hLmZvdW5kUGFyZW50KXJldHVybiBhfXJldHVybntmb3VuZFBhcmVudDpudWxsLHdpdGhDaGlsZDpvfX0obyxlKX19LHtrZXk6XCJzZXREaXJlY3Rpb25TdHJhdGVneVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9XCJVRFwiPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb258fFwiRFVcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uO3RoaXMuZGlyZWN0aW9uPXQ/bmV3IGdDKHRoaXMpOm5ldyB5Qyh0aGlzKX19LHtrZXk6XCJfZ2V0Q2VudGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MWU5LGk9LTFlOSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBuPXZvaWQgMDtpZih2b2lkIDAhPT10W29dLmlkKW49dFtvXTtlbHNle3ZhciByPXRbb107bj10aGlzLmJvZHkubm9kZXNbcl19dmFyIHM9dGhpcy5kaXJlY3Rpb24uZ2V0UG9zaXRpb24obik7ZT1NYXRoLm1pbihlLHMpLGk9TWF0aC5tYXgoaSxzKX1yZXR1cm4uNSooZStpKX19XSksdH0oKTtmdW5jdGlvbiBEQyh0LGUpe3ZhciBpPXZvaWQgMCE9PXR1JiZvaCh0KXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIWkpe2lmKGh1KHQpfHwoaT1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gQkModCxlKTt2YXIgbz1hdShpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuY2FsbChpLDgsLTEpO1wiT2JqZWN0XCI9PT1vJiZ0LmNvbnN0cnVjdG9yJiYobz10LmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1vfHxcIlNldFwiPT09bylyZXR1cm4gamEodCk7aWYoXCJBcmd1bWVudHNcIj09PW98fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG8pKXJldHVybiBCQyh0LGUpfSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7aSYmKHQ9aSk7dmFyIG89MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gbz49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbbysrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIscz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7aT1pLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1pLm5leHQoKTtyZXR1cm4gcz10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXthPSEwLHI9dH0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgcn19fX1mdW5jdGlvbiBCQyh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLG89bmV3IEFycmF5KGUpO2k8ZTtpKyspb1tpXT10W2ldO3JldHVybiBvfXZhciBJQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8sbil7dmFyIHIscyxhPXRoaXM7WGwodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmNhbnZhcz1pLHRoaXMuc2VsZWN0aW9uSGFuZGxlcj1vLHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyPW4sdGhpcy5lZGl0TW9kZT0hMSx0aGlzLm1hbmlwdWxhdGlvbkRpdj12b2lkIDAsdGhpcy5lZGl0TW9kZURpdj12b2lkIDAsdGhpcy5jbG9zZURpdj12b2lkIDAsdGhpcy5fZG9tRXZlbnRMaXN0ZW5lckNsZWFudXBRdWV1ZT1bXSx0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zPXt9LHRoaXMudGVtcG9yYXJ5RXZlbnRGdW5jdGlvbnM9W10sdGhpcy50b3VjaFRpbWU9MCx0aGlzLnRlbXBvcmFyeUlkcz17bm9kZXM6W10sZWRnZXM6W119LHRoaXMuZ3VpRW5hYmxlZD0hMSx0aGlzLmluTW9kZT0hMSx0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGU9dm9pZCAwLHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXtlbmFibGVkOiExLGluaXRpYWxseUFjdGl2ZTohMSxhZGROb2RlOiEwLGFkZEVkZ2U6ITAsZWRpdE5vZGU6dm9pZCAwLGVkaXRFZGdlOiEwLGRlbGV0ZU5vZGU6ITAsZGVsZXRlRWRnZTohMCxjb250cm9sTm9kZVN0eWxlOntzaGFwZTpcImRvdFwiLHNpemU6Nixjb2xvcjp7YmFja2dyb3VuZDpcIiNmZjAwMDBcIixib3JkZXI6XCIjM2MzYzNjXCIsaGlnaGxpZ2h0OntiYWNrZ3JvdW5kOlwiIzA3Zjk2OFwiLGJvcmRlcjpcIiMzYzNjM2NcIn19LGJvcmRlcldpZHRoOjIsYm9yZGVyV2lkdGhTZWxlY3RlZDoyfX0sZm8odGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiZGVzdHJveVwiLChmdW5jdGlvbigpe2EuX2NsZWFuKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZGF0YUNoYW5nZWRcIixGbyhyPXRoaXMuX3Jlc3RvcmUpLmNhbGwocix0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfcmVzZXREYXRhXCIsRm8ocz10aGlzLl9yZXN0b3JlKS5jYWxsKHMsdGhpcykpfXJldHVybiAkbCh0LFt7a2V5OlwiX3Jlc3RvcmVcIix2YWx1ZTpmdW5jdGlvbigpeyExIT09dGhpcy5pbk1vZGUmJighMD09PXRoaXMub3B0aW9ucy5pbml0aWFsbHlBY3RpdmU/dGhpcy5lbmFibGVFZGl0TW9kZSgpOnRoaXMuZGlzYWJsZUVkaXRNb2RlKCkpfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUubG9jYWxlP3RoaXMub3B0aW9ucy5sb2NhbGU9ZS5sb2NhbGU6dGhpcy5vcHRpb25zLmxvY2FsZT1pLmxvY2FsZSx2b2lkIDAhPT1lLmxvY2FsZXM/dGhpcy5vcHRpb25zLmxvY2FsZXM9ZS5sb2NhbGVzOnRoaXMub3B0aW9ucy5sb2NhbGVzPWkubG9jYWxlcyksdm9pZCAwIT09dCYmKFwiYm9vbGVhblwiPT10eXBlb2YgdD90aGlzLm9wdGlvbnMuZW5hYmxlZD10Oih0aGlzLm9wdGlvbnMuZW5hYmxlZD0hMCxSeSh0aGlzLm9wdGlvbnMsdCkpLCEwPT09dGhpcy5vcHRpb25zLmluaXRpYWxseUFjdGl2ZSYmKHRoaXMuZWRpdE1vZGU9ITApLHRoaXMuX3NldHVwKCkpfX0se2tleTpcInRvZ2dsZUVkaXRNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXshMD09PXRoaXMuZWRpdE1vZGU/dGhpcy5kaXNhYmxlRWRpdE1vZGUoKTp0aGlzLmVuYWJsZUVkaXRNb2RlKCl9fSx7a2V5OlwiZW5hYmxlRWRpdE1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWRpdE1vZGU9ITAsdGhpcy5fY2xlYW4oKSwhMD09PXRoaXMuZ3VpRW5hYmxlZCYmKHRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuY2xvc2VEaXYuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5lZGl0TW9kZURpdi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpKX19LHtrZXk6XCJkaXNhYmxlRWRpdE1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWRpdE1vZGU9ITEsdGhpcy5fY2xlYW4oKSwhMD09PXRoaXMuZ3VpRW5hYmxlZCYmKHRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5jbG9zZURpdi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuZWRpdE1vZGVEaXYuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5fY3JlYXRlRWRpdEJ1dHRvbigpKX19LHtrZXk6XCJzaG93TWFuaXB1bGF0b3JUb29sYmFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9jbGVhbigpLHRoaXMubWFuaXB1bGF0aW9uRE9NPXt9LCEwPT09dGhpcy5ndWlFbmFibGVkKXt2YXIgdCxlO3RoaXMuZWRpdE1vZGU9ITAsdGhpcy5tYW5pcHVsYXRpb25EaXYuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5jbG9zZURpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjt2YXIgaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWROb2RlQ291bnQoKSxvPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZEVkZ2VDb3VudCgpLG49aStvLHI9dGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV0scz0hMTshMSE9PXRoaXMub3B0aW9ucy5hZGROb2RlJiYodGhpcy5fY3JlYXRlQWRkTm9kZUJ1dHRvbihyKSxzPSEwKSwhMSE9PXRoaXMub3B0aW9ucy5hZGRFZGdlJiYoITA9PT1zP3RoaXMuX2NyZWF0ZVNlcGVyYXRvcigxKTpzPSEwLHRoaXMuX2NyZWF0ZUFkZEVkZ2VCdXR0b24ocikpLDE9PT1pJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuZWRpdE5vZGU/KCEwPT09cz90aGlzLl9jcmVhdGVTZXBlcmF0b3IoMik6cz0hMCx0aGlzLl9jcmVhdGVFZGl0Tm9kZUJ1dHRvbihyKSk6MT09PW8mJjA9PT1pJiYhMSE9PXRoaXMub3B0aW9ucy5lZGl0RWRnZSYmKCEwPT09cz90aGlzLl9jcmVhdGVTZXBlcmF0b3IoMyk6cz0hMCx0aGlzLl9jcmVhdGVFZGl0RWRnZUJ1dHRvbihyKSksMCE9PW4mJihpPjAmJiExIT09dGhpcy5vcHRpb25zLmRlbGV0ZU5vZGV8fDA9PT1pJiYhMSE9PXRoaXMub3B0aW9ucy5kZWxldGVFZGdlKSYmKCEwPT09cyYmdGhpcy5fY3JlYXRlU2VwZXJhdG9yKDQpLHRoaXMuX2NyZWF0ZURlbGV0ZUJ1dHRvbihyKSksdGhpcy5fYmluZEVsZW1lbnRFdmVudHModGhpcy5jbG9zZURpdixGbyh0PXRoaXMudG9nZ2xlRWRpdE1vZGUpLmNhbGwodCx0aGlzKSksdGhpcy5fdGVtcG9yYXJ5QmluZEV2ZW50KFwic2VsZWN0XCIsRm8oZT10aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIpLmNhbGwoZSx0aGlzKSl9dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIil9fSx7a2V5OlwiYWRkTm9kZU1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCEwIT09dGhpcy5lZGl0TW9kZSYmdGhpcy5lbmFibGVFZGl0TW9kZSgpLHRoaXMuX2NsZWFuKCksdGhpcy5pbk1vZGU9XCJhZGROb2RlXCIsITA9PT10aGlzLmd1aUVuYWJsZWQpe3ZhciBlLGk9dGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV07dGhpcy5tYW5pcHVsYXRpb25ET009e30sdGhpcy5fY3JlYXRlQmFja0J1dHRvbihpKSx0aGlzLl9jcmVhdGVTZXBlcmF0b3IoKSx0aGlzLl9jcmVhdGVEZXNjcmlwdGlvbihpLmFkZERlc2NyaXB0aW9ufHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5hZGREZXNjcmlwdGlvbiksdGhpcy5fYmluZEVsZW1lbnRFdmVudHModGhpcy5jbG9zZURpdixGbyhlPXRoaXMudG9nZ2xlRWRpdE1vZGUpLmNhbGwoZSx0aGlzKSl9dGhpcy5fdGVtcG9yYXJ5QmluZEV2ZW50KFwiY2xpY2tcIixGbyh0PXRoaXMuX3BlcmZvcm1BZGROb2RlKS5jYWxsKHQsdGhpcykpfX0se2tleTpcImVkaXROb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzOyEwIT09dGhpcy5lZGl0TW9kZSYmdGhpcy5lbmFibGVFZGl0TW9kZSgpLHRoaXMuX2NsZWFuKCk7dmFyIGU9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkTm9kZXMoKVswXTtpZih2b2lkIDAhPT1lKXtpZih0aGlzLmluTW9kZT1cImVkaXROb2RlXCIsXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5vcHRpb25zLmVkaXROb2RlKXRocm93IG5ldyBFcnJvcihcIk5vIGZ1bmN0aW9uIGhhcyBiZWVuIGNvbmZpZ3VyZWQgdG8gaGFuZGxlIHRoZSBlZGl0aW5nIG9mIG5vZGVzLlwiKTtpZighMCE9PWUuaXNDbHVzdGVyKXt2YXIgaT1SeSh7fSxlLm9wdGlvbnMsITEpO2lmKGkueD1lLngsaS55PWUueSwyIT09dGhpcy5vcHRpb25zLmVkaXROb2RlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZnVuY3Rpb24gZm9yIGVkaXQgZG9lcyBub3Qgc3VwcG9ydCB0d28gYXJndW1lbnRzIChkYXRhLCBjYWxsYmFjaylcIik7dGhpcy5vcHRpb25zLmVkaXROb2RlKGksKGZ1bmN0aW9uKGUpe251bGwhPWUmJlwiZWRpdE5vZGVcIj09PXQuaW5Nb2RlJiZ0LmJvZHkuZGF0YS5ub2Rlcy5nZXREYXRhU2V0KCkudXBkYXRlKGUpLHQuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpfSkpfWVsc2UgYWxlcnQodGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV0uZWRpdENsdXN0ZXJFcnJvcnx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uZWRpdENsdXN0ZXJFcnJvcil9ZWxzZSB0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKX19LHtrZXk6XCJhZGRFZGdlTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG8sbjtpZighMCE9PXRoaXMuZWRpdE1vZGUmJnRoaXMuZW5hYmxlRWRpdE1vZGUoKSx0aGlzLl9jbGVhbigpLHRoaXMuaW5Nb2RlPVwiYWRkRWRnZVwiLCEwPT09dGhpcy5ndWlFbmFibGVkKXt2YXIgcixzPXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdO3RoaXMubWFuaXB1bGF0aW9uRE9NPXt9LHRoaXMuX2NyZWF0ZUJhY2tCdXR0b24ocyksdGhpcy5fY3JlYXRlU2VwZXJhdG9yKCksdGhpcy5fY3JlYXRlRGVzY3JpcHRpb24ocy5lZGdlRGVzY3JpcHRpb258fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkZ2VEZXNjcmlwdGlvbiksdGhpcy5fYmluZEVsZW1lbnRFdmVudHModGhpcy5jbG9zZURpdixGbyhyPXRoaXMudG9nZ2xlRWRpdE1vZGUpLmNhbGwocix0aGlzKSl9dGhpcy5fdGVtcG9yYXJ5QmluZFVJKFwib25Ub3VjaFwiLEZvKHQ9dGhpcy5faGFuZGxlQ29ubmVjdCkuY2FsbCh0LHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbkRyYWdFbmRcIixGbyhlPXRoaXMuX2ZpbmlzaENvbm5lY3QpLmNhbGwoZSx0aGlzKSksdGhpcy5fdGVtcG9yYXJ5QmluZFVJKFwib25EcmFnXCIsRm8oaT10aGlzLl9kcmFnQ29udHJvbE5vZGUpLmNhbGwoaSx0aGlzKSksdGhpcy5fdGVtcG9yYXJ5QmluZFVJKFwib25SZWxlYXNlXCIsRm8obz10aGlzLl9maW5pc2hDb25uZWN0KS5jYWxsKG8sdGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uRHJhZ1N0YXJ0XCIsRm8obj10aGlzLl9kcmFnU3RhcnRFZGdlKS5jYWxsKG4sdGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uSG9sZFwiLChmdW5jdGlvbigpe30pKX19LHtrZXk6XCJlZGl0RWRnZU1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCEwIT09dGhpcy5lZGl0TW9kZSYmdGhpcy5lbmFibGVFZGl0TW9kZSgpLHRoaXMuX2NsZWFuKCksdGhpcy5pbk1vZGU9XCJlZGl0RWRnZVwiLFwib2JqZWN0XCIhPT1RYyh0aGlzLm9wdGlvbnMuZWRpdEVkZ2UpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzLm9wdGlvbnMuZWRpdEVkZ2UuZWRpdFdpdGhvdXREcmFnfHwodGhpcy5lZGdlQmVpbmdFZGl0ZWRJZD10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWRFZGdlSWRzKClbMF0sdm9pZCAwPT09dGhpcy5lZGdlQmVpbmdFZGl0ZWRJZCkpe2lmKCEwPT09dGhpcy5ndWlFbmFibGVkKXt2YXIgdCxlPXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdO3RoaXMubWFuaXB1bGF0aW9uRE9NPXt9LHRoaXMuX2NyZWF0ZUJhY2tCdXR0b24oZSksdGhpcy5fY3JlYXRlU2VwZXJhdG9yKCksdGhpcy5fY3JlYXRlRGVzY3JpcHRpb24oZS5lZGl0RWRnZURlc2NyaXB0aW9ufHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5lZGl0RWRnZURlc2NyaXB0aW9uKSx0aGlzLl9iaW5kRWxlbWVudEV2ZW50cyh0aGlzLmNsb3NlRGl2LEZvKHQ9dGhpcy50b2dnbGVFZGl0TW9kZSkuY2FsbCh0LHRoaXMpKX1pZih0aGlzLmVkZ2VCZWluZ0VkaXRlZElkPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZEVkZ2VJZHMoKVswXSx2b2lkIDAhPT10aGlzLmVkZ2VCZWluZ0VkaXRlZElkKXt2YXIgaSxvLG4scixzPXRoaXMuYm9keS5lZGdlc1t0aGlzLmVkZ2VCZWluZ0VkaXRlZElkXSxhPXRoaXMuX2dldE5ld1RhcmdldE5vZGUocy5mcm9tLngscy5mcm9tLnkpLGg9dGhpcy5fZ2V0TmV3VGFyZ2V0Tm9kZShzLnRvLngscy50by55KTt0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlcy5wdXNoKGEuaWQpLHRoaXMudGVtcG9yYXJ5SWRzLm5vZGVzLnB1c2goaC5pZCksdGhpcy5ib2R5Lm5vZGVzW2EuaWRdPWEsdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLnB1c2goYS5pZCksdGhpcy5ib2R5Lm5vZGVzW2guaWRdPWgsdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLnB1c2goaC5pZCksdGhpcy5fdGVtcG9yYXJ5QmluZFVJKFwib25Ub3VjaFwiLEZvKGk9dGhpcy5fY29udHJvbE5vZGVUb3VjaCkuY2FsbChpLHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvblRhcFwiLChmdW5jdGlvbigpe30pKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbkhvbGRcIiwoZnVuY3Rpb24oKXt9KSksdGhpcy5fdGVtcG9yYXJ5QmluZFVJKFwib25EcmFnU3RhcnRcIixGbyhvPXRoaXMuX2NvbnRyb2xOb2RlRHJhZ1N0YXJ0KS5jYWxsKG8sdGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uRHJhZ1wiLEZvKG49dGhpcy5fY29udHJvbE5vZGVEcmFnKS5jYWxsKG4sdGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uRHJhZ0VuZFwiLEZvKHI9dGhpcy5fY29udHJvbE5vZGVEcmFnRW5kKS5jYWxsKHIsdGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uTW91c2VNb3ZlXCIsKGZ1bmN0aW9uKCl7fSkpLHRoaXMuX3RlbXBvcmFyeUJpbmRFdmVudChcImJlZm9yZURyYXdpbmdcIiwoZnVuY3Rpb24odCl7dmFyIGU9cy5lZGdlVHlwZS5maW5kQm9yZGVyUG9zaXRpb25zKHQpOyExPT09YS5zZWxlY3RlZCYmKGEueD1lLmZyb20ueCxhLnk9ZS5mcm9tLnkpLCExPT09aC5zZWxlY3RlZCYmKGgueD1lLnRvLngsaC55PWUudG8ueSl9KSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIil9ZWxzZSB0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKX1lbHNle3ZhciBkPXRoaXMuYm9keS5lZGdlc1t0aGlzLmVkZ2VCZWluZ0VkaXRlZElkXTt0aGlzLl9wZXJmb3JtRWRpdEVkZ2UoZC5mcm9tLmlkLGQudG8uaWQpfX19LHtrZXk6XCJkZWxldGVTZWxlY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczshMCE9PXRoaXMuZWRpdE1vZGUmJnRoaXMuZW5hYmxlRWRpdE1vZGUoKSx0aGlzLl9jbGVhbigpLHRoaXMuaW5Nb2RlPVwiZGVsZXRlXCI7dmFyIGU9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkTm9kZUlkcygpLGk9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkRWRnZUlkcygpLG89dm9pZCAwO2lmKGUubGVuZ3RoPjApe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKCEwPT09dGhpcy5ib2R5Lm5vZGVzW2Vbbl1dLmlzQ2x1c3RlcilyZXR1cm4gdm9pZCBhbGVydCh0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXS5kZWxldGVDbHVzdGVyRXJyb3J8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmRlbGV0ZUNsdXN0ZXJFcnJvcik7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLmRlbGV0ZU5vZGUmJihvPXRoaXMub3B0aW9ucy5kZWxldGVOb2RlKX1lbHNlIGkubGVuZ3RoPjAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5kZWxldGVFZGdlJiYobz10aGlzLm9wdGlvbnMuZGVsZXRlRWRnZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbyl7dmFyIHI9e25vZGVzOmUsZWRnZXM6aX07aWYoMiE9PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoZSBmdW5jdGlvbiBmb3IgZGVsZXRlIGRvZXMgbm90IHN1cHBvcnQgdHdvIGFyZ3VtZW50cyAoZGF0YSwgY2FsbGJhY2spXCIpO28ociwoZnVuY3Rpb24oZSl7bnVsbCE9ZSYmXCJkZWxldGVcIj09PXQuaW5Nb2RlPyh0LmJvZHkuZGF0YS5lZGdlcy5nZXREYXRhU2V0KCkucmVtb3ZlKGUuZWRnZXMpLHQuYm9keS5kYXRhLm5vZGVzLmdldERhdGFTZXQoKS5yZW1vdmUoZS5ub2RlcyksdC5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U2ltdWxhdGlvblwiKSx0LnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSk6KHQuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIiksdC5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCkpfSkpfWVsc2UgdGhpcy5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLnJlbW92ZShpKSx0aGlzLmJvZHkuZGF0YS5ub2Rlcy5nZXREYXRhU2V0KCkucmVtb3ZlKGUpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIiksdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fSx7a2V5OlwiX3NldHVwXCIsdmFsdWU6ZnVuY3Rpb24oKXshMD09PXRoaXMub3B0aW9ucy5lbmFibGVkPyh0aGlzLmd1aUVuYWJsZWQ9ITAsdGhpcy5fY3JlYXRlV3JhcHBlcnMoKSwhMT09PXRoaXMuZWRpdE1vZGU/dGhpcy5fY3JlYXRlRWRpdEJ1dHRvbigpOnRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpKToodGhpcy5fcmVtb3ZlTWFuaXB1bGF0aW9uRE9NKCksdGhpcy5ndWlFbmFibGVkPSExKX19LHtrZXk6XCJfY3JlYXRlV3JhcHBlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU7KHZvaWQgMD09PXRoaXMubWFuaXB1bGF0aW9uRGl2JiYodGhpcy5tYW5pcHVsYXRpb25EaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1hbmlwdWxhdGlvbkRpdi5jbGFzc05hbWU9XCJ2aXMtbWFuaXB1bGF0aW9uXCIsITA9PT10aGlzLmVkaXRNb2RlP3RoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiOnRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5jYW52YXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5tYW5pcHVsYXRpb25EaXYpKSx2b2lkIDA9PT10aGlzLmVkaXRNb2RlRGl2JiYodGhpcy5lZGl0TW9kZURpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZWRpdE1vZGVEaXYuY2xhc3NOYW1lPVwidmlzLWVkaXQtbW9kZVwiLCEwPT09dGhpcy5lZGl0TW9kZT90aGlzLmVkaXRNb2RlRGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCI6dGhpcy5lZGl0TW9kZURpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmNhbnZhcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmVkaXRNb2RlRGl2KSksdm9pZCAwPT09dGhpcy5jbG9zZURpdikmJih0aGlzLmNsb3NlRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksdGhpcy5jbG9zZURpdi5jbGFzc05hbWU9XCJ2aXMtY2xvc2VcIix0aGlzLmNsb3NlRGl2LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixudWxsIT09KHQ9bnVsbD09PShlPXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jbG9zZSkmJnZvaWQgMCE9PXQ/dDp0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5jbG9zZSksdGhpcy5jbG9zZURpdi5zdHlsZS5kaXNwbGF5PXRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXksdGhpcy5jYW52YXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZURpdikpfX0se2tleTpcIl9nZXROZXdUYXJnZXROb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1SeSh7fSx0aGlzLm9wdGlvbnMuY29udHJvbE5vZGVTdHlsZSk7aS5pZD1cInRhcmdldE5vZGVcIitYeCgpLGkuaGlkZGVuPSExLGkucGh5c2ljcz0hMSxpLng9dCxpLnk9ZTt2YXIgbz10aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZU5vZGUoaSk7cmV0dXJuIG8uc2hhcGUuYm91bmRpbmdCb3g9e2xlZnQ6dCxyaWdodDp0LHRvcDplLGJvdHRvbTplfSxvfX0se2tleTpcIl9jcmVhdGVFZGl0QnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLl9jbGVhbigpLHRoaXMubWFuaXB1bGF0aW9uRE9NPXt9LER5KHRoaXMuZWRpdE1vZGVEaXYpO3ZhciBlPXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdLGk9dGhpcy5fY3JlYXRlQnV0dG9uKFwiZWRpdE1vZGVcIixcInZpcy1lZGl0IHZpcy1lZGl0LW1vZGVcIixlLmVkaXR8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkaXQpO3RoaXMuZWRpdE1vZGVEaXYuYXBwZW5kQ2hpbGQoaSksdGhpcy5fYmluZEVsZW1lbnRFdmVudHMoaSxGbyh0PXRoaXMudG9nZ2xlRWRpdE1vZGUpLmNhbGwodCx0aGlzKSl9fSx7a2V5OlwiX2NsZWFuXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluTW9kZT0hMSwhMD09PXRoaXMuZ3VpRW5hYmxlZCYmKER5KHRoaXMuZWRpdE1vZGVEaXYpLER5KHRoaXMubWFuaXB1bGF0aW9uRGl2KSx0aGlzLl9jbGVhbnVwRE9NRXZlbnRMaXN0ZW5lcnMoKSksdGhpcy5fY2xlYW51cFRlbXBvcmFyeU5vZGVzQW5kRWRnZXMoKSx0aGlzLl91bmJpbmRUZW1wb3JhcnlVSXMoKSx0aGlzLl91bmJpbmRUZW1wb3JhcnlFdmVudHMoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwicmVzdG9yZVBoeXNpY3NcIil9fSx7a2V5OlwiX2NsZWFudXBET01FdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPURDKHVmKHQ9dGhpcy5fZG9tRXZlbnRMaXN0ZW5lckNsZWFudXBRdWV1ZSkuY2FsbCh0LDApKTt0cnl7Zm9yKGkucygpOyEoZT1pLm4oKSkuZG9uZTspeygwLGUudmFsdWUpKCl9fWNhdGNoKHQpe2kuZSh0KX1maW5hbGx5e2kuZigpfX19LHtrZXk6XCJfcmVtb3ZlTWFuaXB1bGF0aW9uRE9NXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpLER5KHRoaXMubWFuaXB1bGF0aW9uRGl2KSxEeSh0aGlzLmVkaXRNb2RlRGl2KSxEeSh0aGlzLmNsb3NlRGl2KSx0aGlzLm1hbmlwdWxhdGlvbkRpdiYmdGhpcy5jYW52YXMuZnJhbWUucmVtb3ZlQ2hpbGQodGhpcy5tYW5pcHVsYXRpb25EaXYpLHRoaXMuZWRpdE1vZGVEaXYmJnRoaXMuY2FudmFzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuZWRpdE1vZGVEaXYpLHRoaXMuY2xvc2VEaXYmJnRoaXMuY2FudmFzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuY2xvc2VEaXYpLHRoaXMubWFuaXB1bGF0aW9uRGl2PXZvaWQgMCx0aGlzLmVkaXRNb2RlRGl2PXZvaWQgMCx0aGlzLmNsb3NlRGl2PXZvaWQgMH19LHtrZXk6XCJfY3JlYXRlU2VwZXJhdG9yXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MTt0aGlzLm1hbmlwdWxhdGlvbkRPTVtcInNlcGVyYXRvckxpbmVEaXZcIit0XT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubWFuaXB1bGF0aW9uRE9NW1wic2VwZXJhdG9yTGluZURpdlwiK3RdLmNsYXNzTmFtZT1cInZpcy1zZXBhcmF0b3ItbGluZVwiLHRoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKHRoaXMubWFuaXB1bGF0aW9uRE9NW1wic2VwZXJhdG9yTGluZURpdlwiK3RdKX19LHtrZXk6XCJfY3JlYXRlQWRkTm9kZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5fY3JlYXRlQnV0dG9uKFwiYWRkTm9kZVwiLFwidmlzLWFkZFwiLHQuYWRkTm9kZXx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uYWRkTm9kZSk7dGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQoaSksdGhpcy5fYmluZEVsZW1lbnRFdmVudHMoaSxGbyhlPXRoaXMuYWRkTm9kZU1vZGUpLmNhbGwoZSx0aGlzKSl9fSx7a2V5OlwiX2NyZWF0ZUFkZEVkZ2VCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuX2NyZWF0ZUJ1dHRvbihcImFkZEVkZ2VcIixcInZpcy1jb25uZWN0XCIsdC5hZGRFZGdlfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5hZGRFZGdlKTt0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZChpKSx0aGlzLl9iaW5kRWxlbWVudEV2ZW50cyhpLEZvKGU9dGhpcy5hZGRFZGdlTW9kZSkuY2FsbChlLHRoaXMpKX19LHtrZXk6XCJfY3JlYXRlRWRpdE5vZGVCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuX2NyZWF0ZUJ1dHRvbihcImVkaXROb2RlXCIsXCJ2aXMtZWRpdFwiLHQuZWRpdE5vZGV8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkaXROb2RlKTt0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZChpKSx0aGlzLl9iaW5kRWxlbWVudEV2ZW50cyhpLEZvKGU9dGhpcy5lZGl0Tm9kZSkuY2FsbChlLHRoaXMpKX19LHtrZXk6XCJfY3JlYXRlRWRpdEVkZ2VCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuX2NyZWF0ZUJ1dHRvbihcImVkaXRFZGdlXCIsXCJ2aXMtZWRpdFwiLHQuZWRpdEVkZ2V8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkaXRFZGdlKTt0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZChpKSx0aGlzLl9iaW5kRWxlbWVudEV2ZW50cyhpLEZvKGU9dGhpcy5lZGl0RWRnZU1vZGUpLmNhbGwoZSx0aGlzKSl9fSx7a2V5OlwiX2NyZWF0ZURlbGV0ZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk7aT10aGlzLm9wdGlvbnMucnRsP1widmlzLWRlbGV0ZS1ydGxcIjpcInZpcy1kZWxldGVcIjt2YXIgbz10aGlzLl9jcmVhdGVCdXR0b24oXCJkZWxldGVcIixpLHQuZGVsfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5kZWwpO3RoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKG8pLHRoaXMuX2JpbmRFbGVtZW50RXZlbnRzKG8sRm8oZT10aGlzLmRlbGV0ZVNlbGVjdGVkKS5jYWxsKGUsdGhpcykpfX0se2tleTpcIl9jcmVhdGVCYWNrQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLl9jcmVhdGVCdXR0b24oXCJiYWNrXCIsXCJ2aXMtYmFja1wiLHQuYmFja3x8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uYmFjayk7dGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQoaSksdGhpcy5fYmluZEVsZW1lbnRFdmVudHMoaSxGbyhlPXRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcikuY2FsbChlLHRoaXMpKX19LHtrZXk6XCJfY3JlYXRlQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpcInZpcy1sYWJlbFwiO3JldHVybiB0aGlzLm1hbmlwdWxhdGlvbkRPTVt0K1wiRGl2XCJdPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksdGhpcy5tYW5pcHVsYXRpb25ET01bdCtcIkRpdlwiXS5jbGFzc05hbWU9XCJ2aXMtYnV0dG9uIFwiK2UsdGhpcy5tYW5pcHVsYXRpb25ET01bdCtcIkxhYmVsXCJdPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tYW5pcHVsYXRpb25ET01bdCtcIkxhYmVsXCJdLmNsYXNzTmFtZT1vLHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJMYWJlbFwiXS5pbm5lclRleHQ9aSx0aGlzLm1hbmlwdWxhdGlvbkRPTVt0K1wiRGl2XCJdLmFwcGVuZENoaWxkKHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJMYWJlbFwiXSksdGhpcy5tYW5pcHVsYXRpb25ET01bdCtcIkRpdlwiXX19LHtrZXk6XCJfY3JlYXRlRGVzY3JpcHRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm1hbmlwdWxhdGlvbkRPTS5kZXNjcmlwdGlvbkxhYmVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tYW5pcHVsYXRpb25ET00uZGVzY3JpcHRpb25MYWJlbC5jbGFzc05hbWU9XCJ2aXMtbm9uZVwiLHRoaXMubWFuaXB1bGF0aW9uRE9NLmRlc2NyaXB0aW9uTGFiZWwuaW5uZXJUZXh0PXQsdGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQodGhpcy5tYW5pcHVsYXRpb25ET00uZGVzY3JpcHRpb25MYWJlbCl9fSx7a2V5OlwiX3RlbXBvcmFyeUJpbmRFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy50ZW1wb3JhcnlFdmVudEZ1bmN0aW9ucy5wdXNoKHtldmVudDp0LGJvdW5kRnVuY3Rpb246ZX0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKHQsZSl9fSx7a2V5OlwiX3RlbXBvcmFyeUJpbmRVSVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzW3RdKXRocm93IG5ldyBFcnJvcihcIlRoaXMgVUkgZnVuY3Rpb24gZG9lcyBub3QgZXhpc3QuIFR5cG8/IFlvdSB0cmllZDogXCIrdCtcIiBwb3NzaWJsZSBhcmU6IFwiK2h2KG11KHRoaXMuYm9keS5ldmVudExpc3RlbmVycykpKTt0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zW3RdPXRoaXMuYm9keS5ldmVudExpc3RlbmVyc1t0XSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnNbdF09ZX19LHtrZXk6XCJfdW5iaW5kVGVtcG9yYXJ5VUlzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9ucylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9ucyx0KSYmKHRoaXMuYm9keS5ldmVudExpc3RlbmVyc1t0XT10aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zW3RdLGRlbGV0ZSB0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zW3RdKTt0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zPXt9fX0se2tleTpcIl91bmJpbmRUZW1wb3JhcnlFdmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy50ZW1wb3JhcnlFdmVudEZ1bmN0aW9ucy5sZW5ndGg7dCsrKXt2YXIgZT10aGlzLnRlbXBvcmFyeUV2ZW50RnVuY3Rpb25zW3RdLmV2ZW50LGk9dGhpcy50ZW1wb3JhcnlFdmVudEZ1bmN0aW9uc1t0XS5ib3VuZEZ1bmN0aW9uO3RoaXMuYm9keS5lbWl0dGVyLm9mZihlLGkpfXRoaXMudGVtcG9yYXJ5RXZlbnRGdW5jdGlvbnM9W119fSx7a2V5OlwiX2JpbmRFbGVtZW50RXZlbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgcG0odCx7fSk7aUUoaSxlKSx0aGlzLl9kb21FdmVudExpc3RlbmVyQ2xlYW51cFF1ZXVlLnB1c2goKGZ1bmN0aW9uKCl7aS5kZXN0cm95KCl9KSk7dmFyIG89ZnVuY3Rpb24odCl7dmFyIGk9dC5rZXlDb2RlLG89dC5rZXk7XCJFbnRlclwiIT09byYmXCIgXCIhPT1vJiYxMyE9PWkmJjMyIT09aXx8ZSgpfTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLG8sITEpLHRoaXMuX2RvbUV2ZW50TGlzdGVuZXJDbGVhbnVwUXVldWUucHVzaCgoZnVuY3Rpb24oKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLG8sITEpfSkpfX0se2tleTpcIl9jbGVhbnVwVGVtcG9yYXJ5Tm9kZXNBbmRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLnRlbXBvcmFyeUlkcy5lZGdlcy5sZW5ndGg7dCsrKXt2YXIgZTt0aGlzLmJvZHkuZWRnZXNbdGhpcy50ZW1wb3JhcnlJZHMuZWRnZXNbdF1dLmRpc2Nvbm5lY3QoKSxkZWxldGUgdGhpcy5ib2R5LmVkZ2VzW3RoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzW3RdXTt2YXIgaSxvPXpwKGU9dGhpcy5ib2R5LmVkZ2VJbmRpY2VzKS5jYWxsKGUsdGhpcy50ZW1wb3JhcnlJZHMuZWRnZXNbdF0pO2lmKC0xIT09byl1ZihpPXRoaXMuYm9keS5lZGdlSW5kaWNlcykuY2FsbChpLG8sMSl9Zm9yKHZhciBuPTA7bjx0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlcy5sZW5ndGg7bisrKXt2YXIgcjtkZWxldGUgdGhpcy5ib2R5Lm5vZGVzW3RoaXMudGVtcG9yYXJ5SWRzLm5vZGVzW25dXTt2YXIgcyxhPXpwKHI9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzKS5jYWxsKHIsdGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbbl0pO2lmKC0xIT09YSl1ZihzPXRoaXMuYm9keS5ub2RlSW5kaWNlcykuY2FsbChzLGEsMSl9dGhpcy50ZW1wb3JhcnlJZHM9e25vZGVzOltdLGVkZ2VzOltdfX19LHtrZXk6XCJfY29udHJvbE5vZGVUb3VjaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpLHRoaXMubGFzdFRvdWNoPXRoaXMuYm9keS5mdW5jdGlvbnMuZ2V0UG9pbnRlcih0LmNlbnRlciksdGhpcy5sYXN0VG91Y2gudHJhbnNsYXRpb249Zm8oe30sdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24pfX0se2tleTpcIl9jb250cm9sTm9kZURyYWdTdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sYXN0VG91Y2gsZT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuX3BvaW50ZXJUb1Bvc2l0aW9uT2JqZWN0KHQpLGk9dGhpcy5ib2R5Lm5vZGVzW3RoaXMudGVtcG9yYXJ5SWRzLm5vZGVzWzBdXSxvPXRoaXMuYm9keS5ub2Rlc1t0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1sxXV0sbj10aGlzLmJvZHkuZWRnZXNbdGhpcy5lZGdlQmVpbmdFZGl0ZWRJZF07dGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlPXZvaWQgMDt2YXIgcj1pLmlzT3ZlcmxhcHBpbmdXaXRoKGUpLHM9by5pc092ZXJsYXBwaW5nV2l0aChlKTshMD09PXI/KHRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZT1pLG4uZWRnZVR5cGUuZnJvbT1pKTohMD09PXMmJih0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGU9byxuLmVkZ2VUeXBlLnRvPW8pLHZvaWQgMCE9PXRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZSYmdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdE9iamVjdCh0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfX0se2tleTpcIl9jb250cm9sTm9kZURyYWdcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiZGlzYWJsZVBoeXNpY3NcIik7dmFyIGU9dGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyKHQuY2VudGVyKSxpPXRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKGUpO3ZvaWQgMCE9PXRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZT8odGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlLng9aS54LHRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZS55PWkueSk6dGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIub25EcmFnKHQpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfX0se2tleTpcIl9jb250cm9sTm9kZURyYWdFbmRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIodC5jZW50ZXIpLGk9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdChlKSxvPXRoaXMuYm9keS5lZGdlc1t0aGlzLmVkZ2VCZWluZ0VkaXRlZElkXTtpZih2b2lkIDAhPT10aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUpe3RoaXMuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpO2Zvcih2YXIgbj10aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dldEFsbE5vZGVzT3ZlcmxhcHBpbmdXaXRoKGkpLHI9dm9pZCAwLHM9bi5sZW5ndGgtMTtzPj0wO3MtLSlpZihuW3NdIT09dGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlLmlkKXtyPXRoaXMuYm9keS5ub2Rlc1tuW3NdXTticmVha31pZih2b2lkIDAhPT1yJiZ2b2lkIDAhPT10aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUpaWYoITA9PT1yLmlzQ2x1c3RlcilhbGVydCh0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXS5jcmVhdGVFZGdlRXJyb3J8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmNyZWF0ZUVkZ2VFcnJvcik7ZWxzZXt2YXIgYT10aGlzLmJvZHkubm9kZXNbdGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbMF1dO3RoaXMuc2VsZWN0ZWRDb250cm9sTm9kZS5pZD09PWEuaWQ/dGhpcy5fcGVyZm9ybUVkaXRFZGdlKHIuaWQsby50by5pZCk6dGhpcy5fcGVyZm9ybUVkaXRFZGdlKG8uZnJvbS5pZCxyLmlkKX1lbHNlIG8udXBkYXRlRWRnZVR5cGUoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwicmVzdG9yZVBoeXNpY3NcIik7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIil9fX0se2tleTpcIl9oYW5kbGVDb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoKG5ldyBEYXRlKS52YWx1ZU9mKCktdGhpcy50b3VjaFRpbWU+MTAwKXt0aGlzLmxhc3RUb3VjaD10aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIodC5jZW50ZXIpLHRoaXMubGFzdFRvdWNoLnRyYW5zbGF0aW9uPWZvKHt9LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uKSx0aGlzLmludGVyYWN0aW9uSGFuZGxlci5kcmFnLnBvaW50ZXI9dGhpcy5sYXN0VG91Y2gsdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIuZHJhZy50cmFuc2xhdGlvbj10aGlzLmxhc3RUb3VjaC50cmFuc2xhdGlvbjt2YXIgZT10aGlzLmxhc3RUb3VjaCxpPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQoZSk7aWYodm9pZCAwIT09aSlpZighMD09PWkuaXNDbHVzdGVyKWFsZXJ0KHRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdLmNyZWF0ZUVkZ2VFcnJvcnx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uY3JlYXRlRWRnZUVycm9yKTtlbHNle3ZhciBvPXRoaXMuX2dldE5ld1RhcmdldE5vZGUoaS54LGkueSk7dGhpcy5ib2R5Lm5vZGVzW28uaWRdPW8sdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLnB1c2goby5pZCk7dmFyIG49dGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVFZGdlKHtpZDpcImNvbm5lY3Rpb25FZGdlXCIrWHgoKSxmcm9tOmkuaWQsdG86by5pZCxwaHlzaWNzOiExLHNtb290aDp7ZW5hYmxlZDohMCx0eXBlOlwiY29udGludW91c1wiLHJvdW5kbmVzczouNX19KTt0aGlzLmJvZHkuZWRnZXNbbi5pZF09bix0aGlzLmJvZHkuZWRnZUluZGljZXMucHVzaChuLmlkKSx0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlcy5wdXNoKG8uaWQpLHRoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzLnB1c2gobi5pZCl9dGhpcy50b3VjaFRpbWU9KG5ldyBEYXRlKS52YWx1ZU9mKCl9fX0se2tleTpcIl9kcmFnQ29udHJvbE5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIodC5jZW50ZXIpLGk9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdChlKSxvPXZvaWQgMDt2b2lkIDAhPT10aGlzLnRlbXBvcmFyeUlkcy5lZGdlc1swXSYmKG89dGhpcy5ib2R5LmVkZ2VzW3RoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzWzBdXS5mcm9tSWQpO2Zvcih2YXIgbj10aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dldEFsbE5vZGVzT3ZlcmxhcHBpbmdXaXRoKGkpLHI9dm9pZCAwLHM9bi5sZW5ndGgtMTtzPj0wO3MtLSl7dmFyIGE7aWYoLTE9PT16cChhPXRoaXMudGVtcG9yYXJ5SWRzLm5vZGVzKS5jYWxsKGEsbltzXSkpe3I9dGhpcy5ib2R5Lm5vZGVzW25bc11dO2JyZWFrfX1pZih0LmNvbnRyb2xFZGdlPXtmcm9tOm8sdG86cj9yLmlkOnZvaWQgMH0sdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImNvbnRyb2xOb2RlRHJhZ2dpbmdcIix0LGUpLHZvaWQgMCE9PXRoaXMudGVtcG9yYXJ5SWRzLm5vZGVzWzBdKXt2YXIgaD10aGlzLmJvZHkubm9kZXNbdGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbMF1dO2gueD10aGlzLmNhbnZhcy5fWGNvbnZlcnRET010b0NhbnZhcyhlLngpLGgueT10aGlzLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyhlLnkpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfWVsc2UgdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIub25EcmFnKHQpfX0se2tleTpcIl9maW5pc2hDb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyKHQuY2VudGVyKSxpPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QoZSksbz12b2lkIDA7dm9pZCAwIT09dGhpcy50ZW1wb3JhcnlJZHMuZWRnZXNbMF0mJihvPXRoaXMuYm9keS5lZGdlc1t0aGlzLnRlbXBvcmFyeUlkcy5lZGdlc1swXV0uZnJvbUlkKTtmb3IodmFyIG49dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZXRBbGxOb2Rlc092ZXJsYXBwaW5nV2l0aChpKSxyPXZvaWQgMCxzPW4ubGVuZ3RoLTE7cz49MDtzLS0pe3ZhciBhO2lmKC0xPT09enAoYT10aGlzLnRlbXBvcmFyeUlkcy5ub2RlcykuY2FsbChhLG5bc10pKXtyPXRoaXMuYm9keS5ub2Rlc1tuW3NdXTticmVha319dGhpcy5fY2xlYW51cFRlbXBvcmFyeU5vZGVzQW5kRWRnZXMoKSx2b2lkIDAhPT1yJiYoITA9PT1yLmlzQ2x1c3Rlcj9hbGVydCh0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXS5jcmVhdGVFZGdlRXJyb3J8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmNyZWF0ZUVkZ2VFcnJvcik6dm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW29dJiZ2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbci5pZF0mJnRoaXMuX3BlcmZvcm1BZGRFZGdlKG8sci5pZCkpLHQuY29udHJvbEVkZ2U9e2Zyb206byx0bzpyP3IuaWQ6dm9pZCAwfSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwiY29udHJvbE5vZGVEcmFnRW5kXCIsdCxlKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKX19LHtrZXk6XCJfZHJhZ1N0YXJ0RWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGFzdFRvdWNoO3RoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnU3RhcnRcIix0LGUsdm9pZCAwLCEwKX19LHtrZXk6XCJfcGVyZm9ybUFkZE5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9e2lkOlh4KCkseDp0LnBvaW50ZXIuY2FudmFzLngseTp0LnBvaW50ZXIuY2FudmFzLnksbGFiZWw6XCJuZXdcIn07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLmFkZE5vZGUpe2lmKDIhPT10aGlzLm9wdGlvbnMuYWRkTm9kZS5sZW5ndGgpdGhyb3cgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCksbmV3IEVycm9yKFwiVGhlIGZ1bmN0aW9uIGZvciBhZGQgZG9lcyBub3Qgc3VwcG9ydCB0d28gYXJndW1lbnRzIChkYXRhLGNhbGxiYWNrKVwiKTt0aGlzLm9wdGlvbnMuYWRkTm9kZShpLChmdW5jdGlvbih0KXtudWxsIT10JiZcImFkZE5vZGVcIj09PWUuaW5Nb2RlJiZlLmJvZHkuZGF0YS5ub2Rlcy5nZXREYXRhU2V0KCkuYWRkKHQpLGUuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpfSkpfWVsc2UgdGhpcy5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLmFkZChpKSx0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKX19LHtrZXk6XCJfcGVyZm9ybUFkZEVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbz17ZnJvbTp0LHRvOmV9O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5hZGRFZGdlKXtpZigyIT09dGhpcy5vcHRpb25zLmFkZEVkZ2UubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoZSBmdW5jdGlvbiBmb3IgY29ubmVjdCBkb2VzIG5vdCBzdXBwb3J0IHR3byBhcmd1bWVudHMgKGRhdGEsY2FsbGJhY2spXCIpO3RoaXMub3B0aW9ucy5hZGRFZGdlKG8sKGZ1bmN0aW9uKHQpe251bGwhPXQmJlwiYWRkRWRnZVwiPT09aS5pbk1vZGUmJihpLmJvZHkuZGF0YS5lZGdlcy5nZXREYXRhU2V0KCkuYWRkKHQpLGkuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpLGkuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpKX0pKX1lbHNlIHRoaXMuYm9keS5kYXRhLmVkZ2VzLmdldERhdGFTZXQoKS5hZGQobyksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsKCksdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fSx7a2V5OlwiX3BlcmZvcm1FZGl0RWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxvPXtpZDp0aGlzLmVkZ2VCZWluZ0VkaXRlZElkLGZyb206dCx0bzplLGxhYmVsOnRoaXMuYm9keS5kYXRhLmVkZ2VzLmdldCh0aGlzLmVkZ2VCZWluZ0VkaXRlZElkKS5sYWJlbH0sbj10aGlzLm9wdGlvbnMuZWRpdEVkZ2U7aWYoXCJvYmplY3RcIj09PVFjKG4pJiYobj1uLmVkaXRXaXRob3V0RHJhZyksXCJmdW5jdGlvblwiPT10eXBlb2Ygbil7aWYoMiE9PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoZSBmdW5jdGlvbiBmb3IgZWRpdCBkb2VzIG5vdCBzdXBwb3J0IHR3byBhcmd1bWVudHMgKGRhdGEsIGNhbGxiYWNrKVwiKTtuKG8sKGZ1bmN0aW9uKHQpe251bGw9PXR8fFwiZWRpdEVkZ2VcIiE9PWkuaW5Nb2RlPyhpLmJvZHkuZWRnZXNbby5pZF0udXBkYXRlRWRnZVR5cGUoKSxpLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKSxpLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSk6KGkuYm9keS5kYXRhLmVkZ2VzLmdldERhdGFTZXQoKS51cGRhdGUodCksaS5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsKCksaS5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCkpfSkpfWVsc2UgdGhpcy5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLnVwZGF0ZShvKSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKSx0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKX19XSksdH0oKSx6Qz1cInN0cmluZ1wiLEZDPVwiYm9vbGVhblwiLE5DPVwibnVtYmVyXCIsQUM9XCJhcnJheVwiLFJDPVwib2JqZWN0XCIsakM9W1wiYXJyb3dcIixcImJhclwiLFwiYm94XCIsXCJjaXJjbGVcIixcImNyb3dcIixcImN1cnZlXCIsXCJkaWFtb25kXCIsXCJpbWFnZVwiLFwiaW52X2N1cnZlXCIsXCJpbnZfdHJpYW5nbGVcIixcInRyaWFuZ2xlXCIsXCJ2ZWVcIl0sTEM9e2JvcmRlcldpZHRoOntudW1iZXI6TkN9LGJvcmRlcldpZHRoU2VsZWN0ZWQ6e251bWJlcjpOQyx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sYnJva2VuSW1hZ2U6e3N0cmluZzp6Qyx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sY2hvc2VuOntsYWJlbDp7Ym9vbGVhbjpGQyxmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LG5vZGU6e2Jvb2xlYW46RkMsZnVuY3Rpb246XCJmdW5jdGlvblwifSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkN9fSxjb2xvcjp7Ym9yZGVyOntzdHJpbmc6ekN9LGJhY2tncm91bmQ6e3N0cmluZzp6Q30saGlnaGxpZ2h0Ontib3JkZXI6e3N0cmluZzp6Q30sYmFja2dyb3VuZDp7c3RyaW5nOnpDfSxfX3R5cGVfXzp7b2JqZWN0OlJDLHN0cmluZzp6Q319LGhvdmVyOntib3JkZXI6e3N0cmluZzp6Q30sYmFja2dyb3VuZDp7c3RyaW5nOnpDfSxfX3R5cGVfXzp7b2JqZWN0OlJDLHN0cmluZzp6Q319LF9fdHlwZV9fOntvYmplY3Q6UkMsc3RyaW5nOnpDfX0sb3BhY2l0eTp7bnVtYmVyOk5DLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxmaXhlZDp7eDp7Ym9vbGVhbjpGQ30seTp7Ym9vbGVhbjpGQ30sX190eXBlX186e29iamVjdDpSQyxib29sZWFuOkZDfX0sZm9udDp7YWxpZ246e3N0cmluZzp6Q30sY29sb3I6e3N0cmluZzp6Q30sc2l6ZTp7bnVtYmVyOk5DfSxmYWNlOntzdHJpbmc6ekN9LGJhY2tncm91bmQ6e3N0cmluZzp6Q30sc3Ryb2tlV2lkdGg6e251bWJlcjpOQ30sc3Ryb2tlQ29sb3I6e3N0cmluZzp6Q30sdmFkanVzdDp7bnVtYmVyOk5DfSxtdWx0aTp7Ym9vbGVhbjpGQyxzdHJpbmc6ekN9LGJvbGQ6e2NvbG9yOntzdHJpbmc6ekN9LHNpemU6e251bWJlcjpOQ30sZmFjZTp7c3RyaW5nOnpDfSxtb2Q6e3N0cmluZzp6Q30sdmFkanVzdDp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDLHN0cmluZzp6Q319LGJvbGRpdGFsOntjb2xvcjp7c3RyaW5nOnpDfSxzaXplOntudW1iZXI6TkN9LGZhY2U6e3N0cmluZzp6Q30sbW9kOntzdHJpbmc6ekN9LHZhZGp1c3Q6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxzdHJpbmc6ekN9fSxpdGFsOntjb2xvcjp7c3RyaW5nOnpDfSxzaXplOntudW1iZXI6TkN9LGZhY2U6e3N0cmluZzp6Q30sbW9kOntzdHJpbmc6ekN9LHZhZGp1c3Q6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxzdHJpbmc6ekN9fSxtb25vOntjb2xvcjp7c3RyaW5nOnpDfSxzaXplOntudW1iZXI6TkN9LGZhY2U6e3N0cmluZzp6Q30sbW9kOntzdHJpbmc6ekN9LHZhZGp1c3Q6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxzdHJpbmc6ekN9fSxfX3R5cGVfXzp7b2JqZWN0OlJDLHN0cmluZzp6Q319LGdyb3VwOntzdHJpbmc6ekMsbnVtYmVyOk5DLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxoZWlnaHRDb25zdHJhaW50OnttaW5pbXVtOntudW1iZXI6TkN9LHZhbGlnbjp7c3RyaW5nOnpDfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkMsbnVtYmVyOk5DfX0saGlkZGVuOntib29sZWFuOkZDfSxpY29uOntmYWNlOntzdHJpbmc6ekN9LGNvZGU6e3N0cmluZzp6Q30sc2l6ZTp7bnVtYmVyOk5DfSxjb2xvcjp7c3RyaW5nOnpDfSx3ZWlnaHQ6e3N0cmluZzp6QyxudW1iZXI6TkN9LF9fdHlwZV9fOntvYmplY3Q6UkN9fSxpZDp7c3RyaW5nOnpDLG51bWJlcjpOQ30saW1hZ2U6e3NlbGVjdGVkOntzdHJpbmc6ekMsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHVuc2VsZWN0ZWQ6e3N0cmluZzp6Qyx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sX190eXBlX186e29iamVjdDpSQyxzdHJpbmc6ekN9fSxpbWFnZVBhZGRpbmc6e3RvcDp7bnVtYmVyOk5DfSxyaWdodDp7bnVtYmVyOk5DfSxib3R0b206e251bWJlcjpOQ30sbGVmdDp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDLG51bWJlcjpOQ319LGxhYmVsOntzdHJpbmc6ekMsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LGxhYmVsSGlnaGxpZ2h0Qm9sZDp7Ym9vbGVhbjpGQ30sbGV2ZWw6e251bWJlcjpOQyx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbWFyZ2luOnt0b3A6e251bWJlcjpOQ30scmlnaHQ6e251bWJlcjpOQ30sYm90dG9tOntudW1iZXI6TkN9LGxlZnQ6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxudW1iZXI6TkN9fSxtYXNzOntudW1iZXI6TkN9LHBoeXNpY3M6e2Jvb2xlYW46RkN9LHNjYWxpbmc6e21pbjp7bnVtYmVyOk5DfSxtYXg6e251bWJlcjpOQ30sbGFiZWw6e2VuYWJsZWQ6e2Jvb2xlYW46RkN9LG1pbjp7bnVtYmVyOk5DfSxtYXg6e251bWJlcjpOQ30sbWF4VmlzaWJsZTp7bnVtYmVyOk5DfSxkcmF3VGhyZXNob2xkOntudW1iZXI6TkN9LF9fdHlwZV9fOntvYmplY3Q6UkMsYm9vbGVhbjpGQ319LGN1c3RvbVNjYWxpbmdGdW5jdGlvbjp7ZnVuY3Rpb246XCJmdW5jdGlvblwifSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0sc2hhZG93OntlbmFibGVkOntib29sZWFuOkZDfSxjb2xvcjp7c3RyaW5nOnpDfSxzaXplOntudW1iZXI6TkN9LHg6e251bWJlcjpOQ30seTp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkN9fSxzaGFwZTp7c3RyaW5nOltcImN1c3RvbVwiLFwiZWxsaXBzZVwiLFwiY2lyY2xlXCIsXCJkYXRhYmFzZVwiLFwiYm94XCIsXCJ0ZXh0XCIsXCJpbWFnZVwiLFwiY2lyY3VsYXJJbWFnZVwiLFwiZGlhbW9uZFwiLFwiZG90XCIsXCJzdGFyXCIsXCJ0cmlhbmdsZVwiLFwidHJpYW5nbGVEb3duXCIsXCJzcXVhcmVcIixcImljb25cIixcImhleGFnb25cIl19LGN0eFJlbmRlcmVyOntmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LHNoYXBlUHJvcGVydGllczp7Ym9yZGVyRGFzaGVzOntib29sZWFuOkZDLGFycmF5OkFDfSxib3JkZXJSYWRpdXM6e251bWJlcjpOQ30saW50ZXJwb2xhdGlvbjp7Ym9vbGVhbjpGQ30sdXNlSW1hZ2VTaXplOntib29sZWFuOkZDfSx1c2VCb3JkZXJXaXRoSW1hZ2U6e2Jvb2xlYW46RkN9LGNvb3JkaW5hdGVPcmlnaW46e3N0cmluZzpbXCJjZW50ZXJcIixcInRvcC1sZWZ0XCJdfSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0sc2l6ZTp7bnVtYmVyOk5DfSx0aXRsZTp7c3RyaW5nOnpDLGRvbTpcImRvbVwiLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx2YWx1ZTp7bnVtYmVyOk5DLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx3aWR0aENvbnN0cmFpbnQ6e21pbmltdW06e251bWJlcjpOQ30sbWF4aW11bTp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkMsbnVtYmVyOk5DfX0seDp7bnVtYmVyOk5DfSx5OntudW1iZXI6TkN9LF9fdHlwZV9fOntvYmplY3Q6UkN9fSxIQz17Y29uZmlndXJlOntlbmFibGVkOntib29sZWFuOkZDfSxmaWx0ZXI6e2Jvb2xlYW46RkMsc3RyaW5nOnpDLGFycmF5OkFDLGZ1bmN0aW9uOlwiZnVuY3Rpb25cIn0sY29udGFpbmVyOntkb206XCJkb21cIn0sc2hvd0J1dHRvbjp7Ym9vbGVhbjpGQ30sX190eXBlX186e29iamVjdDpSQyxib29sZWFuOkZDLHN0cmluZzp6QyxhcnJheTpBQyxmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9fSxlZGdlczp7YXJyb3dzOnt0bzp7ZW5hYmxlZDp7Ym9vbGVhbjpGQ30sc2NhbGVGYWN0b3I6e251bWJlcjpOQ30sdHlwZTp7c3RyaW5nOmpDfSxpbWFnZUhlaWdodDp7bnVtYmVyOk5DfSxpbWFnZVdpZHRoOntudW1iZXI6TkN9LHNyYzp7c3RyaW5nOnpDfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkN9fSxtaWRkbGU6e2VuYWJsZWQ6e2Jvb2xlYW46RkN9LHNjYWxlRmFjdG9yOntudW1iZXI6TkN9LHR5cGU6e3N0cmluZzpqQ30saW1hZ2VXaWR0aDp7bnVtYmVyOk5DfSxpbWFnZUhlaWdodDp7bnVtYmVyOk5DfSxzcmM6e3N0cmluZzp6Q30sX190eXBlX186e29iamVjdDpSQyxib29sZWFuOkZDfX0sZnJvbTp7ZW5hYmxlZDp7Ym9vbGVhbjpGQ30sc2NhbGVGYWN0b3I6e251bWJlcjpOQ30sdHlwZTp7c3RyaW5nOmpDfSxpbWFnZVdpZHRoOntudW1iZXI6TkN9LGltYWdlSGVpZ2h0OntudW1iZXI6TkN9LHNyYzp7c3RyaW5nOnpDfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkN9fSxfX3R5cGVfXzp7c3RyaW5nOltcImZyb21cIixcInRvXCIsXCJtaWRkbGVcIl0sb2JqZWN0OlJDfX0sZW5kUG9pbnRPZmZzZXQ6e2Zyb206e251bWJlcjpOQ30sdG86e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxudW1iZXI6TkN9fSxhcnJvd1N0cmlrZXRocm91Z2g6e2Jvb2xlYW46RkN9LGJhY2tncm91bmQ6e2VuYWJsZWQ6e2Jvb2xlYW46RkN9LGNvbG9yOntzdHJpbmc6ekN9LHNpemU6e251bWJlcjpOQ30sZGFzaGVzOntib29sZWFuOkZDLGFycmF5OkFDfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkN9fSxjaG9zZW46e2xhYmVsOntib29sZWFuOkZDLGZ1bmN0aW9uOlwiZnVuY3Rpb25cIn0sZWRnZTp7Ym9vbGVhbjpGQyxmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LF9fdHlwZV9fOntvYmplY3Q6UkMsYm9vbGVhbjpGQ319LGNvbG9yOntjb2xvcjp7c3RyaW5nOnpDfSxoaWdobGlnaHQ6e3N0cmluZzp6Q30saG92ZXI6e3N0cmluZzp6Q30saW5oZXJpdDp7c3RyaW5nOltcImZyb21cIixcInRvXCIsXCJib3RoXCJdLGJvb2xlYW46RkN9LG9wYWNpdHk6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxzdHJpbmc6ekN9fSxkYXNoZXM6e2Jvb2xlYW46RkMsYXJyYXk6QUN9LGZvbnQ6e2NvbG9yOntzdHJpbmc6ekN9LHNpemU6e251bWJlcjpOQ30sZmFjZTp7c3RyaW5nOnpDfSxiYWNrZ3JvdW5kOntzdHJpbmc6ekN9LHN0cm9rZVdpZHRoOntudW1iZXI6TkN9LHN0cm9rZUNvbG9yOntzdHJpbmc6ekN9LGFsaWduOntzdHJpbmc6W1wiaG9yaXpvbnRhbFwiLFwidG9wXCIsXCJtaWRkbGVcIixcImJvdHRvbVwiXX0sdmFkanVzdDp7bnVtYmVyOk5DfSxtdWx0aTp7Ym9vbGVhbjpGQyxzdHJpbmc6ekN9LGJvbGQ6e2NvbG9yOntzdHJpbmc6ekN9LHNpemU6e251bWJlcjpOQ30sZmFjZTp7c3RyaW5nOnpDfSxtb2Q6e3N0cmluZzp6Q30sdmFkanVzdDp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDLHN0cmluZzp6Q319LGJvbGRpdGFsOntjb2xvcjp7c3RyaW5nOnpDfSxzaXplOntudW1iZXI6TkN9LGZhY2U6e3N0cmluZzp6Q30sbW9kOntzdHJpbmc6ekN9LHZhZGp1c3Q6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxzdHJpbmc6ekN9fSxpdGFsOntjb2xvcjp7c3RyaW5nOnpDfSxzaXplOntudW1iZXI6TkN9LGZhY2U6e3N0cmluZzp6Q30sbW9kOntzdHJpbmc6ekN9LHZhZGp1c3Q6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxzdHJpbmc6ekN9fSxtb25vOntjb2xvcjp7c3RyaW5nOnpDfSxzaXplOntudW1iZXI6TkN9LGZhY2U6e3N0cmluZzp6Q30sbW9kOntzdHJpbmc6ekN9LHZhZGp1c3Q6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxzdHJpbmc6ekN9fSxfX3R5cGVfXzp7b2JqZWN0OlJDLHN0cmluZzp6Q319LGhpZGRlbjp7Ym9vbGVhbjpGQ30saG92ZXJXaWR0aDp7ZnVuY3Rpb246XCJmdW5jdGlvblwiLG51bWJlcjpOQ30sbGFiZWw6e3N0cmluZzp6Qyx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbGFiZWxIaWdobGlnaHRCb2xkOntib29sZWFuOkZDfSxsZW5ndGg6e251bWJlcjpOQyx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0scGh5c2ljczp7Ym9vbGVhbjpGQ30sc2NhbGluZzp7bWluOntudW1iZXI6TkN9LG1heDp7bnVtYmVyOk5DfSxsYWJlbDp7ZW5hYmxlZDp7Ym9vbGVhbjpGQ30sbWluOntudW1iZXI6TkN9LG1heDp7bnVtYmVyOk5DfSxtYXhWaXNpYmxlOntudW1iZXI6TkN9LGRyYXdUaHJlc2hvbGQ6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxib29sZWFuOkZDfX0sY3VzdG9tU2NhbGluZ0Z1bmN0aW9uOntmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LF9fdHlwZV9fOntvYmplY3Q6UkN9fSxzZWxlY3Rpb25XaWR0aDp7ZnVuY3Rpb246XCJmdW5jdGlvblwiLG51bWJlcjpOQ30sc2VsZlJlZmVyZW5jZVNpemU6e251bWJlcjpOQ30sc2VsZlJlZmVyZW5jZTp7c2l6ZTp7bnVtYmVyOk5DfSxhbmdsZTp7bnVtYmVyOk5DfSxyZW5kZXJCZWhpbmRUaGVOb2RlOntib29sZWFuOkZDfSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0sc2hhZG93OntlbmFibGVkOntib29sZWFuOkZDfSxjb2xvcjp7c3RyaW5nOnpDfSxzaXplOntudW1iZXI6TkN9LHg6e251bWJlcjpOQ30seTp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkN9fSxzbW9vdGg6e2VuYWJsZWQ6e2Jvb2xlYW46RkN9LHR5cGU6e3N0cmluZzpbXCJkeW5hbWljXCIsXCJjb250aW51b3VzXCIsXCJkaXNjcmV0ZVwiLFwiZGlhZ29uYWxDcm9zc1wiLFwic3RyYWlnaHRDcm9zc1wiLFwiaG9yaXpvbnRhbFwiLFwidmVydGljYWxcIixcImN1cnZlZENXXCIsXCJjdXJ2ZWRDQ1dcIixcImN1YmljQmV6aWVyXCJdfSxyb3VuZG5lc3M6e251bWJlcjpOQ30sZm9yY2VEaXJlY3Rpb246e3N0cmluZzpbXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiLFwibm9uZVwiXSxib29sZWFuOkZDfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkN9fSx0aXRsZTp7c3RyaW5nOnpDLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx3aWR0aDp7bnVtYmVyOk5DfSx3aWR0aENvbnN0cmFpbnQ6e21heGltdW06e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQyxib29sZWFuOkZDLG51bWJlcjpOQ319LHZhbHVlOntudW1iZXI6TkMsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LF9fdHlwZV9fOntvYmplY3Q6UkN9fSxncm91cHM6e3VzZURlZmF1bHRHcm91cHM6e2Jvb2xlYW46RkN9LF9fYW55X186TEMsX190eXBlX186e29iamVjdDpSQ319LGludGVyYWN0aW9uOntkcmFnTm9kZXM6e2Jvb2xlYW46RkN9LGRyYWdWaWV3Ontib29sZWFuOkZDfSxoaWRlRWRnZXNPbkRyYWc6e2Jvb2xlYW46RkN9LGhpZGVFZGdlc09uWm9vbTp7Ym9vbGVhbjpGQ30saGlkZU5vZGVzT25EcmFnOntib29sZWFuOkZDfSxob3Zlcjp7Ym9vbGVhbjpGQ30sa2V5Ym9hcmQ6e2VuYWJsZWQ6e2Jvb2xlYW46RkN9LHNwZWVkOnt4OntudW1iZXI6TkN9LHk6e251bWJlcjpOQ30sem9vbTp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0sYmluZFRvV2luZG93Ontib29sZWFuOkZDfSxhdXRvRm9jdXM6e2Jvb2xlYW46RkN9LF9fdHlwZV9fOntvYmplY3Q6UkMsYm9vbGVhbjpGQ319LG11bHRpc2VsZWN0Ontib29sZWFuOkZDfSxuYXZpZ2F0aW9uQnV0dG9uczp7Ym9vbGVhbjpGQ30sc2VsZWN0YWJsZTp7Ym9vbGVhbjpGQ30sc2VsZWN0Q29ubmVjdGVkRWRnZXM6e2Jvb2xlYW46RkN9LGhvdmVyQ29ubmVjdGVkRWRnZXM6e2Jvb2xlYW46RkN9LHRvb2x0aXBEZWxheTp7bnVtYmVyOk5DfSx6b29tVmlldzp7Ym9vbGVhbjpGQ30sem9vbVNwZWVkOntudW1iZXI6TkN9LF9fdHlwZV9fOntvYmplY3Q6UkN9fSxsYXlvdXQ6e3JhbmRvbVNlZWQ6e3VuZGVmaW5lZDpcInVuZGVmaW5lZFwiLG51bWJlcjpOQyxzdHJpbmc6ekN9LGltcHJvdmVkTGF5b3V0Ontib29sZWFuOkZDfSxjbHVzdGVyVGhyZXNob2xkOntudW1iZXI6TkN9LGhpZXJhcmNoaWNhbDp7ZW5hYmxlZDp7Ym9vbGVhbjpGQ30sbGV2ZWxTZXBhcmF0aW9uOntudW1iZXI6TkN9LG5vZGVTcGFjaW5nOntudW1iZXI6TkN9LHRyZWVTcGFjaW5nOntudW1iZXI6TkN9LGJsb2NrU2hpZnRpbmc6e2Jvb2xlYW46RkN9LGVkZ2VNaW5pbWl6YXRpb246e2Jvb2xlYW46RkN9LHBhcmVudENlbnRyYWxpemF0aW9uOntib29sZWFuOkZDfSxkaXJlY3Rpb246e3N0cmluZzpbXCJVRFwiLFwiRFVcIixcIkxSXCIsXCJSTFwiXX0sc29ydE1ldGhvZDp7c3RyaW5nOltcImh1YnNpemVcIixcImRpcmVjdGVkXCJdfSxzaGFrZVRvd2FyZHM6e3N0cmluZzpbXCJsZWF2ZXNcIixcInJvb3RzXCJdfSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkN9fSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0sbWFuaXB1bGF0aW9uOntlbmFibGVkOntib29sZWFuOkZDfSxpbml0aWFsbHlBY3RpdmU6e2Jvb2xlYW46RkN9LGFkZE5vZGU6e2Jvb2xlYW46RkMsZnVuY3Rpb246XCJmdW5jdGlvblwifSxhZGRFZGdlOntib29sZWFuOkZDLGZ1bmN0aW9uOlwiZnVuY3Rpb25cIn0sZWRpdE5vZGU6e2Z1bmN0aW9uOlwiZnVuY3Rpb25cIn0sZWRpdEVkZ2U6e2VkaXRXaXRob3V0RHJhZzp7ZnVuY3Rpb246XCJmdW5jdGlvblwifSxfX3R5cGVfXzp7b2JqZWN0OlJDLGJvb2xlYW46RkMsZnVuY3Rpb246XCJmdW5jdGlvblwifX0sZGVsZXRlTm9kZTp7Ym9vbGVhbjpGQyxmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LGRlbGV0ZUVkZ2U6e2Jvb2xlYW46RkMsZnVuY3Rpb246XCJmdW5jdGlvblwifSxjb250cm9sTm9kZVN0eWxlOkxDLF9fdHlwZV9fOntvYmplY3Q6UkMsYm9vbGVhbjpGQ319LG5vZGVzOkxDLHBoeXNpY3M6e2VuYWJsZWQ6e2Jvb2xlYW46RkN9LGJhcm5lc0h1dDp7dGhldGE6e251bWJlcjpOQ30sZ3Jhdml0YXRpb25hbENvbnN0YW50OntudW1iZXI6TkN9LGNlbnRyYWxHcmF2aXR5OntudW1iZXI6TkN9LHNwcmluZ0xlbmd0aDp7bnVtYmVyOk5DfSxzcHJpbmdDb25zdGFudDp7bnVtYmVyOk5DfSxkYW1waW5nOntudW1iZXI6TkN9LGF2b2lkT3ZlcmxhcDp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0sZm9yY2VBdGxhczJCYXNlZDp7dGhldGE6e251bWJlcjpOQ30sZ3Jhdml0YXRpb25hbENvbnN0YW50OntudW1iZXI6TkN9LGNlbnRyYWxHcmF2aXR5OntudW1iZXI6TkN9LHNwcmluZ0xlbmd0aDp7bnVtYmVyOk5DfSxzcHJpbmdDb25zdGFudDp7bnVtYmVyOk5DfSxkYW1waW5nOntudW1iZXI6TkN9LGF2b2lkT3ZlcmxhcDp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0scmVwdWxzaW9uOntjZW50cmFsR3Jhdml0eTp7bnVtYmVyOk5DfSxzcHJpbmdMZW5ndGg6e251bWJlcjpOQ30sc3ByaW5nQ29uc3RhbnQ6e251bWJlcjpOQ30sbm9kZURpc3RhbmNlOntudW1iZXI6TkN9LGRhbXBpbmc6e251bWJlcjpOQ30sX190eXBlX186e29iamVjdDpSQ319LGhpZXJhcmNoaWNhbFJlcHVsc2lvbjp7Y2VudHJhbEdyYXZpdHk6e251bWJlcjpOQ30sc3ByaW5nTGVuZ3RoOntudW1iZXI6TkN9LHNwcmluZ0NvbnN0YW50OntudW1iZXI6TkN9LG5vZGVEaXN0YW5jZTp7bnVtYmVyOk5DfSxkYW1waW5nOntudW1iZXI6TkN9LGF2b2lkT3ZlcmxhcDp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0sbWF4VmVsb2NpdHk6e251bWJlcjpOQ30sbWluVmVsb2NpdHk6e251bWJlcjpOQ30sc29sdmVyOntzdHJpbmc6W1wiYmFybmVzSHV0XCIsXCJyZXB1bHNpb25cIixcImhpZXJhcmNoaWNhbFJlcHVsc2lvblwiLFwiZm9yY2VBdGxhczJCYXNlZFwiXX0sc3RhYmlsaXphdGlvbjp7ZW5hYmxlZDp7Ym9vbGVhbjpGQ30saXRlcmF0aW9uczp7bnVtYmVyOk5DfSx1cGRhdGVJbnRlcnZhbDp7bnVtYmVyOk5DfSxvbmx5RHluYW1pY0VkZ2VzOntib29sZWFuOkZDfSxmaXQ6e2Jvb2xlYW46RkN9LF9fdHlwZV9fOntvYmplY3Q6UkMsYm9vbGVhbjpGQ319LHRpbWVzdGVwOntudW1iZXI6TkN9LGFkYXB0aXZlVGltZXN0ZXA6e2Jvb2xlYW46RkN9LHdpbmQ6e3g6e251bWJlcjpOQ30seTp7bnVtYmVyOk5DfSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0sX190eXBlX186e29iamVjdDpSQyxib29sZWFuOkZDfX0sYXV0b1Jlc2l6ZTp7Ym9vbGVhbjpGQ30sY2xpY2tUb1VzZTp7Ym9vbGVhbjpGQ30sbG9jYWxlOntzdHJpbmc6ekN9LGxvY2FsZXM6e19fYW55X186e2FueTpcImFueVwifSxfX3R5cGVfXzp7b2JqZWN0OlJDfX0saGVpZ2h0OntzdHJpbmc6ekN9LHdpZHRoOntzdHJpbmc6ekN9LF9fdHlwZV9fOntvYmplY3Q6UkN9fSxXQz17bm9kZXM6e2JvcmRlcldpZHRoOlsxLDAsMTAsMV0sYm9yZGVyV2lkdGhTZWxlY3RlZDpbMiwwLDEwLDFdLGNvbG9yOntib3JkZXI6W1wiY29sb3JcIixcIiMyQjdDRTlcIl0sYmFja2dyb3VuZDpbXCJjb2xvclwiLFwiIzk3QzJGQ1wiXSxoaWdobGlnaHQ6e2JvcmRlcjpbXCJjb2xvclwiLFwiIzJCN0NFOVwiXSxiYWNrZ3JvdW5kOltcImNvbG9yXCIsXCIjRDJFNUZGXCJdfSxob3Zlcjp7Ym9yZGVyOltcImNvbG9yXCIsXCIjMkI3Q0U5XCJdLGJhY2tncm91bmQ6W1wiY29sb3JcIixcIiNEMkU1RkZcIl19fSxvcGFjaXR5OlswLDAsMSwuMV0sZml4ZWQ6e3g6ITEseTohMX0sZm9udDp7Y29sb3I6W1wiY29sb3JcIixcIiMzNDM0MzRcIl0sc2l6ZTpbMTQsMCwxMDAsMV0sZmFjZTpbXCJhcmlhbFwiLFwidmVyZGFuYVwiLFwidGFob21hXCJdLGJhY2tncm91bmQ6W1wiY29sb3JcIixcIm5vbmVcIl0sc3Ryb2tlV2lkdGg6WzAsMCw1MCwxXSxzdHJva2VDb2xvcjpbXCJjb2xvclwiLFwiI2ZmZmZmZlwiXX0saGlkZGVuOiExLGxhYmVsSGlnaGxpZ2h0Qm9sZDohMCxwaHlzaWNzOiEwLHNjYWxpbmc6e21pbjpbMTAsMCwyMDAsMV0sbWF4OlszMCwwLDIwMCwxXSxsYWJlbDp7ZW5hYmxlZDohMSxtaW46WzE0LDAsMjAwLDFdLG1heDpbMzAsMCwyMDAsMV0sbWF4VmlzaWJsZTpbMzAsMCwyMDAsMV0sZHJhd1RocmVzaG9sZDpbNSwwLDIwLDFdfX0sc2hhZG93OntlbmFibGVkOiExLGNvbG9yOlwicmdiYSgwLDAsMCwwLjUpXCIsc2l6ZTpbMTAsMCwyMCwxXSx4Ols1LC0zMCwzMCwxXSx5Ols1LC0zMCwzMCwxXX0sc2hhcGU6W1wiZWxsaXBzZVwiLFwiYm94XCIsXCJjaXJjbGVcIixcImRhdGFiYXNlXCIsXCJkaWFtb25kXCIsXCJkb3RcIixcInNxdWFyZVwiLFwic3RhclwiLFwidGV4dFwiLFwidHJpYW5nbGVcIixcInRyaWFuZ2xlRG93blwiLFwiaGV4YWdvblwiXSxzaGFwZVByb3BlcnRpZXM6e2JvcmRlckRhc2hlczohMSxib3JkZXJSYWRpdXM6WzYsMCwyMCwxXSxpbnRlcnBvbGF0aW9uOiEwLHVzZUltYWdlU2l6ZTohMX0sc2l6ZTpbMjUsMCwyMDAsMV19LGVkZ2VzOnthcnJvd3M6e3RvOntlbmFibGVkOiExLHNjYWxlRmFjdG9yOlsxLDAsMywuMDVdLHR5cGU6XCJhcnJvd1wifSxtaWRkbGU6e2VuYWJsZWQ6ITEsc2NhbGVGYWN0b3I6WzEsMCwzLC4wNV0sdHlwZTpcImFycm93XCJ9LGZyb206e2VuYWJsZWQ6ITEsc2NhbGVGYWN0b3I6WzEsMCwzLC4wNV0sdHlwZTpcImFycm93XCJ9fSxlbmRQb2ludE9mZnNldDp7ZnJvbTpbMCwtMTAsMTAsMV0sdG86WzAsLTEwLDEwLDFdfSxhcnJvd1N0cmlrZXRocm91Z2g6ITAsY29sb3I6e2NvbG9yOltcImNvbG9yXCIsXCIjODQ4NDg0XCJdLGhpZ2hsaWdodDpbXCJjb2xvclwiLFwiIzg0ODQ4NFwiXSxob3ZlcjpbXCJjb2xvclwiLFwiIzg0ODQ4NFwiXSxpbmhlcml0OltcImZyb21cIixcInRvXCIsXCJib3RoXCIsITAsITFdLG9wYWNpdHk6WzEsMCwxLC4wNV19LGRhc2hlczohMSxmb250Ontjb2xvcjpbXCJjb2xvclwiLFwiIzM0MzQzNFwiXSxzaXplOlsxNCwwLDEwMCwxXSxmYWNlOltcImFyaWFsXCIsXCJ2ZXJkYW5hXCIsXCJ0YWhvbWFcIl0sYmFja2dyb3VuZDpbXCJjb2xvclwiLFwibm9uZVwiXSxzdHJva2VXaWR0aDpbMiwwLDUwLDFdLHN0cm9rZUNvbG9yOltcImNvbG9yXCIsXCIjZmZmZmZmXCJdLGFsaWduOltcImhvcml6b250YWxcIixcInRvcFwiLFwibWlkZGxlXCIsXCJib3R0b21cIl19LGhpZGRlbjohMSxob3ZlcldpZHRoOlsxLjUsMCw1LC4xXSxsYWJlbEhpZ2hsaWdodEJvbGQ6ITAscGh5c2ljczohMCxzY2FsaW5nOnttaW46WzEsMCwxMDAsMV0sbWF4OlsxNSwwLDEwMCwxXSxsYWJlbDp7ZW5hYmxlZDohMCxtaW46WzE0LDAsMjAwLDFdLG1heDpbMzAsMCwyMDAsMV0sbWF4VmlzaWJsZTpbMzAsMCwyMDAsMV0sZHJhd1RocmVzaG9sZDpbNSwwLDIwLDFdfX0sc2VsZWN0aW9uV2lkdGg6WzEuNSwwLDUsLjFdLHNlbGZSZWZlcmVuY2VTaXplOlsyMCwwLDIwMCwxXSxzZWxmUmVmZXJlbmNlOntzaXplOlsyMCwwLDIwMCwxXSxhbmdsZTpbTWF0aC5QSS8yLC02Kk1hdGguUEksNipNYXRoLlBJLE1hdGguUEkvOF0scmVuZGVyQmVoaW5kVGhlTm9kZTohMH0sc2hhZG93OntlbmFibGVkOiExLGNvbG9yOlwicmdiYSgwLDAsMCwwLjUpXCIsc2l6ZTpbMTAsMCwyMCwxXSx4Ols1LC0zMCwzMCwxXSx5Ols1LC0zMCwzMCwxXX0sc21vb3RoOntlbmFibGVkOiEwLHR5cGU6W1wiZHluYW1pY1wiLFwiY29udGludW91c1wiLFwiZGlzY3JldGVcIixcImRpYWdvbmFsQ3Jvc3NcIixcInN0cmFpZ2h0Q3Jvc3NcIixcImhvcml6b250YWxcIixcInZlcnRpY2FsXCIsXCJjdXJ2ZWRDV1wiLFwiY3VydmVkQ0NXXCIsXCJjdWJpY0JlemllclwiXSxmb3JjZURpcmVjdGlvbjpbXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiLFwibm9uZVwiXSxyb3VuZG5lc3M6Wy41LDAsMSwuMDVdfSx3aWR0aDpbMSwwLDMwLDFdfSxsYXlvdXQ6e2hpZXJhcmNoaWNhbDp7ZW5hYmxlZDohMSxsZXZlbFNlcGFyYXRpb246WzE1MCwyMCw1MDAsNV0sbm9kZVNwYWNpbmc6WzEwMCwyMCw1MDAsNV0sdHJlZVNwYWNpbmc6WzIwMCwyMCw1MDAsNV0sYmxvY2tTaGlmdGluZzohMCxlZGdlTWluaW1pemF0aW9uOiEwLHBhcmVudENlbnRyYWxpemF0aW9uOiEwLGRpcmVjdGlvbjpbXCJVRFwiLFwiRFVcIixcIkxSXCIsXCJSTFwiXSxzb3J0TWV0aG9kOltcImh1YnNpemVcIixcImRpcmVjdGVkXCJdLHNoYWtlVG93YXJkczpbXCJsZWF2ZXNcIixcInJvb3RzXCJdfX0saW50ZXJhY3Rpb246e2RyYWdOb2RlczohMCxkcmFnVmlldzohMCxoaWRlRWRnZXNPbkRyYWc6ITEsaGlkZUVkZ2VzT25ab29tOiExLGhpZGVOb2Rlc09uRHJhZzohMSxob3ZlcjohMSxrZXlib2FyZDp7ZW5hYmxlZDohMSxzcGVlZDp7eDpbMTAsMCw0MCwxXSx5OlsxMCwwLDQwLDFdLHpvb206Wy4wMiwwLC4xLC4wMDVdfSxiaW5kVG9XaW5kb3c6ITAsYXV0b0ZvY3VzOiEwfSxtdWx0aXNlbGVjdDohMSxuYXZpZ2F0aW9uQnV0dG9uczohMSxzZWxlY3RhYmxlOiEwLHNlbGVjdENvbm5lY3RlZEVkZ2VzOiEwLGhvdmVyQ29ubmVjdGVkRWRnZXM6ITAsdG9vbHRpcERlbGF5OlszMDAsMCwxZTMsMjVdLHpvb21WaWV3OiEwLHpvb21TcGVlZDpbMSwuMSwyLC4xXX0sbWFuaXB1bGF0aW9uOntlbmFibGVkOiExLGluaXRpYWxseUFjdGl2ZTohMX0scGh5c2ljczp7ZW5hYmxlZDohMCxiYXJuZXNIdXQ6e3RoZXRhOlsuNSwuMSwxLC4wNV0sZ3Jhdml0YXRpb25hbENvbnN0YW50OlstMmUzLC0zZTQsMCw1MF0sY2VudHJhbEdyYXZpdHk6Wy4zLDAsMTAsLjA1XSxzcHJpbmdMZW5ndGg6Wzk1LDAsNTAwLDVdLHNwcmluZ0NvbnN0YW50OlsuMDQsMCwxLjIsLjAwNV0sZGFtcGluZzpbLjA5LDAsMSwuMDFdLGF2b2lkT3ZlcmxhcDpbMCwwLDEsLjAxXX0sZm9yY2VBdGxhczJCYXNlZDp7dGhldGE6Wy41LC4xLDEsLjA1XSxncmF2aXRhdGlvbmFsQ29uc3RhbnQ6Wy01MCwtNTAwLDAsMV0sY2VudHJhbEdyYXZpdHk6Wy4wMSwwLDEsLjAwNV0sc3ByaW5nTGVuZ3RoOls5NSwwLDUwMCw1XSxzcHJpbmdDb25zdGFudDpbLjA4LDAsMS4yLC4wMDVdLGRhbXBpbmc6Wy40LDAsMSwuMDFdLGF2b2lkT3ZlcmxhcDpbMCwwLDEsLjAxXX0scmVwdWxzaW9uOntjZW50cmFsR3Jhdml0eTpbLjIsMCwxMCwuMDVdLHNwcmluZ0xlbmd0aDpbMjAwLDAsNTAwLDVdLHNwcmluZ0NvbnN0YW50OlsuMDUsMCwxLjIsLjAwNV0sbm9kZURpc3RhbmNlOlsxMDAsMCw1MDAsNV0sZGFtcGluZzpbLjA5LDAsMSwuMDFdfSxoaWVyYXJjaGljYWxSZXB1bHNpb246e2NlbnRyYWxHcmF2aXR5OlsuMiwwLDEwLC4wNV0sc3ByaW5nTGVuZ3RoOlsxMDAsMCw1MDAsNV0sc3ByaW5nQ29uc3RhbnQ6Wy4wMSwwLDEuMiwuMDA1XSxub2RlRGlzdGFuY2U6WzEyMCwwLDUwMCw1XSxkYW1waW5nOlsuMDksMCwxLC4wMV0sYXZvaWRPdmVybGFwOlswLDAsMSwuMDFdfSxtYXhWZWxvY2l0eTpbNTAsMCwxNTAsMV0sbWluVmVsb2NpdHk6Wy4xLC4wMSwuNSwuMDFdLHNvbHZlcjpbXCJiYXJuZXNIdXRcIixcImZvcmNlQXRsYXMyQmFzZWRcIixcInJlcHVsc2lvblwiLFwiaGllcmFyY2hpY2FsUmVwdWxzaW9uXCJdLHRpbWVzdGVwOlsuNSwuMDEsMSwuMDFdLHdpbmQ6e3g6WzAsLTEwLDEwLC4xXSx5OlswLC0xMCwxMCwuMV19fX0sVkM9ZnVuY3Rpb24odCxlLGkpe3ZhciBvO3JldHVybiEoIXpmKHQpLmNhbGwodCxcInBoeXNpY3NcIil8fCF6ZihvPVdDLnBoeXNpY3Muc29sdmVyKS5jYWxsKG8sZSl8fGkucGh5c2ljcy5zb2x2ZXI9PT1lfHxcIndpbmRcIj09PWUpfSxxQz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxjb25maWd1cmF0b3JIaWRlT3B0aW9uOlZDLGFsbE9wdGlvbnM6SEMsY29uZmlndXJlT3B0aW9uczpXQ30pLFVDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1hsKHRoaXMsdCl9cmV0dXJuICRsKHQsW3trZXk6XCJnZXREaXN0YW5jZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPXt9LG49dC5lZGdlcyxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBzPXt9O29bZVtyXV09cztmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKylzW2VbYV1dPXI9PWE/MDoxZTl9Zm9yKHZhciBoPTA7aDxpLmxlbmd0aDtoKyspe3ZhciBkPW5baVtoXV07ITA9PT1kLmNvbm5lY3RlZCYmdm9pZCAwIT09b1tkLmZyb21JZF0mJnZvaWQgMCE9PW9bZC50b0lkXSYmKG9bZC5mcm9tSWRdW2QudG9JZF09MSxvW2QudG9JZF1bZC5mcm9tSWRdPTEpfWZvcih2YXIgbD1lLmxlbmd0aCxjPTA7YzxsO2MrKylmb3IodmFyIHU9ZVtjXSxmPW9bdV0scD0wO3A8bC0xO3ArKylmb3IodmFyIHY9ZVtwXSxnPW9bdl0seT1wKzE7eTxsO3krKyl7dmFyIG09ZVt5XSxiPW9bbV0sdz1NYXRoLm1pbihnW21dLGdbdV0rZlttXSk7Z1ttXT13LGJbdl09d31yZXR1cm4gb319XSksdH0oKSxZQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe1hsKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5zcHJpbmdMZW5ndGg9aSx0aGlzLnNwcmluZ0NvbnN0YW50PW8sdGhpcy5kaXN0YW5jZVNvbHZlcj1uZXcgVUN9cmV0dXJuICRsKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCYmKHQuc3ByaW5nTGVuZ3RoJiYodGhpcy5zcHJpbmdMZW5ndGg9dC5zcHJpbmdMZW5ndGgpLHQuc3ByaW5nQ29uc3RhbnQmJih0aGlzLnNwcmluZ0NvbnN0YW50PXQuc3ByaW5nQ29uc3RhbnQpKX19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxvPXRoaXMuZGlzdGFuY2VTb2x2ZXIuZ2V0RGlzdGFuY2VzKHRoaXMuYm9keSx0LGUpO3RoaXMuX2NyZWF0ZUxfbWF0cml4KG8pLHRoaXMuX2NyZWF0ZUtfbWF0cml4KG8pLHRoaXMuX2NyZWF0ZUVfbWF0cml4KCk7Zm9yKHZhciBuPS4wMSxyPTEscz0wLGE9TWF0aC5tYXgoMWUzLE1hdGgubWluKDEwKnRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGgsNmUzKSksaD01LGQ9MWU5LGw9MCxjPTAsdT0wLGY9MCxwPTA7ZD5uJiZzPGE7KXtzKz0xO3ZhciB2PXRoaXMuX2dldEhpZ2hlc3RFbmVyZ3lOb2RlKGkpLGc9JGModiw0KTtmb3IobD1nWzBdLGQ9Z1sxXSxjPWdbMl0sdT1nWzNdLGY9ZCxwPTA7Zj5yJiZwPGg7KXtwKz0xLHRoaXMuX21vdmVOb2RlKGwsYyx1KTt2YXIgeT10aGlzLl9nZXRFbmVyZ3kobCksbT0kYyh5LDMpO2Y9bVswXSxjPW1bMV0sdT1tWzJdfX19fSx7a2V5OlwiX2dldEhpZ2hlc3RFbmVyZ3lOb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxpPXRoaXMuYm9keS5ub2RlcyxvPTAsbj1lWzBdLHI9MCxzPTAsYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaD1lW2FdO2lmKCEwIT09aVtoXS5wcmVkZWZpbmVkUG9zaXRpb258fCEwPT09aVtoXS5pc0NsdXN0ZXImJiEwPT09dHx8ITAhPT1pW2hdLm9wdGlvbnMuZml4ZWQueHx8ITAhPT1pW2hdLm9wdGlvbnMuZml4ZWQueSl7dmFyIGQ9JGModGhpcy5fZ2V0RW5lcmd5KGgpLDMpLGw9ZFswXSxjPWRbMV0sdT1kWzJdO288bCYmKG89bCxuPWgscj1jLHM9dSl9fXJldHVybltuLG8scixzXX19LHtrZXk6XCJfZ2V0RW5lcmd5XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9JGModGhpcy5FX3N1bXNbdF0sMiksaT1lWzBdLG89ZVsxXTtyZXR1cm5bTWF0aC5zcXJ0KE1hdGgucG93KGksMikrTWF0aC5wb3cobywyKSksaSxvXX19LHtrZXk6XCJfbW92ZU5vZGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxuPXRoaXMuYm9keS5ub2RlcyxyPTAscz0wLGE9MCxoPW5bdF0ueCxkPW5bdF0ueSxsPXRoaXMuS19tYXRyaXhbdF0sYz10aGlzLkxfbWF0cml4W3RdLHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIGY9b1t1XTtpZihmIT09dCl7dmFyIHA9bltmXS54LHY9bltmXS55LGc9bFtmXSx5PWNbZl0sbT0xL01hdGgucG93KE1hdGgucG93KGgtcCwyKStNYXRoLnBvdyhkLXYsMiksMS41KTtyKz1nKigxLXkqTWF0aC5wb3coZC12LDIpKm0pLHMrPWcqKHkqKGgtcCkqKGQtdikqbSksYSs9ZyooMS15Kk1hdGgucG93KGgtcCwyKSptKX19dmFyIGI9KGUvcitpL3MpLyhzL3ItYS9zKSx3PS0ocypiK2UpL3I7blt0XS54Kz13LG5bdF0ueSs9Yix0aGlzLl91cGRhdGVFX21hdHJpeCh0KX19LHtrZXk6XCJfY3JlYXRlTF9tYXRyaXhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvZHkubm9kZUluZGljZXMsaT10aGlzLnNwcmluZ0xlbmd0aDt0aGlzLkxfbWF0cml4PVtdO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt0aGlzLkxfbWF0cml4W2Vbb11dPXt9O2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMuTF9tYXRyaXhbZVtvXV1bZVtuXV09aSp0W2Vbb11dW2Vbbl1dfX19LHtrZXk6XCJfY3JlYXRlS19tYXRyaXhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvZHkubm9kZUluZGljZXMsaT10aGlzLnNwcmluZ0NvbnN0YW50O3RoaXMuS19tYXRyaXg9W107Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3RoaXMuS19tYXRyaXhbZVtvXV09e307Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5LX21hdHJpeFtlW29dXVtlW25dXT1pKk1hdGgucG93KHRbZVtvXV1bZVtuXV0sLTIpfX19LHtrZXk6XCJfY3JlYXRlRV9tYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9keS5ub2RlSW5kaWNlcyxlPXRoaXMuYm9keS5ub2Rlczt0aGlzLkVfbWF0cml4PXt9LHRoaXMuRV9zdW1zPXt9O2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuRV9tYXRyaXhbdFtpXV09W107Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe2Zvcih2YXIgbj10W29dLHI9ZVtuXS54LHM9ZVtuXS55LGE9MCxoPTAsZD1vO2Q8dC5sZW5ndGg7ZCsrKXt2YXIgbD10W2RdO2lmKGwhPT1uKXt2YXIgYz1lW2xdLngsdT1lW2xdLnksZj0xL01hdGguc3FydChNYXRoLnBvdyhyLWMsMikrTWF0aC5wb3cocy11LDIpKTt0aGlzLkVfbWF0cml4W25dW2RdPVt0aGlzLktfbWF0cml4W25dW2xdKihyLWMtdGhpcy5MX21hdHJpeFtuXVtsXSooci1jKSpmKSx0aGlzLktfbWF0cml4W25dW2xdKihzLXUtdGhpcy5MX21hdHJpeFtuXVtsXSoocy11KSpmKV0sdGhpcy5FX21hdHJpeFtsXVtvXT10aGlzLkVfbWF0cml4W25dW2RdLGErPXRoaXMuRV9tYXRyaXhbbl1bZF1bMF0saCs9dGhpcy5FX21hdHJpeFtuXVtkXVsxXX19dGhpcy5FX3N1bXNbbl09W2EsaF19fX0se2tleTpcIl91cGRhdGVFX21hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmJvZHkubm9kZUluZGljZXMsaT10aGlzLmJvZHkubm9kZXMsbz10aGlzLkVfbWF0cml4W3RdLG49dGhpcy5LX21hdHJpeFt0XSxyPXRoaXMuTF9tYXRyaXhbdF0scz1pW3RdLngsYT1pW3RdLnksaD0wLGQ9MCxsPTA7bDxlLmxlbmd0aDtsKyspe3ZhciBjPWVbbF07aWYoYyE9PXQpe3ZhciB1PW9bbF0sZj11WzBdLHA9dVsxXSx2PWlbY10ueCxnPWlbY10ueSx5PTEvTWF0aC5zcXJ0KE1hdGgucG93KHMtdiwyKStNYXRoLnBvdyhhLWcsMikpLG09bltjXSoocy12LXJbY10qKHMtdikqeSksYj1uW2NdKihhLWctcltjXSooYS1nKSp5KTtvW2xdPVttLGJdLGgrPW0sZCs9Yjt2YXIgdz10aGlzLkVfc3Vtc1tjXTt3WzBdKz1tLWYsd1sxXSs9Yi1wfX10aGlzLkVfc3Vtc1t0XT1baCxkXX19XSksdH0oKTtmdW5jdGlvbiBYQyh0LGUsaSl7dmFyIG8sbixyLHMsYT10aGlzO2lmKCEodGhpcyBpbnN0YW5jZW9mIFhDKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3JcIik7dGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e2xvY2FsZTpcImVuXCIsbG9jYWxlczpKbSxjbGlja1RvVXNlOiExfSxmbyh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5ib2R5PXtjb250YWluZXI6dCxub2Rlczp7fSxub2RlSW5kaWNlczpbXSxlZGdlczp7fSxlZGdlSW5kaWNlczpbXSxlbWl0dGVyOntvbjpGbyhvPXRoaXMub24pLmNhbGwobyx0aGlzKSxvZmY6Rm8obj10aGlzLm9mZikuY2FsbChuLHRoaXMpLGVtaXQ6Rm8ocj10aGlzLmVtaXQpLmNhbGwocix0aGlzKSxvbmNlOkZvKHM9dGhpcy5vbmNlKS5jYWxsKHMsdGhpcyl9LGV2ZW50TGlzdGVuZXJzOntvblRhcDpmdW5jdGlvbigpe30sb25Ub3VjaDpmdW5jdGlvbigpe30sb25Eb3VibGVUYXA6ZnVuY3Rpb24oKXt9LG9uSG9sZDpmdW5jdGlvbigpe30sb25EcmFnU3RhcnQ6ZnVuY3Rpb24oKXt9LG9uRHJhZzpmdW5jdGlvbigpe30sb25EcmFnRW5kOmZ1bmN0aW9uKCl7fSxvbk1vdXNlV2hlZWw6ZnVuY3Rpb24oKXt9LG9uUGluY2g6ZnVuY3Rpb24oKXt9LG9uTW91c2VNb3ZlOmZ1bmN0aW9uKCl7fSxvblJlbGVhc2U6ZnVuY3Rpb24oKXt9LG9uQ29udGV4dDpmdW5jdGlvbigpe319LGRhdGE6e25vZGVzOm51bGwsZWRnZXM6bnVsbH0sZnVuY3Rpb25zOntjcmVhdGVOb2RlOmZ1bmN0aW9uKCl7fSxjcmVhdGVFZGdlOmZ1bmN0aW9uKCl7fSxnZXRQb2ludGVyOmZ1bmN0aW9uKCl7fX0sbW9kdWxlczp7fSx2aWV3OntzY2FsZToxLHRyYW5zbGF0aW9uOnt4OjAseTowfX0sc2VsZWN0aW9uQm94OntzaG93OiExLHBvc2l0aW9uOntzdGFydDp7eDowLHk6MH0sZW5kOnt4OjAseTowfX19fSx0aGlzLmJpbmRFdmVudExpc3RlbmVycygpLHRoaXMuaW1hZ2VzPW5ldyBlYigoZnVuY3Rpb24oKXtyZXR1cm4gYS5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSkpLHRoaXMuZ3JvdXBzPW5ldyBPdyx0aGlzLmNhbnZhcz1uZXcgbkUodGhpcy5ib2R5KSx0aGlzLnNlbGVjdGlvbkhhbmRsZXI9bmV3IGNPKHRoaXMuYm9keSx0aGlzLmNhbnZhcyksdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXI9bmV3IGNFKHRoaXMuYm9keSx0aGlzLmNhbnZhcyx0aGlzLnNlbGVjdGlvbkhhbmRsZXIpLHRoaXMudmlldz1uZXcgc0UodGhpcy5ib2R5LHRoaXMuY2FudmFzKSx0aGlzLnJlbmRlcmVyPW5ldyB0RSh0aGlzLmJvZHksdGhpcy5jYW52YXMpLHRoaXMucGh5c2ljcz1uZXcgTHgodGhpcy5ib2R5KSx0aGlzLmxheW91dEVuZ2luZT1uZXcgUEModGhpcy5ib2R5KSx0aGlzLmNsdXN0ZXJpbmc9bmV3IFp4KHRoaXMuYm9keSksdGhpcy5tYW5pcHVsYXRpb249bmV3IElDKHRoaXMuYm9keSx0aGlzLmNhbnZhcyx0aGlzLnNlbGVjdGlvbkhhbmRsZXIsdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIpLHRoaXMubm9kZXNIYW5kbGVyPW5ldyBCXyh0aGlzLmJvZHksdGhpcy5pbWFnZXMsdGhpcy5ncm91cHMsdGhpcy5sYXlvdXRFbmdpbmUpLHRoaXMuZWRnZXNIYW5kbGVyPW5ldyBUeCh0aGlzLmJvZHksdGhpcy5pbWFnZXMsdGhpcy5ncm91cHMpLHRoaXMuYm9keS5tb2R1bGVzLmthbWFkYUthd2FpPW5ldyBZQyh0aGlzLmJvZHksMTUwLC4wNSksdGhpcy5ib2R5Lm1vZHVsZXMuY2x1c3RlcmluZz10aGlzLmNsdXN0ZXJpbmcsdGhpcy5jYW52YXMuX2NyZWF0ZSgpLHRoaXMuc2V0T3B0aW9ucyhpKSx0aGlzLnNldERhdGEoZSl9Vm8oWEMucHJvdG90eXBlKSxYQy5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKG51bGw9PT10JiYodD12b2lkIDApLHZvaWQgMCE9PXQpeyEwPT09eW0udmFsaWRhdGUodCxIQykmJmNvbnNvbGUuZXJyb3IoXCIlY0Vycm9ycyBoYXZlIGJlZW4gZm91bmQgaW4gdGhlIHN1cHBsaWVkIG9wdGlvbnMgb2JqZWN0LlwiLGdtKTtpZihOeShbXCJsb2NhbGVcIixcImxvY2FsZXNcIixcImNsaWNrVG9Vc2VcIl0sdGhpcy5vcHRpb25zLHQpLHZvaWQgMCE9PXQubG9jYWxlJiYodC5sb2NhbGU9ZnVuY3Rpb24odCxlKXt0cnl7dmFyIGk9JGMoZS5zcGxpdCgvWy1fIC9dLywyKSwyKSxvPWlbMF0sbj1pWzFdLHI9bnVsbCE9bz9vLnRvTG93ZXJDYXNlKCk6bnVsbCxzPW51bGwhPW4/bi50b1VwcGVyQ2FzZSgpOm51bGw7aWYociYmcyl7dmFyIGEsaD1yK1wiLVwiK3M7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaCkpcmV0dXJuIGg7Y29uc29sZS53YXJuKHN1KGE9XCJVbmtub3duIHZhcmlhbnQgXCIuY29uY2F0KHMsXCIgb2YgbGFuZ3VhZ2UgXCIpKS5jYWxsKGEscixcIi5cIikpfWlmKHIpe3ZhciBkPXI7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZCkpcmV0dXJuIGQ7Y29uc29sZS53YXJuKFwiVW5rbm93biBsYW5ndWFnZSBcIi5jb25jYXQocikpfXJldHVybiBjb25zb2xlLndhcm4oXCJVbmtub3duIGxvY2FsZSBcIi5jb25jYXQoZSxcIiwgZmFsbGluZyBiYWNrIHRvIEVuZ2xpc2guXCIpKSxcImVuXCJ9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IodCksY29uc29sZS53YXJuKFwiVW5leHBlY3RlZCBlcnJvciB3aGlsZSBub3JtYWxpemluZyBsb2NhbGUgXCIuY29uY2F0KGUsXCIsIGZhbGxpbmcgYmFjayB0byBFbmdsaXNoLlwiKSksXCJlblwifX0odC5sb2NhbGVzfHx0aGlzLm9wdGlvbnMubG9jYWxlcyx0LmxvY2FsZSkpLHQ9dGhpcy5sYXlvdXRFbmdpbmUuc2V0T3B0aW9ucyh0LmxheW91dCx0KSx0aGlzLmNhbnZhcy5zZXRPcHRpb25zKHQpLHRoaXMuZ3JvdXBzLnNldE9wdGlvbnModC5ncm91cHMpLHRoaXMubm9kZXNIYW5kbGVyLnNldE9wdGlvbnModC5ub2RlcyksdGhpcy5lZGdlc0hhbmRsZXIuc2V0T3B0aW9ucyh0LmVkZ2VzKSx0aGlzLnBoeXNpY3Muc2V0T3B0aW9ucyh0LnBoeXNpY3MpLHRoaXMubWFuaXB1bGF0aW9uLnNldE9wdGlvbnModC5tYW5pcHVsYXRpb24sdCx0aGlzLm9wdGlvbnMpLHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyLnNldE9wdGlvbnModC5pbnRlcmFjdGlvbiksdGhpcy5yZW5kZXJlci5zZXRPcHRpb25zKHQuaW50ZXJhY3Rpb24pLHRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZXRPcHRpb25zKHQuaW50ZXJhY3Rpb24pLHZvaWQgMCE9PXQuZ3JvdXBzJiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwicmVmcmVzaE5vZGVzXCIpLFwiY29uZmlndXJlXCJpbiB0JiYodGhpcy5jb25maWd1cmF0b3J8fCh0aGlzLmNvbmZpZ3VyYXRvcj1uZXcgZm0odGhpcyx0aGlzLmJvZHkuY29udGFpbmVyLFdDLHRoaXMuY2FudmFzLnBpeGVsUmF0aW8sVkMpKSx0aGlzLmNvbmZpZ3VyYXRvci5zZXRPcHRpb25zKHQuY29uZmlndXJlKSksdGhpcy5jb25maWd1cmF0b3ImJiEwPT09dGhpcy5jb25maWd1cmF0b3Iub3B0aW9ucy5lbmFibGVkKXt2YXIgaT17bm9kZXM6e30sZWRnZXM6e30sbGF5b3V0Ont9LGludGVyYWN0aW9uOnt9LG1hbmlwdWxhdGlvbjp7fSxwaHlzaWNzOnt9LGdsb2JhbDp7fX07UnkoaS5ub2Rlcyx0aGlzLm5vZGVzSGFuZGxlci5vcHRpb25zKSxSeShpLmVkZ2VzLHRoaXMuZWRnZXNIYW5kbGVyLm9wdGlvbnMpLFJ5KGkubGF5b3V0LHRoaXMubGF5b3V0RW5naW5lLm9wdGlvbnMpLFJ5KGkuaW50ZXJhY3Rpb24sdGhpcy5zZWxlY3Rpb25IYW5kbGVyLm9wdGlvbnMpLFJ5KGkuaW50ZXJhY3Rpb24sdGhpcy5yZW5kZXJlci5vcHRpb25zKSxSeShpLmludGVyYWN0aW9uLHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyLm9wdGlvbnMpLFJ5KGkubWFuaXB1bGF0aW9uLHRoaXMubWFuaXB1bGF0aW9uLm9wdGlvbnMpLFJ5KGkucGh5c2ljcyx0aGlzLnBoeXNpY3Mub3B0aW9ucyksUnkoaS5nbG9iYWwsdGhpcy5jYW52YXMub3B0aW9ucyksUnkoaS5nbG9iYWwsdGhpcy5vcHRpb25zKSx0aGlzLmNvbmZpZ3VyYXRvci5zZXRNb2R1bGVPcHRpb25zKGkpfXZvaWQgMCE9PXQuY2xpY2tUb1VzZT8hMD09PXQuY2xpY2tUb1VzZT92b2lkIDA9PT10aGlzLmFjdGl2YXRvciYmKHRoaXMuYWN0aXZhdG9yPW5ldyB1bSh0aGlzLmNhbnZhcy5mcmFtZSksdGhpcy5hY3RpdmF0b3Iub24oXCJjaGFuZ2VcIiwoZnVuY3Rpb24oKXtlLmJvZHkuZW1pdHRlci5lbWl0KFwiYWN0aXZhdGVcIil9KSkpOih2b2lkIDAhPT10aGlzLmFjdGl2YXRvciYmKHRoaXMuYWN0aXZhdG9yLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5hY3RpdmF0b3IpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJhY3RpdmF0ZVwiKSk6dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImFjdGl2YXRlXCIpLHRoaXMuY2FudmFzLnNldFNpemUoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTaW11bGF0aW9uXCIpfX0sWEMucHJvdG90eXBlLl91cGRhdGVWaXNpYmxlSW5kaWNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9keS5ub2RlcyxlPXRoaXMuYm9keS5lZGdlcztmb3IodmFyIGkgaW4gdGhpcy5ib2R5Lm5vZGVJbmRpY2VzPVtdLHRoaXMuYm9keS5lZGdlSW5kaWNlcz1bXSx0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYodGhpcy5jbHVzdGVyaW5nLl9pc0NsdXN0ZXJlZE5vZGUoaSl8fCExIT09dFtpXS5vcHRpb25zLmhpZGRlbnx8dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLnB1c2godFtpXS5pZCkpO2Zvcih2YXIgbyBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgbj1lW29dLHI9dFtuLmZyb21JZF0scz10W24udG9JZF0sYT12b2lkIDAhPT1yJiZ2b2lkIDAhPT1zOyF0aGlzLmNsdXN0ZXJpbmcuX2lzQ2x1c3RlcmVkRWRnZShvKSYmITE9PT1uLm9wdGlvbnMuaGlkZGVuJiZhJiYhMT09PXIub3B0aW9ucy5oaWRkZW4mJiExPT09cy5vcHRpb25zLmhpZGRlbiYmdGhpcy5ib2R5LmVkZ2VJbmRpY2VzLnB1c2gobi5pZCl9fSxYQy5wcm90b3R5cGUuYmluZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhQ2hhbmdlZFwiLChmdW5jdGlvbigpe3QuZWRnZXNIYW5kbGVyLl91cGRhdGVTdGF0ZSgpLHQuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YVVwZGF0ZWRcIil9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZGF0YVVwZGF0ZWRcIiwoZnVuY3Rpb24oKXt0LmNsdXN0ZXJpbmcuX3VwZGF0ZVN0YXRlKCksdC5fdXBkYXRlVmlzaWJsZUluZGljZXMoKSx0Ll91cGRhdGVWYWx1ZVJhbmdlKHQuYm9keS5ub2RlcyksdC5fdXBkYXRlVmFsdWVSYW5nZSh0LmJvZHkuZWRnZXMpLHQuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIiksdC5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSkpfSxYQy5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXtpZih0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwicmVzZXRQaHlzaWNzXCIpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVzZXREYXRhXCIpLHRoaXMuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpLHQmJnQuZG90JiYodC5ub2Rlc3x8dC5lZGdlcykpdGhyb3cgbmV3IFN5bnRheEVycm9yKCdEYXRhIG11c3QgY29udGFpbiBlaXRoZXIgcGFyYW1ldGVyIFwiZG90XCIgb3IgIHBhcmFtZXRlciBwYWlyIFwibm9kZXNcIiBhbmQgXCJlZGdlc1wiLCBidXQgbm90IGJvdGguJyk7aWYodGhpcy5zZXRPcHRpb25zKHQmJnQub3B0aW9ucyksdCYmdC5kb3Qpe2NvbnNvbGUud2FybihcIlRoZSBkb3QgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgc3RhdGljIGNvbnZlcnREb3QgbWV0aG9kIHRvIGNvbnZlcnQgRE9UIGludG8gdmlzLm5ldHdvcmsgZm9ybWF0IGFuZCB1c2UgdGhlIG5vcm1hbCBkYXRhIGZvcm1hdCB3aXRoIG5vZGVzIGFuZCBlZGdlcy4gVGhpcyBjb252ZXJ0ZXIgaXMgdXNlZCBsaWtlIHRoaXM6IHZhciBkYXRhID0gdmlzLm5ldHdvcmsuY29udmVydERvdChkb3RTdHJpbmcpO1wiKTt2YXIgZT1LbSh0LmRvdCk7dGhpcy5zZXREYXRhKGUpfWVsc2UgaWYodCYmdC5nZXBoaSl7Y29uc29sZS53YXJuKFwiVGhlIGdlcGhpIHByb3BlcnR5IGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdGhlIHN0YXRpYyBjb252ZXJ0R2VwaGkgbWV0aG9kIHRvIGNvbnZlcnQgZ2VwaGkgaW50byB2aXMubmV0d29yayBmb3JtYXQgYW5kIHVzZSB0aGUgbm9ybWFsIGRhdGEgZm9ybWF0IHdpdGggbm9kZXMgYW5kIGVkZ2VzLiBUaGlzIGNvbnZlcnRlciBpcyB1c2VkIGxpa2UgdGhpczogdmFyIGRhdGEgPSB2aXMubmV0d29yay5jb252ZXJ0R2VwaGkoZ2VwaGlKc29uKTtcIik7dmFyIGk9Wm0odC5nZXBoaSk7dGhpcy5zZXREYXRhKGkpfWVsc2UgdGhpcy5ub2Rlc0hhbmRsZXIuc2V0RGF0YSh0JiZ0Lm5vZGVzLCEwKSx0aGlzLmVkZ2VzSGFuZGxlci5zZXREYXRhKHQmJnQuZWRnZXMsITApLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhTG9hZGVkXCIpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJpbml0UGh5c2ljc1wiKX0sWEMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImRlc3Ryb3lcIiksdGhpcy5ib2R5LmVtaXR0ZXIub2ZmKCksdGhpcy5vZmYoKSxkZWxldGUgdGhpcy5ncm91cHMsZGVsZXRlIHRoaXMuY2FudmFzLGRlbGV0ZSB0aGlzLnNlbGVjdGlvbkhhbmRsZXIsZGVsZXRlIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyLGRlbGV0ZSB0aGlzLnZpZXcsZGVsZXRlIHRoaXMucmVuZGVyZXIsZGVsZXRlIHRoaXMucGh5c2ljcyxkZWxldGUgdGhpcy5sYXlvdXRFbmdpbmUsZGVsZXRlIHRoaXMuY2x1c3RlcmluZyxkZWxldGUgdGhpcy5tYW5pcHVsYXRpb24sZGVsZXRlIHRoaXMubm9kZXNIYW5kbGVyLGRlbGV0ZSB0aGlzLmVkZ2VzSGFuZGxlcixkZWxldGUgdGhpcy5jb25maWd1cmF0b3IsZGVsZXRlIHRoaXMuaW1hZ2VzLHRoaXMuYm9keS5ub2RlcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib2R5Lm5vZGVzLHQpJiZkZWxldGUgdGhpcy5ib2R5Lm5vZGVzW3RdO2Zvcih2YXIgZSBpbiB0aGlzLmJvZHkuZWRnZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm9keS5lZGdlcyxlKSYmZGVsZXRlIHRoaXMuYm9keS5lZGdlc1tlXTtEeSh0aGlzLmJvZHkuY29udGFpbmVyKX0sWEMucHJvdG90eXBlLl91cGRhdGVWYWx1ZVJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLGk9dm9pZCAwLG89dm9pZCAwLG49MDtmb3IoZSBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKXt2YXIgcj10W2VdLmdldFZhbHVlKCk7dm9pZCAwIT09ciYmKGk9dm9pZCAwPT09aT9yOk1hdGgubWluKHIsaSksbz12b2lkIDA9PT1vP3I6TWF0aC5tYXgocixvKSxuKz1yKX1pZih2b2lkIDAhPT1pJiZ2b2lkIDAhPT1vKWZvcihlIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJnRbZV0uc2V0VmFsdWVSYW5nZShpLG8sbil9LFhDLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmFjdGl2YXRvcnx8dGhpcy5hY3RpdmF0b3IuYWN0aXZlfSxYQy5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy5zZXRTaXplLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5jYW52YXNUb0RPTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy5jYW52YXNUb0RPTS5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuRE9NdG9DYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMuRE9NdG9DYW52YXMuYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmZpbmROb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5maW5kTm9kZS5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmlzQ2x1c3Rlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcuaXNDbHVzdGVyLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUub3BlbkNsdXN0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLm9wZW5DbHVzdGVyLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuY2x1c3Rlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcuY2x1c3Rlci5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmdldE5vZGVzSW5DbHVzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5nZXROb2Rlc0luQ2x1c3Rlci5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmNsdXN0ZXJCeUNvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmNsdXN0ZXJCeUNvbm5lY3Rpb24uYXBwbHkodGhpcy5jbHVzdGVyaW5nLGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5jbHVzdGVyQnlIdWJzaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5jbHVzdGVyQnlIdWJzaXplLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUudXBkYXRlQ2x1c3RlcmVkTm9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcudXBkYXRlQ2x1c3RlcmVkTm9kZS5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmdldENsdXN0ZXJlZEVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5nZXRDbHVzdGVyZWRFZGdlcy5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmdldEJhc2VFZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5nZXRCYXNlRWRnZS5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmdldEJhc2VFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcuZ2V0QmFzZUVkZ2VzLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUudXBkYXRlRWRnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcudXBkYXRlRWRnZS5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmNsdXN0ZXJPdXRsaWVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcuY2x1c3Rlck91dGxpZXJzLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZ2V0U2VlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxheW91dEVuZ2luZS5nZXRTZWVkLmFwcGx5KHRoaXMubGF5b3V0RW5naW5lLGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5lbmFibGVFZGl0TW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5lbmFibGVFZGl0TW9kZS5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZGlzYWJsZUVkaXRNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmRpc2FibGVFZGl0TW9kZS5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuYWRkTm9kZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uYWRkTm9kZU1vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmVkaXROb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmVkaXROb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5lZGl0Tm9kZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiRGVwcmVjYXRlZDogUGxlYXNlIHVzZSBlZGl0Tm9kZSBpbnN0ZWFkIG9mIGVkaXROb2RlTW9kZS5cIiksdGhpcy5tYW5pcHVsYXRpb24uZWRpdE5vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmFkZEVkZ2VNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmFkZEVkZ2VNb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5lZGl0RWRnZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uZWRpdEVkZ2VNb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5kZWxldGVTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5kZWxldGVTZWxlY3RlZC5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZ2V0UG9zaXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNIYW5kbGVyLmdldFBvc2l0aW9ucy5hcHBseSh0aGlzLm5vZGVzSGFuZGxlcixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc0hhbmRsZXIuZ2V0UG9zaXRpb24uYXBwbHkodGhpcy5ub2Rlc0hhbmRsZXIsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLnN0b3JlUG9zaXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNIYW5kbGVyLnN0b3JlUG9zaXRpb25zLmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5tb3ZlTm9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVzSGFuZGxlci5tb3ZlTm9kZS5hcHBseSh0aGlzLm5vZGVzSGFuZGxlcixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc0hhbmRsZXIuZ2V0Qm91bmRpbmdCb3guYXBwbHkodGhpcy5ub2Rlc0hhbmRsZXIsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmdldENvbm5lY3RlZE5vZGVzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0/dGhpcy5ub2Rlc0hhbmRsZXIuZ2V0Q29ubmVjdGVkTm9kZXMuYXBwbHkodGhpcy5ub2Rlc0hhbmRsZXIsYXJndW1lbnRzKTp0aGlzLmVkZ2VzSGFuZGxlci5nZXRDb25uZWN0ZWROb2Rlcy5hcHBseSh0aGlzLmVkZ2VzSGFuZGxlcixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZ2V0Q29ubmVjdGVkRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc0hhbmRsZXIuZ2V0Q29ubmVjdGVkRWRnZXMuYXBwbHkodGhpcy5ub2Rlc0hhbmRsZXIsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLnN0YXJ0U2ltdWxhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBoeXNpY3Muc3RhcnRTaW11bGF0aW9uLmFwcGx5KHRoaXMucGh5c2ljcyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuc3RvcFNpbXVsYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waHlzaWNzLnN0b3BTaW11bGF0aW9uLmFwcGx5KHRoaXMucGh5c2ljcyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuc3RhYmlsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGh5c2ljcy5zdGFiaWxpemUuYXBwbHkodGhpcy5waHlzaWNzLGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGlvbi5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuc2V0U2VsZWN0aW9uLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZ2V0U2VsZWN0ZWROb2Rlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWROb2RlSWRzLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWRFZGdlSWRzLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZ2V0Tm9kZUF0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldE5vZGVBdC5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsYXJndW1lbnRzKTtyZXR1cm4gdm9pZCAwIT09dCYmdm9pZCAwIT09dC5pZD90LmlkOnR9LFhDLnByb3RvdHlwZS5nZXRFZGdlQXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0RWRnZUF0LmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpO3JldHVybiB2b2lkIDAhPT10JiZ2b2lkIDAhPT10LmlkP3QuaWQ6dH0sWEMucHJvdG90eXBlLnNlbGVjdE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3ROb2Rlcy5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLnNlbGVjdEVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3RFZGdlcy5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLnVuc2VsZWN0QWxsPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpLHRoaXMuc2VsZWN0aW9uSGFuZGxlci5jb21taXRXaXRob3V0RW1pdHRpbmcuYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyKSx0aGlzLnJlZHJhdygpfSxYQy5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIucmVkcmF3LmFwcGx5KHRoaXMucmVuZGVyZXIsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmdldFNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5nZXRTY2FsZS5hcHBseSh0aGlzLnZpZXcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmdldFZpZXdQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcuZ2V0Vmlld1Bvc2l0aW9uLmFwcGx5KHRoaXMudmlldyxhcmd1bWVudHMpfSxYQy5wcm90b3R5cGUuZml0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5maXQuYXBwbHkodGhpcy52aWV3LGFyZ3VtZW50cyl9LFhDLnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3Lm1vdmVUby5hcHBseSh0aGlzLnZpZXcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5mb2N1cy5hcHBseSh0aGlzLnZpZXcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLnJlbGVhc2VOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5yZWxlYXNlTm9kZS5hcHBseSh0aGlzLnZpZXcsYXJndW1lbnRzKX0sWEMucHJvdG90eXBlLmdldE9wdGlvbnNGcm9tQ29uZmlndXJhdG9yPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRoaXMuY29uZmlndXJhdG9yJiYodD10aGlzLmNvbmZpZ3VyYXRvci5nZXRPcHRpb25zLmFwcGx5KHRoaXMuY29uZmlndXJhdG9yKSksdH07dmFyIEdDPUttO3QuTmV0d29yaz1YQyx0Lk5ldHdvcmtJbWFnZXM9ZWIsdC5uZXR3b3JrRE9UUGFyc2VyPSRtLHQubmV0d29ya0dlcGhpUGFyc2VyPVFtLHQubmV0d29ya09wdGlvbnM9cUMsdC5wYXJzZURPVE5ldHdvcms9R0MsdC5wYXJzZUdlcGhpTmV0d29yaz1abSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpcy1uZXR3b3JrLm1pbi5qcy5tYXBcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsImltcG9ydCAqIGFzIHZpcyBmcm9tIFwidmlzLW5ldHdvcmtcIjtcblxuaW1wb3J0IHsgcGFyc2VfcnVsZXMgfSBmcm9tIFwiLi9kYWdcIjtcbmltcG9ydCAqIGFzIHZpc2pzX2RlZmF1bHRfb3B0aW9ucyBmcm9tIFwiLi92aXNqc19kZWZhdWx0X29wdGlvbnNcIjtcblxuY29uc3Qgb3B0aW9ucyA9IHZpc2pzX2RlZmF1bHRfb3B0aW9ucy5vcHRpb25zO1xub3B0aW9ucy5sYXlvdXQuaGllcmFyY2hpY2FsLmRpcmVjdGlvbiA9IFwiVURcIjtcbm9wdGlvbnMubGF5b3V0LmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24gPSA0NTtcbm9wdGlvbnMuZWRnZXMuc21vb3RoLmVuYWJsZWQgPSBmYWxzZTtcblxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXR3b3JrXCIpIGFzIEhUTUxFbGVtZW50O1xuY29uc3QgbmV0d29yayA9IG5ldyB2aXMuTmV0d29yayhjb250YWluZXIsIHt9LCBvcHRpb25zKTtcbmludGVyZmFjZSBQYXJhbXMge1xuICBpbnB1dF90ZXh0OiBzdHJpbmc7XG59XG5cbmNvbnN0IGxvYWRfcGFyYW1zX2Zyb21fdXJsID0gKCkgPT4ge1xuICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpO1xuICBsZXQgcGFyYW1zOiBQYXJhbXMgPSB7XG4gICAgaW5wdXRfdGV4dDogYDEgPSBiXG4gICAgMiA9IGFcbiAgICAzID0gMiwgMVxuICAgIDQgPSAzLCAyXG4gICAgNSA9IDQsIDNcbiAgICA2ID0gNSwgNFxuICAgIDcgPSA2LCA1XG4gICAgYCxcbiAgfTtcblxuICBjb25zdCB1cmxrZXkgPSB1cmxQYXJhbXMuZ2V0KFwiaW5wdXRfdGV4dFwiKTtcbiAgaWYgKHVybGtleSAhPT0gbnVsbCkgcGFyYW1zLmlucHV0X3RleHQgPSB1cmxrZXk7XG4gIGNvbnNvbGUubG9nKFwibG9hZF9wYXJtcyBmcm9tIHVybFwiLCBwYXJhbXMpO1xuICByZXR1cm4gcGFyYW1zO1xufTtcblxuY29uc3QgbG9hZF9wYXJhbXNfZnJvbV9odG1sID0gKCkgPT4ge1xuICBjb25zdCBpbnB1dF90ZXh0ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRfdGV4dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50KVxuICAgIC52YWx1ZTtcbiAgY29uc3QgcGFyYW1zOiBQYXJhbXMgPSB7XG4gICAgaW5wdXRfdGV4dDogaW5wdXRfdGV4dCxcbiAgfTtcbiAgcmV0dXJuIHBhcmFtcztcbn07XG5cbmNvbnN0IHNldF9wYXJhbXNfdG9fdXJsID0gKHBhcmFtczogUGFyYW1zKSA9PiB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCkpO1xuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocGFyYW1zKSkge1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KGtleSwgcGFyYW1zW2tleSBhcyBrZXlvZiBQYXJhbXNdLnRvU3RyaW5nKCkpO1xuICB9XG4gIGhpc3RvcnkucHVzaFN0YXRlKHt9LCBcIlwiLCB1cmwudG9TdHJpbmcoKSk7XG59O1xuXG5jb25zdCBzZXRfcGFyYW1zX3RvX2h0bWwgPSAocGFyYW1zOiBQYXJhbXMpID0+IHtcbiAgY29uc3QgaW5wdXRfdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRfdGV4dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBzaG93X3N1ZmZpeF9saW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgIFwic2hvd19zdWZmaXhfbGlua3NcIlxuICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGltcGxpY2l0X2NkYXdnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgXCJpbXBsaWNpdF9jZGF3Z1wiXG4gICkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgaW5wdXRfdGV4dC52YWx1ZSA9IHBhcmFtcy5pbnB1dF90ZXh0O1xufTtcbmNvbnN0IHJlZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gc2V0IHBhcmFtcyB0byB1cmxcbiAgY29uc3QgcGFyYW1zID0gbG9hZF9wYXJhbXNfZnJvbV9odG1sKCk7XG4gIHNldF9wYXJhbXNfdG9fdXJsKHBhcmFtcyk7XG5cbiAgY29uc29sZS5sb2cocGFyc2VfcnVsZXMpO1xuICBjb25zdCBkYWcgPSBwYXJzZV9ydWxlcyhwYXJhbXMuaW5wdXRfdGV4dCk7XG4gIGNvbnN0IGpzb24gPSBkYWcuanNvbl90cmVlO1xuICBjb25zb2xlLmxvZyhqc29uKTtcbiAgbmV0d29yay5zZXREYXRhKGpzb24pO1xufTtcblxuY29uc3QgbWFpbiA9ICgpID0+IHtcbiAgLy8gc2V0IGV2ZW50IGxpc3RlbmVyXG4gIGNvbnN0IGlucHV0X3RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0X3RleHRcIikgYXMgSFRNTEVsZW1lbnQ7XG4gIGlucHV0X3RleHQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHJlZHJhdyk7XG4gIGlucHV0X3RleHQuYWRkRXZlbnRMaXN0ZW5lcihcInByb3BlcnR5Y2hhbmdlXCIsIHJlZHJhdyk7XG5cbiAgLy8gbG9hZCBhbmQgc2V0IHBhcmFtZXRlcnNcbiAgY29uc3QgcGFyYW1zID0gbG9hZF9wYXJhbXNfZnJvbV91cmwoKTtcbiAgc2V0X3BhcmFtc190b19odG1sKHBhcmFtcyk7XG5cbiAgcmVkcmF3KCk7XG59O1xuXG5tYWluKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=